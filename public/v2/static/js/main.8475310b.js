/*! For license information please see main.8475310b.js.LICENSE.txt */
!function(){var e={6031:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=6031,e.exports=t},5127:function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"===typeof e}function r(e){return"object"===typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,o,a,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i(o=this._events[e]))return!1;if(n(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),o.apply(this,s)}else if(r(o))for(s=Array.prototype.slice.call(arguments,1),a=(c=o.slice()).length,u=0;u<a;u++)c[u].apply(this,s);return!0},t.prototype.addListener=function(e,o){var a;if(!n(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(o.listener)?o.listener:o),this._events[e]?r(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,r(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"===typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,o,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(s=a;s-- >0;)if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},4517:function(e,t,n){"use strict";var r,i;n.d(t,{F:function(){return i},n:function(){return r}}),function(e){e.IndexedDbLocal="INDEXED_DB_LOCAL",e.InMemory="IN_MEMORY",e.BrowserLocal="BROWSER_LOCAL",e.BrowserSession="BROWSER_SESSION"}(r||(r={})),function(e){e.APPLE="apple.com",e.FACEBOOK="facebook.com",e.GAME_CENTER="gc.apple.com",e.GITHUB="github.com",e.GOOGLE="google.com",e.MICROSOFT="microsoft.com",e.PLAY_GAMES="playgames.google.com",e.TWITTER="twitter.com",e.YAHOO="yahoo.com",e.PASSWORD="password",e.PHONE="phone"}(i||(i={}))},9565:function(e,t,n){"use strict";n.d(t,{Sd:function(){return C},Uw:function(){return b},dV:function(){return g},fo:function(){return y},kh:function(){return w},kv:function(){return O}});var r,i=n(7762),o=n(9439),a=n(3433),s=n(4165),u=n(5861),c=n(3144),l=n(5671),f=n(136),d=n(9388),h=n(8664),p=function(e){return e.CapacitorPlatforms=function(e){var t=new Map;t.set("web",{name:"web"});var n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return n.addPlatform=function(e,t){n.platforms.set(e,t)},n.setPlatform=function(e){n.platforms.has(e)&&(n.currentPlatform=n.platforms.get(e))},n}(e)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});p.addPlatform,p.setPlatform;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(r||(r={}));var v=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(e,r,i){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).message=e,o.code=r,o.data=i,o}return(0,c.Z)(n)}((0,h.Z)(Error)),m=function(e){var t,n,i,o,c,l=e.CapacitorCustomPlatform||null,f=e.Capacitor||{},d=f.Plugins=f.Plugins||{},h=e.CapacitorPlatforms,p=(null===(t=null===h||void 0===h?void 0:h.currentPlatform)||void 0===t?void 0:t.getPlatform)||function(){return null!==l?l.name:function(e){var t,n;return(null===e||void 0===e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null===e||void 0===e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"}(e)},m=(null===(n=null===h||void 0===h?void 0:h.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||function(){return"web"!==p()},g=(null===(i=null===h||void 0===h?void 0:h.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||function(e){var t=b.get(e);return!!(null===t||void 0===t?void 0:t.platforms.has(p()))||!!y(e)},y=(null===(o=null===h||void 0===h?void 0:h.currentPlatform)||void 0===o?void 0:o.getPluginHeader)||function(e){var t;return null===(t=f.PluginHeaders)||void 0===t?void 0:t.find((function(t){return t.name===e}))},b=new Map,w=(null===(c=null===h||void 0===h?void 0:h.currentPlatform)||void 0===c?void 0:c.registerPlugin)||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=b.get(e);if(n)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),n.proxy;var i,o=p(),c=y(e),h=function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||!(o in t)){e.next=11;break}if("function"!==typeof t[o]){e.next=7;break}return e.next=4,t[o]();case 4:e.t0=i=e.sent,e.next=8;break;case 7:e.t0=i=t[o];case 8:i=e.t0,e.next=20;break;case 11:if(null===l||i||!("web"in t)){e.next=20;break}if("function"!==typeof t.web){e.next=18;break}return e.next=15,t.web();case 15:e.t1=i=e.sent,e.next=19;break;case 18:e.t1=i=t.web;case 19:i=e.t1;case 20:return e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(t){var n,i=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];var d=h().then((function(i){var s=function(t,n){var i,a;if(!c){if(t)return null===(a=t[n])||void 0===a?void 0:a.bind(t);throw new v('"'.concat(e,'" plugin is not implemented on ').concat(o),r.Unimplemented)}var s=null===c||void 0===c?void 0:c.methods.find((function(e){return n===e.name}));return s?"promise"===s.rtype?function(t){return f.nativePromise(e,n.toString(),t)}:function(t,r){return f.nativeCallback(e,n.toString(),t,r)}:t?null===(i=t[n])||void 0===i?void 0:i.bind(t):void 0}(i,t);if(s){var u=s.apply(void 0,a);return n=null===u||void 0===u?void 0:u.remove,u}throw new v('"'.concat(e,".").concat(t,'()" is not implemented on ').concat(o),r.Unimplemented)}));return"addListener"===t&&(d.remove=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n());case 1:case"end":return e.stop()}}),e)})))),d};return i.toString=function(){return"".concat(t.toString(),"() { [capacitor code] }")},Object.defineProperty(i,"name",{value:t,writable:!1,configurable:!1}),i},g=m("addListener"),w=m("removeListener"),k=function(e,t){var n=g({eventName:e},t),r=function(){var r=(0,u.Z)((0,s.Z)().mark((function r(){var i;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n;case 2:i=r.sent,w({eventName:e,callbackId:i},t);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),i=new Promise((function(e){return n.then((function(){return e({remove:r})}))}));return i.remove=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,r();case 3:case"end":return e.stop()}}),e)}))),i},x=new Proxy({},{get:function(e,t){switch(t){case"$$typeof":return;case"toJSON":return function(){return{}};case"addListener":return c?k:g;case"removeListener":return w;default:return m(t)}}});return d[e]=x,b.set(e,{name:e,proxy:x,platforms:new Set([].concat((0,a.Z)(Object.keys(t)),(0,a.Z)(c?[o]:[])))}),x};return f.convertFileSrc||(f.convertFileSrc=function(e){return e}),f.getPlatform=p,f.handleError=function(t){return e.console.error(t)},f.isNativePlatform=m,f.isPluginAvailable=g,f.pluginMethodNoop=function(e,t,n){return Promise.reject("".concat(n,' does not have an implementation of "').concat(t,'".'))},f.registerPlugin=w,f.Exception=v,f.DEBUG=!!f.DEBUG,f.isLoggingEnabled=!!f.isLoggingEnabled,f.platform=f.getPlatform(),f.isNative=f.isNativePlatform(),f},g=function(e){return e.Capacitor=m(e)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}),y=g.registerPlugin,b=(g.Plugins,function(){function e(t){(0,l.Z)(this,e),this.listeners={},this.windowListeners={},t&&(console.warn('Capacitor WebPlugin "'.concat(t.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=t)}return(0,c.Z)(e,[{key:"addListener",value:function(e,t){var n=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);var r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);var i=function(){var r=(0,u.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",n.removeListener(e,t));case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),o=Promise.resolve({remove:i});return Object.defineProperty(o,"remove",{value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Using addListener() without 'await' is deprecated."),e.next=3,i();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),o}},{key:"removeAllListeners",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={};case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){var n=this.listeners[e];n&&n.forEach((function(e){return e(t)}))}},{key:"hasListeners",value:function(e){return!!this.listeners[e].length}},{key:"registerWindowListener",value:function(e,t){var n=this;this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:function(e){n.notifyListeners(t,e)}}}},{key:"unimplemented",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new g.Exception(e,r.Unimplemented)}},{key:"unavailable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new g.Exception(e,r.Unavailable)}},{key:"removeListener",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.listeners[t]){e.next=3;break}return e.abrupt("return");case 3:i=r.indexOf(n),this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addWindowListener",value:function(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}},{key:"removeWindowListener",value:function(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}]),e}()),w=y("WebView"),k=function(e){return encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape)},x=function(e){return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},S=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"getCookies",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.cookie,n={},t.split(";").forEach((function(e){if(!(e.length<=0)){var t=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE"),r=(0,o.Z)(t,2),i=r[0],a=r[1];i=x(i).trim(),a=x(a).trim(),n[i]=a}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setCookie",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=k(t.key),r=k(t.value),i="; expires=".concat((t.expires||"").replace("expires=","")),o=(t.path||"/").replace("path=",""),a=null!=t.url&&t.url.length>0?"domain=".concat(t.url):"",document.cookie="".concat(n,"=").concat(r||"").concat(i,"; path=").concat(o,"; ").concat(a,";"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCookie",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,document.cookie="".concat(t.key,"=; Max-Age=0"),e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"clearCookies",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t,n,r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=document.cookie.split(";")||[],n=(0,i.Z)(t);try{for(n.s();!(r=n.n()).done;)o=r.value,document.cookie=o.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat((new Date).toUTCString(),";path=/"))}catch(a){n.e(a)}finally{n.f()}e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"clearAllCookies",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.clearCookies();case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),n}(b),_=(y("CapacitorCookies",{web:function(){return new S}}),function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t.indexOf(",")>=0?t.split(",")[1]:t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?Object.entries(e).reduce((function(e,n){var r,i,a=(0,o.Z)(n,2),s=a[0],u=a[1];return Array.isArray(u)?(i="",u.forEach((function(e){r=t?encodeURIComponent(e):e,i+="".concat(s,"=").concat(r,"&")})),i.slice(0,-1)):(r=t?encodeURIComponent(u):u,i="".concat(s,"=").concat(r)),"".concat(e,"&").concat(i)}),"").substr(1):null},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return Object.keys(e).map((function(e){return e.toLocaleLowerCase()})).reduce((function(n,r,i){return n[r]=e[t[i]],n}),{})}(e.headers),i=r["content-type"]||"";if("string"===typeof e.data)n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){for(var a=new URLSearchParams,s=0,u=Object.entries(e.data||{});s<u.length;s++){var c=(0,o.Z)(u[s],2),l=c[0],f=c[1];a.set(l,f)}n.body=a.toString()}else if(i.includes("multipart/form-data")){var d=new FormData;if(e.data instanceof FormData)e.data.forEach((function(e,t){d.append(t,e)}));else for(var h=0,p=Object.keys(e.data);h<p.length;h++){var v=p[h];d.append(v,e.data[v])}n.body=d;var m=new Headers(n.headers);m.delete("content-type"),n.headers=m}else(i.includes("application/json")||"object"===typeof e.data)&&(n.body=JSON.stringify(e.data));return n},I=function(e){(0,f.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"request",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u,c,l,f,d,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=C(t,t.webFetchExtra),r=E(t.params,t.shouldEncodeUrlParams),i=r?"".concat(t.url,"?").concat(r):t.url,e.next=5,fetch(i,n);case 5:o=e.sent,a=o.headers.get("content-type")||"",u=o.ok?t:{},c=u.responseType,l=void 0===c?"text":c,a.includes("application/json")&&(l="json"),e.t0=l,e.next="arraybuffer"===e.t0||"blob"===e.t0?12:"json"===e.t0?19:("document"===e.t0||e.t0,23);break;case 12:return e.next=14,o.blob();case 14:return d=e.sent,e.next=17,_(d);case 17:return f=e.sent,e.abrupt("break",26);case 19:return e.next=21,o.json();case 21:return f=e.sent,e.abrupt("break",26);case 23:return e.next=25,o.text();case 25:f=e.sent;case 26:return h={},o.headers.forEach((function(e,t){h[t]=e})),e.abrupt("return",{data:f,headers:h,status:o.status,url:o.url});case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"GET"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"POST"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PUT"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"PATCH"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request(Object.assign(Object.assign({},t),{method:"DELETE"})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(b),O=y("CapacitorHttp",{web:function(){return new I}})},8876:function(e,t,n){"use strict";var r,i;n.d(t,{ez:function(){return i},tP:function(){return r}}),function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(r||(r={})),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(i||(i={}))},5526:function(e,t,n){"use strict";n.d(t,{w9:function(){return Bt},_O:function(){return Ht},GH:function(){return $t},hJ:function(){return Wt},jh:function(){return At},O4:function(){return Vt},RO:function(){return ti},lI:function(){return $r},c4:function(){return qt},iA:function(){return In},a$:function(){return ur},aT:function(){return lr},LG:function(){return En},S$:function(){return it},Xb:function(){return Zn},h8:function(){return tr},gK:function(){return Xn},v0:function(){return Oo},cx:function(){return Zi},BV:function(){return Oe},AP:function(){return Nr},JB:function(){return Nn},ZJ:function(){return mn},L6:function(){return Jr},k9:function(){return di},WV:function(){return Ii},H5:function(){return ge},w$:function(){return Dn},LS:function(){return Sn},oo:function(){return Pn},Fb:function(){return er},XB:function(){return Yt},sB:function(){return pn},_p:function(){return wn},e5:function(){return An},P6:function(){return jn},$g:function(){return Kr},rh:function(){return li},F6:function(){return Ei},qB:function(){return rn},s:function(){return Vn},gQ:function(){return Hn},ck:function(){return Un}});var r,i=n(1752),o=n(1120),a=n(7326),s=n(136),u=n(9388),c=n(7762),l=n(4165),f=n(9439),d=n(5861),h=n(5671),p=n(3144),v=n(3433),m=n(4942),g=n(4766),y=n(904),b=n(5330),w=n(2413),k=n(2339);function x(){return(0,m.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var S=x,_=new g.LL("auth","Firebase",x()),E=new w.Yd("@firebase/auth");function C(e){if(E.logLevel<=w.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];E.warn.apply(E,["Auth (".concat(y.Jn,"): ").concat(e)].concat(n))}}function I(e){if(E.logLevel<=w.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];E.error.apply(E,["Auth (".concat(y.Jn,"): ").concat(e)].concat(n))}}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw P.apply(void 0,[e].concat(n))}function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return P.apply(void 0,[e].concat(n))}function T(e,t,n){var r=Object.assign(Object.assign({},S()),(0,m.Z)({},t,n));return new g.LL("auth","Firebase",r).create(t,{appName:e.name})}function A(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&O(e,"argument-error"),T(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,o=n[0],a=(0,v.Z)(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[o].concat((0,v.Z)(a)))}return _.create.apply(_,[e].concat(n))}function R(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw P.apply(void 0,[t].concat(r))}}function N(e){var t="INTERNAL ASSERTION FAILED: "+e;throw I(t),new Error(t)}function j(e,t){e||N(t)}function L(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function D(){return"http:"===M()||"https:"===M()}function M(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var F=function(){function e(t,n){(0,h.Z)(this,e),this.shortDelay=t,this.longDelay=n,j(n>t,"Short delay should be less than long delay!"),this.isMobile=(0,g.uI)()||(0,g.b$)()}return(0,p.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(D()||(0,g.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function B(e,t){j(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var U=function(){function e(){(0,h.Z)(this,e)}return(0,p.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void N("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void N("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void N("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),z=(r={},(0,m.Z)(r,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,m.Z)(r,"MISSING_CUSTOM_TOKEN","internal-error"),(0,m.Z)(r,"INVALID_IDENTIFIER","invalid-email"),(0,m.Z)(r,"MISSING_CONTINUE_URI","internal-error"),(0,m.Z)(r,"INVALID_PASSWORD","wrong-password"),(0,m.Z)(r,"MISSING_PASSWORD","missing-password"),(0,m.Z)(r,"EMAIL_EXISTS","email-already-in-use"),(0,m.Z)(r,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,m.Z)(r,"INVALID_IDP_RESPONSE","invalid-credential"),(0,m.Z)(r,"INVALID_PENDING_TOKEN","invalid-credential"),(0,m.Z)(r,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,m.Z)(r,"MISSING_REQ_TYPE","internal-error"),(0,m.Z)(r,"EMAIL_NOT_FOUND","user-not-found"),(0,m.Z)(r,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,m.Z)(r,"EXPIRED_OOB_CODE","expired-action-code"),(0,m.Z)(r,"INVALID_OOB_CODE","invalid-action-code"),(0,m.Z)(r,"MISSING_OOB_CODE","internal-error"),(0,m.Z)(r,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,m.Z)(r,"INVALID_ID_TOKEN","invalid-user-token"),(0,m.Z)(r,"TOKEN_EXPIRED","user-token-expired"),(0,m.Z)(r,"USER_NOT_FOUND","user-token-expired"),(0,m.Z)(r,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,m.Z)(r,"INVALID_CODE","invalid-verification-code"),(0,m.Z)(r,"INVALID_SESSION_INFO","invalid-verification-id"),(0,m.Z)(r,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,m.Z)(r,"MISSING_SESSION_INFO","missing-verification-id"),(0,m.Z)(r,"SESSION_EXPIRED","code-expired"),(0,m.Z)(r,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,m.Z)(r,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,m.Z)(r,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,m.Z)(r,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,m.Z)(r,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,m.Z)(r,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,m.Z)(r,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,m.Z)(r,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,m.Z)(r,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,m.Z)(r,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,m.Z)(r,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,m.Z)(r,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,m.Z)(r,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,m.Z)(r,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,m.Z)(r,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,m.Z)(r,"MISSING_CLIENT_TYPE","missing-client-type"),(0,m.Z)(r,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,m.Z)(r,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,m.Z)(r,"INVALID_REQ_TYPE","invalid-req-type"),r),V=new F(3e4,6e4);function H(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function W(e,t,n,r){return $.apply(this,arguments)}function $(){return $=(0,d.Z)((0,l.Z)().mark((function e(t,n,r,i){var o,a=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",q(t,o,(0,d.Z)((0,l.Z)().mark((function e(){var o,a,s,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={},a={},i&&("GET"===n?a=i:o={body:JSON.stringify(i)}),s=(0,g.xO)(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",U.fetch()(J(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},o)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function q(e,t,n){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a,s,u,c,d,h,p,v;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},z),n),e.prev=2,o=new Y(t),e.next=6,Promise.race([r(),o.promise]);case 6:return a=e.sent,o.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw X(t,"account-exists-with-different-credential",s);case 13:if(!a.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=a.ok?s.errorMessage:s.error.message,c=u.split(" : "),d=(0,f.Z)(c,2),h=d[0],p=d[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw X(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw X(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw X(t,"user-disabled",s);case 29:if(v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw T(t,v,p);case 34:O(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof g.ZR)){e.next=41;break}throw e.t0;case 41:O(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function K(e,t,n,r){return Q.apply(this,arguments)}function Q(){return Q=(0,d.Z)((0,l.Z)().mark((function e(t,n,r,i){var o,a,s=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,W(t,n,r,i,o);case 3:return"mfaPendingCredential"in(a=e.sent)&&O(t,"multi-factor-auth-required",{_serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function J(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?B(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Y=function(){function e(t){var n=this;(0,h.Z)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Z(n.auth,"network-request-failed"))}),V.get())}))}return(0,p.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function X(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Z(e,t,r);return i.customData._tokenResponse=n,i}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function se(){return se=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o,a,s,u=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=(0,g.m9)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,R((o=ce(i))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),a="object"===typeof o.firebase?o.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:o,token:i,authTime:ae(ue(o.auth_time)),issuedAtTime:ae(ue(o.iat)),expirationTime:ae(ue(o.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function ue(e){return 1e3*Number(e)}function ce(e){var t=e.split("."),n=(0,f.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return I("JWT malformed, contained fewer than 3 sections"),null;try{var a=(0,g.tV)(i);return a?JSON.parse(a):(I("Failed to decode base64 JWT payload"),null)}catch(s){return I("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function le(e,t){return fe.apply(this,arguments)}function fe(){return fe=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof g.ZR&&de(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fe.apply(this,arguments)}function de(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var he=function(){function e(t){(0,h.Z)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,p.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout((0,d.Z)((0,l.Z)().mark((function t(){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),pe=function(){function e(t,n){(0,h.Z)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,p.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ae(this.lastLoginAt),this.creationTime=ae(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ve(e){return me.apply(this,arguments)}function me(){return(me=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o,a,s,u,c,f,d,h;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,le(t,ie(r,{idToken:i}));case 6:R(null===(o=e.sent)||void 0===o?void 0:o.users.length,r,"internal-error"),a=o.users[0],t._notifyReloadListener(a),s=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?a.providerUserInfo.map((function(e){var t=e.providerId,n=(0,b._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=be(t.providerData,s),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!(null===u||void 0===u?void 0:u.length),d=!!c&&f,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new pe(a.createdAt,a.lastLoginAt),isAnonymous:d},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e){return ye.apply(this,arguments)}function ye(){return(ye=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.m9)(t),e.next=3,ve(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,v.Z)(n),(0,v.Z)(t))}function we(e,t){return ke.apply(this,arguments)}function ke(){return(ke=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,{},(0,d.Z)((0,l.Z)().mark((function e(){var r,i,o,a,s,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.xO)({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,o=i.tokenApiHost,a=i.apiKey,s=J(t,o,"/v1/token","key=".concat(a)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",U.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xe=function(){function e(){(0,h.Z)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,p.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){R(e.idToken,"internal-error"),R("undefined"!==typeof e.idToken,"internal-error"),R("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ce(e);return R(t,"internal-error"),R("undefined"!==typeof t.exp,"internal-error"),R("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],R(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,n);case 2:r=e.sent,i=r.accessToken,o=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,o,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return N("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,o=n.expirationTime,a=new e;return r&&(R("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(R("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),o&&(R("number"===typeof o,"internal-error",{appName:t}),a.expirationTime=o),a}}]),e}();function Se(e,t){R("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _e=function(){function e(t){(0,h.Z)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,o=(0,b._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new he(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?(0,v.Z)(o.providerData):[],this.metadata=new pe(o.createdAt||void 0,o.lastLoginAt||void 0)}return(0,p.Z)(e,[{key:"getIdToken",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(R(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return se.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return ge(this)}},{key:"_assign",value:function(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ve(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,le(this,ee(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,o,a,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,w=n.emailVerified,k=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;R(b&&S,t,"internal-error");var _=xe.fromJSON(this.name,S);R("string"===typeof b,t,"internal-error"),Se(f,t.name),Se(d,t.name),R("boolean"===typeof w,t,"internal-error"),R("boolean"===typeof k,t,"internal-error"),Se(h,t.name),Se(p,t.name),Se(v,t.name),Se(m,t.name),Se(g,t.name),Se(y,t.name);var E=new e({uid:b,auth:t,email:d,emailVerified:w,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:_,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=(0,d.Z)((0,l.Z)().mark((function t(n,r){var i,o,a,s=arguments;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(o=new xe).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:o,isAnonymous:i}),t.next=6,ve(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ee=new Map;function Ce(e){j(e instanceof Function,"Expected a class definition");var t=Ee.get(e);return t?(j(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ee.set(e,t),t)}var Ie=function(){function e(){(0,h.Z)(this,e),this.type="NONE",this.storage={}}return(0,p.Z)(e,[{key:"_isAvailable",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ie.type="NONE";var Oe=Ie;function Ze(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Te=function(){function e(t,n,r){(0,h.Z)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,o=i.config,a=i.name;this.fullUserKey=Ze(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ze("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,p.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_e._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=(0,d.Z)((0,l.Z)().mark((function t(n,r){var i,o,a,s,u,f,h,p,v,m,g,y=arguments;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ce(Oe),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=t.sent.filter((function(e){return e})),a=o[0]||Ce(Oe),s=Ze(i,n.config.apiKey,n.name),u=null,f=(0,c.Z)(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return p=h.value,t.prev=14,t.next=17,p._get(s);case 17:if(!(v=t.sent)){t.next=23;break}return m=_e._fromJSON(n,v),p!==a&&(u=m),a=p,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(g=o.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&g.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=g[0],!u){t.next=44;break}return t.next=44,a._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ae(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(je(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(De(t))return"Blackberry";if(Me(t))return"Webos";if(Re(t))return"Safari";if((t.includes("chrome/")||Ne(t))&&!t.includes("edge/"))return"Chrome";if(Le(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return/firefox\//i.test(e)}function Re(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return/crios\//i.test(e)}function je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return/iemobile/i.test(e)}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return/android/i.test(e)}function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return/blackberry/i.test(e)}function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return/webos/i.test(e)}function Fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)();return Fe(e)||Le(e)||Me(e)||De(e)||/windows phone/i.test(e)||je(e)}function Ue(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ae((0,g.z$)());break;case"Worker":t="".concat(Ae((0,g.z$)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(y.Jn,"/").concat(r)}function ze(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e,t){return We.apply(this,arguments)}function We(){return(We=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"GET","/v2/recaptchaConfig",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){return void 0!==e&&void 0!==e.getResponse}function qe(e){return void 0!==e&&void 0!==e.enterprise}var Ge=(0,p.Z)((function e(t){if((0,h.Z)(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Ke(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Z("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Qe(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Je=function(){function e(t){(0,h.Z)(this,e),this.type="recaptcha-enterprise",this.auth=nt(t)}return(0,p.Z)(e,[{key:"verify",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n,r,i,o,a=this,s=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,n,r){var i=window.grecaptcha;qe(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(n,r){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:He(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ge(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(a.auth).then((function(r){if(!n&&qe(window.grecaptcha))o(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ke("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){o(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ye(e,t,n){return Xe.apply(this,arguments)}function Xe(){return Xe=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a,s,u=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],o=new Je(t),e.prev=2,e.next=5,o.verify(r);case 5:a=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,o.verify(r,!0);case 12:a=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Xe.apply(this,arguments)}var et=function(){function e(t){(0,h.Z)(this,e),this.auth=t,this.queue=[]}return(0,p.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=(0,c.Z)(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return o=i.value,e.next=11,o(t);case 11:o.onAbort&&n.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),a=(0,c.Z)(n);try{for(a.s();!(s=a.n()).done;){u=s.value;try{u()}catch(l){}}}catch(f){a.e(f)}finally{a.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),tt=function(){function e(t,n,r,i){(0,h.Z)(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rt(this),this.idTokenSubscription=new rt(this),this.beforeStateQueue=new et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return(0,p.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ce(t)),this._initializationPromise=this.queue((0,d.Z)((0,l.Z)().mark((function r(){var i,o;return(0,l.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Te.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(o=n.currentUser)||void 0===o?void 0:o.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,o=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,a&&a!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,o=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!o){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return R(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?(0,g.m9)(t):null)&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r=this,i=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&R(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue((0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,d.Z)((0,l.Z)().mark((function n(){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ce(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Ge(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Je(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new g.LL("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return R(n=t&&Ce(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Te.create(this,[Ce(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue((0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue((0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var o="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return R(a,this,"internal-error"),a.then((function(){return o(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ue(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n,r,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,m.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&C("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nt(e){return(0,g.m9)(e)}var rt=function(){function e(t){var n=this;(0,h.Z)(this,e),this.auth=t,this.observer=null,this.addObserver=(0,g.ne)((function(e){return n.observer=e}))}return(0,p.Z)(e,[{key:"next",get:function(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function it(e,t,n){var r=nt(e);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ot(t),a=function(e){var t=ot(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:at(r.substr(o.length+1))}}var a=r.split(":"),s=(0,f.Z)(a,2);return{host:s[0],port:at(s[1])}}(t),s=a.host,u=a.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ot(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function at(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var st=function(){function e(t,n){(0,h.Z)(this,e),this.providerId=t,this.signInMethod=n}return(0,p.Z)(e,[{key:"toJSON",value:function(){return N("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return N("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return N("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return N("not implemented")}}]),e}();function ut(e,t){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:resetPassword",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t){return ht.apply(this,arguments)}function ht(){return(ht=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,"POST","/v1/accounts:signInWithPassword",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:sendOobCode",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mt(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mt(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t){return St.apply(this,arguments)}function St(){return(St=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mt(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){return Et.apply(this,arguments)}function Et(){return(Et=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,"POST","/v1/accounts:signInWithEmailLink",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e,t){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,"POST","/v1/accounts:signInWithEmailLink",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ot=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,h.Z)(this,n),(o=t.call(this,"password",i))._email=e,o._password=r,o._tenantId=a,o}return(0,p.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Ye(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",pt(t,i));case 11:return e.abrupt("return",pt(t,r).catch(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(n){var i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ye(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",pt(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",_t(t,{email:this._email,oobCode:this._password}));case 13:O(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lt(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ct(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:O(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(st);function Zt(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,"POST","/v1/accounts:signInWithIdp",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var At=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,p.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Zt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Zt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Zt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,g.xO)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):O("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,o=(0,b._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}}]),n}(st);function Pt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:sendVerificationCode",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,"POST","/v1/accounts:signInWithPhoneNumber",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,"POST","/v1/accounts:signInWithPhoneNumber",H(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw X(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lt=(0,m.Z)({},"USER_NOT_FOUND","user-not-found");function Dt(){return(Dt=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",K(t,"POST","/v1/accounts:signInWithPhoneNumber",H(t,r),Lt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mt=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,p.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Nt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return jt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Dt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,o=t.phoneNumber,a=t.temporaryProof;return i||r||o||a?new n({verificationId:r,verificationCode:i,phoneNumber:o,temporaryProof:a}):null}}]),n}(st);var Ft=function(){function e(t){var n,r,i,o,a,s;(0,h.Z)(this,e);var u=(0,g.zd)((0,g.pd)(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);R(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(o=u.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return(0,p.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=(0,g.zd)((0,g.pd)(e)).link,n=t?(0,g.zd)((0,g.pd)(t)).deep_link_id:null,r=(0,g.zd)((0,g.pd)(e)).deep_link_id;return(r?(0,g.zd)((0,g.pd)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Bt=function(){function e(){(0,h.Z)(this,e),this.providerId=e.PROVIDER_ID}return(0,p.Z)(e,null,[{key:"credential",value:function(e,t){return Ot._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ft.parseLink(t);return R(n,"argument-error"),Ot._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Bt.PROVIDER_ID="password",Bt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Bt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ut=function(){function e(t){(0,h.Z)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,p.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),zt=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,p.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,v.Z)(this.scopes)}}]),n}(Ut),Vt=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,h.Z)(this,n),t.apply(this,arguments)}return(0,p.Z)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return R(e.idToken||e.accessToken,"argument-error"),At._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return R("providerId"in t&&"signInMethod"in t,"argument-error"),At._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,a=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!o&&!r&&!a)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:a})}catch(c){return null}}}]),n}(zt),Ht=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,h.Z)(this,n),t.call(this,"facebook.com")}return(0,p.Z)(n,null,[{key:"credential",value:function(e){return At._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(zt);Ht.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ht.PROVIDER_ID="facebook.com";var Wt=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,p.Z)(n,null,[{key:"credential",value:function(e,t){return At._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(zt);Wt.GOOGLE_SIGN_IN_METHOD="google.com",Wt.PROVIDER_ID="google.com";var $t=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,h.Z)(this,n),t.call(this,"github.com")}return(0,p.Z)(n,null,[{key:"credential",value:function(e){return At._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(zt);$t.GITHUB_SIGN_IN_METHOD="github.com",$t.PROVIDER_ID="github.com";var qt=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,h.Z)(this,n),t.call(this,"twitter.com")}return(0,p.Z)(n,null,[{key:"credential",value:function(e,t){return At._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(o){return null}}}]),n}(zt);function Gt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,"POST","/v1/accounts:signUp",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}qt.TWITTER_SIGN_IN_METHOD="twitter.com",qt.PROVIDER_ID="twitter.com";var Qt=function(){function e(t){(0,h.Z)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,p.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=(0,d.Z)((0,l.Z)().mark((function t(n,r,i){var o,a,s,u,c=arguments;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_e._fromIdTokenResponse(n,i,o);case 3:return a=t.sent,s=Jt(i),u=new e({user:a,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=(0,d.Z)((0,l.Z)().mark((function t(n,r,i){var o;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return o=Jt(i),t.abrupt("return",new e({user:n,providerId:o,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Jt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Yt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nt(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Qt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Gt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Qt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return o=e.sent,e.next=13,r._updateCurrentUser(o.user);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var en=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o){var s,u;return(0,h.Z)(this,n),(s=t.call(this,r.code,r.message)).operationType=i,s.user=o,Object.setPrototypeOf((0,a.Z)(s),n.prototype),s.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},s}return(0,p.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(g.ZR);function tn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw en._fromErrorAndOperation(e,n,t,r);throw n}))}function nn(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function rn(e,t){return on.apply(this,arguments)}function on(){return(on=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.m9)(t),e.next=3,un(!0,r,n);case 3:return e.t0=ne,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,o=i.providerUserInfo,a=nn(o||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function an(e,t){return sn.apply(this,arguments)}function sn(){return sn=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],e.t0=le,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Qt._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function un(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(n);case 2:i=nn(n.providerData),o=!1===t?"provider-already-linked":"no-such-provider",R(i.has(r)===t,n.auth,o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return fn=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a,s,u,c=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,o="reauthenticate",e.prev=3,e.next=6,le(t,tn(i,o,n,t),r);case 6:return R((a=e.sent).idToken,i,"internal-error"),R(s=ce(a.idToken),i,"internal-error"),u=s.sub,R(t.uid===u,i,"user-mismatch"),e.abrupt("return",Qt._forOperation(t,o,a));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&O(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),fn.apply(this,arguments)}function dn(e,t){return hn.apply(this,arguments)}function hn(){return hn=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a,s=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,tn(t,i,n);case 4:return o=e.sent,e.next=7,Qt._fromIdTokenResponse(t,i,o);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),hn.apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dn(nt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.m9)(t),e.next=3,un(!1,r,n.providerId);case 3:return e.abrupt("return",an(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K(t,"POST","/v1/accounts:signInWithCustomToken",H(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e,t){return kn.apply(this,arguments)}function kn(){return(kn=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=nt(t),e.next=3,yn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Qt._fromIdTokenResponse(r,"signIn",i);case 6:return o=e.sent,e.next=9,r._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(e,t,n){var r;R((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),R("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(R(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(R(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Sn(e,t,n){return _n.apply(this,arguments)}function _n(){return _n=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=nt(t),a={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=o._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Ye(o,a,"getOobCode",!0);case 5:return s=e.sent,r&&xn(o,s,r),e.next=9,wt(o,s);case 9:e.next=14;break;case 11:return r&&xn(o,a,r),e.next=14,wt(o,a).catch(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Ye(o,a,"getOobCode",!0);case 4:return n=e.sent,r&&xn(o,n,r),e.next=8,wt(o,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),_n.apply(this,arguments)}function En(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut((0,g.m9)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e,t){return On.apply(this,arguments)}function On(){return(On=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt((0,g.m9)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e,t,n){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a,s,u,c,f;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=nt(t),a={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=o._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Ye(o,a,"signUpPassword");case 5:u=e.sent,s=Gt(o,u),e.next=10;break;case 9:s=Gt(o,a).catch(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Ye(o,a,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Gt(o,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Qt._fromIdTokenResponse(o,"signIn",c);case 15:return f=e.sent,e.next=18,o._updateCurrentUser(f.user);case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}}),e)}))),Tn.apply(this,arguments)}function An(e,t,n){return pn((0,g.m9)(e),Bt.credential(t,n))}function Pn(e,t,n){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a,s,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){R(t.handleCodeInApp,o,"argument-error"),t&&xn(o,e,t)},o=nt(t),a={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=o._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Ye(o,a,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,xt(o,u);case 10:e.next=15;break;case 12:return s(a,r),e.next=15,xt(o,a).catch(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Ye(o,a,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,xt(o,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}function Nn(e,t){var n=Ft.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function jn(e,t,n){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,g.m9)(t),R((o=Bt.credentialWithLink(n,r||L()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",pn(i,o));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,g.m9)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_EMAIL",idToken:i},n&&xn(r.auth,o,n),e.next=8,yt(r.auth,o);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e,t){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a,s,u,c;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return o=(0,g.m9)(t),e.next=6,o.getIdToken();case 6:return a=e.sent,s={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,le(o,Fn(o.auth,s));case 10:return u=e.sent,o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null,(c=o.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=o.displayName,c.photoURL=o.photoURL),e.next=17,o._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e,t){return Wn((0,g.m9)(e),t,null)}function Hn(e,t){return Wn((0,g.m9)(e),null,t)}function Wn(e,t,n){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a,s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return o=e.sent,a={idToken:o,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,le(t,lt(i,a));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qn=(0,p.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,h.Z)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Gn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o){var a;return(0,h.Z)(this,n),(a=t.call(this,e,r,i)).username=o,a}return(0,p.Z)(n)}(qn),Kn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){return(0,h.Z)(this,n),t.call(this,e,"facebook.com",r)}return(0,p.Z)(n)}(qn),Qn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){return(0,h.Z)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return(0,p.Z)(n)}(Gn),Jn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){return(0,h.Z)(this,n),t.call(this,e,"google.com",r)}return(0,p.Z)(n)}(qn),Yn=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){return(0,h.Z)(this,n),t.call(this,e,"twitter.com",r,i)}return(0,p.Z)(n)}(Gn);function Xn(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=ce(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new qn(o,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new Kn(o,i);case"github.com":return new Qn(o,i);case"google.com":return new Jn(o,i);case"twitter.com":return new Yn(o,i,e.screenName||null);case"custom":case"anonymous":return new qn(o,null);default:return new qn(o,r,i)}}(n)}function er(e,t){return(0,g.m9)(e).setPersistence(t)}function tr(e){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,g.m9)(t).delete());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:start",H(e,t))}function ir(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:finalize",H(e,t))}new WeakMap;var or="__sak",ar=function(){function e(t,n){(0,h.Z)(this,e),this.storageRetriever=t,this.type=n}return(0,p.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(or,"1"),this.storage.removeItem(or),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var sr=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,h.Z)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=(0,g.z$)();return Re(e)||Fe(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Be(),e._shouldAllowMigration=!0,e}return(0,p.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),o=this.localCache[r];i!==o&&e(r,o,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);(0,g.w1)()&&10===document.documentMode&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,r){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)((0,o.Z)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)((0,o.Z)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)((0,o.Z)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ar);sr.type="LOCAL";var ur=sr,cr=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,h.Z)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,p.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ar);cr.type="SESSION";var lr=cr;function fr(e){return Promise.all(e.map(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var dr=function(){function e(t){(0,h.Z)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,p.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o,a,s,u,c;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,o=r.eventType,a=r.data,null===(s=this.handlersMap[o])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:o}),u=Array.from(s).map(function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,fr(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function hr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}dr.receivers=[];var pr=function(){function e(t){(0,h.Z)(this,e),this.target=t,this.handlers=new Set}return(0,p.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a,s=this,u=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=hr("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(n.data.response);break;default:clearTimeout(l),clearTimeout(o),u(new Error("invalid_response"))}}},s.handlers.add(a),i.port1.addEventListener("message",a.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){a&&s.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function vr(){return window}function mr(e){vr().location.href=e}function gr(){return"undefined"!==typeof vr().WorkerGlobalScope&&"function"===typeof vr().importScripts}function yr(){return br.apply(this,arguments)}function br(){return(br=(0,d.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function wr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var kr="firebaseLocalStorageDb",xr="firebaseLocalStorage",Sr="fbase_key",_r=function(){function e(t){(0,h.Z)(this,e),this.request=t}return(0,p.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Er(e,t){return e.transaction([xr],t?"readwrite":"readonly").objectStore(xr)}function Cr(){var e=indexedDB.deleteDatabase(kr);return new _r(e).toPromise()}function Ir(){var e=indexedDB.open(kr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xr,{keyPath:Sr})}catch(r){n(r)}})),e.addEventListener("success",(0,d.Z)((0,l.Z)().mark((function n(){var r;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(xr)){n.next=12;break}return r.close(),n.next=5,Cr();case 5:return n.t0=t,n.next=8,Ir();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Or(e,t,n){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Er(t,!0).put((i={},(0,m.Z)(i,Sr,n),(0,m.Z)(i,"value",r),i)),e.abrupt("return",new _r(o).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er(t,!1).get(n),e.next=3,new _r(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pr(e,t){var n=Er(e,!0).delete(t);return new _r(n).toPromise()}var Rr=function(){function e(){(0,h.Z)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,p.Z)(e,[{key:"_openDb",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ir();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=dr._getInstance(gr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=(0,d.Z)((0,l.Z)().mark((function e(n,r){var i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yr();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new pr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&wr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ir();case 5:return t=e.sent,e.next=8,Or(t,or,"1");case 8:return e.next=10,Pr(t,or);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Or(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Tr(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite((0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Pr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n,r,i,o,a,s,u,f,d,h;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Er(e,!1).getAll();return new _r(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=(0,c.Z)(t);try{for(i.s();!(o=i.n()).done;)a=o.value,s=a.fbase_key,u=a.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(l){i.e(l)}finally{i.f()}for(f=0,d=Object.keys(this.localCache);f<d.length;f++)h=d[f],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)((0,l.Z)().mark((function t(){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Rr.type="LOCAL";var Nr=Rr;function jr(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:start",H(e,t))}function Lr(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:finalize",H(e,t))}var Dr=1e12,Mr=function(){function e(t){(0,h.Z)(this,e),this.auth=t,this.counter=Dr,this._widgets=new Map}return(0,p.Z)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Fr(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Dr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Dr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Dr,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fr=function(){function e(t,n,r){var i=this;(0,h.Z)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var o="string"===typeof t?document.getElementById(t):t;R(o,"argument-error",{appName:n}),this.container=o,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return(0,p.Z)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Br=Qe("rcb"),Ur=new F(3e4,6e4),zr=function(){function e(){var t;(0,h.Z)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=vr().grecaptcha)||void 0===t?void 0:t.render)}return(0,p.Z)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return R(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&$e(vr().grecaptcha)?Promise.resolve(vr().grecaptcha):new Promise((function(r,i){var o=vr().setTimeout((function(){i(Z(e,"network-request-failed"))}),Ur.get());vr()[Br]=function(){vr().clearTimeout(o),delete vr()[Br];var a=vr().grecaptcha;if(a&&$e(a)){var s=a.render;a.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(Z(e,"internal-error"))},Ke("".concat("https://www.google.com/recaptcha/api.js?","?").concat((0,g.xO)({onload:Br,render:"explicit",hl:n}))).catch((function(){clearTimeout(o),i(Z(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=vr().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Vr=function(){function e(){(0,h.Z)(this,e)}return(0,p.Z)(e,[{key:"load",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Mr(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Hr="recaptcha",Wr={theme:"light",type:"image"},$r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Wr),r=arguments.length>2?arguments[2]:void 0;(0,h.Z)(this,e),this.parameters=n,this.type=Hr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nt(r),this.isInvisible="invisible"===this.parameters.size,R("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;R(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vr:new zr,this.validateStartingState()}return(0,p.Z)(e,[{key:"verify",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n,r,i=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){R(!this.parameters.sitekey,this.auth,"argument-error"),R(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),R("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=vr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){R(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(D()&&!gr(),this.auth,"internal-error"),e.next=3,qr();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ze(this.auth);case 8:R(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return R(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function qr(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Gr=function(){function e(t,n){(0,h.Z)(this,e),this.verificationId=t,this.onConfirmation=n}return(0,p.Z)(e,[{key:"confirm",value:function(e){var t=Mt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Kr(e,t,n){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nt(t),e.next=3,Xr(i,n,(0,g.m9)(r));case 3:return o=e.sent,e.abrupt("return",new Gr(o,(function(e){return pn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e,t,n){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,g.m9)(t),e.next=3,un(!1,i,"phone");case 3:return e.next=5,Xr(i.auth,n,(0,g.m9)(r));case 5:return o=e.sent,e.abrupt("return",new Gr(o,(function(e){return mn(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(e,t,n){return ei.apply(this,arguments)}function ei(){return(ei=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a,s,u,c,f,d,h;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(o=e.sent,e.prev=3,R("string"===typeof o,t,"argument-error"),R(r.type===Hr,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=a.session,!("phoneNumber"in a)){e.next=17;break}return R("enroll"===s.type,t,"internal-error"),e.next=13,rr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return R("signin"===s.type,t,"internal-error"),R(c=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:o}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Pt(t,{phoneNumber:a.phoneNumber,recaptchaToken:o});case 28:return d=e.sent,h=d.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}var ti=function(){function e(t){(0,h.Z)(this,e),this.providerId=e.PROVIDER_ID,this.auth=nt(t)}return(0,p.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Xr(this.auth,e,(0,g.m9)(t))}}],[{key:"credential",value:function(e,t){return Mt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Mt._fromTokenResponse(n,r):null}}]),e}();function ni(e,t){return t?Ce(t):(R(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ti.PROVIDER_ID="phone",ti.PHONE_SIGN_IN_METHOD="phone";var ri=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,p.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return Zt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Zt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Zt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(st);function ii(e){return dn(e.auth,new ri(e),e.bypassAuthState)}function oi(e){var t=e.auth,n=e.user;return R(n,t,"internal-error"),ln(n,new ri(e),e.bypassAuthState)}function ai(e){return si.apply(this,arguments)}function si(){return(si=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,R(r=t.user,n,"internal-error"),e.abrupt("return",an(r,new ri(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ui=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,h.Z)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,p.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=(0,d.Z)((0,l.Z)().mark((function t(n,r){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,o=t.tenantId,a=t.error,s=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ii;case"linkViaPopup":case"linkViaRedirect":return ai;case"reauthViaPopup":case"reauthViaRedirect":return oi;default:O(this.auth,"internal-error")}}},{key:"resolve",value:function(e){j(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){j(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ci=new F(2e3,1e4);function li(e,t,n){return fi.apply(this,arguments)}function fi(){return(fi=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nt(t),A(t,n,Ut),o=ni(i,r),a=new pi(i,"signInViaPopup",n,o),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e,t,n){return hi.apply(this,arguments)}function hi(){return(hi=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A((i=(0,g.m9)(t)).auth,n,Ut),o=ni(i.auth,r),a=new pi(i.auth,"linkViaPopup",n,o,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pi=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i,o,s){var u;return(0,h.Z)(this,n),(u=t.call(this,e,r,o,s)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,a.Z)(u),u}return(0,p.Z)(n,[{key:"executeNotNull",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return R(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,n=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(1===this.filter.length,"Popup operations only handle one event"),t=hr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Z(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Z(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Z(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,ci.get())}()}}]),n}(ui);pi.currentPopupAction=null;var vi="pendingRedirect",mi=new Map,gi=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,h.Z)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,o)).eventId=null,i}return(0,p.Z)(n,[{key:"execute",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){var t,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=mi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,yi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,(0,i.Z)((0,o.Z)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:mi.set(this.auth._key(),t);case 21:return this.bypassAuthState||mi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",(0,i.Z)((0,o.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",(0,i.Z)((0,o.Z)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ui);function yi(e,t){return bi.apply(this,arguments)}function bi(){return(bi=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_i(n),i=Si(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,o="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wi(e,t){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Si(t)._set(_i(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xi(e,t){mi.set(e._key(),t)}function Si(e){return Ce(e._redirectPersistence)}function _i(e){return Ze(vi,e.config.apiKey,e.name)}function Ei(e,t,n){return function(e,t,n){return Ci.apply(this,arguments)}(e,t,n)}function Ci(){return(Ci=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nt(t),A(t,n,Ut),e.next=4,i._initializationPromise;case 4:return o=ni(i,r),e.next=7,wi(o,i);case 7:return e.abrupt("return",o._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(e,t,n){return function(e,t,n){return Oi.apply(this,arguments)}(e,t,n)}function Oi(){return(Oi=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){var i,o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A((i=(0,g.m9)(t)).auth,n,Ut),e.next=4,i.auth._initializationPromise;case 4:return o=ni(i.auth,r),e.next=7,un(!1,i,n.providerId);case 7:return e.next=9,wi(o,i.auth);case 9:return e.next=11,Ri(i);case 11:return a=e.sent,e.abrupt("return",o._openRedirect(i.auth,n,"linkViaRedirect",a));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)((0,l.Z)().mark((function e(t,n){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(t)._initializationPromise;case 2:return e.abrupt("return",Ai(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ai(e,t){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r,i,o,a,s,u=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=nt(t),o=ni(i,n),a=new gi(i,o,r),e.next=6,a.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Ri(e){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ji=function(){function e(t){(0,h.Z)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,p.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Di(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Di(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Z(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Li(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Li(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Li(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Di(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Mi(e){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r=arguments;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",W(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}var Bi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ui=/^https?/;function zi(){return(zi=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r,i,o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Mi(t);case 4:n=e.sent,r=n.authorizedDomains,i=(0,c.Z)(r),e.prev=7,i.s();case 9:if((o=i.n()).done){e.next=20;break}if(a=o.value,e.prev=11,!Vi(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:O(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Vi(e){var t=L(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var o=new URL(e);return""===o.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&o.hostname===i}if(!Ui.test(r))return!1;if(Bi.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var Hi=new F(3e4,6e4);function Wi(){var e=vr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,v.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var $i=null;function qi(e){return $i=$i||function(e){return new Promise((function(t,n){var r,i,o;function a(){Wi(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Wi(),n(Z(e,"network-request-failed"))},timeout:Hi.get()})}if(null===(i=null===(r=vr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=vr().gapi)||void 0===o?void 0:o.load)){var s=Qe("iframefcb");return vr()[s]=function(){gapi.load?a():n(Z(e,"network-request-failed"))},Ke("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw $i=null,e}))}(e),$i}var Gi=new F(5e3,15e3),Ki="__/auth/iframe",Qi="emulator/auth/iframe",Ji={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xi(e){var t=e.config;R(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?B(t,Qi):"https://".concat(e.config.authDomain,"/").concat(Ki),r={apiKey:t.apiKey,appName:e.name,v:y.Jn},i=Yi.get(e.config.apiHost);i&&(r.eid=i);var o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat((0,g.xO)(r).slice(1))}function eo(e){return to.apply(this,arguments)}function to(){return to=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(t);case 2:return n=e.sent,R(r=vr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Xi(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ji,dontclear:!0},(function(e){return new Promise(function(){var n=(0,d.Z)((0,l.Z)().mark((function n(r,i){var o,a,s;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){vr().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:o=Z(t,"network-request-failed"),a=vr().setTimeout((function(){i(o)}),Gi.get()),e.ping(s).then(s,(function(){i(o)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ro=function(){function e(t){(0,h.Z)(this,e),this.window=t,this.associatedEvent=null}return(0,p.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function io(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},no),{width:r.toString(),height:i.toString(),top:o,left:a}),c=(0,g.z$)().toLowerCase();n&&(s=Ne(c)?"_blank":n),Pe(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=(0,f.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.z$)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new ro(null);var d=window.open(t||"",s,l);R(d,e,"popup-blocked");try{d.focus()}catch(h){}return new ro(d)}var oo="__/auth/handler",ao="emulator/auth/handler",so=encodeURIComponent("fac");function uo(e,t,n,r,i,o){return co.apply(this,arguments)}function co(){return(co=(0,d.Z)((0,l.Z)().mark((function e(t,n,r,i,o,a){var s,u,c,d,h,p,v,m,b,w,k,x,S;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:y.Jn,eventId:o},n instanceof Ut)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",(0,g.xb)(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(a||{});u<c.length;u++)d=(0,f.Z)(c[u],2),h=d[0],p=d[1],s[h]=p;for(n instanceof zt&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=v.join(",")),t.tenantId&&(s.tid=t.tenantId),m=s,b=0,w=Object.keys(m);b<w.length;b++)k=w[b],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return x=e.sent,S=x?"#".concat(so,"=").concat(encodeURIComponent(x)):"",e.abrupt("return","".concat(lo(t),"?").concat((0,g.xO)(m).slice(1)).concat(S));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e){var t=e.config;return t.emulator?B(t,ao):"https://".concat(t.authDomain,"/").concat(oo)}var fo="webStorageSupport",ho=function(){function e(){(0,h.Z)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=Ai,this._overrideRedirectResult=xi}return(0,p.Z)(e,[{key:"_openPopup",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n,r,i){var o,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(null===(o=this.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),e.next=3,uo(t,n,r,L(),i);case 3:return a=e.sent,e.abrupt("return",io(t,a,hr()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n,r,i){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,uo(t,n,r,L(),i);case 4:return mr(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,o=r.promise;return i?Promise.resolve(i):(j(o,"If manager is not set, promise should be"),o)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eo(t);case 2:return n=e.sent,r=new ji(t),n.register("authEvent",(function(e){return R(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(fo,{type:fo},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[fo];void 0!==i&&t(!!i),O(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zi.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Be()||Re()||Fe()}}]),e}(),po=ho,vo=function(){function e(t){(0,h.Z)(this,e),this.factorId=t}return(0,p.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return N("unexpected MultiFactorSessionType")}}}]),e}(),mo=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,h.Z)(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,p.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return W(e,"POST","/v2/accounts/mfaEnrollment:finalize",H(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return W(e,"POST","/v2/accounts/mfaSignIn:finalize",H(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(vo);(function(){function e(){(0,h.Z)(this,e)}return(0,p.Z)(e,null,[{key:"assertion",value:function(e){return mo._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var go=function(){function e(){(0,h.Z)(this,e)}return(0,p.Z)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return yo._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return yo._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n,r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,o={idToken:n.credential,totpEnrollmentInfo:{}},W(i,"POST","/v2/accounts/mfaEnrollment:start",H(i,o));case 4:return r=e.sent,e.abrupt("return",bo._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,o}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();go.FACTOR_ID="totp";var yo=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o;return(0,h.Z)(this,n),(o=t.call(this,"totp")).otp=e,o.enrollmentId=r,o.secret=i,o}return(0,p.Z)(n,[{key:"_finalizeEnroll",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n,r){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",ir(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t,n){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Lr(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(vo),bo=function(){function e(t,n,r,i,o,a,s){(0,h.Z)(this,e),this.sessionInfo=a,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=o}return(0,p.Z)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(wo(e)||wo(t))&&(r=!0),r&&(wo(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),wo(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function wo(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var ko="@firebase/auth",xo="0.23.2",So=function(){function e(t){(0,h.Z)(this,e),this.auth=t,this.internalListeners=new Map}return(0,p.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=(0,d.Z)((0,l.Z)().mark((function e(t){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var _o,Eo=(0,g.Pz)("authIdTokenMaxAge")||300,Co=null,Io=function(e){return function(){var t=(0,d.Z)((0,l.Z)().mark((function t(n){var r,i,o;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Eo)){t.next=9;break}return t.abrupt("return");case 9:if(o=null===r||void 0===r?void 0:r.token,Co!==o){t.next=12;break}return t.abrupt("return");case 12:return Co=o,t.next=15,fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:"Bearer ".concat(o)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.Mq)(),t=(0,y.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=(0,y.qX)(e,"auth");if(n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if((0,g.vZ)(i,null!==t&&void 0!==t?t:{}))return r;O(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:po,persistence:[Nr,ur,lr]}),r=(0,g.Pz)("authTokenSyncURL");if(r){var i=Io(r);!function(e,t,n){(0,g.m9)(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){(0,g.m9)(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var o=(0,g.q4)("auth");return o&&it(n,"http://".concat(o)),n}_o="Browser",(0,y.Xd)(new k.wA("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),a=r.options,s=a.apiKey,u=a.authDomain;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:_o,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ue(_o)},l=new tt(r,i,o,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ce);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),(0,y.Xd)(new k.wA("auth-internal",(function(e){return function(e){return new So(e)}(nt(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,y.KN)(ko,xo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_o)),(0,y.KN)(ko,xo,"esm2017")},4766:function(e,t,n){"use strict";n.d(t,{$s:function(){return K},BH:function(){return x},G6:function(){return Z},L:function(){return p},LL:function(){return N},P0:function(){return b},Pz:function(){return k},Sg:function(){return S},ZR:function(){return R},aH:function(){return w},b$:function(){return I},eu:function(){return A},hl:function(){return T},m9:function(){return Q},ne:function(){return z},pd:function(){return U},q4:function(){return y},ru:function(){return C},tV:function(){return v},uI:function(){return E},vZ:function(){return D},w1:function(){return O},xO:function(){return F},xb:function(){return L},z$:function(){return _},zI:function(){return P},zd:function(){return B}});var r=n(7762),i=n(9439),o=n(7326),a=n(3144),s=n(5671),u=n(136),c=n(9388),l=n(8664),f=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw new h;var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},h=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,a.Z)(n)}((0,l.Z)(Error)),p=function(e){return function(e){var t=f(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},v=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var m=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},g=function(){try{return m()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"046e7f5aac99ffa553eae479b809dbdd",REACT_APP_STORAGE_BUCKET:"chimple-prod.appspot.com",REACT_APP_MEASUREMENT_ID:"733418845711",REACT_APP_HOT_UPDATE_SERVER:"https://chimple-prod-hot-update.web.app/v2/",REACT_APP_AUTH_DOMAIN:"chimple-prod.firebaseapp.com",REACT_APP_PROJECT_ID:"chimple-prod",REACT_APP_APP_ID:"1:733418845711:web:ffc43f8556b8ecaaa0957a",REACT_APP_ALGOLIA_INDEX_NAME:"lesson_cuba_prod",REACT_APP_API_KEY:"AIzaSyAqNGaNBLDNQ309JPDMbhXcZQyWSWua5UQ",REACT_APP_MESSAGING_SENDER_ID:"",REACT_APP_ALGOLIA_APP_ID:"918P925LR9"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&v(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},y=function(e){var t,n;return null===(n=null===(t=g())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},b=function(e){var t=y(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},w=function(){var e;return null===(e=g())||void 0===e?void 0:e.config},k=function(e){var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]},x=function(){function e(){var t=this;(0,s.Z)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,a.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function S(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(o)),""].join(".")}function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function C(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function O(){var e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Z(){return!function(){var e,t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){try{return"object"===typeof indexedDB}catch(e){return!1}}function A(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function P(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var R=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i){var a;return(0,s.Z)(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,o.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,o.Z)(a),N.prototype.create),a}return(0,a.Z)(n)}((0,l.Z)(Error)),N=function(){function e(t,n,r){(0,s.Z)(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,a.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,o,t)}}]),e}();var j=/\{\$([^}]+)}/g;function L(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function D(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(M(s)&&M(u)){if(!D(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function M(e){return null!==e&&"object"===typeof e}function F(e){for(var t=[],n=function(){var e=(0,i.Z)(o[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,o=Object.entries(e);r<o.length;r++)n();return t.length?"&"+t.join("&"):""}function B(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,i.Z)(n,2),o=r[0],a=r[1];t[decodeURIComponent(o)]=decodeURIComponent(a)}})),t}function U(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function z(e,t){var n=new V(e,t);return n.subscribe.bind(n)}var V=function(){function e(t,n){var r=this;(0,s.Z)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,a.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var i,o=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;var n,i=(0,r.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in e&&"function"===typeof e[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=H),void 0===i.error&&(i.error=H),void 0===i.complete&&(i.complete=H);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{o.finalError?i.error(o.finalError):i.complete()}catch(e){}})),this.observers.push(i),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function H(){}var W=1e3,$=2,q=144e5,G=.5;function K(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:W)*Math.pow(t,e),r=Math.round(G*n*(Math.random()-.5)*2);return Math.min(q,n+r)}function Q(e){return e&&e._delegate?e._delegate:e}},6189:function(e,t,n){"use strict";n.d(t,{c:function(){return v}});var r,i=n(4942),o=n(7762),a=n(3433),s=n(226),u=n(8857),c=function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},l=function(e){if(void 0===r){var t=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;r=!t&&n?"-webkit-":""}return r},f=function(e,t,n){var r=t.startsWith("animation")?l(e):"";e.style.setProperty(r+t,n)},d=function(e,t){var n=t.startsWith("animation")?l(e):"";e.style.removeProperty(n+t)},h=[],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(void 0!==t){var n=Array.isArray(t)?t:[t];return[].concat((0,a.Z)(e),(0,a.Z)(n))}return e},v=function(e){var t,n,r,v,m,g,y,b,w,k,x,S,_,E=[],C=[],I=[],O=!1,Z={},T=[],A=[],P={},R=0,N=!1,j=!1,L=!0,D=!1,M=!0,F=!1,B=e,U=[],z=[],V=[],H=[],W=[],$=[],q=[],G=[],K=[],Q=[],J="function"===typeof AnimationEffect||void 0!==u.w&&"function"===typeof u.w.AnimationEffect,Y="function"===typeof Element&&"function"===typeof Element.prototype.animate&&J,X=function(){return Q},ee=function(e){re(),e&&ie()},te=function(e,t){return((null===t||void 0===t?void 0:t.oneTimeCallback)?z:U).push({c:e,o:t}),_},ne=function(){return U.length=0,z.length=0,_},re=function(){if(Y)Q.forEach((function(e){e.cancel()})),Q.length=0;else{var e=V.slice();(0,s.r)((function(){e.forEach((function(e){d(e,"animation-name"),d(e,"animation-duration"),d(e,"animation-timing-function"),d(e,"animation-iteration-count"),d(e,"animation-delay"),d(e,"animation-play-state"),d(e,"animation-fill-mode"),d(e,"animation-direction")}))}))}},ie=function(){W.forEach((function(e){(null===e||void 0===e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),W.length=0},oe=function(){return void 0!==m?m:y?y.getFill():"both"},ae=function(){return void 0!==w?w:void 0!==g?g:y?y.getDirection():"normal"},se=function(){return N?"linear":void 0!==r?r:y?y.getEasing():"linear"},ue=function(){return j?0:void 0!==k?k:void 0!==n?n:y?y.getDuration():0},ce=function(){return void 0!==v?v:y?y.getIterations():1},le=function(){return void 0!==x?x:void 0!==t?t:y?y.getDelay():0},fe=function(e){Y?X().forEach((function(t){if(t.effect.setKeyframes)t.effect.setKeyframes(e);else{var n=new KeyframeEffect(t.effect.target,e,t.effect.getTiming());t.effect=n}})):he()},de=function(){0!==R&&0===--R&&(!function(){ke(),G.forEach((function(e){return e()})),K.forEach((function(e){return e()}));var e=L?1:0,t=T,n=A,r=P;V.forEach((function(e){var i=e.classList;for(var o in t.forEach((function(e){return i.add(e)})),n.forEach((function(e){return i.remove(e)})),r)r.hasOwnProperty(o)&&f(e,o,r[o])})),U.forEach((function(t){return t.c(e,_)})),z.forEach((function(t){return t.c(e,_)})),z.length=0,M=!0,L&&(D=!0),L=!0}(),y&&y.animationFinish())},he=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ie();var n=function(e){return e.forEach((function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("easing"===t)e["animation-timing-function"]=n,delete e[t];else{var r=c(t);r!==t&&(e[r]=n,delete e[t])}}})),e}(E);V.forEach((function(r){if(n.length>0){var i=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.offset,n=[];for(var r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push("".concat(r,": ").concat(e[r],";"));return"".concat(100*t,"% { ").concat(n.join(" ")," }")})).join(" ")}(n);S=void 0!==e?e:function(e){var t=h.indexOf(e);return t<0&&(t=h.push(e)-1),"ion-animation-".concat(t)}(i);var o=function(e,t,n){var r,i=function(e){var t=void 0!==e.getRootNode?e.getRootNode():e;return t.head||t}(n),o=l(n),a=i.querySelector("#"+e);if(a)return a;var s=(null!==(r=n.ownerDocument)&&void 0!==r?r:document).createElement("style");return s.id=e,s.textContent="@".concat(o,"keyframes ").concat(e," { ").concat(t," } @").concat(o,"keyframes ").concat(e,"-alt { ").concat(t," }"),i.appendChild(s),s}(S,i,r);W.push(o),f(r,"animation-duration","".concat(ue(),"ms")),f(r,"animation-timing-function",se()),f(r,"animation-delay","".concat(le(),"ms")),f(r,"animation-fill-mode",oe()),f(r,"animation-direction",ae());var a=ce()===1/0?"infinite":ce().toString();f(r,"animation-iteration-count",a),f(r,"animation-play-state","paused"),t&&f(r,"animation-name","".concat(o.id,"-alt")),(0,s.r)((function(){f(r,"animation-name",o.id||null)}))}}))},pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!function(){$.forEach((function(e){return e()})),q.forEach((function(e){return e()}));var e=C,t=I,n=Z;V.forEach((function(r){var i=r.classList;for(var o in e.forEach((function(e){return i.add(e)})),t.forEach((function(e){return i.remove(e)})),n)n.hasOwnProperty(o)&&f(r,o,n[o])}))}(),E.length>0&&(Y?(V.forEach((function(e){var t=e.animate(E,{id:B,delay:le(),duration:ue(),easing:se(),iterations:ce(),fill:oe(),direction:ae()});t.pause(),Q.push(t)})),Q.length>0&&(Q[0].onfinish=function(){de()})):he(e)),O=!0},ve=function(e){if(e=Math.min(Math.max(e,0),.9999),Y)Q.forEach((function(t){t.currentTime=t.effect.getComputedTiming().delay+ue()*e,t.pause()}));else{var t="-".concat(ue()*e,"ms");V.forEach((function(e){E.length>0&&(f(e,"animation-delay",t),f(e,"animation-play-state","paused"))}))}},me=function(e){Q.forEach((function(e){e.effect.updateTiming({delay:le(),duration:ue(),easing:se(),iterations:ce(),fill:oe(),direction:ae()})})),void 0!==e&&ve(e)},ge=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;(0,s.r)((function(){V.forEach((function(n){f(n,"animation-name",S||null),f(n,"animation-duration","".concat(ue(),"ms")),f(n,"animation-timing-function",se()),f(n,"animation-delay",void 0!==t?"-".concat(t*ue(),"ms"):"".concat(le(),"ms")),f(n,"animation-fill-mode",oe()||null),f(n,"animation-direction",ae()||null);var r=ce()===1/0?"infinite":ce().toString();f(n,"animation-iteration-count",r),e&&f(n,"animation-name","".concat(S,"-alt")),(0,s.r)((function(){f(n,"animation-name",S||null)}))}))}))},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return e&&H.forEach((function(r){r.update(e,t,n)})),Y?me(n):ge(t,n),_},be=function(){O&&(Y?Q.forEach((function(e){e.pause()})):V.forEach((function(e){f(e,"animation-play-state","paused")})),F=!0)},we=function(){b=void 0,de()},ke=function(){b&&clearTimeout(b)},xe=function(){V.forEach((function(e){d(e,"animation-duration"),d(e,"animation-delay"),d(e,"animation-play-state")}))},Se=function(e){return new Promise((function(t){(null===e||void 0===e?void 0:e.sync)&&(j=!0,te((function(){return j=!1}),{oneTimeCallback:!0})),O||pe(),D&&(Y?(ve(0),me()):ge(),D=!1),M&&(R=H.length+1,M=!1),te((function(){return t()}),{oneTimeCallback:!0}),H.forEach((function(e){e.play()})),Y?(Q.forEach((function(e){e.play()})),0!==E.length&&0!==V.length||de()):function(){if(ke(),(0,s.r)((function(){V.forEach((function(e){E.length>0&&f(e,"animation-play-state","running")}))})),0===E.length||0===V.length)de();else{var e=le()||0,t=ue()||0,n=ce()||1;isFinite(n)&&(b=setTimeout(we,e+t*n+100)),function(e,t){var n,r={passive:!0},i=function(){n&&n()},o=function(n){e===n.target&&(i(),t(n))};e&&(e.addEventListener("webkitAnimationEnd",o,r),e.addEventListener("animationend",o,r),n=function(){e.removeEventListener("webkitAnimationEnd",o,r),e.removeEventListener("animationend",o,r)})}(V[0],(function(){ke(),(0,s.r)((function(){xe(),(0,s.r)(de)}))}))}}(),F=!1}))},_e=function(e,t){var n=E[0];return void 0===n||void 0!==n.offset&&0!==n.offset?E=[(0,i.Z)({offset:0},e,t)].concat((0,a.Z)(E)):n[e]=t,_};return _={parentAnimation:y,elements:V,childAnimations:H,id:B,animationFinish:de,from:_e,to:function(e,t){var n=E[E.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?E=[].concat((0,a.Z)(E),[(0,i.Z)({offset:1},e,t)]):n[e]=t,_},fromTo:function(e,t,n){return _e(e,t).to(e,n)},parent:function(e){return y=e,_},play:Se,pause:function(){return H.forEach((function(e){e.pause()})),be(),_},stop:function(){H.forEach((function(e){e.stop()})),O&&(re(),O=!1),N=!1,j=!1,M=!0,w=void 0,k=void 0,x=void 0,R=0,D=!1,L=!0,F=!1},destroy:function(e){return H.forEach((function(t){t.destroy(e)})),ee(e),V.length=0,H.length=0,E.length=0,ne(),O=!1,M=!0,_},keyframes:function(e){var t=E!==e;return E=e,t&&fe(E),_},addAnimation:function(e){if(null!=e)if(Array.isArray(e)){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.parent(_),H.push(r)}}catch(i){n.e(i)}finally{n.f()}}else e.parent(_),H.push(e);return _},addElement:function(e){if(null!=e)if(1===e.nodeType)V.push(e);else if(e.length>=0)for(var t=0;t<e.length;t++)V.push(e[t]);else console.error("Invalid addElement value");return _},update:ye,fill:function(e){return m=e,ye(!0),_},direction:function(e){return g=e,ye(!0),_},iterations:function(e){return v=e,ye(!0),_},duration:function(e){return Y||0!==e||(e=1),n=e,ye(!0),_},easing:function(e){return r=e,ye(!0),_},delay:function(e){return t=e,ye(!0),_},getWebAnimations:X,getKeyframes:function(){return E},getFill:oe,getDirection:ae,getDelay:le,getIterations:ce,getEasing:se,getDuration:ue,afterAddRead:function(e){return G.push(e),_},afterAddWrite:function(e){return K.push(e),_},afterClearStyles:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;P[r]=""}}catch(i){n.e(i)}finally{n.f()}return _},afterStyles:function(){return P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_},afterRemoveClass:function(e){return A=p(A,e),_},afterAddClass:function(e){return T=p(T,e),_},beforeAddRead:function(e){return $.push(e),_},beforeAddWrite:function(e){return q.push(e),_},beforeClearStyles:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;Z[r]=""}}catch(i){n.e(i)}finally{n.f()}return _},beforeStyles:function(){return Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_},beforeRemoveClass:function(e){return I=p(I,e),_},beforeAddClass:function(e){return C=p(C,e),_},onFinish:te,isRunning:function(){return 0!==R&&!F},progressStart:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return H.forEach((function(n){n.progressStart(e,t)})),be(),N=e,O||pe(),ye(!1,!0,t),_},progressStep:function(e){return H.forEach((function(t){t.progressStep(e)})),ve(e),_},progressEnd:function(e,t,n){return N=!1,H.forEach((function(r){r.progressEnd(e,t,n)})),void 0!==n&&(k=n),D=!1,L=!0,0===e?("reverse"===(w="reverse"===ae()?"normal":"reverse")&&(L=!1),Y?(ye(),ve(1-t)):(x=(1-t)*ue()*-1,ye(!1,!1))):1===e&&(Y?(ye(),ve(t)):(x=t*ue()*-1,ye(!1,!1))),void 0!==e&&(te((function(){k=void 0,w=void 0,x=void 0}),{oneTimeCallback:!0}),y||Se()),_}}}},3696:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r=function(e){return e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase())}},4324:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var r=n(7762),i=n(5671),o=n(3144),a=function(){function e(){(0,i.Z)(this,e),this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}return(0,o.Z)(e,[{key:"createGesture",value:function(e){var t;return new s(this,this.newID(),e.name,null!==(t=e.priority)&&void 0!==t?t:0,!!e.disableScroll)}},{key:"createBlocker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new u(this,this.newID(),e.disable,!!e.disableScroll)}},{key:"start",value:function(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}},{key:"capture",value:function(e,t,n){if(!this.start(e,t,n))return!1;var r=this.requestedStart,i=-1e4;if(r.forEach((function(e){i=Math.max(i,e)})),i===n){this.capturedId=t,r.clear();var o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return r.delete(t),!1}},{key:"release",value:function(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}},{key:"disableGesture",value:function(e,t){var n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}},{key:"enableGesture",value:function(e,t){var n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}},{key:"disableScroll",value:function(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(c)}},{key:"enableScroll",value:function(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(c)}},{key:"canStart",value:function(e){return void 0===this.capturedId&&!this.isDisabled(e)}},{key:"isCaptured",value:function(){return void 0!==this.capturedId}},{key:"isScrollDisabled",value:function(){return this.disabledScroll.size>0}},{key:"isDisabled",value:function(e){var t=this.disabledGestures.get(e);return!!(t&&t.size>0)}},{key:"newID",value:function(){return this.gestureId++,this.gestureId}}]),e}(),s=function(){function e(t,n,r,o,a){(0,i.Z)(this,e),this.id=n,this.name=r,this.disableScroll=a,this.priority=1e6*o+n,this.ctrl=t}return(0,o.Z)(e,[{key:"canStart",value:function(){return!!this.ctrl&&this.ctrl.canStart(this.name)}},{key:"start",value:function(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}},{key:"capture",value:function(){if(!this.ctrl)return!1;var e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}},{key:"release",value:function(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}},{key:"destroy",value:function(){this.release(),this.ctrl=void 0}}]),e}(),u=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.id=n,this.disable=r,this.disableScroll=o,this.ctrl=t}return(0,o.Z)(e,[{key:"block",value:function(){if(this.ctrl){if(this.disable){var e,t=(0,r.Z)(this.disable);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.ctrl.disableGesture(n,this.id)}}catch(i){t.e(i)}finally{t.f()}}this.disableScroll&&this.ctrl.disableScroll(this.id)}}},{key:"unblock",value:function(){if(this.ctrl){if(this.disable){var e,t=(0,r.Z)(this.disable);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.ctrl.enableGesture(n,this.id)}}catch(i){t.e(i)}finally{t.f()}}this.disableScroll&&this.ctrl.enableScroll(this.id)}}},{key:"destroy",value:function(){this.unblock(),this.ctrl=void 0}}]),e}(),c="backdrop-no-scroll",l=new a},972:function(e,t,n){"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:function(){return u},OVERLAY_BACK_BUTTON_PRIORITY:function(){return s},blockHardwareBackButton:function(){return o},startHardwareBackButton:function(){return a}});var r=n(4165),i=n(5861),o=function(){document.addEventListener("backbutton",(function(){}))},a=function(){var e=document,t=!1;e.addEventListener("backbutton",(function(){if(!t){var n=0,o=[],a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register:function(e,t){o.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(a);var s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===t||void 0===t?void 0:t.handler)){e.next=6;break}if(null==(n=t.handler(u))){e.next=6;break}return e.next=6,n;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){if(o.length>0){var e={priority:Number.MIN_SAFE_INTEGER,handler:function(){},id:-1};o.forEach((function(t){t.priority>=e.priority&&(e=t)})),t=!0,o=o.filter((function(t){return t.id!==e.id})),s(e).then((function(){return t=!1}))}};u()}}))},s=100,u=99},226:function(e,t,n){"use strict";n.d(t,{a:function(){return s},b:function(){return u},c:function(){return r},d:function(){return i},e:function(){return p},f:function(){return d},g:function(){return c},h:function(){return v},i:function(){return a},m:function(){return m},n:function(){return h},p:function(){return y},q:function(){return f},r:function(){return l},s:function(){return b},u:function(){return g}});var r=function(e,t){e.componentOnReady?e.componentOnReady().then((function(e){return t(e)})):l((function(){return t(e)}))},i=function(e){var t={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){e.hasAttribute(n)&&(null!==e.getAttribute(n)&&(t[n]=e.getAttribute(n)),e.removeAttribute(n))})),t},o=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],a=function(e,t){var n=o;return t&&t.length>0&&(n=n.filter((function(e){return!t.includes(e)}))),i(e,n)},s=function(e,t,n,r){var i;if("undefined"!==typeof window){var o=window,a=null===(i=null===o||void 0===o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(a){var s=a.get("_ael");if(s)return s(e,t,n,r);if(a._ael)return a._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},u=function(e,t,n,r){var i;if("undefined"!==typeof window){var o=window,a=null===(i=null===o||void 0===o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(a){var s=a.get("_rel");if(s)return s(e,t,n,r);if(a._rel)return a._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e.shadowRoot||t},l=function(e){return"function"===typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"===typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},f=function(e){return!!e.shadowRoot&&!!e.attachShadow},d=function(e){if(e.focus(),e.classList.contains("ion-focusable")){var t=e.closest("ion-app");t&&t.setFocus([e])}},h=function(e,t){var n,r=e.getAttribute("aria-labelledby"),i=e.id,o=null!==r&&""!==r.trim()?r:t+"-lbl",a=null!==r&&""!==r.trim()?document.getElementById(r):function(e){var t=e.closest("ion-item");return t?t.querySelector("ion-label"):null}(e);return a?(null===r&&(a.id=o),n=a.textContent,a.setAttribute("aria-hidden","true")):""!==i.trim()&&(a=document.querySelector('label[for="'.concat(i,'"]')))&&(""!==a.id?o=a.id:a.id=o="".concat(i,"-lbl"),n=a.textContent),{label:a,labelId:o,labelText:n}},p=function(e,t,n,r,i){if(e||f(t)){var o=t.querySelector("input.aux-input");o||((o=t.ownerDocument.createElement("input")).type="hidden",o.classList.add("aux-input"),t.appendChild(o)),o.disabled=i,o.name=n,o.value=r||""}},v=function(e,t,n){return Math.max(e,Math.min(t,n))},m=function(e,t){if(!e){var n="ASSERT: "+t;throw console.error(n),new Error(n)}},g=function(e){return e.timeStamp||Date.now()},y=function(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},b=function(e,t){if(null!==e&&void 0!==e||(e={}),null!==t&&void 0!==t||(t={}),e===t)return!0;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!(o in t))return!1;if(e[o]!==t[o])return!1}return!0}},550:function(e,t,n){"use strict";n.d(t,{b:function(){return s},c:function(){return u},d:function(){return c},g:function(){return I},l:function(){return x},s:function(){return E},t:function(){return l}});var r=n(4165),i=n(5861),o=n(2718),a=n(226),s="ionViewWillLeave",u="ionViewDidLeave",c="ionViewWillUnload",l=function(e){return new Promise((function(t,n){(0,o.Iu)((function(){f(e),d(e).then((function(n){n.animation&&n.animation.destroy(),h(e),t(n)}),(function(t){h(e),n(t)}))}))}))},f=function(e){var t=e.enteringEl,n=e.leavingEl;C(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),E(t,!1),t.style.setProperty("pointer-events","none"),n&&(E(n,!1),n.style.setProperty("pointer-events","none"))},d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:return n=e.sent,i=n&&o.Z5.isBrowser?v(n,t):m(t),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.leavingEl&&t.animated&&0!==t.duration){e.next=2;break}return e.abrupt("return",void 0);case 2:if(!t.animationBuilder){e.next=4;break}return e.abrupt("return",t.animationBuilder);case 4:if("ios"!==t.mode){e.next=10;break}return e.next=7,n.e(261).then(n.bind(n,8261));case 7:e.t0=e.sent.iosTransitionAnimation,e.next=13;break;case 10:return e.next=12,n.e(27).then(n.bind(n,6027));case 12:e.t0=e.sent.mdTransitionAnimation;case 13:return i=e.t0,e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n,!0);case 2:return i=t(n.baseEl,n),w(n.enteringEl,n.leavingEl),e.next=6,b(i,n);case 6:return o=e.sent,n.progressCallback&&n.progressCallback(void 0),o&&k(n.enteringEl,n.leavingEl),e.abrupt("return",{hasCompleted:o,animation:i});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enteringEl,i=t.leavingEl,e.next=4,g(t,!1);case 4:return w(n,i),k(n,i),e.abrupt("return",{hasCompleted:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0!==t.deepWait?t.deepWait:n,o=i?[_(t.enteringEl),_(t.leavingEl)]:[S(t.enteringEl),S(t.leavingEl)],e.next=4,Promise.all(o);case 4:return e.next=6,y(t.viewIsReady,t.enteringEl);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e,t){var n=t.progressCallback,r=new Promise((function(t){e.onFinish((function(e){return t(1===e)}))}));return n?(e.progressStart(!0),n(e)):e.play(),r},w=function(e,t){x(t,s),x(e,"ionViewWillEnter")},k=function(e,t){x(e,"ionViewDidEnter"),x(t,u)},x=function(e,t){if(e){var n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},S=function(e){return e?new Promise((function(t){return(0,a.c)(e,t)})):Promise.resolve()},_=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t)){e.next=17;break}if(null==n.componentOnReady){e.next=10;break}return e.next=5,n.componentOnReady();case 5:if(null==e.sent){e.next=8;break}return e.abrupt("return");case 8:e.next=15;break;case 10:if(null==n.__registerHost){e.next=15;break}return i=new Promise((function(e){return(0,a.r)(e)})),e.next=14,i;case 14:return e.abrupt("return");case 15:return e.next=17,Promise.all(Array.from(n.children).map(_));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(e,t){t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},C=function(e,t,n){void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},I=function(e){if(e.classList.contains("ion-page"))return e;var t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e}},8857:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r="undefined"!==typeof window?window:void 0},9723:function(e,t,n){"use strict";n.d(t,{a:function(){return r},b:function(){return o},p:function(){return i}});var r=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=console).warn.apply(t,["[Ionic Warning]: ".concat(e)].concat(r))},i=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=console).error.apply(t,["[Ionic Error]: ".concat(e)].concat(r))},o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console.error("<".concat(e.tagName.toLowerCase(),"> must be used inside ").concat(n.join(" or "),"."))}},2151:function(e,t,n){"use strict";n.d(t,{a:function(){return h},c:function(){return v},f:function(){return d},g:function(){return f},p:function(){return m},s:function(){return p}});var r=n(4165),i=n(5861),o=n(226),a=n(9723),s="ion-content",u=".ion-content-scroll-host",c="".concat(s,", ").concat(u),l=function(e){return"ION-CONTENT"===e.tagName},f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l(t)){e.next=4;break}return e.next=3,new Promise((function(e){return(0,o.c)(t,e)}));case 3:return e.abrupt("return",t.getScrollElement());case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(e){var t=e.querySelector(u);return t||e.querySelector(c)},h=function(e){return e.closest(c)},p=function(e,t){return l(e)?e.scrollToTop(t):Promise.resolve(e.scrollTo({top:0,left:0,behavior:t>0?"smooth":"auto"}))},v=function(e,t,n,r){return l(e)?e.scrollByPoint(t,n,r):Promise.resolve(e.scrollBy({top:n,left:t,behavior:r>0?"smooth":"auto"}))},m=function(e){return(0,a.b)(e,s)}},481:function(e,t,n){var r,i=n(9728).default,o=n(6690).default,a=n(1655).default,s=n(6389).default,u=n(3496).default,c=n(8416).default,l=n(4704).default,f=n(861).default;r=function(){return function(){"use strict";var e=[,function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=r;function h(){function e(e){var o=r;n=t=0,r=new Map,o.forEach((function(t){try{t(e)}catch(n){console.error(n)}})),this.Qa(),i&&i.nb()}var t=0,n=0,r=new Map,i=null,o=null;this.requestAnimationFrame=function(i){t||(t=requestAnimationFrame(e.bind(this)));var o=++n;return r.set(o,i),o},this.cancelAnimationFrame=function(e){r.delete(e),t&&0==r.size&&(cancelAnimationFrame(t),t=0)},this.lb=function(e){o&&(document.body.remove(o),o=null),e||((o=document.createElement("div")).style.backgroundColor="black",o.style.position="fixed",o.style.right=0,o.style.top=0,o.style.color="white",o.style.padding="4px",o.innerHTML="RIVE FPS",e=function(e){o.innerHTML="RIVE FPS "+e.toFixed(1)},document.body.appendChild(o)),i=new function(){var t=0,n=0;this.nb=function(){var r=performance.now();n?(++t,1e3<(r-=n)&&(e(1e3*t/r),t=n=0)):(n=r,t=0)}}},this.ib=function(){o&&(document.body.remove(o),o=null),i=null},this.Qa=function(){}}function p(e){console.assert(!0);var t=new Map,n=-1/0;this.push=function(r){return r=r+((1<<e)-1)>>e,t.has(r)&&clearTimeout(t.get(r)),t.set(r,setTimeout((function(){t.delete(r),0==t.length?n=-1/0:r==n&&(n=Math.max.apply(Math,f(t.keys())),console.assert(n<r))}),1e3)),(n=Math.max(r,n))<<e}}d.ready=new Promise((function(e,r){t=e,n=r}));var v=new function(){function e(){if(!t){var e=function(e,t,n){if(t=u.createShader(t),u.shaderSource(t,n),u.compileShader(t),0<(n=u.getShaderInfoLog(t)).length)throw n;u.attachShader(e,t)},a=document.createElement("canvas"),s={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1},u=a.getContext("webgl2",s);if(u)n=2;else{if(!(u=a.getContext("webgl",s)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;n=1}if(r=Math.min(u.getParameter(u.MAX_RENDERBUFFER_SIZE),u.getParameter(u.MAX_TEXTURE_SIZE)),e(a=u.createProgram(),u.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }"),e(a,u.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }"),u.bindAttribLocation(a,0,"vertex"),u.bindAttribLocation(a,1,"uv"),u.linkProgram(a),0<(s=u.getProgramInfoLog(a)).trim().length)throw s;i=u.getUniformLocation(a,"mat"),o=u.getUniformLocation(a,"translate"),u.useProgram(a),u.bindBuffer(u.ARRAY_BUFFER,u.createBuffer()),u.enableVertexAttribArray(0),u.enableVertexAttribArray(1),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,u.createBuffer()),u.uniform1i(u.getUniformLocation(a,"image"),0),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=u}return!0}var t=null,n=0,r=0,i=null,o=null,a=0,s=0;this.wb=function(){return e(),r},this.gb=function(r){if(!e())return null;var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),2==n?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),i};var u=new p(8),c=new p(8),f=new p(10),d=new p(10);this.kb=function(n,r,h,p,v){if(e()){var m=u.push(n),g=c.push(r);t.canvas.width==m&&t.canvas.height==g||(t.canvas.width=m,t.canvas.height=g),t.viewport(0,g-r,n,r),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),h.sort((function(e,t){return t.Ua-e.Ua})),m=f.push(p),a!=m&&(t.bufferData(t.ARRAY_BUFFER,8*m,t.DYNAMIC_DRAW),a=m),m=0;var y,b=l(h);try{for(b.s();!(y=b.n()).done;){var w=y.value;t.bufferSubData(t.ARRAY_BUFFER,m,w.Da),m+=4*w.Da.length}}catch(A){b.e(A)}finally{b.f()}console.assert(m==4*p);var k,x=l(h);try{for(x.s();!(k=x.n()).done;){var S=k.value;t.bufferSubData(t.ARRAY_BUFFER,m,S.Xa),m+=4*S.Xa.length}}catch(A){x.e(A)}finally{x.f()}console.assert(m==8*p),m=d.push(v),s!=m&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*m,t.DYNAMIC_DRAW),s=m),w=0;var _,E=l(h);try{for(E.s();!(_=E.n()).done;){var C=_.value;t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,w,C.indices),w+=2*C.indices.length}}catch(A){E.e(A)}finally{E.f()}console.assert(w==2*v),C=0,S=!0,m=w=0;var I,O=l(h);try{for(O.s();!(I=O.n()).done;){var Z=I.value;Z.image.za!=C&&(t.bindTexture(t.TEXTURE_2D,Z.image.cb||null),C=Z.image.za),Z.zb?(t.scissor(Z.Ia,g-Z.Ja-Z.Pa,Z.Gb,Z.Pa),S=!0):S&&(t.scissor(0,g-r,n,r),S=!1),h=2/n;var T=-2/r;t.uniform4f(i,Z.oa[0]*h*Z.va,Z.oa[1]*T*Z.wa,Z.oa[2]*h*Z.va,Z.oa[3]*T*Z.wa),t.uniform2f(o,Z.oa[4]*h*Z.va+h*(Z.Ia-Z.xb*Z.va)-1,Z.oa[5]*T*Z.wa+T*(Z.Ja-Z.yb*Z.wa)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,m),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,m+4*p),t.drawElements(t.TRIANGLES,Z.indices.length,t.UNSIGNED_SHORT,w),m+=4*Z.Da.length,w+=2*Z.indices.length}}catch(A){O.e(A)}finally{O.f()}console.assert(m==4*p),console.assert(w==2*v)}},this.canvas=function(){return e()&&t.canvas}};d.onRuntimeInitialized=function(){function e(e){switch(e){case c.srcOver:return"source-over";case c.screen:return"screen";case c.overlay:return"overlay";case c.darken:return"darken";case c.lighten:return"lighten";case c.colorDodge:return"color-dodge";case c.colorBurn:return"color-burn";case c.hardLight:return"hard-light";case c.softLight:return"soft-light";case c.difference:return"difference";case c.exclusion:return"exclusion";case c.multiply:return"multiply";case c.hue:return"hue";case c.saturation:return"saturation";case c.color:return"color";case c.luminosity:return"luminosity"}}function t(e){return"rgba("+((16711680&e)>>>16)+","+((65280&e)>>>8)+","+((255&e)>>>0)+","+((4278190080&e)>>>24)/255+")"}function n(){0<_.length&&(v.kb(S.drawWidth(),S.drawHeight(),_,E,C),_=[],C=E=0,S.reset(512,512));var e,t=l(x);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=l(r.da);try{for(i.s();!(n=i.n()).done;)(0,n.value)()}catch(o){i.e(o)}finally{i.f()}r.da=[]}}catch(o){t.e(o)}finally{t.f()}x.clear()}var r=d.RenderPaintStyle,i=d.RenderPath,o=d.RenderPaint,a=d.Renderer,s=d.StrokeCap,u=d.StrokeJoin,c=d.BlendMode,p=r.fill,m=r.stroke,g=d.FillRule.evenOdd,y=1,b=d.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.za=y,y=y+1&2147483647||1},decode:function(e){var t=Z;t.total++;var n=this,r=new Image;r.src=URL.createObjectURL(new Blob([e],{type:"image/png"})),r.onload=function(){if(n.ab=r,n.cb=v.gb(r),n.size(r.width,r.height),t.loaded++,t.loaded===t.total){var e=t.ready;e&&(e(),t.ready=null)}}}}),w=i.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ia=new Path2D},rewind:function(){this.ia=new Path2D},addPath:function(e,t,n,r,i,o,a){var s=this.ia,u=s.addPath;e=e.ia;var c=new DOMMatrix;c.a=t,c.b=n,c.c=r,c.d=i,c.e=o,c.f=a,u.call(s,e,c)},fillRule:function(e){this.Ga=e},moveTo:function(e,t){this.ia.moveTo(e,t)},lineTo:function(e,t){this.ia.lineTo(e,t)},cubicTo:function(e,t,n,r,i,o){this.ia.bezierCurveTo(e,t,n,r,i,o)},close:function(){this.ia.closePath()}}),k=o.extend("CanvasRenderPaint",{color:function(e){this.Ha=t(e)},thickness:function(e){this.eb=e},join:function(e){switch(e){case u.miter:this.ya="miter";break;case u.round:this.ya="round";break;case u.bevel:this.ya="bevel"}},cap:function(e){switch(e){case s.butt:this.xa="butt";break;case s.round:this.xa="round";break;case s.square:this.xa="square"}},style:function(e){this.bb=e},blendMode:function(t){this.$a=e(t)},clearGradient:function(){this.qa=null},linearGradient:function(e,t,n,r){this.qa={Va:e,Wa:t,La:n,Ma:r,Ca:[]}},radialGradient:function(e,t,n,r){this.qa={Va:e,Wa:t,La:n,Ma:r,Ca:[],ub:!0}},addStop:function(e,t){this.qa.Ca.push({color:e,stop:t})},completeGradient:function(){},draw:function(e,n,r){var i=this.bb,o=this.Ha,a=this.qa;if(e.globalCompositeOperation=this.$a,null!=a){o=a.Va;var s=a.Wa,u=a.La,c=a.Ma,l=a.Ca;a.ub?(a=u-o,c-=s,o=e.createRadialGradient(o,s,0,o,s,Math.sqrt(a*a+c*c))):o=e.createLinearGradient(o,s,u,c);for(var f=0,d=l.length;f<d;f++)s=l[f],o.addColorStop(s.stop,t(s.color));this.Ha=o,this.qa=null}switch(i){case m:e.strokeStyle=o,e.lineWidth=this.eb,e.lineCap=this.xa,e.lineJoin=this.ya,e.stroke(n);break;case p:e.fillStyle=o,e.fill(n,r)}}}),x=new Set,S=null,_=[],E=0,C=0,I=d.CanvasRenderer=a.extend("Renderer",{__construct:function(e){this.__parent.__construct.call(this),this.ha=[1,0,0,1,0,0],this.ba=e.getContext("2d"),this.Fa=e,this.da=[]},save:function(){var e;(e=this.ha).push.apply(e,f(this.ha.slice(this.ha.length-6))),this.da.push(this.ba.save.bind(this.ba))},restore:function(){var e=this.ha.length-6;if(6>e)throw"restore() called without matching save().";this.ha.splice(e),this.da.push(this.ba.restore.bind(this.ba))},transform:function(e,t,n,r,i,o){var a=this.ha,s=a.length-6;a.splice(s,6,a[s]*e+a[s+2]*t,a[s+1]*e+a[s+3]*t,a[s]*n+a[s+2]*r,a[s+1]*n+a[s+3]*r,a[s]*i+a[s+2]*o+a[s+4],a[s+1]*i+a[s+3]*o+a[s+5]),this.da.push(this.ba.transform.bind(this.ba,e,t,n,r,i,o))},rotate:function(e){var t=Math.sin(e);e=Math.cos(e),this.transform(e,t,-t,e,0,0)},_drawPath:function(e,t){this.da.push(t.draw.bind(t,this.ba,e.ia,e.Ga===g?"evenodd":"nonzero"))},drawImage:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this.ba;this.da.push((function(){i.drawImage.apply(i,[e].concat(n))}))},_drawRiveImage:function(t,n,r){var i=t.ab;if(i){var o=this.ba,a=e(n);this.da.push((function(){o.globalCompositeOperation=a,o.globalAlpha=r,o.drawImage(i,0,0),o.globalAlpha=1}))}},_getMatrix:function(e){for(var t=this.ha,n=t.length-6,r=0;6>r;++r)e[r]=t[n+r]},_drawImageMesh:function(t,r,i,o,a,s,u,c,l,f){var h=this.ba.canvas.width,p=this.ba.canvas.height,m=l-u,g=f-c;u=Math.max(u,0),c=Math.max(c,0),l=Math.min(l,h),f=Math.min(f,p);var y=l-u,b=f-c;if(console.assert(y<=Math.min(m,h)),console.assert(b<=Math.min(g,p)),!(0>=y||0>=b)){l=y<m||b<g,h=f=1;var w=Math.ceil(y*f),k=Math.ceil(b*h);p=v.wb(),w>p&&(f*=p/w,w=p),k>p&&(h*=p/k,k=p),S||(S=new d.DynamicRectanizer(p)).reset(512,512),0>(p=S.addRect(w,k))&&(n(),x.add(this),p=S.addRect(w,k),console.assert(0<=p));var I=65535&p,O=p>>16;_.push({oa:this.ha.slice(this.ha.length-6),image:t,Ia:I,Ja:O,xb:u,yb:c,Gb:w,Pa:k,va:f,wa:h,Da:new Float32Array(o),Xa:new Float32Array(a),indices:new Uint16Array(s),zb:l,Ua:t.za<<1|(l?1:0)}),E+=o.length,C+=s.length;var Z=this.ba,T=e(r);this.da.push((function(){Z.save(),Z.resetTransform(),Z.globalCompositeOperation=T,Z.globalAlpha=i,Z.drawImage(v.canvas(),I,O,w,k,u,c,y,b),Z.restore()}))}},_clipPath:function(e){this.da.push(this.ba.clip.bind(this.ba,e.ia,e.Ga===g?"evenodd":"nonzero"))},clear:function(){x.add(this),this.da.push(this.ba.clearRect.bind(this.ba,0,0,this.Fa.width,this.Fa.height))},flush:function(){},translate:function(e,t){this.transform(1,0,0,1,e,t)}});d.makeRenderer=function(e){return new I(e)},d.renderFactory={makeRenderPaint:function(){return new k},makeRenderPath:function(){return new w},makeRenderImage:function(){return new b}};var O=d.load,Z=null;d.load=function(e){return new Promise((function(t){var n=null;Z={total:0,loaded:0,ready:function(){t(n)}},n=O(e),0==Z.total&&t(n)}))},r=new h,d.requestAnimationFrame=r.requestAnimationFrame.bind(r),d.cancelAnimationFrame=r.cancelAnimationFrame.bind(r),d.enableFPSCounter=r.lb.bind(r),d.disableFPSCounter=r.ib,r.Qa=n,d.cleanup=function(){S&&S.delete()}};var m,g,y=Object.assign({},d),b="./this.program",w="object"==typeof window,k="function"==typeof importScripts,x="";(w||k)&&(k?x=self.location.href:"undefined"!=typeof document&&document.currentScript&&(x=document.currentScript.src),e&&(x=e),x=0!==x.indexOf("blob:")?x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):"",k&&(g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),m=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var S,_=d.print||console.log.bind(console),E=d.printErr||console.error.bind(console);Object.assign(d,y),y=null,d.thisProgram&&(b=d.thisProgram),d.wasmBinary&&(S=d.wasmBinary),d.noExitRuntime,"object"!=typeof WebAssembly&&q("no native wasm support detected");var C,I,O,Z,T,A,P,R,N,j,L=!1;function D(){var e=C.buffer;d.HEAP8=O=new Int8Array(e),d.HEAP16=T=new Int16Array(e),d.HEAP32=P=new Int32Array(e),d.HEAPU8=Z=new Uint8Array(e),d.HEAPU16=A=new Uint16Array(e),d.HEAPU32=R=new Uint32Array(e),d.HEAPF32=N=new Float32Array(e),d.HEAPF64=j=new Float64Array(e)}var M,F=[],B=[],U=[];function z(){var e=d.preRun.shift();F.unshift(e)}var V,H=0,W=null,$=null;function q(e){throw d.onAbort&&d.onAbort(e),E(e="Aborted("+e+")"),L=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function G(e){return e.startsWith("data:application/octet-stream;base64,")}if(!G(V="canvas_advanced.wasm")){var K=V;V=d.locateFile?d.locateFile(K,x):x+K}function Q(e){if(e==V&&S)return new Uint8Array(S);if(g)return g(e);throw"both async and sync fetching of the wasm failed"}function J(e,t,n){return function(e){if(!S&&(w||k)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((function(){return Q(e)}));if(m)return new Promise((function(t,n){m(e,(function(e){return t(new Uint8Array(e))}),n)}))}return Promise.resolve().then((function(){return Q(e)}))}(e).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(e){return e})).then(n,(function(e){E("failed to asynchronously prepare wasm: "+e),q(e)}))}var Y=function(e){for(;0<e.length;)e.shift()(d)};function X(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_".concat(e):e}function ee(e,t){return e=X(e),c({},e,(function(){return t.apply(this,arguments)}))[e]}function te(){this.ja=[void 0],this.Oa=[]}var ne=new te,re=void 0;function ie(e){throw new re(e)}var oe=function(e){return e||ie("Cannot use deleted val. handle = "+e),ne.get(e).value},ae=function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ne.Ya({Ta:1,value:e})}};function se(e){var t=Error,n=ee(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:"".concat(this.name,": ").concat(this.message)},n}var ue=void 0,ce=void 0;function le(e){for(var t="";Z[e];)t+=ce[Z[e++]];return t}var fe=[];function de(){for(;fe.length;){var e=fe.pop();e.W.na=!1,e.delete()}}var he=void 0,pe={};function ve(e,t){for(void 0===t&&ie("ptr should not be undefined");e.$;)t=e.ra(t),e=e.$;return t}var me={};function ge(e){var t=le(e=It(e));return Et(e),t}function ye(e,t){var n=me[e];return void 0===n&&ie(t+" has unknown type "+ge(e)),n}function be(){}var we=!1;function ke(e){--e.count.value,0===e.count.value&&(e.ca?e.fa.ka(e.ca):e.Z.X.ka(e.Y))}function xe(e,t,n){return t===n?e:void 0===n.$||null===(e=xe(e,t,n.$))?null:n.jb(e)}var Se={},_e=void 0;function Ee(e){throw new _e(e)}function Ce(e,t){return t.Z&&t.Y||Ee("makeClassHandle requires ptr and ptrType"),!!t.fa!==!!t.ca&&Ee("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ie(Object.create(e,{W:{value:t}}))}function Ie(e){return"undefined"===typeof FinalizationRegistry?(Ie=function(e){return e},e):(we=new FinalizationRegistry((function(e){ke(e.W)})),be=function(e){we.unregister(e)},(Ie=function(e){var t=e.W;return t.ca&&we.register(e,{W:t},e),e})(e))}var Oe={};function Ze(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Te(e){return this.fromWireType(P[e>>2])}var Ae={},Pe={};function Re(e,t,n){function r(t){(t=n(t)).length!==e.length&&Ee("Mismatched type converter count");for(var r=0;r<e.length;++r)je(e[r],t[r])}e.forEach((function(e){Pe[e]=t}));var i=Array(t.length),o=[],a=0;t.forEach((function(e,t){me.hasOwnProperty(e)?i[t]=me[e]:(o.push(e),Ae.hasOwnProperty(e)||(Ae[e]=[]),Ae[e].push((function(){i[t]=me[e],++a===o.length&&r(i)})))})),0===o.length&&r(i)}function Ne(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: ".concat(e))}}function je(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.name;if(e||ie('type "'.concat(r,'" must have a positive integer typeid pointer')),me.hasOwnProperty(e)){if(n.tb)return;ie("Cannot register type '".concat(r,"' twice"))}me[e]=t,delete Pe[e],Ae.hasOwnProperty(e)&&(t=Ae[e],delete Ae[e],t.forEach((function(e){return e()})))}(e,t,n)}function Le(e){ie(e.W.Z.X.name+" instance already deleted")}function De(){}function Me(e,t,n){if(void 0===e[t].aa){var r=e[t];e[t]=function(){return e[t].aa.hasOwnProperty(arguments.length)||ie("Function '".concat(n,"' called with an invalid number of arguments (").concat(arguments.length,") - expects one of (").concat(e[t].aa,")!")),e[t].aa[arguments.length].apply(this,arguments)},e[t].aa=[],e[t].aa[r.ma]=r}}function Fe(e,t,n){d.hasOwnProperty(e)?((void 0===n||void 0!==d[e].aa&&void 0!==d[e].aa[n])&&ie("Cannot register public name '".concat(e,"' twice")),Me(d,e,e),d.hasOwnProperty(n)&&ie("Cannot register multiple overloads of a function with the same number of arguments (".concat(n,")!")),d[e].aa[n]=t):(d[e]=t,void 0!==n&&(d[e].Hb=n))}function Be(e,t,n,r,i,o,a,s){this.name=e,this.constructor=t,this.ga=n,this.ka=r,this.$=i,this.ob=o,this.ra=a,this.jb=s,this.Ra=[]}function Ue(e,t,n){for(;t!==n;)t.ra||ie("Expected null or instance of ".concat(n.name,", got an instance of ").concat(t.name)),e=t.ra(e),t=t.$;return e}function ze(e,t){return null===t?(this.Aa&&ie("null is not a valid ".concat(this.name)),0):(t.W||ie('Cannot pass "'.concat(tt(t),'" as a ').concat(this.name)),t.W.Y||ie("Cannot pass deleted object as a pointer of type ".concat(this.name)),Ue(t.W.Y,t.W.Z.X,this.X))}function Ve(e,t){if(null===t){if(this.Aa&&ie("null is not a valid ".concat(this.name)),this.ua){var n=this.Ba();return null!==e&&e.push(this.ka,n),n}return 0}if(t.W||ie('Cannot pass "'.concat(tt(t),'" as a ').concat(this.name)),t.W.Y||ie("Cannot pass deleted object as a pointer of type ".concat(this.name)),!this.ta&&t.W.Z.ta&&ie("Cannot convert argument of type ".concat(t.W.fa?t.W.fa.name:t.W.Z.name," to parameter type ").concat(this.name)),n=Ue(t.W.Y,t.W.Z.X,this.X),this.ua)switch(void 0===t.W.ca&&ie("Passing raw pointer to smart pointer is illegal"),this.Fb){case 0:t.W.fa===this?n=t.W.ca:ie("Cannot convert argument of type ".concat(t.W.fa?t.W.fa.name:t.W.Z.name," to parameter type ").concat(this.name));break;case 1:n=t.W.ca;break;case 2:if(t.W.fa===this)n=t.W.ca;else{var r=t.clone();n=this.Bb(n,ae((function(){r.delete()}))),null!==e&&e.push(this.ka,n)}break;default:ie("Unsupporting sharing policy")}return n}function He(e,t){return null===t?(this.Aa&&ie("null is not a valid ".concat(this.name)),0):(t.W||ie('Cannot pass "'.concat(tt(t),'" as a ').concat(this.name)),t.W.Y||ie("Cannot pass deleted object as a pointer of type ".concat(this.name)),t.W.Z.ta&&ie("Cannot convert argument of type ".concat(t.W.Z.name," to parameter type ").concat(this.name)),Ue(t.W.Y,t.W.Z.X,this.X))}function We(e,t,n,r){this.name=e,this.X=t,this.Aa=n,this.ta=r,this.ua=!1,this.ka=this.Bb=this.Ba=this.Sa=this.Fb=this.Ab=void 0,void 0!==t.$?this.toWireType=Ve:(this.toWireType=r?ze:He,this.ea=null)}function $e(e,t,n){d.hasOwnProperty(e)||Ee("Replacing nonexistant public symbol"),void 0!==d[e].aa&&void 0!==n?d[e].aa[n]=t:(d[e]=t,d[e].ma=n)}function qe(e,t){var n=(e=le(e)).includes("j")?function(e,t){var n=[];return function(){if(n.length=0,Object.assign(n,arguments),e.includes("j")){var r=d["dynCall_"+e];r=n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}else r=M.get(t).apply(null,n);return r}}(e,t):M.get(t);return"function"!=typeof n&&ie("unknown function pointer with signature ".concat(e,": ").concat(t)),n}var Ge=void 0;function Ke(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||me[t]||(Pe[t]?Pe[t].forEach(e):(n.push(t),r[t]=!0))})),new Ge("".concat(e,": ")+n.map(ge).join([", "]))}function Qe(e,t,n,r,i){var o=t.length;2>o&&ie("argTypes array size mismatch! Must at least get return value and 'this' types!");var a=null!==t[1]&&null!==n,s=!1;for(n=1;n<t.length;++n)if(null!==t[n]&&void 0===t[n].ea){s=!0;break}var u="void"!==t[0].name,c=o-2,l=Array(c),f=[],d=[];return function(){if(arguments.length!==c&&ie("function ".concat(e," called with ").concat(arguments.length," arguments, expected ").concat(c," args!")),d.length=0,f.length=a?2:1,f[0]=i,a){var n=t[1].toWireType(d,this);f[1]=n}for(var o=0;o<c;++o)l[o]=t[o+2].toWireType(d,arguments[o]),f.push(l[o]);if(o=r.apply(null,f),s)Ze(d);else for(var h=a?1:2;h<t.length;h++){var p=1===h?n:l[h-2];null!==t[h].ea&&t[h].ea(p)}return n=u?t[0].fromWireType(o):void 0}}function Je(e,t){for(var n=[],r=0;r<e;r++)n.push(R[t+4*r>>2]);return n}function Ye(e,t,n){return e instanceof Object||ie("".concat(n,' with invalid "this": ').concat(e)),e instanceof t.X.constructor||ie("".concat(n,' incompatible with "this" of type ').concat(e.constructor.name)),e.W.Y||ie("cannot call emscripten binding method ".concat(n," on deleted object")),Ue(e.W.Y,e.W.Z.X,t.X)}function Xe(e){e>=ne.Ea&&0===--ne.get(e).Ta&&ne.Za(e)}function et(e,t,n){switch(t){case 0:return function(e){return this.fromWireType((n?O:Z)[e])};case 1:return function(e){return this.fromWireType((n?T:A)[e>>1])};case 2:return function(e){return this.fromWireType((n?P:R)[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function tt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function nt(e,t){switch(t){case 2:return function(e){return this.fromWireType(N[e>>2])};case 3:return function(e){return this.fromWireType(j[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function rt(e,t,n){switch(t){case 0:return n?function(e){return O[e]}:function(e){return Z[e]};case 1:return n?function(e){return T[e>>1]}:function(e){return A[e>>1]};case 2:return n?function(e){return P[e>>2]}:function(e){return R[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var it="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,ot=function(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&it)return it.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var o=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|o);else{var a=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|o<<6|a:(7&i)<<18|o<<12|a<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r},at="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0,st=function(e,t){for(var n=e>>1,r=n+t/2;!(n>=r)&&A[n];)++n;if(32<(n<<=1)-e&&at)return at.decode(Z.subarray(e,n));for(n="",r=0;!(r>=t/2);++r){var i=T[e+2*r>>1];if(0==i)break;n+=String.fromCharCode(i)}return n},ut=function(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var i=0;i<n;++i)T[t>>1]=e.charCodeAt(i),t+=2;return T[t>>1]=0,t-r},ct=function(e){return 2*e.length},lt=function(e,t){for(var n=0,r="";!(n>=t/4);){var i=P[e+4*n>>2];if(0==i)break;++n,65536<=i?(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i)):r+=String.fromCharCode(i)}return r},ft=function(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i)),P[t>>2]=o,(t+=4)+4>n)break}return P[t>>2]=0,t-r},dt=function(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t},ht={};function pt(e){var t=ht[e];return void 0===t?le(e):t}var vt,mt=[],gt=[],yt={},bt=function(){if(!vt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(e in yt)void 0===yt[e]?delete t[e]:t[e]=yt[e];var n=[];for(e in t)n.push("".concat(e,"=").concat(t[e]));vt=n}return vt},wt=[null,[],[]];Object.assign(te.prototype,{get:function(e){return this.ja[e]},has:function(e){return void 0!==this.ja[e]},Ya:function(e){var t=this.Oa.pop()||this.ja.length;return this.ja[t]=e,t},Za:function(e){this.ja[e]=void 0,this.Oa.push(e)}}),re=d.BindingError=function(e){a(n,e);var t=s(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).name="BindingError",r}return i(n)}(u(Error)),ne.ja.push({value:void 0},{value:null},{value:!0},{value:!1}),ne.Ea=ne.ja.length,d.count_emval_handles=function(){for(var e=0,t=ne.Ea;t<ne.ja.length;++t)void 0!==ne.ja[t]&&++e;return e},ue=d.PureVirtualError=se("PureVirtualError");for(var kt=Array(256),xt=0;256>xt;++xt)kt[xt]=String.fromCharCode(xt);ce=kt,d.getInheritedInstanceCount=function(){return Object.keys(pe).length},d.getLiveInheritedInstances=function(){var e,t=[];for(e in pe)pe.hasOwnProperty(e)&&t.push(pe[e]);return t},d.flushPendingDeletes=de,d.setDelayFunction=function(e){he=e,fe.length&&he&&he(de)},_e=d.InternalError=function(e){a(n,e);var t=s(n);function n(e){var r;return o(this,n),(r=t.call(this,e)).name="InternalError",r}return i(n)}(u(Error)),De.prototype.isAliasOf=function(e){if(!(this instanceof De&&e instanceof De))return!1;var t=this.W.Z.X,n=this.W.Y,r=e.W.Z.X;for(e=e.W.Y;t.$;)n=t.ra(n),t=t.$;for(;r.$;)e=r.ra(e),r=r.$;return t===r&&n===e},De.prototype.clone=function(){if(this.W.Y||Le(this),this.W.pa)return this.W.count.value+=1,this;var e=Ie,t=Object,n=t.create,r=Object.getPrototypeOf(this),i=this.W;return(e=e(n.call(t,r,{W:{value:{count:i.count,na:i.na,pa:i.pa,Y:i.Y,Z:i.Z,ca:i.ca,fa:i.fa}}}))).W.count.value+=1,e.W.na=!1,e},De.prototype.delete=function(){this.W.Y||Le(this),this.W.na&&!this.W.pa&&ie("Object already scheduled for deletion"),be(this),ke(this.W),this.W.pa||(this.W.ca=void 0,this.W.Y=void 0)},De.prototype.isDeleted=function(){return!this.W.Y},De.prototype.deleteLater=function(){return this.W.Y||Le(this),this.W.na&&!this.W.pa&&ie("Object already scheduled for deletion"),fe.push(this),1===fe.length&&he&&he(de),this.W.na=!0,this},We.prototype.pb=function(e){return this.Sa&&(e=this.Sa(e)),e},We.prototype.Ka=function(e){this.ka&&this.ka(e)},We.prototype.argPackAdvance=8,We.prototype.readValueFromPointer=Te,We.prototype.deleteObject=function(e){null!==e&&e.delete()},We.prototype.fromWireType=function(e){function t(){return this.ua?Ce(this.X.ga,{Z:this.Ab,Y:n,fa:this,ca:e}):Ce(this.X.ga,{Z:this,Y:e})}var n=this.pb(e);if(!n)return this.Ka(e),null;var r=function(e,t){return t=ve(e,t),pe[t]}(this.X,n);if(void 0!==r)return 0===r.W.count.value?(r.W.Y=n,r.W.ca=e,r.clone()):(r=r.clone(),this.Ka(e),r);if(r=this.X.ob(n),!(r=Se[r]))return t.call(this);r=this.ta?r.fb:r.pointerType;var i=xe(n,this.X,r.X);return null===i?t.call(this):this.ua?Ce(r.X.ga,{Z:r,Y:i,fa:this,ca:e}):Ce(r.X.ga,{Z:r,Y:i})},Ge=d.UnboundTypeError=se("UnboundTypeError");var St={I:function(e,t,n){e=le(e),t=ye(t,"wrapper"),n=oe(n);var r=[].slice,i=t.X,o=i.ga,a=i.$.ga,s=i.$.constructor;for(var u in e=ee(e,(function(){i.$.Ra.forEach(function(e){if(this[e]===a[e])throw new ue("Pure virtual function ".concat(e," must be implemented in JavaScript"))}.bind(this)),Object.defineProperty(this,"__parent",{value:o}),this.__construct.apply(this,r.call(arguments))})),o.__construct=function(){this===o&&ie("Pass correct 'this' to __construct");var e=s.implement.apply(void 0,[this].concat(r.call(arguments)));be(e);var t=e.W;e.notifyOnDestruction(),t.pa=!0,Object.defineProperties(this,{W:{value:t}}),Ie(this),e=t.Y,e=ve(i,e),pe.hasOwnProperty(e)?ie("Tried to register registered instance: ".concat(e)):pe[e]=this},o.__destruct=function(){this===o&&ie("Pass correct 'this' to __destruct"),be(this);var e=this.W.Y;e=ve(i,e),pe.hasOwnProperty(e)?delete pe[e]:ie("Tried to unregister unregistered instance: ".concat(e))},e.prototype=Object.create(o),n)e.prototype[u]=n[u];return ae(e)},L:function(e){var t=Oe[e];delete Oe[e];var n=t.Ba,r=t.ka,i=t.Na;Re([e],i.map((function(e){return e.sb})).concat(i.map((function(e){return e.Db}))),(function(e){var o={};return i.forEach((function(t,n){var r=e[n],a=t.qb,s=t.rb,u=e[n+i.length],c=t.Cb,l=t.Eb;o[t.mb]={read:function(e){return r.fromWireType(a(s,e))},write:function(e,t){var n=[];c(l,e,u.toWireType(n,t)),Ze(n)}}})),[{name:t.name,fromWireType:function(e){var t,n={};for(t in o)n[t]=o[t].read(e);return r(e),n},toWireType:function(e,t){for(var i in o)if(!(i in t))throw new TypeError('Missing field: "'.concat(i,'"'));var a=n();for(i in o)o[i].write(a,t[i]);return null!==e&&e.push(r,a),a},argPackAdvance:8,readValueFromPointer:Te,ea:r}]}))},z:function(){},G:function(e,t,n,r,i){var o=Ne(n);je(e,{name:t=le(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var r=O;else if(2===n)r=T;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=P}return this.fromWireType(r[e>>o])},ea:null})},e:function(e,t,n,r,i,o,a,s,u,c,l,f,d){l=le(l),o=qe(i,o),s&&(s=qe(a,s)),c&&(c=qe(u,c)),d=qe(f,d);var h=X(l);Fe(h,(function(){Ke("Cannot construct ".concat(l," due to unbound types"),[r])})),Re([e,t,n],r?[r]:[],(function(t){if(t=t[0],r)var n=t.X,i=n.ga;else i=De.prototype;t=ee(h,(function(){if(Object.getPrototypeOf(this)!==a)throw new re("Use 'new' to construct "+l);if(void 0===u.la)throw new re(l+" has no accessible constructor");var e=u.la[arguments.length];if(void 0===e)throw new re("Tried to invoke ctor of ".concat(l," with invalid number of parameters (").concat(arguments.length,") - expected (").concat(Object.keys(u.la).toString(),") parameters instead!"));return e.apply(this,arguments)}));var a=Object.create(i,{constructor:{value:t}});t.prototype=a;var u=new Be(l,t,a,d,n,o,s,c);u.$&&(void 0===u.$.sa&&(u.$.sa=[]),u.$.sa.push(u)),n=new We(l,u,!0,!1),i=new We(l+"*",u,!1,!1);var f=new We(l+" const*",u,!1,!0);return Se[e]={pointerType:i,fb:f},$e(h,t),[n,i,f]}))},k:function(e,t,n,r,i,o,a){var s=Je(n,r);t=le(t),o=qe(i,o),Re([],[e],(function(e){function r(){Ke("Cannot call ".concat(i," due to unbound types"),s)}e=e[0];var i="".concat(e.name,".").concat(t);t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var u=e.X.constructor;return void 0===u[t]?(r.ma=n-1,u[t]=r):(Me(u,t,i),u[t].aa[n-1]=r),Re([],s,(function(r){if(r=Qe(i,[r[0],null].concat(r.slice(1)),null,o,a),void 0===u[t].aa?(r.ma=n-1,u[t]=r):u[t].aa[n-1]=r,e.X.sa){var s,c=l(e.X.sa);try{for(c.s();!(s=c.n()).done;){var f=s.value;f.constructor.hasOwnProperty(t)||(f.constructor[t]=r)}}catch(d){c.e(d)}finally{c.f()}}return[]})),[]}))},s:function(e,t,n,r,i,o,a,s){t=le(t),o=qe(i,o),Re([],[e],(function(e){e=e[0];var i="".concat(e.name,".").concat(t),u={get:function(){Ke("Cannot access ".concat(i," due to unbound types"),[n])},enumerable:!0,configurable:!0};return u.set=s?function(){Ke("Cannot access ".concat(i," due to unbound types"),[n])}:function(){ie("".concat(i," is a read-only property"))},Object.defineProperty(e.X.constructor,t,u),Re([],[n],(function(n){n=n[0];var i={get:function(){return n.fromWireType(o(r))},enumerable:!0};return s&&(s=qe(a,s),i.set=function(e){var t=[];s(r,n.toWireType(t,e)),Ze(t)}),Object.defineProperty(e.X.constructor,t,i),[]})),[]}))},o:function(e,t,n,r,i,o){var a=Je(t,n);i=qe(r,i),Re([],[e],(function(e){e=e[0];var n="constructor ".concat(e.name);if(void 0===e.X.la&&(e.X.la=[]),void 0!==e.X.la[t-1])throw new re("Cannot register multiple constructors with identical number of parameters (".concat(t-1,") for class '").concat(e.name,"'! Overload resolution is currently only performed using the parameter count, not actual type info!"));return e.X.la[t-1]=function(){Ke("Cannot construct ".concat(e.name," due to unbound types"),a)},Re([],a,(function(r){return r.splice(1,0,null),e.X.la[t-1]=Qe(n,r,null,i,o),[]})),[]}))},a:function(e,t,n,r,i,o,a,s){var u=Je(n,r);t=le(t),o=qe(i,o),Re([],[e],(function(e){function r(){Ke("Cannot call ".concat(i," due to unbound types"),u)}e=e[0];var i="".concat(e.name,".").concat(t);t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.X.Ra.push(t);var c=e.X.ga,l=c[t];return void 0===l||void 0===l.aa&&l.className!==e.name&&l.ma===n-2?(r.ma=n-2,r.className=e.name,c[t]=r):(Me(c,t,i),c[t].aa[n-2]=r),Re([],u,(function(r){return r=Qe(i,r,e,o,a),void 0===c[t].aa?(r.ma=n-2,c[t]=r):c[t].aa[n-2]=r,[]})),[]}))},d:function(e,t,n,r,i,o,a,s,u,c){t=le(t),i=qe(r,i),Re([],[e],(function(e){e=e[0];var r="".concat(e.name,".").concat(t),l={get:function(){Ke("Cannot access ".concat(r," due to unbound types"),[n,a])},enumerable:!0,configurable:!0};return l.set=u?function(){Ke("Cannot access ".concat(r," due to unbound types"),[n,a])}:function(){ie(r+" is a read-only property")},Object.defineProperty(e.X.ga,t,l),Re([],u?[n,a]:[n],(function(n){var a=n[0],l={get:function(){var t=Ye(this,e,r+" getter");return a.fromWireType(i(o,t))},enumerable:!0};if(u){u=qe(s,u);var f=n[1];l.set=function(t){var n=Ye(this,e,r+" setter"),i=[];u(c,n,f.toWireType(i,t)),Ze(i)}}return Object.defineProperty(e.X.ga,t,l),[]})),[]}))},F:function(e,t){je(e,{name:t=le(t),fromWireType:function(e){var t=oe(e);return Xe(e),t},toWireType:function(e,t){return ae(t)},argPackAdvance:8,readValueFromPointer:Te,ea:null})},l:function(e,t,n,r){function i(){}n=Ne(n),t=le(t),i.values={},je(e,{name:t,constructor:i,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:et(t,n,r),ea:null}),Fe(t,i)},c:function(e,t,n){var r=ye(e,"enum");t=le(t),e=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:ee("".concat(r.name,"_").concat(t),(function(){}))}}),e.values[n]=r,e[t]=r},u:function(e,t,n){n=Ne(n),je(e,{name:t=le(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:nt(t,n),ea:null})},q:function(e,t,n,r,i,o){var a=Je(t,n);e=le(e),i=qe(r,i),Fe(e,(function(){Ke("Cannot call ".concat(e," due to unbound types"),a)}),t-1),Re([],a,(function(n){return $e(e,Qe(e,[n[0],null].concat(n.slice(1)),null,i,o),t-1),[]}))},j:function(e,t,n,r,i){t=le(t),-1===i&&(i=4294967295),i=Ne(n);var o=function(e){return e};if(0===r){var a=32-8*n;o=function(e){return e<<a>>>a}}n=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},je(e,{name:t,fromWireType:o,toWireType:n,argPackAdvance:8,readValueFromPointer:rt(t,i,0!==r),ea:null})},g:function(e,t,n){function r(e){e>>=2;var t=R;return new i(t.buffer,t[e+1],t[e])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];je(e,{name:n=le(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{tb:!0})},v:function(e,t){var n="std::string"===(t=le(t));je(e,{name:t,fromWireType:function(e){var t=R[e>>2],r=e+4;if(n)for(var i=r,o=0;o<=t;++o){var a=r+o;if(o==t||0==Z[a]){if(i=i?ot(Z,i,a-i):"",void 0===s)var s=i;else s+=String.fromCharCode(0),s+=i;i=a+1}}else{for(s=Array(t),o=0;o<t;++o)s[o]=String.fromCharCode(Z[r+o]);s=s.join("")}return Et(e),s},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i,o="string"==typeof t;if(o||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ie("Cannot pass non-string to std::string"),n&&o)for(r=i=0;r<t.length;++r){var a=t.charCodeAt(r);127>=a?i++:2047>=a?i+=2:55296<=a&&57343>=a?(i+=4,++r):i+=3}else i=t.length;if(a=(i=Ct(4+(r=i)+1))+4,R[i>>2]=r,n&&o){if(o=a,a=r+1,r=Z,0<a){a=o+a-1;for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);if(55296<=u&&57343>=u&&(u=65536+((1023&u)<<10)|1023&t.charCodeAt(++s)),127>=u){if(o>=a)break;r[o++]=u}else{if(2047>=u){if(o+1>=a)break;r[o++]=192|u>>6}else{if(65535>=u){if(o+2>=a)break;r[o++]=224|u>>12}else{if(o+3>=a)break;r[o++]=240|u>>18,r[o++]=128|u>>12&63}r[o++]=128|u>>6&63}r[o++]=128|63&u}}r[o]=0}}else if(o)for(o=0;o<r;++o)255<(s=t.charCodeAt(o))&&(Et(a),ie("String has UTF-16 code units that do not fit in 8 bits")),Z[a+o]=s;else for(o=0;o<r;++o)Z[a+o]=t[o];return null!==e&&e.push(Et,i),i},argPackAdvance:8,readValueFromPointer:Te,ea:function(e){Et(e)}})},t:function(e,t,n){if(n=le(n),2===t)var r=st,i=ut,o=ct,a=function(){return A},s=1;else 4===t&&(r=lt,i=ft,o=dt,a=function(){return R},s=2);je(e,{name:n,fromWireType:function(e){for(var n,i=R[e>>2],o=a(),u=e+4,c=0;c<=i;++c){var l=e+4+c*t;c!=i&&0!=o[l>>s]||(u=r(u,l-u),void 0===n?n=u:(n+=String.fromCharCode(0),n+=u),u=l+t)}return Et(e),n},toWireType:function(e,r){"string"!=typeof r&&ie("Cannot pass non-string to C++ string type ".concat(n));var a=o(r),u=Ct(4+a+t);return R[u>>2]=a>>s,i(r,u+4,a+t),null!==e&&e.push(Et,u),u},argPackAdvance:8,readValueFromPointer:Te,ea:function(e){Et(e)}})},N:function(e,t,n,r,i,o){Oe[e]={name:le(t),Ba:qe(n,r),ka:qe(i,o),Na:[]}},M:function(e,t,n,r,i,o,a,s,u,c){Oe[e].Na.push({mb:le(t),sb:n,qb:qe(r,i),rb:o,Db:a,Cb:qe(s,u),Eb:c})},H:function(e,t){je(e,{vb:!0,name:t=le(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},r:function(e,t,n){e=oe(e),t=ye(t,"emval::as");var r=[],i=ae(r);return R[n>>2]=i,t.toWireType(r,e)},w:function(e,t,n,r,i){e=mt[e],t=oe(t),n=pt(n);var o=[];return R[r>>2]=ae(o),e(t,n,o,i)},i:function(e,t,n,r){(e=mt[e])(t=oe(t),n=pt(n),null,r)},f:Xe,h:function(e,t){var n=function(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=ye(R[t+4*r>>2],"parameter "+r);return n}(e,t),r=n[0];t=r.name+"_$"+n.slice(1).map((function(e){return e.name})).join("_")+"$";var i=gt[t];if(void 0!==i)return i;var o=Array(e-1);return i=function(e){var t=mt.length;return mt.push(e),t}((function(t,i,a,s){for(var u=0,c=0;c<e-1;++c)o[c]=n[c+1].readValueFromPointer(s+u),u+=n[c+1].argPackAdvance;for(t=t[i].apply(t,o),c=0;c<e-1;++c)n[c+1].hb&&n[c+1].hb(o[c]);if(!r.vb)return r.toWireType(a,t)})),gt[t]=i},p:function(e){return e=pt(e),ae(d[e])},K:function(e,t){return e=oe(e),t=oe(t),ae(e[t])},m:function(e){4<e&&(ne.get(e).Ta+=1)},J:function(e){return ae(pt(e))},n:function(e){Ze(oe(e)),Xe(e)},x:function(e,t){return e=(e=ye(e,"_emval_take_value")).readValueFromPointer(t),ae(e)},b:function(){q("")},A:function(e){var t=Z.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math;r=Math.max(e,r);e:{i=i.min.call(i,2147483648,r+(65536-r%65536)%65536)-C.buffer.byteLength+65535>>>16;try{C.grow(i),D();var o=1;break e}catch(a){}o=void 0}if(o)return!0}return!1},B:function(e,t){var n=0;return bt().forEach((function(r,i){var o=t+n;for(i=R[e+4*i>>2]=o,o=0;o<r.length;++o)O[i++>>0]=r.charCodeAt(o);O[i>>0]=0,n+=r.length+1})),0},C:function(e,t){var n=bt();R[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),R[t>>2]=r,0},D:function(){return 52},y:function(){return 70},E:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var a=R[t>>2],s=R[t+4>>2];t+=8;for(var u=0;u<s;u++){var c=Z[a+u],l=wt[e];0===c||10===c?((1===e?_:E)(ot(l,0)),l.length=0):l.push(c)}i+=s}return R[r>>2]=i,0}};!function(){function e(e){if(I=e=e.exports,C=I.O,D(),M=I.U,B.unshift(I.P),H--,d.monitorRunDependencies&&d.monitorRunDependencies(H),0==H&&(null!==W&&(clearInterval(W),W=null),$)){var t=$;$=null,t()}return e}var t={a:St};if(H++,d.monitorRunDependencies&&d.monitorRunDependencies(H),d.instantiateWasm)try{return d.instantiateWasm(t,e)}catch(r){E("Module.instantiateWasm callback failed with error: "+r),n(r)}(function(e,t){var n=V;return S||"function"!=typeof WebAssembly.instantiateStreaming||G(n)||n.startsWith("file://")||"function"!=typeof fetch?J(n,e,t):fetch(n,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(t,(function(r){return E("wasm streaming compile failed: "+r),E("falling back to ArrayBuffer instantiation"),J(n,e,t)}))}))})(t,(function(t){e(t.instance)})).catch(n)}();var _t,Et=function(e){return(Et=I.Q)(e)},Ct=function(e){return(Ct=I.R)(e)},It=function(e){return(It=I.S)(e)};function Ot(){function e(){if(!_t&&(_t=!0,d.calledRun=!0,!L)){if(Y(B),t(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;){var e=d.postRun.shift();U.unshift(e)}Y(U)}}if(!(0<H)){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)z();Y(F),0<H||(d.setStatus?(d.setStatus("Running..."),setTimeout((function(){setTimeout((function(){d.setStatus("")}),1),e()}),1)):e())}}if(d.__embind_initialize_bindings=function(){return(d.__embind_initialize_bindings=I.T)()},d.dynCall_jiji=function(e,t,n,r,i){return(d.dynCall_jiji=I.V)(e,t,n,r,i)},$=function e(){_t||Ot(),_t||($=e)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return Ot(),r.ready}}(),d=r},function(e){e.exports=JSON.parse('{"name":"@rive-app/canvas","version":"2.1.2","description":"Rive\'s canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}')},function(e,t,n){n.r(t),n.d(t,{registerTouchInteractions:function(){return r.registerTouchInteractions}});var r=n(4)},function(e,t,n){n.r(t),n.d(t,{registerTouchInteractions:function(){return r}});var r=function(e){var t=e.canvas,n=e.artboard,r=e.stateMachines,i=void 0===r?[]:r,o=e.renderer,a=e.rive,s=e.fit,u=e.alignment;if(!t||!i.length||!o||!a||!n||"undefined"===typeof window)return null;var c=function(e){var t=e.currentTarget.getBoundingClientRect(),r=function(e){var t,n;return["touchstart","touchmove"].indexOf(e.type)>-1&&(null===(t=e.touches)||void 0===t?void 0:t.length)?(e.preventDefault(),{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}):"touchend"===e.type&&(null===(n=e.changedTouches)||void 0===n?void 0:n.length)?{clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY}:{clientX:e.clientX,clientY:e.clientY}}(e),o=r.clientX,c=r.clientY;if(o||c){var l=o-t.left,f=c-t.top,d=a.computeAlignment(s,u,{minX:0,minY:0,maxX:t.width,maxY:t.height},n.bounds),h=new a.Mat2D;d.invert(h);var p=new a.Vec2D(l,f),v=a.mapXY(h,p),m=v.x(),g=v.y();switch(v.delete(),h.delete(),p.delete(),d.delete(),e.type){case"touchmove":case"mouseover":case"mouseout":case"mousemove":for(var y=0,b=i;y<b.length;y++)b[y].pointerMove(m,g);break;case"touchstart":case"mousedown":for(var w=0,k=i;w<k.length;w++)k[w].pointerDown(m,g);break;case"touchend":case"mouseup":for(var x=0,S=i;x<S.length;x++)S[x].pointerUp(m,g)}}}.bind(void 0);return t.addEventListener("mouseover",c),t.addEventListener("mouseout",c),t.addEventListener("mousemove",c),t.addEventListener("mousedown",c),t.addEventListener("mouseup",c),t.addEventListener("touchmove",c),t.addEventListener("touchstart",c),t.addEventListener("touchend",c),function(){t.removeEventListener("mouseover",c),t.removeEventListener("mouseout",c),t.removeEventListener("mousemove",c),t.removeEventListener("mousedown",c),t.removeEventListener("mouseup",c),t.removeEventListener("touchmove",c),t.removeEventListener("touchstart",c),t.removeEventListener("touchend",c)}}}],t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{Alignment:function(){return i},EventType:function(){return m},Fit:function(){return e},Layout:function(){return h},LoopType:function(){return y},Rive:function(){return E},RuntimeLoader:function(){return p},StateMachineInput:function(){return w},StateMachineInputType:function(){return f},Testing:function(){return O}});var e,t,i,o,a=n(1),s=n(2),u=n(3),c=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}};(t=e||(e={})).Cover="cover",t.Contain="contain",t.Fill="fill",t.FitWidth="fitWidth",t.FitHeight="fitHeight",t.None="none",t.ScaleDown="scaleDown",(o=i||(i={})).Center="center",o.TopLeft="topLeft",o.TopCenter="topCenter",o.TopRight="topRight",o.CenterLeft="centerLeft",o.CenterRight="centerRight",o.BottomLeft="bottomLeft",o.BottomCenter="bottomCenter",o.BottomRight="bottomRight";var f,d,h=function(){function t(t){var n,r,o,a,s,u;this.fit=null!==(n=null===t||void 0===t?void 0:t.fit)&&void 0!==n?n:e.Contain,this.alignment=null!==(r=null===t||void 0===t?void 0:t.alignment)&&void 0!==r?r:i.Center,this.minX=null!==(o=null===t||void 0===t?void 0:t.minX)&&void 0!==o?o:0,this.minY=null!==(a=null===t||void 0===t?void 0:t.minY)&&void 0!==a?a:0,this.maxX=null!==(s=null===t||void 0===t?void 0:t.maxX)&&void 0!==s?s:0,this.maxY=null!==(u=null===t||void 0===t?void 0:t.maxY)&&void 0!==u?u:0}return t.new=function(e){var n=e.fit,r=e.alignment,i=e.minX,o=e.minY,a=e.maxX,s=e.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new t({fit:n,alignment:r,minX:i,minY:o,maxX:a,maxY:s})},t.prototype.copyWith=function(e){var n=e.fit,r=e.alignment,i=e.minX,o=e.minY,a=e.maxX,s=e.maxY;return new t({fit:null!==n&&void 0!==n?n:this.fit,alignment:null!==r&&void 0!==r?r:this.alignment,minX:null!==i&&void 0!==i?i:this.minX,minY:null!==o&&void 0!==o?o:this.minY,maxX:null!==a&&void 0!==a?a:this.maxX,maxY:null!==s&&void 0!==s?s:this.maxY})},t.prototype.runtimeFit=function(t){return this.cachedRuntimeFit?this.cachedRuntimeFit:(n=this.fit===e.Cover?t.Fit.cover:this.fit===e.Contain?t.Fit.contain:this.fit===e.Fill?t.Fit.fill:this.fit===e.FitWidth?t.Fit.fitWidth:this.fit===e.FitHeight?t.Fit.fitHeight:this.fit===e.ScaleDown?t.Fit.scaleDown:t.Fit.none,this.cachedRuntimeFit=n,n);var n},t.prototype.runtimeAlignment=function(e){return this.cachedRuntimeAlignment?this.cachedRuntimeAlignment:(t=this.alignment===i.TopLeft?e.Alignment.topLeft:this.alignment===i.TopCenter?e.Alignment.topCenter:this.alignment===i.TopRight?e.Alignment.topRight:this.alignment===i.CenterLeft?e.Alignment.centerLeft:this.alignment===i.CenterRight?e.Alignment.centerRight:this.alignment===i.BottomLeft?e.Alignment.bottomLeft:this.alignment===i.BottomCenter?e.Alignment.bottomCenter:this.alignment===i.BottomRight?e.Alignment.bottomRight:e.Alignment.center,this.cachedRuntimeAlignment=t,t);var t},t}(),p=function(){function e(){}return e.loadRuntime=function(){a.default({locateFile:function(){return e.wasmURL}}).then((function(t){var n;for(e.runtime=t;e.callBackQueue.length>0;)null===(n=e.callBackQueue.shift())||void 0===n||n(e.runtime)}))},e.getInstance=function(t){e.isLoading||(e.isLoading=!0,e.loadRuntime()),e.runtime?t(e.runtime):e.callBackQueue.push(t)},e.awaitInstance=function(){return new Promise((function(t){return e.getInstance((function(e){return t(e)}))}))},e.setWasmUrl=function(t){e.wasmURL=t},e.isLoading=!1,e.callBackQueue=[],e.wasmURL="https://unpkg.com/".concat(s.name,"@").concat(s.version,"/rive.wasm"),e}(),v=function(){function e(e,t,n,r){this.animation=e,this.artboard=t,this.playing=r,this.loopCount=0,this.scrubTo=null,this.instance=new n.LinearAnimationInstance(e,t)}return Object.defineProperty(e.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.instance.time},set:function(e){this.instance.time=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),e.prototype.advance=function(e){null===this.scrubTo?this.instance.advance(e):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},e.prototype.apply=function(e){this.instance.apply(e)},Object.defineProperty(e.prototype,"needsScrub",{get:function(){return null!==this.scrubTo},enumerable:!1,configurable:!0}),e.prototype.cleanup=function(){this.instance.delete()},e}();(d=f||(f={}))[d.Number=56]="Number",d[d.Trigger=58]="Trigger",d[d.Boolean=59]="Boolean";var m,g,y,b,w=function(){function e(e,t){this.type=e,this.runtimeInput=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(e){this.runtimeInput.value=e},enumerable:!1,configurable:!0}),e.prototype.fire=function(){this.type===f.Trigger&&this.runtimeInput.fire()},e}(),k=function(){function e(e,t,n,r){this.stateMachine=e,this.playing=n,this.artboard=r,this.inputs=[],this.instance=new t.StateMachineInstance(e,r),this.initInputs(t)}return Object.defineProperty(e.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statesChanged",{get:function(){for(var e=[],t=0;t<this.instance.stateChangedCount();t++)e.push(this.instance.stateChangedNameByIndex(t));return e},enumerable:!1,configurable:!0}),e.prototype.advance=function(e){this.instance.advance(e)},e.prototype.initInputs=function(e){for(var t=0;t<this.instance.inputCount();t++){var n=this.instance.input(t);this.inputs.push(this.mapRuntimeInput(n,e))}},e.prototype.mapRuntimeInput=function(e,t){return e.type===t.SMIInput.bool?new w(f.Boolean,e.asBool()):e.type===t.SMIInput.number?new w(f.Number,e.asNumber()):e.type===t.SMIInput.trigger?new w(f.Trigger,e.asTrigger()):void 0},e.prototype.cleanup=function(){this.instance.delete()},e}(),x=function(){function e(e,t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i=[]),this.runtime=e,this.artboard=t,this.eventManager=n,this.animations=r,this.stateMachines=i}return e.prototype.add=function(e,t,n){if(void 0===n&&(n=!0),0===(e=I(e)).length)this.animations.forEach((function(e){return e.playing=t})),this.stateMachines.forEach((function(e){return e.playing=t}));else for(var r=this.animations.map((function(e){return e.name})),i=this.stateMachines.map((function(e){return e.name})),o=0;o<e.length;o++){var a=r.indexOf(e[o]),s=i.indexOf(e[o]);if(a>=0||s>=0)a>=0?this.animations[a].playing=t:this.stateMachines[s].playing=t;else{var u=this.artboard.animationByName(e[o]);if(u){var c=new v(u,this.artboard,this.runtime,t);c.advance(0),c.apply(1),this.animations.push(c)}else{var l=this.artboard.stateMachineByName(e[o]);if(l){var f=new k(l,this.runtime,t,this.artboard);this.stateMachines.push(f)}}}}return n&&(t?this.eventManager.fire({type:m.Play,data:this.playing}):this.eventManager.fire({type:m.Pause,data:this.paused})),t?this.playing:this.paused},e.prototype.play=function(e){return this.add(e,!0)},e.prototype.pause=function(e){return this.add(e,!1)},e.prototype.scrub=function(e,t){var n=this.animations.filter((function(t){return e.includes(t.name)}));return n.forEach((function(e){return e.scrubTo=t})),n.map((function(e){return e.name}))},Object.defineProperty(e.prototype,"playing",{get:function(){return this.animations.filter((function(e){return e.playing})).map((function(e){return e.name})).concat(this.stateMachines.filter((function(e){return e.playing})).map((function(e){return e.name})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.animations.filter((function(e){return!e.playing})).map((function(e){return e.name})).concat(this.stateMachines.filter((function(e){return!e.playing})).map((function(e){return e.name})))},enumerable:!1,configurable:!0}),e.prototype.stop=function(e){var t=this,n=[];if(0===(e=I(e)).length)n=this.animations.map((function(e){return e.name})).concat(this.stateMachines.map((function(e){return e.name}))),this.animations.forEach((function(e){return e.cleanup()})),this.stateMachines.forEach((function(e){return e.cleanup()})),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var r=this.animations.filter((function(t){return e.includes(t.name)}));r.forEach((function(e){e.cleanup(),t.animations.splice(t.animations.indexOf(e),1)}));var i=this.stateMachines.filter((function(t){return e.includes(t.name)}));i.forEach((function(e){e.cleanup(),t.stateMachines.splice(t.stateMachines.indexOf(e),1)})),n=r.map((function(e){return e.name})).concat(i.map((function(e){return e.name})))}return this.eventManager.fire({type:m.Stop,data:n}),n},Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.animations.reduce((function(e,t){return e||t.playing}),!1)||this.stateMachines.reduce((function(e,t){return e||t.playing}),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStopped",{get:function(){return 0===this.animations.length&&0===this.stateMachines.length},enumerable:!1,configurable:!0}),e.prototype.atLeastOne=function(e,t){var n;return void 0===t&&(t=!0),0===this.animations.length&&0===this.stateMachines.length&&(this.artboard.animationCount()>0?this.add([n=this.artboard.animationByIndex(0).name],e,t):this.artboard.stateMachineCount()>0&&this.add([n=this.artboard.stateMachineByIndex(0).name],e,t)),n},e.prototype.handleLooping=function(){for(var e=0,t=this.animations.filter((function(e){return e.playing}));e<t.length;e++){var n=t[e];0===n.loopValue&&n.loopCount?(n.loopCount=0,this.stop(n.name)):1===n.loopValue&&n.loopCount?(this.eventManager.fire({type:m.Loop,data:{animation:n.name,type:y.Loop}}),n.loopCount=0):2===n.loopValue&&n.loopCount>1&&(this.eventManager.fire({type:m.Loop,data:{animation:n.name,type:y.PingPong}}),n.loopCount=0)}},e.prototype.handleStateChanges=function(){for(var e=[],t=0,n=this.stateMachines.filter((function(e){return e.playing}));t<n.length;t++){var r=n[t];e.push.apply(e,r.statesChanged)}e.length>0&&this.eventManager.fire({type:m.StateChange,data:e})},e.prototype.handleAdvancing=function(e){this.eventManager.fire({type:m.Advance,data:e})},e}();(g=m||(m={})).Load="load",g.LoadError="loaderror",g.Play="play",g.Pause="pause",g.Stop="stop",g.Loop="loop",g.Draw="draw",g.Advance="advance",g.StateChange="statechange",(b=y||(y={})).OneShot="oneshot",b.Loop="loop",b.PingPong="pingpong";var S=function(){function e(e){void 0===e&&(e=[]),this.listeners=e}return e.prototype.getListeners=function(e){return this.listeners.filter((function(t){return t.type===e}))},e.prototype.add=function(e){this.listeners.includes(e)||this.listeners.push(e)},e.prototype.remove=function(e){for(var t=0;t<this.listeners.length;t++){var n=this.listeners[t];if(n.type===e.type&&n.callback===e.callback){this.listeners.splice(t,1);break}}},e.prototype.removeAll=function(e){var t=this;e?this.listeners.filter((function(t){return t.type===e})).forEach((function(e){return t.remove(e)})):this.listeners.splice(0,this.listeners.length)},e.prototype.fire=function(e){this.getListeners(e.type).forEach((function(t){return t.callback(e)}))},e}(),_=function(){function e(e){this.eventManager=e,this.queue=[]}return e.prototype.add=function(e){this.queue.push(e)},e.prototype.process=function(){for(;this.queue.length>0;){var e=this.queue.shift();(null===e||void 0===e?void 0:e.action)&&e.action(),(null===e||void 0===e?void 0:e.event)&&this.eventManager.fire(e.event)}},e}(),E=function(){function e(e){var t;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=e.canvas,this.src=e.src,this.buffer=e.buffer,this.layout=null!==(t=e.layout)&&void 0!==t?t:new h,this.shouldDisableRiveListeners=!!e.shouldDisableRiveListeners,this.eventManager=new S,e.onLoad&&this.on(m.Load,e.onLoad),e.onLoadError&&this.on(m.LoadError,e.onLoadError),e.onPlay&&this.on(m.Play,e.onPlay),e.onPause&&this.on(m.Pause,e.onPause),e.onStop&&this.on(m.Stop,e.onStop),e.onLoop&&this.on(m.Loop,e.onLoop),e.onStateChange&&this.on(m.StateChange,e.onStateChange),e.onAdvance&&this.on(m.Advance,e.onAdvance),e.onload&&!e.onLoad&&this.on(m.Load,e.onload),e.onloaderror&&!e.onLoadError&&this.on(m.LoadError,e.onloaderror),e.onplay&&!e.onPlay&&this.on(m.Play,e.onplay),e.onpause&&!e.onPause&&this.on(m.Pause,e.onpause),e.onstop&&!e.onStop&&this.on(m.Stop,e.onstop),e.onloop&&!e.onLoop&&this.on(m.Loop,e.onloop),e.onstatechange&&!e.onStateChange&&this.on(m.StateChange,e.onstatechange),this.taskQueue=new _(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:e.autoplay,animations:e.animations,stateMachines:e.stateMachines,artboard:e.artboard,useOffscreenRenderer:e.useOffscreenRenderer})}return e.new=function(t){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new e(t)},e.prototype.init=function(t){var n=this,r=t.src,i=t.buffer,o=t.animations,a=t.stateMachines,s=t.artboard,u=t.autoplay,c=void 0!==u&&u,l=t.useOffscreenRenderer,f=void 0!==l&&l;if(this.src=r,this.buffer=i,!this.src&&!this.buffer)throw new Error(e.missingErrorMessage);var d=I(o),h=I(a);this.loaded=!1,this.readyForPlaying=!1,p.awaitInstance().then((function(e){n.runtime=e,n.renderer=n.runtime.makeRenderer(n.canvas,f),n.canvas.width||n.canvas.height||n.resizeDrawingSurfaceToCanvas(),n.initData(s,d,h,c).then((function(){return n.setupRiveListeners()})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))},e.prototype.setupRiveListeners=function(){var e=this;if(!this.shouldDisableRiveListeners){var t=(this.animator.stateMachines||[]).filter((function(t){return t.playing&&e.runtime.hasListeners(t.instance)})).map((function(e){return e.instance}));this.eventCleanup=(0,u.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:t,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},e.prototype.initData=function(e,t,n,r){var i;return c(this,void 0,void 0,(function(){var o,a,s;return l(this,(function(u){switch(u.label){case 0:return this.src?(o=this,[4,C(this.src)]):[3,2];case 1:o.buffer=u.sent(),u.label=2;case 2:return a=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return a.file=u.sent(),this.file?(this.initArtboard(e,t,n,r),this.loaded=!0,this.eventManager.fire({type:m.Load,data:null!==(i=this.src)&&void 0!==i?i:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(s="Problem loading file; may be corrupt!",console.warn(s),this.eventManager.fire({type:m.LoadError,data:s}),[2,Promise.reject(s)])}}))}))},e.prototype.initArtboard=function(e,t,n,r){var i,o=e?this.file.artboardByName(e):this.file.defaultArtboard();if(!o){var a="Invalid artboard name or no default artboard";return console.warn(a),void this.eventManager.fire({type:m.LoadError,data:a})}if(this.artboard=o,this.artboard.animationCount()<1)throw a="Artboard has no animations",this.eventManager.fire({type:m.LoadError,data:a}),a;this.animator=new x(this.runtime,this.artboard,this.eventManager),t.length>0||n.length>0?(i=t.concat(n),this.animator.add(i,r,!1)):i=[this.animator.atLeastOne(r,!1)],this.taskQueue.add({event:{type:r?m.Play:m.Pause,data:i}})},e.prototype.drawFrame=function(){this.startRendering()},e.prototype.draw=function(e,t){var n=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=e),this.renderSecondTimer+=e-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,null===t||void 0===t||t());var r=(e-this.lastRenderTime)/1e3;this.lastRenderTime=e;for(var i=0,o=this.animator.animations.filter((function(e){return e.playing||e.needsScrub})).sort((function(e){return e.needsScrub?-1:1}));i<o.length;i++){var a=o[i];a.advance(r),a.instance.didLoop&&(a.loopCount+=1),a.apply(1)}for(var s=0,u=this.animator.stateMachines.filter((function(e){return e.playing}));s<u.length;s++)u[s].advance(r);this.artboard.advance(r);var c=this.renderer;c.clear(),c.save(),this.alignRenderer(),this.artboard.draw(c),c.restore(),c.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(r),this.frameCount++;var l=performance.now();for(this.frameTimes.push(l),this.durations.push(l-n);this.frameTimes[0]<=l-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():(this.animator.isPaused||this.animator.isStopped)&&(this.lastRenderTime=0)},e.prototype.alignRenderer=function(){var e=this,t=e.renderer,n=e.runtime,r=e._layout,i=e.artboard;t.align(r.runtimeFit(n),r.runtimeAlignment(n),{minX:r.minX,minY:r.minY,maxX:r.maxX,maxY:r.maxY},i.bounds)},Object.defineProperty(e.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frameTime",{get:function(){return 0===this.durations.length?0:(this.durations.reduce((function(e,t){return e+t}),0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),e.prototype.cleanup=function(){var e,t;this.stopRendering(),this.cleanupInstances(),null===(e=this.renderer)||void 0===e||e.delete(),this.renderer=null,null===(t=this.file)||void 0===t||t.delete(),this.file=null},e.prototype.cleanupInstances=function(){null!==this.eventCleanup&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},e.prototype.retrieveTextRun=function(e){var t;if(e)if(this.artboard){var n=this.artboard.textRun(e);if(n)return n;console.warn("Could not access a text run with name '".concat(e,"' in the '").concat(null===(t=this.artboard)||void 0===t?void 0:t.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."))}else console.warn("Tried to access text run, but the Artboard is null");else console.warn("No text run name provided")},e.prototype.getTextRunValue=function(e){var t=this.retrieveTextRun(e);return t?t.text:void 0},e.prototype.setTextRunValue=function(e,t){var n=this.retrieveTextRun(e);n&&(n.text=t)},e.prototype.play=function(e,t){var n=this;e=I(e),this.readyForPlaying?(this.animator.play(e),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()):this.taskQueue.add({action:function(){return n.play(e,t)}})},e.prototype.pause=function(e){var t=this;e=I(e),this.readyForPlaying?(this.eventCleanup&&this.eventCleanup(),this.animator.pause(e)):this.taskQueue.add({action:function(){return t.pause(e)}})},e.prototype.scrub=function(e,t){var n=this;e=I(e),this.readyForPlaying?(this.animator.scrub(e,t||0),this.drawFrame()):this.taskQueue.add({action:function(){return n.scrub(e,t)}})},e.prototype.stop=function(e){var t=this;e=I(e),this.readyForPlaying?(this.animator.stop(e),this.eventCleanup&&this.eventCleanup()):this.taskQueue.add({action:function(){return t.stop(e)}})},e.prototype.reset=function(e){var t,n=null===e||void 0===e?void 0:e.artboard,r=I(null===e||void 0===e?void 0:e.animations),i=I(null===e||void 0===e?void 0:e.stateMachines),o=null!==(t=null===e||void 0===e?void 0:e.autoplay)&&void 0!==t&&t;this.cleanupInstances(),this.initArtboard(n,r,i,o),this.taskQueue.process()},e.prototype.load=function(e){this.stop(),this.init(e)},Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(e){this._layout=e,e.maxX&&e.maxY||this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),e.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},e.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var e=this.canvas.getBoundingClientRect(),t=e.width,n=e.height,r=window.devicePixelRatio||1;this.canvas.width=r*t,this.canvas.height=r*n,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(e.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var e=[],t=0;t<this.artboard.animationCount();t++)e.push(this.artboard.animationByIndex(t).name);return e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var e=[],t=0;t<this.artboard.stateMachineCount();t++)e.push(this.artboard.stateMachineByIndex(t).name);return e},enumerable:!1,configurable:!0}),e.prototype.stateMachineInputs=function(e){if(this.loaded){var t=this.animator.stateMachines.find((function(t){return t.name===e}));return null===t||void 0===t?void 0:t.inputs}},Object.defineProperty(e.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(e){return e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(e){return e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter((function(e){return!e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter((function(e){return!e.playing})).map((function(e){return e.name})):[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t){this.eventManager.add({type:e,callback:t})},e.prototype.off=function(e,t){this.eventManager.remove({type:e,callback:t})},e.prototype.unsubscribe=function(e,t){console.warn("This function is deprecated: please use `off()` instead."),this.off(e,t)},e.prototype.removeAllRiveEventListeners=function(e){this.eventManager.removeAll(e)},e.prototype.unsubscribeAll=function(e){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(e)},e.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},e.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},e.prototype.enableFPSCounter=function(e){this.runtime.enableFPSCounter(e)},e.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(e.prototype,"contents",{get:function(){if(this.loaded){for(var e={artboards:[]},t=0;t<this.file.artboardCount();t++){for(var n=this.file.artboardByIndex(t),r={name:n.name,animations:[],stateMachines:[]},i=0;i<n.animationCount();i++){var o=n.animationByIndex(i);r.animations.push(o.name)}for(var a=0;a<n.stateMachineCount();a++){for(var s=n.stateMachineByIndex(a),u=s.name,c=new this.runtime.StateMachineInstance(s,n),l=[],f=0;f<c.inputCount();f++){var d=c.input(f);l.push({name:d.name,type:d.type})}r.stateMachines.push({name:u,inputs:l})}e.artboards.push(r)}return e}},enumerable:!1,configurable:!0}),e.missingErrorMessage="Rive source file or data buffer required",e}(),C=function(e){return c(void 0,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t=new Request(e),[4,fetch(t)];case 1:return[4,n.sent().arrayBuffer()];case 2:return[2,n.sent()]}}))}))},I=function(e){return"string"===typeof e?[e]:e instanceof Array?e:[]},O={EventManager:S,TaskQueueManager:_}}(),r}()},e.exports=r()},2718:function(e,t,n){"use strict";n.d(t,{Z5:function(){return je},_y:function(){return Le},mv:function(){return wn},AA:function(){return Ke},yM:function(){return at},xE:function(){return Bt},K3:function(){return De},iJ:function(){return ot},h:function(){return qe},GH:function(){return en},wj:function(){return Nn},PM:function(){return it},TX:function(){return xn},Iu:function(){return jn}});var r,i,o,a,s=n(5671),u=n(3144),c=n(4165),l=n(5861),f=n(9439),d=n(3433),h=!1,p=!0,v=!1,m=!0,g=!0,y=!0,b=!0,w=!0,k=!0,x=!0,S=!0,_=!0,E=!0,C=!0,I=!0,O=!1,Z=!0,T=!0,A=!0,P=!0,R=!0,N=!0,j=!0,L=!0,D=!0,M=!0,F=!0,B=!0,U=!0,z=!0,V=!0,H=!0,W=!0,$=!0,q=!0,G=!0,K=!0,Q=!0,J=!0,Y=!0,X=!0,ee=!0,te=!0,ne=!0,re=!1,ie=!1,oe=!1,ae=!1,se=!1,ue=!1,ce=!1,le=!1,fe=!1,de=!0,he=!1,pe=!0,ve=!1,me=!0,ge=!0,ye=!0,be=!1,we=!0,ke=!0,xe=!0,Se=!1,_e=!1,Ee=!1,Ce=!0,Ie="app",Oe=0,Ze=!1,Te=!1,Ae=!1,Pe=!1,Re=0,Ne=!1,je={isDev:!!oe,isBrowser:!0,isServer:!1,isTesting:!!ae},Le={},De=function(e){var t=new URL(e,kn.$resourcesUrl$);return t.origin!==yn.location.origin?t.href:t.pathname},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(fe&&performance.mark){var n="st:".concat(e,":").concat(t,":").concat(Oe++);return performance.mark(n),function(){return performance.measure("[Stencil] ".concat(e,"() <").concat(t,">"),n)}}return function(){}},Fe=function(e,t){return fe&&performance.mark?(0===performance.getEntriesByName(e,"mark").length&&performance.mark(e),function(){0===performance.getEntriesByName(t,"measure").length&&performance.measure(t,e)}):function(){}},Be="s-id",Ue="sty-id",ze="c-id",Ve="http://www.w3.org/1999/xlink",He={},We=function(e){return"object"===(e=typeof e)||"function"===e};function $e(e){var t,n,r;return null!==(r=null===(n=null===(t=e.head)||void 0===t?void 0:t.querySelector('meta[name="csp-nonce"]'))||void 0===n?void 0:n.getAttribute("content"))&&void 0!==r?r:void 0}var qe=function(e,t){for(var n=null,r=null,i=null,o=!1,a=!1,s=[],u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];if(function t(r){for(var i=0;i<r.length;i++)n=r[i],Array.isArray(n)?t(n):null!=n&&"boolean"!==typeof n&&((o="function"!==typeof e&&!We(n))?n=String(n):oe&&"function"!==typeof e&&void 0===n.$flags$&&dn("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),o&&a?s[s.length-1].$text$+=n:s.push(o?Ge(null,n):n),a=o)}(c),t&&(oe&&"input"===e&&et(t),G&&t.key&&(r=t.key),de&&t.name&&(i=t.name),$)){var f=t.className||t.class;f&&(t.class="object"!==typeof f?f:Object.keys(f).filter((function(e){return f[e]})).join(" "))}if(oe&&s.some(Qe)&&dn("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),q&&"function"===typeof e)return e(null===t?{}:t,s,Je);var d=Ge(e,null);return d.$attrs$=t,s.length>0&&(d.$children$=s),G&&(d.$key$=r),de&&(d.$name$=i),d},Ge=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return H&&(n.$attrs$=null),G&&(n.$key$=null),de&&(n.$name$=null),n},Ke={},Qe=function(e){return e&&e.$tag$===Ke},Je={forEach:function(e,t){return e.map(Ye).forEach(t)},map:function(e,t){return e.map(Ye).map(t).map(Xe)}},Ye=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},Xe=function(e){if("function"===typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),qe.apply(void 0,[e.vtag,t].concat((0,d.Z)(e.vchildren||[])))}var n=Ge(e.vtag,e.vtext);return n.$attrs$=e.vattrs,n.$children$=e.vchildren,n.$key$=e.vkey,n.$name$=e.vname,n},et=function(e){var t=Object.keys(e),n=t.indexOf("value");if(-1!==n){var r=t.indexOf("type"),i=t.indexOf("min"),o=t.indexOf("max"),a=t.indexOf("step");(n<r||n<i||n<o||n<a)&&hn('The "value" prop of <input> should be set after "min", "max", "type" and "step"')}},tt=function e(t,n,r,i,o,a,s){var u,c,l,f;if(1===a.nodeType){for((u=a.getAttribute(ze))&&((c=u.split("."))[0]!==s&&"0"!==c[0]||(l={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:a.tagName.toLowerCase(),$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},n.push(l),a.removeAttribute(ze),t.$children$||(t.$children$=[]),t.$children$[l.$index$]=l,t=l,i&&"0"===l.$depth$&&(i[l.$index$]=l.$elm$))),f=a.childNodes.length-1;f>=0;f--)e(t,n,r,i,o,a.childNodes[f],s);if(a.shadowRoot)for(f=a.shadowRoot.childNodes.length-1;f>=0;f--)e(t,n,r,i,o,a.shadowRoot.childNodes[f],s)}else if(8===a.nodeType)(c=a.nodeValue.split("."))[1]!==s&&"0"!==c[1]||(u=c[0],l={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===u?(l.$elm$=a.nextSibling,l.$elm$&&3===l.$elm$.nodeType&&(l.$text$=l.$elm$.textContent,n.push(l),a.remove(),t.$children$||(t.$children$=[]),t.$children$[l.$index$]=l,i&&"0"===l.$depth$&&(i[l.$index$]=l.$elm$))):l.$hostId$===s&&("s"===u?(l.$tag$="slot",c[5]?a["s-sn"]=l.$name$=c[5]:a["s-sn"]="",a["s-sr"]=!0,D&&i&&(l.$elm$=bn.createElement(l.$tag$),l.$name$&&l.$elm$.setAttribute("name",l.$name$),a.parentNode.insertBefore(l.$elm$,a),a.remove(),"0"===l.$depth$&&(i[l.$index$]=l.$elm$)),r.push(l),t.$children$||(t.$children$=[]),t.$children$[l.$index$]=l):"r"===u&&(D&&i?a.remove():de&&(o["s-cr"]=a,a["s-cn"]=!0))));else if(t&&"style"===t.$tag$){var d=Ge(null,a.textContent);d.$elm$=a,d.$index$="0",t.$children$=[d]}},nt=function e(t,n){if(1===t.nodeType){for(var r=0;r<t.childNodes.length;r++)e(t.childNodes[r],n);if(t.shadowRoot)for(r=0;r<t.shadowRoot.childNodes.length;r++)e(t.shadowRoot.childNodes[r],n)}else if(8===t.nodeType){var i=t.nodeValue.split(".");"o"===i[0]&&(n.set(i[1]+"."+i[2],t),t.nodeValue="",t["s-en"]=i[3])}},rt=function(e){return gn.map((function(t){return t(e)})).find((function(e){return!!e}))},it=function(e){return gn.push(e)},ot=function(e){return sn(e).$modeName$},at=function(e,t,n){var r=function(e){return le?sn(e).$hostElement$:e}(e);return{emit:function(e){return oe&&!r.isConnected&&hn('The "'.concat(t,'" event was emitted, but the dispatcher node is no longer connected to the dom.')),st(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}}},st=function(e,t,n){var r=kn.ce(t,n);return e.dispatchEvent(r),r},ut=new WeakMap,ct=function(e,t,n){var r=mn.get(e);En&&n?"string"===typeof(r=r||new CSSStyleSheet)?r=t:r.replaceSync(t):r=t,mn.set(e,r)},lt=function(e,t,n,r){var i,o=dt(t,n),a=mn.get(o);if(!Ce)return o;if(e=11===e.nodeType?e:bn,a)if("string"===typeof a){e=e.head||e;var s,u=ut.get(e);if(u||ut.set(e,u=new Set),!u.has(o)){if(ue&&e.host&&(s=e.querySelector("[".concat(Ue,'="').concat(o,'"]'))))s.innerHTML=a;else{if(be&&kn.$cssShim$){var c=(s=kn.$cssShim$.createHostStyle(r,o,a,!!(10&t.$flags$)))["s-sc"];c&&(o=c,u=null)}else(s=bn.createElement("style")).innerHTML=a;var l=null!==(i=kn.$nonce$)&&void 0!==i?i:$e(bn);null!=l&&s.setAttribute("nonce",l),(se||re)&&s.setAttribute(Ue,o),e.insertBefore(s,e.querySelector("link"))}u&&u.add(o)}}else we&&!e.adoptedStyleSheets.includes(a)&&(e.adoptedStyleSheets=[].concat((0,d.Z)(e.adoptedStyleSheets),[a]));return o},ft=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=Me("attachStyles",t.$tagName$),o=lt(D&&Sn&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);(D||L)&&F&&10&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),L&&2&r&&n.classList.add(o+"-s")),i()},dt=function(e,t){return"sc-"+(P&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$)},ht=function(e,t,n,r,i,o){if(n!==r){var a=cn(e,t),s=t.toLowerCase();if($&&"class"===t){var u=e.classList,c=vt(n),l=vt(r);u.remove.apply(u,(0,d.Z)(c.filter((function(e){return e&&!l.includes(e)})))),u.add.apply(u,(0,d.Z)(l.filter((function(e){return e&&!c.includes(e)}))))}else if(X&&"style"===t){if(V)for(var f in n)r&&null!=r[f]||(!se&&f.includes("-")?e.style.removeProperty(f):e.style[f]="");for(var h in r)n&&r[h]===n[h]||(!se&&h.includes("-")?e.style.setProperty(h,r[h]):e.style[h]=r[h])}else if(G&&"key"===t);else if(Q&&"ref"===t)r&&r(e);else if(!K||(le?a:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(J){var p=We(r);if((a||p&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{var v=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==v||(e[t]=v)}}catch(g){}var m=!1;W&&s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,m=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(W&&m?e.removeAttributeNS(Ve,t):e.removeAttribute(t)):(!a||4&o||i)&&!p&&(r=!0===r?"":r,W&&m?e.setAttributeNS(Ve,t,r):e.setAttribute(t,r))}}else t="-"===t[2]?t.slice(3):cn(yn,s)?s.slice(2):s[2]+t.slice(3),n&&kn.rel(e,t,n,!1),r&&kn.ael(e,t,r,!1)}},pt=/\s/,vt=function(e){return e?e.split(pt):[]},mt=function(e,t,n,r){var i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||He,a=t.$attrs$||He;if(V)for(r in o)r in a||ht(i,r,o[r],void 0,n,t.$flags$);for(r in a)ht(i,r,o[r],a[r],n,t.$flags$)},gt=function e(t,n,a,s){var u,c,l,f=n.$children$[a],d=0;if(de&&!Ze&&(Ae=!0,"slot"===f.$tag$&&(r&&s.classList.add(r+"-s"),f.$flags$|=f.$children$?2:1)),oe&&f.$elm$&&dn("The JSX ".concat(null!==f.$text$?'"'.concat(f.$text$,'" text'):'"'.concat(f.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),ee&&null!==f.$text$)u=f.$elm$=bn.createTextNode(f.$text$);else if(de&&1&f.$flags$)u=f.$elm$=ie||se?Pt(f):bn.createTextNode("");else{if(z&&!Pe&&(Pe="svg"===f.$tag$),u=f.$elm$=z?bn.createElementNS(Pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",de&&2&f.$flags$?"slot-fb":f.$tag$):bn.createElement(de&&2&f.$flags$?"slot-fb":f.$tag$),z&&Pe&&"foreignObject"===f.$tag$&&(Pe=!1),H&&mt(null,f,Pe),(D||L)&&null!=r&&u["s-si"]!==r&&u.classList.add(u["s-si"]=r),f.$children$)for(d=0;d<f.$children$.length;++d)(c=e(t,f,d,u))&&u.appendChild(c);z&&("svg"===f.$tag$?Pe=!1:"foreignObject"===u.tagName&&(Pe=!0))}return de&&(u["s-hn"]=o,3&f.$flags$&&(u["s-sr"]=!0,u["s-cr"]=i,u["s-sn"]=f.$name$||"",(l=t&&t.$children$&&t.$children$[a])&&l.$tag$===f.$tag$&&t.$elm$&&yt(t.$elm$,!1))),u},yt=function e(t,n){kn.$flags$|=1;for(var r=t.childNodes,i=r.length-1;i>=0;i--){var a=r[i];a["s-hn"]!==o&&a["s-ol"]&&(_t(a).insertBefore(a,St(a)),a["s-ol"].remove(),a["s-ol"]=void 0,Ae=!0),n&&e(a,n)}kn.$flags$&=-2},bt=function(e,t,n,r,i,a){var s,u=de&&e["s-cr"]&&e["s-cr"].parentNode||e;for(D&&u.shadowRoot&&u.tagName===o&&(u=u.shadowRoot);i<=a;++i)r[i]&&(s=gt(null,n,i,e))&&(r[i].$elm$=s,u.insertBefore(s,de?St(t):t))},wt=function(e,t,n,r,i){for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,Tt(r),de&&(Te=!0,i["s-ol"]?i["s-ol"].remove():yt(i,!0)),i.remove())},kt=function(e,t,n,r){for(var i,o,a=0,s=0,u=0,c=0,l=t.length-1,f=t[0],d=t[l],h=r.length-1,p=r[0],v=r[h];a<=l&&s<=h;)if(null==f)f=t[++a];else if(null==d)d=t[--l];else if(null==p)p=r[++s];else if(null==v)v=r[--h];else if(xt(f,p))Et(f,p),f=t[++a],p=r[++s];else if(xt(d,v))Et(d,v),d=t[--l],v=r[--h];else if(xt(f,v))!de||"slot"!==f.$tag$&&"slot"!==v.$tag$||yt(f.$elm$.parentNode,!1),Et(f,v),e.insertBefore(f.$elm$,d.$elm$.nextSibling),f=t[++a],v=r[--h];else if(xt(d,p))!de||"slot"!==f.$tag$&&"slot"!==v.$tag$||yt(d.$elm$.parentNode,!1),Et(d,p),e.insertBefore(d.$elm$,f.$elm$),d=t[--l],p=r[++s];else{if(u=-1,G)for(c=a;c<=l;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===p.$key$){u=c;break}G&&u>=0?((o=t[u]).$tag$!==p.$tag$?i=gt(t&&t[s],n,u,e):(Et(o,p),t[u]=void 0,i=o.$elm$),p=r[++s]):(i=gt(t&&t[s],n,s,e),p=r[++s]),i&&(de?_t(f.$elm$).insertBefore(i,St(f.$elm$)):f.$elm$.parentNode.insertBefore(i,f.$elm$))}a>l?bt(e,null==r[h+1]?null:r[h+1].$elm$,n,r,s,h):V&&s>h&&wt(t,a,l)},xt=function(e,t){return e.$tag$===t.$tag$&&(de&&"slot"===e.$tag$?e.$name$===t.$name$:!G||e.$key$===t.$key$)},St=function(e){return e&&e["s-ol"]||e},_t=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},Et=function(e,t){var n,r=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,a=t.$tag$,s=t.$text$;ee&&null!==s?ee&&de&&(n=r["s-cr"])?n.parentNode.textContent=s:ee&&e.$text$!==s&&(r.data=s):(z&&(Pe="svg"===a||"foreignObject"!==a&&Pe),(H||j)&&(M&&"slot"===a||mt(e,t,Pe)),V&&null!==i&&null!==o?kt(r,i,t,o):null!==o?(V&&ee&&null!==e.$text$&&(r.textContent=""),bt(r,null,t,o,0,o.length-1)):V&&null!==i&&wt(i,0,i.length-1),z&&Pe&&"svg"===a&&(Pe=!1))},Ct=function e(t){var n,r,i,o,a,s,u=t.childNodes;for(r=0,i=u.length;r<i;r++)if(1===(n=u[r]).nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,o=0;o<i;o++)if(s=u[o].nodeType,u[o]["s-hn"]!==n["s-hn"]||""!==a){if(1===s&&a===u[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==u[o].textContent.trim()){n.hidden=!0;break}e(n)}},It=[],Ot=function e(t){for(var n,r,i,o,a,s,u=0,c=t.childNodes,l=c.length;u<l;u++){if((n=c[u])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,o=n["s-sn"],s=i.length-1;s>=0;s--)(r=i[s])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(Zt(r,o)?(a=It.find((function(e){return e.$nodeToRelocate$===r})),Te=!0,r["s-sn"]=r["s-sn"]||o,a?a.$slotRefNode$=n:It.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&It.map((function(e){Zt(e.$nodeToRelocate$,r["s-sn"])&&(a=It.find((function(e){return e.$nodeToRelocate$===r})))&&!e.$slotRefNode$&&(e.$slotRefNode$=a.$slotRefNode$)}))):It.some((function(e){return e.$nodeToRelocate$===r}))||It.push({$nodeToRelocate$:r}));1===n.nodeType&&e(n)}},Zt=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},Tt=function e(t){Q&&(t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e))},At=function(e,t){var n=e.$hostElement$,a=e.$cmpMeta$,s=e.$vnode$||Ge(null,null),u=Qe(t)?t:qe(null,null,t);if(o=n.tagName,oe&&Array.isArray(t)&&t.some(Qe))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(o.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(j&&a.$attrsToReflect$&&(u.$attrs$=u.$attrs$||{},a.$attrsToReflect$.map((function(e){var t=(0,f.Z)(e,2),r=t[0],i=t[1];return u.$attrs$[i]=n[r]}))),u.$tag$=null,u.$flags$|=4,e.$vnode$=u,u.$elm$=s.$elm$=D&&n.shadowRoot||n,(L||D)&&(r=n["s-sc"]),de&&(i=n["s-cr"],Ze=Sn&&0!==(1&a.$flags$),Te=!1),Et(s,u),de){if(kn.$flags$|=1,Ae){var c,l,d,h,p,v;Ot(u.$elm$);for(var m=0;m<It.length;m++)(l=(c=It[m]).$nodeToRelocate$)["s-ol"]||((d=ie||se?Rt(l):bn.createTextNode(""))["s-nr"]=l,l.parentNode.insertBefore(l["s-ol"]=d,l));for(m=0;m<It.length;m++)if(l=(c=It[m]).$nodeToRelocate$,c.$slotRefNode$){for(h=c.$slotRefNode$.parentNode,p=c.$slotRefNode$.nextSibling,d=l["s-ol"];d=d.previousSibling;)if((v=d["s-nr"])&&v["s-sn"]===l["s-sn"]&&h===v.parentNode&&(!(v=v.nextSibling)||!v["s-nr"])){p=v;break}(!p&&h!==l.parentNode||l.nextSibling!==p)&&l!==p&&(!l["s-hn"]&&l["s-ol"]&&(l["s-hn"]=l["s-ol"].parentNode.nodeName),h.insertBefore(l,p))}else 1===l.nodeType&&(l.hidden=!0)}Te&&Ct(u.$elm$),kn.$flags$&=-2,It.length=0}},Pt=function(e){return bn.createComment("<slot".concat(e.$name$?' name="'+e.$name$+'"':"","> (host=").concat(o.toLowerCase(),")"))},Rt=function(e){return bn.createComment("org-location for "+(e.localName?"<".concat(e.localName,"> (host=").concat(e["s-hn"],")"):"[".concat(e.textContent,"]")))},Nt=function(e,t){_e&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},jt=function(e,t){if(ne&&V&&(e.$flags$|=16),!(_e&&4&e.$flags$)){Nt(e,e.$ancestorComponent$);var n=function(){return Lt(e,t)};return ne?jn(n):n()}e.$flags$|=512},Lt=function(e,t){var n,r=e.$hostElement$,i=Me("scheduleUpdate",e.$cmpMeta$.$tagName$),o=le?e.$lazyInstance$:r;return t?(le&&_&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=(0,f.Z)(e,2),n=t[0],r=t[1];return zt(o,n,r)})),e.$queuedListeners$=null)),Ht(r,"componentWillLoad"),y&&(n=zt(o,"componentWillLoad"))):(Ht(r,"componentWillUpdate"),b&&(n=zt(o,"componentWillUpdate"))),Ht(r,"componentWillRender"),w&&(n=Vt(n,(function(){return zt(o,"componentWillRender")}))),i(),Vt(n,(function(){return Dt(e,o,t)}))},Dt=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,n,r){var i,o,a,s,u,l;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.$hostElement$,o=Me("update",t.$cmpMeta$.$tagName$),a=i["s-rc"],U&&r&&ft(t),s=Me("render",t.$cmpMeta$.$tagName$),oe&&(t.$flags$|=1024),!se){e.next=11;break}return e.next=9,Mt(t,n,i);case 9:e.next=12;break;case 11:Mt(t,n,i);case 12:if(be&&kn.$cssShim$&&kn.$cssShim$.updateHost(i),oe&&(t.$renderCount$++,t.$flags$&=-1025),se)try{$t(i),r&&(1&t.$cmpMeta$.$flags$?i["s-en"]="":2&t.$cmpMeta$.$flags$&&(i["s-en"]="c"))}catch(c){ln(c,i)}_e&&a&&(a.map((function(e){return e()})),i["s-rc"]=void 0),s(),o(),_e?(u=i["s-p"],l=function(){return Ft(t)},0===u.length?l():(Promise.all(u).then(l),t.$flags$|=4,u.length=0)):Ft(t);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Mt=function(e,t,n){var r=!!h,i=!!le,o=!!ne,a=!!V;try{if(t,t=(r||t.render)&&t.render(),a&&o&&(e.$flags$&=-17),(a||i)&&(e.$flags$|=2),S||j)if(Y||j){if(se)return Promise.resolve(t).then((function(t){return At(e,t)}));At(e,t)}else n.textContent=t}catch(s){ln(s,e.$hostElement$)}return null,null},Ft=function(e){var t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=Me("postUpdate",t),i=le?e.$lazyInstance$:n,o=e.$ancestorComponent$;g&&(oe&&(e.$flags$|=1024),zt(i,"componentDidRender"),oe&&(e.$flags$&=-1025)),Ht(n,"componentDidRender"),64&e.$flags$?(m&&(oe&&(e.$flags$|=1024),zt(i,"componentDidUpdate"),oe&&(e.$flags$&=-1025)),Ht(n,"componentDidUpdate"),r()):(e.$flags$|=64,_e&&F&&Wt(n),p&&(oe&&(e.$flags$|=2048),zt(i,"componentDidLoad"),oe&&(e.$flags$&=-2049)),Ht(n,"componentDidLoad"),r(),_e&&(e.$onReadyResolve$(n),o||Ut(t))),re&&n["s-hmr-load"]&&n["s-hmr-load"](),A&&le&&e.$onInstanceResolve$(n),_e&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Rn((function(){return jt(e,!1)})),e.$flags$&=-517)},Bt=function(e){if(V){var t=sn(e),n=t.$hostElement$.isConnected;return n&&2===(18&t.$flags$)&&jt(t,!1),n}return!1},Ut=function(e){F&&Wt(bn.documentElement),Ee&&(kn.$flags$|=2),Rn((function(){return st(yn,"appload",{detail:{namespace:Ie}})})),fe&&performance.measure&&performance.measure("[Stencil] ".concat(Ie," initial load (by ").concat(e,")"),"st:app:start")},zt=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(r){ln(r)}},Vt=function(e,t){return e&&e.then?e.then(t):t()},Ht=function(e,t){ce&&st(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:Ie}})},Wt=function(e){return pe?e.classList.add("hydrated"):he?e.setAttribute("hydrated",""):void 0},$t=function e(t){var n=t.children;if(null!=n)for(var r=0,i=n.length;r<i;r++){var o=n[r];"function"===typeof o.connectedCallback&&o.connectedCallback(),e(o)}},qt=function(e,t,n,r){var i,o,a=sn(e),s=le?a.$hostElement$:e,u=a.$instanceValues$.get(t),c=a.$flags$,l=le?a.$lazyInstance$:s;i=n,o=r.$members$[t][0],n=null==i||We(i)?i:me&&4&o?"false"!==i&&(""===i||!!i):ge&&2&o?parseFloat(i):ye&&1&o?String(i):i;var f=Number.isNaN(u)&&Number.isNaN(n);if((!le||!(8&c)||void 0===u)&&(n!==u&&!f)&&(a.$instanceValues$.set(t,n),oe&&(1024&a.$flags$?hn('The state/prop "'.concat(t,'" changed during rendering. This can potentially lead to infinite-loops and other bugs.'),"\nElement",s,"\nNew value",n,"\nOld value",u):2048&a.$flags$&&hn('The state/prop "'.concat(t,'" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"'),"\nElement",s,"\nNew value",n,"\nOld value",u)),!le||l)){if(te&&r.$watchers$&&128&c){var d=r.$watchers$[t];d&&d.map((function(e){try{l[e](n,u,t)}catch(r){ln(r,s)}}))}if(V&&2===(18&c)){if(ke&&l.componentShouldUpdate&&!1===l.componentShouldUpdate(n,u,t))return;jt(a,!1)}}},Gt=function(e,t,n){if(T&&t.$members$){te&&e.watchers&&(t.$watchers$=e.watchers);var r=Object.entries(t.$members$),i=e.prototype;if(r.map((function(e){var r=(0,f.Z)(e,2),o=r[0],a=(0,f.Z)(r[1],1)[0];(N||B)&&(31&a||(!le||2&n)&&32&a)?Object.defineProperty(i,o,{get:function(){return e=o,sn(this).$instanceValues$.get(e);var e},set:function(e){if(oe){var r=sn(this);0===(1&n)&&0===(8&r.$flags$)&&0!==(31&a)&&0===(1024&a)&&hn('@Prop() "'.concat(o,'" on <').concat(t.$tagName$,"> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability"))}qt(this,o,e,t)},configurable:!0,enumerable:!0}):le&&A&&1&n&&64&a&&Object.defineProperty(i,o,{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=sn(this);return r.$onInstancePromise$.then((function(){var e;return(e=r.$lazyInstance$)[o].apply(e,t)}))}})})),R&&(!le||1&n)){var o=new Map;i.attributeChangedCallback=function(e,t,n){var r=this;kn.jmp((function(){var t=o.get(e);if(r.hasOwnProperty(t))n=r[t],delete r[t];else if(i.hasOwnProperty(t)&&"number"===typeof r[t]&&r[t]==n)return;r[t]=(null!==n||"boolean"!==typeof r[t])&&n}))},e.observedAttributes=r.filter((function(e){var t=(0,f.Z)(e,2);t[0];return 15&t[1][0]})).map((function(e){var n=(0,f.Z)(e,2),r=n[0],i=n[1],a=i[1]||r;return o.set(a,r),j&&512&i[0]&&t.$attrsToReflect$.push([r,a]),a}))}}return e},Kt=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(t,r,i,o,a){var s,u,l,f,d,h,p;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(le||se||U)||0!==(32&r.$flags$)){e.next=37;break}if(!le&&!ue){e.next=22;break}if(r.$flags$|=32,!(a=vn(i,r,o)).then){e.next=10;break}return s=Fe("st:load:".concat(i.$tagName$,":").concat(r.$modeName$),"[Stencil] Load module for <".concat(i.$tagName$,">")),e.next=8,a;case 8:a=e.sent,s();case 10:if(!oe&&!ie||a){e.next=12;break}throw new Error('Constructor for "'.concat(i.$tagName$,"#").concat(r.$modeName$,'" was not found'));case 12:T&&!a.isProxied&&(te&&(i.$watchers$=a.watchers),Gt(a,i,2),a.isProxied=!0),u=Me("createInstance",i.$tagName$),T&&(r.$flags$|=8);try{new a(r)}catch(c){ln(c)}T&&(r.$flags$&=-9),te&&(r.$flags$|=128),u(),Qt(r.$lazyInstance$),e.next=25;break;case 22:a=t.constructor,r.$flags$|=32,customElements.whenDefined(i.$tagName$).then((function(){return r.$flags$|=128}));case 25:if(!U||!a.style){e.next=37;break}if(l=a.style,P&&"string"!==typeof l&&(l=l[r.$modeName$=rt(t)],se&&r.$modeName$&&t.setAttribute("s-mode",r.$modeName$)),f=dt(i,r.$modeName$),mn.has(f)){e.next=37;break}if(d=Me("registerStyles",i.$tagName$),!(!se&&D&&ve&&8&i.$flags$)){e.next=35;break}return e.next=34,n.e(336).then(n.bind(n,1336)).then((function(e){return e.scopeCss(l,f,!1)}));case 34:l=e.sent;case 35:ct(f,l,!!(1&i.$flags$)),d();case 37:h=r.$ancestorComponent$,p=function(){return jt(r,!0)},_e&&h&&h["s-rc"]?h["s-rc"].push(p):p();case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Qt=function(e){le&&k&&zt(e,"connectedCallback")},Jt=function(e){if(0===(1&kn.$flags$)){var t=sn(e),n=t.$cmpMeta$,r=Me("connectedCallback",n.$tagName$);if(O&&tn(e,t,n.$listeners$,!0),1&t.$flags$)tn(e,t,n.$listeners$,!1),Qt(t.$lazyInstance$);else{var i;if(t.$flags$|=1,ue&&(i=e.getAttribute(Be))){if(D&&Sn&&1&n.$flags$){var o=P?lt(e.shadowRoot,n,e.getAttribute("s-mode")):lt(e.shadowRoot,n);e.classList.remove(o+"-h",o+"-s")}!function(e,t,n,r){var i=Me("hydrateClient",t),o=e.shadowRoot,a=[],s=D&&o?[]:null,u=r.$vnode$=Ge(t,null);kn.$orgLocNodes$||nt(bn.body,kn.$orgLocNodes$=new Map),e[Be]=n,e.removeAttribute(Be),tt(u,a,[],s,e,e,n),a.map((function(e){var n=e.$hostId$+"."+e.$nodeId$,r=kn.$orgLocNodes$.get(n),i=e.$elm$;r&&Sn&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),o||(i["s-hn"]=t,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),kn.$orgLocNodes$.delete(n)})),D&&o&&s.map((function(e){e&&o.appendChild(e)})),i()}(e,n.$tagName$,i,t)}if(de&&!i&&(se||(M||D)&&12&n.$flags$)&&Yt(e),_e)for(var a=e;a=a.parentNode||a.host;)if(ue&&1===a.nodeType&&a.hasAttribute("s-id")&&a["s-p"]||a["s-p"]){Nt(t,t.$ancestorComponent$=a);break}N&&!se&&n.$members$&&Object.entries(n.$members$).map((function(t){var n=(0,f.Z)(t,2),r=n[0];if(31&(0,f.Z)(n[1],1)[0]&&e.hasOwnProperty(r)){var i=e[r];delete e[r],e[r]=i}})),Se?Rn((function(){return Kt(e,t,n)})):Kt(e,t,n)}r()}},Yt=function(e){var t=e["s-cr"]=bn.createComment(ie?"content-ref (host=".concat(e.localName,")"):"");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Xt=function(e){if(0===(1&kn.$flags$)){var t=sn(e),n=le?t.$lazyInstance$:e;_&&t.$rmListeners$&&(t.$rmListeners$.map((function(e){return e()})),t.$rmListeners$=void 0),be&&kn.$cssShim$&&kn.$cssShim$.removeHost(e),le&&x&&zt(n,"disconnectedCallback"),v&&zt(n,"componentDidUnload")}},en=function(e,t){var n={$flags$:t[0],$tagName$:t[1]};T&&(n.$members$=t[2]),_&&(n.$listeners$=t[3]),te&&(n.$watchers$=e.$watchers$),j&&(n.$attrsToReflect$=[]),D&&!Sn&&1&n.$flags$&&(n.$flags$|=8);var r=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost:function(){un(this,n)},connectedCallback:function(){Jt(this),k&&r&&r.call(this)},disconnectedCallback:function(){Xt(this),x&&i&&i.call(this)},__attachShadow:function(){Sn?xe?this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),e.is=n.$tagName$,Gt(e,n,3)},tn=function(e,t,n,r){_&&n&&(O&&(n=r?n.filter((function(e){return 32&(0,f.Z)(e,1)[0]})):n.filter((function(e){return!(32&(0,f.Z)(e,1)[0])}))),n.map((function(n){var r=(0,f.Z)(n,3),i=r[0],o=r[1],a=r[2],s=Z?rn(e,i):e,u=nn(t,a),c=on(i);kn.ael(s,o,u,c),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return kn.rel(s,o,u,c)}))})))},nn=function(e,t){return function(n){try{le?256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n]):e.$hostElement$[t](n)}catch(r){ln(r)}}},rn=function(e,t){return C&&4&t?bn:E&&8&t?yn:I&&16&t?bn.body:O&&32&t?e.parentElement:e},on=function(e){return _n?{passive:0!==(1&e),capture:0!==(2&e)}:0!==(2&e)},an=new WeakMap,sn=function(e){return an.get(e)},un=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return oe&&(n.$renderCount$=0),A&&le&&(n.$onInstancePromise$=new Promise((function(e){return n.$onInstanceResolve$=e}))),_e&&(n.$onReadyPromise$=new Promise((function(e){return n.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[]),tn(e,n,t.$listeners$,!1),an.set(e,n)},cn=function(e,t){return t in e},ln=function(e,t){return(a||console.error)(e,t)},fn=ae?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],dn=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,fn.concat(n))},hn=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,fn.concat(n))},pn=new Map,vn=function(e,t,r){var i=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$;if(!oe||"string"===typeof o){var a=!re&&pn.get(o);return a?a[i]:n(6031)("./".concat(o,".entry.js").concat(re&&r?"?s-hmr="+r:"")).then((function(e){return re||pn.set(o,e),e[i]}),ln)}dn("Trying to lazily load component <".concat(e.$tagName$,'> with style mode "').concat(t.$modeName$,'", but it does not exist.'))},mn=new Map,gn=[],yn="undefined"!==typeof window?window:{},bn=(be&&yn.CSS,yn.document||{head:{}}),wn=yn.HTMLElement||function(){return(0,u.Z)((function e(){(0,s.Z)(this,e)}))}(),kn={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,r){return e.addEventListener(t,n,r)},rel:function(e,t,n,r){return e.removeEventListener(t,n,r)},ce:function(e,t){return new CustomEvent(e,t)}},xn=function(e){Object.assign(kn,e)},Sn=!ve||!D||function(){return(bn.head.attachShadow+"").indexOf("[native")>-1}(),_n=function(){var e=!1;try{bn.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(t){}return e}(),En=!!we&&function(){try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1}(),Cn=[],In=[],On=[],Zn=function(e,t){return function(n){e.push(n),Ne||(Ne=!0,t&&4&kn.$flags$?Rn(Pn):kn.raf(Pn))}},Tn=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){ln(n)}e.length=0},An=function(e,t){for(var n=0,r=0;n<e.length&&(r=performance.now())<t;)try{e[n++](r)}catch(i){ln(i)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},Pn=function e(){if(Ee&&Re++,Tn(Cn),Ee){var t=2===(6&kn.$flags$)?performance.now()+14*Math.ceil(.1*Re):1/0;An(In,t),An(On,t),In.length>0&&(On.push.apply(On,In),In.length=0),(Ne=Cn.length+In.length+On.length>0)?kn.raf(e):Re=0}else Tn(In),(Ne=Cn.length>0)&&kn.raf(e)},Rn=function(e){return Promise.resolve(t).then(e);var t},Nn=Zn(Cn,!1),jn=Zn(In,!0)},913:function(e,t,n){"use strict";var r=n(1093),i=n(893),o=n(9560);function a(e,t,n){return new r(e,t,n)}a.version=n(5288),a.AlgoliaSearchHelper=r,a.SearchParameters=i,a.SearchResults=o,e.exports=a},8994:function(e,t,n){"use strict";var r=n(5127);function i(e,t){this.main=e,this.fn=t,this.lastResults=null}n(8154)(i,r),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=i},7763:function(e,t,n){"use strict";var r=n(3195),i=n(26),o=n(76),a={addRefinement:function(e,t,n){if(a.isRefined(e,t,n))return e;var i=""+n,o=e[t]?e[t].concat(i):[i],s={};return s[t]=o,r({},s,e)},removeRefinement:function(e,t,n){if(void 0===n)return a.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return a.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return a.isRefined(e,t,n)?a.removeRefinement(e,t,n):a.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return o(e)?{}:e;if("string"===typeof t)return i(e,[t]);if("function"===typeof t){var r=!1,a=Object.keys(e).reduce((function(i,o){var a=e[o]||[],s=a.filter((function(e){return!t(e,o,n)}));return s.length!==a.length&&(r=!0),i[o]=s,i}),{});return r?a:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}};e.exports=a},893:function(e,t,n){"use strict";var r=n(3492),i=n(3195),o=n(5612),a=n(1899),s=n(1009),u=n(26),c=n(76),l=n(8224),f=n(7763);function d(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return d(t[n],e)})):e===t}function h(e){var t=e?h._parseNumbers(e):{};void 0===t.userToken||l(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==h.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}h.PARAMETERS=Object.keys(new h),h._parseNumbers=function(e){if(e instanceof h)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"===typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"===typeof e?parseFloat(e):e})):"string"===typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return r({},e,t)},h.make=function(e){var t=new h(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},h.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&c(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):c(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},h.prototype={constructor:h,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:f.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:f.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:f.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:f.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var i=s(n);if(this.isNumericRefined(e,t,i))return this;var o=r({},this.numericRefinements);return o[e]=r({},o[e]),o[e][t]?(o[e][t]=o[e][t].slice(),o[e][t].push(i)):o[e][t]=[i],this.setQueryParameters({numericRefinements:o})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===e&&r.op===t&&d(r.val,s(n))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return c(this.numericRefinements)?{}:this.numericRefinements;if("string"===typeof e)return u(this.numericRefinements,[e]);if("function"===typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var o=n[i],a={};return o=o||{},Object.keys(o).forEach((function(n){var r=o[n]||[],s=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||s.push(t)})),s.length!==r.length&&(t=!0),a[n]=s})),r[i]=a,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:f.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:f.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:f.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:f.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:f.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:f.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:f.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:f.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:f.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:i({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:i({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&f.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,o,u=s(n),c=void 0!==(i=this.numericRefinements[e][t],o=u,a(i,(function(e){return d(e,o)})));return r&&c},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=o(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return o(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0})))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=h.validate(this,e);if(t)throw t;var n=this,r=h._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),o=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?u(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!==typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return a(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}},e.exports=h},9579:function(e,t,n){"use strict";e.exports=function(e){return function(t,n){var a=e.hierarchicalFacets[n],c=e.hierarchicalFacetsRefinements[a.name]&&e.hierarchicalFacetsRefinements[a.name][0]||"",l=e._getHierarchicalFacetSeparator(a),f=e._getHierarchicalRootPath(a),d=e._getHierarchicalShowParentLevel(a),h=o(e._getHierarchicalFacetSortBy(a)),p=t.every((function(e){return e.exhaustive})),v=function(e,t,n,o,a){return function(c,l,f){var d=c;if(f>0){var h=0;for(d=c;h<f;){var p=d&&Array.isArray(d.data)?d.data:[];d=i(p,(function(e){return e.isRefined})),h++}}if(d){var v=Object.keys(l.data).map((function(e){return[e,l.data[e]]})).filter((function(e){return function(e,t,n,r,i,o){if(i&&(0!==e.indexOf(i)||i===e))return!1;return!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length===1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(o||0===e.indexOf(n))}(e[0],d.path||n,a,t,n,o)}));d.data=r(v.map((function(e){var n=e[0];return function(e,t,n,r,i){var o=t.split(n);return{name:o[o.length-1].trim(),path:t,escapedValue:s(t),count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],n,t,u(a),l.exhaustive)})),e[0],e[1])}return c}}(h,l,f,d,c),m=t;return f&&(m=t.slice(f.split(l).length)),m.reduce(v,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:p,data:null})}};var r=n(234),i=n(1899),o=n(9025),a=n(3810),s=a.escapeFacetValue,u=a.unescapeFacetValue},9560:function(e,t,n){"use strict";var r=n(3492),i=n(3195),o=n(234),a=n(2582),s=n(1899),u=n(3972),c=n(9025),l=n(3810),f=l.escapeFacetValue,d=l.unescapeFacetValue,h=n(9579);function p(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function v(e,t,n){t&&t[n]&&(e.stats=t[n])}function m(e,t,n){var o=t[0];this._rawResults=t;var c=this;Object.keys(o).forEach((function(e){c[e]=o[e]})),Object.keys(n||{}).forEach((function(e){c[e]=n[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var l=e.getRefinedDisjunctiveFacets(),f=p(e.facets),m=p(e.disjunctiveFacets),g=1,y=o.facets||{};Object.keys(y).forEach((function(t){var n,r,i=y[t],a=(n=e.hierarchicalFacets,r=t,s(n,(function(e){return(e.attributes||[]).indexOf(r)>-1})));if(a){var l=a.attributes.indexOf(t),d=u(e.hierarchicalFacets,(function(e){return e.name===a.name}));c.hierarchicalFacets[d][l]={attribute:t,data:i,exhaustive:o.exhaustiveFacetsCount}}else{var h,p=-1!==e.disjunctiveFacets.indexOf(t),g=-1!==e.facets.indexOf(t);p&&(h=m[t],c.disjunctiveFacets[h]={name:t,data:i,exhaustive:o.exhaustiveFacetsCount},v(c.disjunctiveFacets[h],o.facets_stats,t)),g&&(h=f[t],c.facets[h]={name:t,data:i,exhaustive:o.exhaustiveFacetsCount},v(c.facets[h],o.facets_stats,t))}})),this.hierarchicalFacets=a(this.hierarchicalFacets),l.forEach((function(n){var a=t[g],s=a&&a.facets?a.facets:{},l=e.getHierarchicalFacetByName(n);Object.keys(s).forEach((function(t){var n,f=s[t];if(l){n=u(e.hierarchicalFacets,(function(e){return e.name===l.name}));var h=u(c.hierarchicalFacets[n],(function(e){return e.attribute===t}));if(-1===h)return;c.hierarchicalFacets[n][h].data=r({},c.hierarchicalFacets[n][h].data,f)}else{n=m[t];var p=o.facets&&o.facets[t]||{};c.disjunctiveFacets[n]={name:t,data:i({},f,p),exhaustive:a.exhaustiveFacetsCount},v(c.disjunctiveFacets[n],a.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(r){!c.disjunctiveFacets[n].data[r]&&e.disjunctiveFacetsRefinements[t].indexOf(d(r))>-1&&(c.disjunctiveFacets[n].data[r]=0)}))}})),g++})),e.getRefinedHierarchicalFacets().forEach((function(n){var r=e.getHierarchicalFacetByName(n),o=e._getHierarchicalFacetSeparator(r),a=e.getHierarchicalRefinement(n);0===a.length||a[0].split(o).length<2||t.slice(g).forEach((function(t){var n=t&&t.facets?t.facets:{};Object.keys(n).forEach((function(t){var s=n[t],l=u(e.hierarchicalFacets,(function(e){return e.name===r.name})),f=u(c.hierarchicalFacets[l],(function(e){return e.attribute===t}));if(-1!==f){var d={};if(a.length>0){var h=a[0].split(o)[0];d[h]=c.hierarchicalFacets[l][f].data[h]}c.hierarchicalFacets[l][f].data=i(d,s,c.hierarchicalFacets[l][f].data)}})),g++}))})),Object.keys(e.facetsExcludes).forEach((function(t){var n=e.facetsExcludes[t],r=f[t];c.facets[r]={name:t,data:y[t],exhaustive:o.exhaustiveFacetsCount},n.forEach((function(e){c.facets[r]=c.facets[r]||{name:t},c.facets[r].data=c.facets[r].data||{},c.facets[r].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(h(e)),this.facets=a(this.facets),this.disjunctiveFacets=a(this.disjunctiveFacets),this._state=e}function g(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=s(e.facets,n);return r?Object.keys(r.data).map((function(n){var i=f(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=s(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){var r=f(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,r)}})):[]}if(e._state.isHierarchicalFacet(t)){var o=s(e.hierarchicalFacets,n);if(!o)return o;var a=e._state.getHierarchicalFacetByName(t),u=d(e._state.getHierarchicalRefinement(t)[0]||"").split(e._state._getHierarchicalFacetSeparator(a));return u.unshift(t),y(o,u,0),o}}function y(e,t,n){e.isRefined=e.name===t[n],e.data&&e.data.forEach((function(e){y(e,t,n+1)}))}function b(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var o=t.data.map((function(t){return b(e,t,n,r+1)})),a=e(o,n[r]);return i({data:a},t)}function w(e,t){var n=s(e,(function(e){return e.name===t}));return n&&n.stats}function k(e,t,n,r,i){var o=s(i,(function(e){return e.name===n})),a=o&&o.data&&o.data[r]?o.data[r]:0,u=o&&o.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:u}}m.prototype.getFacetByName=function(e){function t(t){return t.name===e}return s(this.facets,t)||s(this.disjunctiveFacets,t)||s(this.hierarchicalFacets,t)},m.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],m.prototype.getFacetValues=function(e,t){var n=g(this,e);if(n){var r,a=i({},t,{sortBy:m.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),s=this;if(Array.isArray(n))r=[e];else r=s._state.getHierarchicalFacetByName(n.name).attributes;return b((function(e,t){if(a.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(s,t);if(Boolean(n))return function(e,t){var n=[],r=[],i=(t.order||[]).reduce((function(e,t,n){return e[t]=n,e}),{});e.forEach((function(e){var t=e.path||e.name;void 0!==i[t]?n[i[t]]=e:r.push(e)})),n=n.filter((function(e){return e}));var a,s=t.sortRemainingBy;return"hidden"===s?n:(a="alpha"===s?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(o(r,a[0],a[1])))}(e,n)}if(Array.isArray(a.sortBy)){var r=c(a.sortBy,m.DEFAULT_SORT);return o(e,r[0],r[1])}if("function"===typeof a.sortBy)return function(e,t){return t.sort(e)}(a.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,r)}},m.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?w(this.facets,e):this._state.isDisjunctiveFacet(e)?w(this.disjunctiveFacets,e):void 0},m.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(i){n.push(k(e,"facet",r,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(i){n.push(k(e,"exclude",r,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(k(e,"disjunctive",r,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),o=e._getHierarchicalFacetSeparator(i),a=n.split(o),u=s(r,(function(e){return e.name===t})),c=a.reduce((function(e,t){var n=e&&s(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),u),l=c&&c.count||0,f=c&&c.exhaustive||!1,d=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:d,count:l,exhaustive:f}}(e,r,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n},e.exports=m},1093:function(e,t,n){"use strict";var r=n(893),i=n(9560),o=n(8994),a=n(5319),s=n(5127),u=n(8154),c=n(76),l=n(26),f=n(3492),d=n(5288),h=n(3810).escapeFacetValue;function p(e,t,n){"function"===typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+d+")"),this.setClient(e);var i=n||{};i.index=t,this.state=r.make(i),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function v(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function m(){return this.state.page}u(p,s),p.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},p.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},p.prototype.getQuery=function(){var e=this.state;return a._getHitsSearchParams(e)},p.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=a._getQueries(n.index,n),o=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),{content:new i(n,e.results),state:n,_originalResponse:e}}),(function(e){throw o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),t(null,new i(n,e.results),n)})).catch((function(e){o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),t(e,null,n)}))},p.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=f({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:l(a._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!==typeof this.client.initIndex)throw new Error(o);var s=this.client.initIndex(r.index);if("function"!==typeof s.findAnswers)throw new Error(o);return s.findAnswers(r.query,e.queryLanguages,i)},p.prototype.searchForFacetValues=function(e,t,n,r){var i="function"===typeof this.client.searchForFacetValues,o="function"===typeof this.client.initIndex;if(!i&&!o&&"function"!==typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(r||{}),u=s.isDisjunctiveFacet(e),c=a.getSearchForFacetQuery(e,t,n,s);this._currentNbQueries++;var l,f=this;return i?l=this.client.searchForFacetValues([{indexName:s.index,params:c}]):o?l=this.client.initIndex(s.index).searchForFacetValues(c):(delete c.facetName,l=this.client.search([{type:"facet",facet:e,indexName:s.index,params:c}]).then((function(e){return e.results[0]}))),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),l.then((function(t){return f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=h(t.value),t.isRefined=u?s.isDisjunctiveFacetRefined(e,t.escapedValue):s.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw f._currentNbQueries--,0===f._currentNbQueries&&f.emit("searchQueueEmpty"),e}))},p.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},p.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},p.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},p.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},p.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},p.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},p.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},p.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},p.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},p.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},p.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},p.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},p.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},p.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},p.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},p.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},p.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},p.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},p.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},p.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},p.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},p.prototype.setCurrentPage=v,p.prototype.setPage=v,p.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},p.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},p.prototype.setState=function(e){return this._change({state:r.make(e),isPageReset:!1}),this},p.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new r(e),this},p.prototype.hasRefinements=function(e){return!!c(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},p.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},p.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},p.prototype.hasTag=function(e){return this.state.isTagRefined(e)},p.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},p.prototype.getIndex=function(){return this.state.index},p.prototype.getCurrentPage=m,p.prototype.getPage=m,p.prototype.getTags=function(){return this.state.tagRefinements},p.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},p.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},p.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},p.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=a._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=r.index?a._getQueries(r.index,r):[];return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),o=Array.prototype.concat.apply(r,i),s=this._queryId++;if(this._currentNbQueries++,!o.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,s));try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,n,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(u){this.emit("error",{error:u})}},p.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach((function(e){var t=e.state,n=e.queriesCount,o=e.helper,a=r.splice(0,n);if(t.index){var s=o.lastResults=new i(t,a);o.emit("result",{results:s,state:t})}else o.emit("result",{results:null,state:t})}))}},p.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},p.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},p.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},p.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},p.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},p.prototype.setClient=function(e){return this.client===e||("function"===typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+d+")"),this.client=e),this},p.prototype.getClient=function(){return this.client},p.prototype.derive=function(e){var t=new o(this,e);return this.derivedHelpers.push(t),t},p.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},p.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=p},2582:function(e){"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},3195:function(e){"use strict";e.exports=function(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})}},3810:function(e){"use strict";e.exports={escapeFacetValue:function(e){return"string"!==typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!==typeof e?e:e.replace(/^\\-/,"-")}}},1899:function(e){"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},3972:function(e){"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}},9025:function(e,t,n){"use strict";var r=n(1899);e.exports=function(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var i=t.split(":"),o=r(n,(function(e){return e[0]===i[0]}));return i.length>1||!o?(e[0].push(i[0]),e[1].push(i[1]),e):(e[0].push(o[0]),e[1].push(o[1]),e)}),[[],[]])}},8154:function(e){"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},5612:function(e){"use strict";e.exports=function(e,t){return e.filter((function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r}))}},3492:function(e){"use strict";function t(e){return"function"===typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function n(e,r){if(e===r)return e;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&"__proto__"!==i&&"constructor"!==i){var o=r[i],a=e[i];"undefined"!==typeof a&&"undefined"===typeof o||(t(a)&&t(o)?e[i]=n(a,o):e[i]="object"===typeof(s=o)&&null!==s?n(Array.isArray(s)?[]:{},s):s)}var s;return e}e.exports=function(e){t(e)||(e={});for(var r=1,i=arguments.length;r<i;r++){var o=arguments[r];t(o)&&n(e,o)}return e}},76:function(e){"use strict";e.exports=function(e){return e&&Object.keys(e).length>0}},26:function(e){"use strict";e.exports=function(e,t){if(null===e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},234:function(e){"use strict";function t(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,o=null===t;if(!o&&e>t||r&&i||!n)return 1;if(!r&&e<t||o&&n||!i)return-1}return 0}e.exports=function(e,n,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var i=e.map((function(e,t){return{criteria:n.map((function(t){return e[t]})),index:t,value:e}}));return i.sort((function(e,n){for(var i=-1;++i<e.criteria.length;){var o=t(e.criteria[i],n.criteria[i]);if(o)return i>=r.length?o:"desc"===r[i]?-o:o}return e.index-n.index})),i.map((function(e){return e.value}))}},1009:function(e){"use strict";e.exports=function e(t){if("number"===typeof t)return t;if("string"===typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},5319:function(e,t,n){"use strict";var r=n(3492);function i(e){return Object.keys(e).sort((function(e,t){return e.localeCompare(t)})).reduce((function(t,n){return t[n]=e[n],t}),{})}var o={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:o._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:o._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var i=t.getHierarchicalFacetByName(r),a=t.getHierarchicalRefinement(r),s=t._getHierarchicalFacetSeparator(i);if(a.length>0&&a[0].split(s).length>1){var u=a[0].split(s).slice(0,-1).reduce((function(e,t,n){return e.concat({attribute:i.attributes[n],value:0===n?t:[e[e.length-1].value,t].join(s)})}),[]);u.forEach((function(r,a){var s=o._getDisjunctiveFacetSearchParams(t,r.attribute,0===a);function c(e){return i.attributes.some((function(t){return t===e.split(":")[0]}))}var l=(s.facetFilters||[]).reduce((function(e,t){if(Array.isArray(t)){var n=t.filter((function(e){return!c(e)}));n.length>0&&e.push(n)}return"string"!==typeof t||c(t)||e.push(t),e}),[]),f=u[a-1];s.facetFilters=a>0?l.concat(f.attribute+":"+f.value):l.length>0?l:void 0,n.push({indexName:e,params:s})}))}})),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(o._getHitsHierarchicalFacetsAttributes(e)),n=o._getFacetFilters(e),a=o._getNumericFilters(e),s=o._getTagFilters(e),u={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:s};return n.length>0&&(u.facetFilters=n),a.length>0&&(u.numericFilters=a),i(r({},e.getQueryParams(),u))},_getDisjunctiveFacetSearchParams:function(e,t,n){var a=o._getFacetFilters(e,t,n),s=o._getNumericFilters(e,t),u=o._getTagFilters(e),c={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};u.length>0&&(c.tagFilters=u);var l=e.getHierarchicalFacetByName(t);return c.facets=l?o._getDisjunctiveHierarchicalFacetAttribute(e,l,n):t,s.length>0&&(c.numericFilters=s),a.length>0&&(c.facetFilters=a),i(r({},e.getQueryParams(),c))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var o=i[e]||[];t!==r&&o.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach((function(e){(i[e]||[]).forEach((function(t){r.push(e+":"+t)}))}));var o=e.facetsExcludes||{};Object.keys(o).forEach((function(e){(o[e]||[]).forEach((function(t){r.push(e+":-"+t)}))}));var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).forEach((function(e){var n=a[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var s=e.hierarchicalFacetsRefinements||{};return Object.keys(s).forEach((function(i){var o=(s[i]||[])[0];if(void 0!==o){var a,u,c=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(c),f=e._getHierarchicalRootPath(c);if(t===i){if(-1===o.indexOf(l)||!f&&!0===n||f&&f.split(l).length===o.split(l).length)return;f?(u=f.split(l).length-1,o=f):(u=o.split(l).length-2,o=o.slice(0,o.lastIndexOf(l))),a=c.attributes[u]}else u=o.split(l).length-1,a=c.attributes[u];a&&r.push([a+":"+o])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),o=r.split(i).length,a=n.attributes.slice(0,o+1);return t.concat(a)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),o=0;return i&&(o=i.split(r).length),[t.attributes[o]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,n,a){var s=a.isDisjunctiveFacet(e)?a.clearRefinements(e):a,u={facetQuery:t,facetName:e};return"number"===typeof n&&(u.maxFacetHits=n),i(r({},o._getHitsSearchParams(s),u))}};e.exports=o},8224:function(e){"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},5288:function(e){"use strict";e.exports="3.13.1"},8831:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},o=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(e),r=o()[n];return Promise.all([r||t(),void 0!==r])})).then((function(e){var t=i(e,2),r=t[0],o=t[1];return Promise.all([r,o||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(e)]=t,r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=o();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function s(e){var t=o(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return s({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return s({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return s({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return s({caches:t}).clear()}))}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=r(),s=i&&i.miss||function(){return Promise.resolve()};return a.then((function(e){return s(e)})).then((function(){return a}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function l(e,t){return t?(Object.keys(t).forEach((function(n){e[n]=t[n](e)})),e):e}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var d={WithinQueryParameters:0,WithinHeaders:1};function h(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var p={Read:1,Write:2,Any:3},v=1,m=2,g=3;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return"string"==typeof e?{protocol:"https",url:e,accept:p.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||p.Any}}var w="GET",k="POST";function x(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(y(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return e.status===v||Date.now()-e.lastUpdate>12e4}(e)})),r=e.filter((function(e){return function(e){return e.status===g&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(o(n),o(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return b(e)})):t}}))}function S(e,t,r,i){var a=[],s=function(e,t){if(e.method!==w&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),u=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach((function(e){var t=r[e];i[e.toLowerCase()]=t})),i}(e,i),c=r.method,l=r.method!==w?{}:n(n({},r.data),i.data),f=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),i.queryParameters),d=0,h=function t(n,o){var l=n.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:I(a)};var h={data:s,headers:u,method:c,url:E(l,r.path,f),connectTimeout:o(d,e.timeouts.connect),responseTimeout:o(d,i.timeout)},p=function(e){var t={request:h,response:e,host:l,triesLeft:n.length};return a.push(t),t},v={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=p(r);return r.isTimedOut&&d++,Promise.all([e.logger.info("Retryable failure",O(i)),e.hostsCache.set(l,y(l,r.isTimedOut?g:m))]).then((function(){return t(n,o)}))},onFail:function(e){throw p(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,I(a))}};return e.requester.send(h).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,v)}))};return x(e.hostsCache,t).then((function(e){return h(o(e.statelessHosts).reverse(),e.getTimeout)}))}function _(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function E(e,t,n){var r=C(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function C(e){return Object.keys(e).map((function(t){return f("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function I(e){return e.map((function(e){return O(e)}))}function O(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var Z=function(e){var t=e.appId,r=function(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===d.WithinHeaders?r:{}},queryParameters:function(){return e===d.WithinQueryParameters?r:{}}}}(void 0!==e.authMode?e.authMode:d.WithinHeaders,t,e.apiKey),o=function(e){var t=e.hostsCache,n=e.logger,r=e.requester,o=e.requestsCache,a=e.responsesCache,s=e.timeouts,u=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:n,requester:r,requestsCache:o,responsesCache:a,timeouts:s,userAgent:u,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var n=h(t,f.timeouts.read),r=function(){return S(f,f.hosts.filter((function(e){return 0!=(e.accept&p.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var o={request:e,mappedRequestOptions:n,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(o,(function(){return f.requestsCache.get(o,(function(){return f.requestsCache.set(o,r()).then((function(e){return Promise.all([f.requestsCache.delete(o),e])}),(function(e){return Promise.all([f.requestsCache.delete(o),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return f.responsesCache.set(o,e)}})},write:function(e,t){return S(f,f.hosts.filter((function(e){return 0!=(e.accept&p.Write)})),e,h(t,f.timeouts.write))}};return f}(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:p.Read},{url:"".concat(t,".algolia.net"),accept:p.Write}].concat(c([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return l({transporter:o,appId:t,addAlgoliaAgent:function(e,t){o.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then((function(){}))}},e.methods)},T=function(e){return function(t,n){return t.method===w?e.transporter.read(t,n):e.transporter.write(t,n)}},A=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},P=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{params:C(e.params||{})})}));return e.transporter.read({method:k,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},R=function(e){return function(t,i){return Promise.all(t.map((function(t){var o=t.params,a=o.facetName,s=o.facetQuery,u=r(o,["facetName","facetQuery"]);return A(e)(t.indexName,{methods:{searchForFacetValues:L}}).searchForFacetValues(a,s,n(n({},i),u))})))}},N=function(e){return function(t,n,r){return e.transporter.read({method:k,path:f("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},j=function(e){return function(t,n){return e.transporter.read({method:k,path:f("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},L=function(e){return function(t,n,r){return e.transporter.read({method:k,path:f("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},D=1,M=2,F=3;function B(e,t,r){var i,o={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},o=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(o),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:(i=F,{debug:function(e,t){return D>=i&&console.debug(e,t),Promise.resolve()},info:function(e,t){return M>=i&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:u(),requestsCache:u({serializable:!1}),hostsCache:s({caches:[a({key:"".concat("4.17.2","-").concat(e)}),u()]}),userAgent:_("4.17.2").add({segment:"Browser",version:"lite"}),authMode:d.WithinQueryParameters};return Z(n(n(n({},o),r),{},{methods:{search:P,searchForFacetValues:R,multipleQueries:P,multipleSearchForFacetValues:R,customRequest:T,initIndex:function(e){return function(t){return A(e)(t,{methods:{search:j,searchForFacetValues:L,findAnswers:N}})}}}}))}return B.version="4.17.2",B}()},5497:function(e){"use strict";function t(e,t,i){e instanceof RegExp&&(e=n(e,i)),t instanceof RegExp&&(t=n(t,i));var o=r(e,t,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+e.length,o[1]),post:i.slice(o[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,i,o,a,s,u=n.indexOf(e),c=n.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(r=[],o=n.length;l>=0&&!s;)l==u?(r.push(l),u=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),c]:((i=r.pop())<o&&(o=i,a=c),c=n.indexOf(t,l+1)),l=u<c&&u>=0?u:c;r.length&&(s=[o,a])}return s}e.exports=t,t.range=r},5828:function(e,t,n){var r=n(9599),i=n(5497);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return g(function(e){return e.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(s).split("\\,").join(u).split("\\.").join(c)}(e),!0).map(f)};var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function f(e){return e.split(o).join("\\").split(a).join("{").split(s).join("}").split(u).join(",").split(c).join(".")}function d(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,o=n.body,a=n.post,s=r.split(",");s[s.length-1]+="{"+o+"}";var u=d(a);return a.length&&(s[s.length-1]+=u.shift(),s.push.apply(s,u)),t.push.apply(t,s),t}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function v(e,t){return e<=t}function m(e,t){return e>=t}function g(e,t){var n=[],o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var a,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),f=u||c,y=o.body.indexOf(",")>=0;if(!f&&!y)return o.post.match(/,.*\}/)?g(e=o.pre+"{"+o.body+s+o.post):[e];if(f)a=o.body.split(/\.\./);else if(1===(a=d(o.body)).length&&1===(a=g(a[0],!1).map(h)).length)return(k=o.post.length?g(o.post,!1):[""]).map((function(e){return o.pre+a[0]+e}));var b,w=o.pre,k=o.post.length?g(o.post,!1):[""];if(f){var x=l(a[0]),S=l(a[1]),_=Math.max(a[0].length,a[1].length),E=3==a.length?Math.abs(l(a[2])):1,C=v;S<x&&(E*=-1,C=m);var I=a.some(p);b=[];for(var O=x;C(O,S);O+=E){var Z;if(c)"\\"===(Z=String.fromCharCode(O))&&(Z="");else if(Z=String(O),I){var T=_-Z.length;if(T>0){var A=new Array(T+1).join("0");Z=O<0?"-"+A+Z.slice(1):A+Z}}b.push(Z)}}else b=r(a,(function(e){return g(e,!1)}));for(var P=0;P<b.length;P++)for(var R=0;R<k.length;R++){var N=w+b[P]+k[R];(!t||f||N)&&n.push(N)}return n}},6123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},9599:function(e){e.exports=function(e,n){for(var r=[],i=0;i<e.length;i++){var o=n(e[i],i);t(o)?r.push.apply(r,o):r.push(o)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},7861:function(e,t,n){"use strict";var r=n(9456),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<a.length;++m){var g=a[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},229:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||k(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===a},t.isSuspense=function(e){return k(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=k},9456:function(e,t,n){"use strict";e.exports=n(229)},658:function(e,t,n){e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,s,u,c,l=[],f=0,d=e.length,h=d,p="string"!==r.getTypeOf(e);f<e.length;)h=d-f,i=p?(t=e[f++],n=f<d?e[f++]:0,f<d?e[f++]:0):(t=e.charCodeAt(f++),n=f<d?e.charCodeAt(f++):0,f<d?e.charCodeAt(f++):0),a=t>>2,s=(3&t)<<4|n>>4,u=1<h?(15&n)<<2|i>>6:64,c=2<h?63&i:64,l.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(c));return l.join("")},n.decode=function(e){var t,n,r,a,s,u,c=0,l=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|h):new Array(0|h);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(a=o.indexOf(e.charAt(c++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(c++)))>>2,r=(3&s)<<6|(u=o.indexOf(e.charAt(c++))),d[l++]=t,64!==s&&(d[l++]=n),64!==u&&(d[l++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function u(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new u("Deflate",e)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,l){var f,d,h=e.file,p=e.compression,v=l!==s.utf8encode,m=o.transformTo("string",l(h.name)),g=o.transformTo("string",s.utf8encode(h.name)),y=h.comment,b=o.transformTo("string",l(y)),w=o.transformTo("string",s.utf8encode(y)),k=g.length!==h.name.length,x=w.length!==y.length,S="",_="",E="",C=h.dir,I=h.date,O={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(O.crc32=e.crc32,O.compressedSize=e.compressedSize,O.uncompressedSize=e.uncompressedSize);var Z=0;t&&(Z|=8),v||!k&&!x||(Z|=2048);var T=0,A=0;C&&(T|=16),"UNIX"===a?(A=798,T|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(h.unixPermissions,C)):(A=20,T|=function(e){return 63&(e||0)}(h.dosPermissions)),f=I.getUTCHours(),f<<=6,f|=I.getUTCMinutes(),f<<=5,f|=I.getUTCSeconds()/2,d=I.getUTCFullYear()-1980,d<<=4,d|=I.getUTCMonth()+1,d<<=5,d|=I.getUTCDate(),k&&(_=r(1,1)+r(u(m),4)+g,S+="up"+r(_.length,2)+_),x&&(E=r(1,1)+r(u(b),4)+w,S+="uc"+r(E.length,2)+E);var P="";return P+="\n\0",P+=r(Z,2),P+=p.magic,P+=r(f,2),P+=r(d,2),P+=r(O.crc32,4),P+=r(O.compressedSize,4),P+=r(O.uncompressedSize,4),P+=r(m.length,2),P+=r(S.length,2),{fileRecord:c.LOCAL_FILE_HEADER+P+m+S,dirRecord:c.CENTRAL_FILE_HEADER+r(A,2)+P+r(b.length,2)+"\0\0\0\0"+r(T,4)+r(i,4)+m+S+b}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),u=e("../crc32"),c=e("../signature");function l(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,a),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var s=o.transformTo("string",a(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},u=n.dir,c=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:u,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),u=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(c(r[o]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],u=s.fileNameStr,c=r.resolve(s.fileNameStr);n.file(c,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(c).unsafeOriginalName=u)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),s=o.extend(n||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=v(e)),s.createFolders&&(r=p(e))&&m.call(this,r,!0);var f="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!f),(t instanceof c&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var g=null;g=t instanceof c||t instanceof a?t:d.isNode&&d.isStream(t)?new h(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new l(e,g,s);this.files[e]=y}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),u=e("./defaults"),c=e("./compressedObject"),l=e("./zipObject"),f=e("./generate"),d=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:u.createFolders,e=v(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=f.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),u=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new u(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),u=e("../external"),c=null;if(s.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t){return new u.Promise((function(n,i){var o=[],s=e._internalType,u=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return r.transformTo(e,t)}}(u,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),c);n(e)}catch(e){i(e)}o=[]})).resume()}))}function f(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,r.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(u):new Array(u),o=a=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,u=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)u[n++]=i;else if(4<(o=s[i]))u[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),r.applyFromCharCode(u)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,a),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),u=t;a!==t.length&&(i.uint8array?(u=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(u=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(u),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function l(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=c.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=c.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return c.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=l;var d={};d.string={string:s,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},d.array={string:l,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,c){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var l=n.getTypeOf(t);return l?("arraybuffer"===l?t=n.transformTo("uint8array",t):"string"===l&&(c?t=i.decode(t):o&&!0!==s&&(t=function(e){return u(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function u(e){this.files=[],this.loadOptions=e}u.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),u=e("./compressions"),c=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in u)if(Object.prototype.hasOwnProperty.call(u,t)&&u[t].magic===e)return u[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),u=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new u("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<c.length;f++)r.prototype[c[f]]=l;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?f(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(i);++u<n;)l(e[u],u);return c;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(c,a))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,s=-1,u=new this(i);++s<n;)a=e[s],t.resolve(a).then((function(e){r||(r=!0,o.resolve(u,e))}),(function(e){r||(r=!0,o.reject(u,e))}));return u}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),u=Object.prototype.toString,c=0,l=-1,f=0,d=8;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({level:l,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===u.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,a))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),!(s.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=h,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),u=e("./zlib/zstream"),c=e("./zlib/gzheader"),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,u,c,f,d,h=this.strm,p=this.options.chunkSize,v=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?h.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new i.Buf8(p),h.next_out=0,h.avail_out=p),(n=r.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(d="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===l.call(v)?new Uint8Array(v):v,n=r.inflateSetDictionary(this.strm,d)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(h.output,h.next_out),c=h.next_out-u,f=o.buf2string(h.output,u),h.next_out=c,h.avail_out=p-c,c&&i.arraySet(h.output,h.output,u,c,0),this.onData(f)):this.onData(i.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((0<h.avail_in||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(h.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=f,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,u=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(u),o=a=0;a<u;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return u(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,c=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)c[r++]=i;else if(4<(o=a[i]))c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return u(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),u=e("./messages"),c=0,l=4,f=0,d=-2,h=-1,p=4,v=2,m=8,g=9,y=286,b=30,w=19,k=2*y+1,x=15,S=3,_=258,E=_+S+1,C=42,I=113,O=1,Z=2,T=3,A=4;function P(e,t){return e.msg=u[t],t}function R(e){return(e<<1)-(4<e?9:0)}function N(e){for(var t=e.length;0<=--t;)e[t]=0}function j(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function L(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,j(e.strm)}function D(e,t){e.pending_buf[e.pending++]=t}function M(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-E?e.strstart-(e.w_size-E):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+_,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=_-(d-o),o=d-_,a<r){if(e.match_start=t,s<=(a=r))break;h=c[o+a-1],p=c[o+a]}}}while((t=f[t&l])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead}function B(e){var t,n,r,o,u,c,l,f,d,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-E)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(c=e.strm,l=e.window,f=e.strstart+e.lookahead,h=void 0,(d=o)<(h=c.avail_in)&&(h=d),n=0===h?0:(c.avail_in-=h,i.arraySet(l,c.input,c.next_in,h,f),1===c.state.wrap?c.adler=a(c.adler,l,h,f):2===c.state.wrap&&(c.adler=s(c.adler,l,h,f)),c.next_in+=h,c.total_in+=h,h),e.lookahead+=n,e.lookahead+e.insert>=S)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+S-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<S)););}while(e.lookahead<E&&0!==e.strm.avail_in)}function U(e,t){for(var n,r;;){if(e.lookahead<E){if(B(e),e.lookahead<E&&t===c)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-E&&(e.match_length=F(e,n)),e.match_length>=S)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-S),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=S){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(L(e,!1),0===e.strm.avail_out))return O}return e.insert=e.strstart<S-1?e.strstart:S-1,t===l?(L(e,!0),0===e.strm.avail_out?T:A):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?O:Z}function z(e,t){for(var n,r,i;;){if(e.lookahead<E){if(B(e),e.lookahead<E&&t===c)return O;if(0===e.lookahead)break}if(n=0,e.lookahead>=S&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=S-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-E&&(e.match_length=F(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===S&&4096<e.strstart-e.match_start)&&(e.match_length=S-1)),e.prev_length>=S&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-S,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-S),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+S-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=S-1,e.strstart++,r&&(L(e,!1),0===e.strm.avail_out))return O}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&L(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return O}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<S-1?e.strstart:S-1,t===l?(L(e,!0),0===e.strm.avail_out?T:A):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?O:Z}function V(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*k),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*w+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(x+1),this.heap=new i.Buf16(2*y+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function W(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=v,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:I,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),f):P(e,d)}function $(e){var t=W(e);return t===f&&function(e){e.window_size=2*e.w_size,N(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=S-1,e.match_available=0,e.ins_h=0}(e.state),t}function q(e,t,n,r,o,a){if(!e)return d;var s=1;if(t===h&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||g<o||n!==m||r<8||15<r||t<0||9<t||a<0||p<a)return P(e,d);8===r&&(r=9);var u=new H;return(e.state=u).strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+S-1)/S),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=a,u.method=n,$(e)}r=[new V(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&t===c)return O;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,L(e,!1),0===e.strm.avail_out))return O;if(e.strstart-e.block_start>=e.w_size-E&&(L(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===l?(L(e,!0),0===e.strm.avail_out?T:A):(e.strstart>e.block_start&&(L(e,!1),e.strm.avail_out),O)})),new V(4,4,8,4,U),new V(4,5,16,8,U),new V(4,6,32,32,U),new V(4,4,16,16,z),new V(8,16,32,32,z),new V(8,16,128,128,z),new V(8,32,128,256,z),new V(32,128,258,1024,z),new V(32,258,258,4096,z)],n.deflateInit=function(e,t){return q(e,t,m,15,8,0)},n.deflateInit2=q,n.deflateReset=$,n.deflateResetKeep=W,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,f):d},n.deflate=function(e,t){var n,i,a,u;if(!e||!e.state||5<t||t<0)return e?P(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==l)return P(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===C)if(2===i.wrap)e.adler=0,D(i,31),D(i,139),D(i,8),i.gzhead?(D(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),D(i,255&i.gzhead.time),D(i,i.gzhead.time>>8&255),D(i,i.gzhead.time>>16&255),D(i,i.gzhead.time>>24&255),D(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),D(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(D(i,255&i.gzhead.extra.length),D(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(D(i,0),D(i,0),D(i,0),D(i,0),D(i,0),D(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),D(i,3),i.status=I);else{var h=m+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=I,M(i,h),0!==i.strstart&&(M(i,e.adler>>>16),M(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),j(e),a=i.pending,i.pending!==i.pending_buf_size));)D(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),j(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,D(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),j(e),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,D(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&j(e),i.pending+2<=i.pending_buf_size&&(D(i,255&e.adler),D(i,e.adler>>8&255),e.adler=0,i.status=I)):i.status=I),0!==i.pending){if(j(e),0===e.avail_out)return i.last_flush=-1,f}else if(0===e.avail_in&&R(t)<=R(n)&&t!==l)return P(e,-5);if(666===i.status&&0!==e.avail_in)return P(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(t===c)return O;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(L(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===l?(L(e,!0),0===e.strm.avail_out?T:A):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?O:Z}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=_){if(B(e),e.lookahead<=_&&t===c)return O;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=S&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+_;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=_-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=S?(n=o._tr_tally(e,1,e.match_length-S),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(L(e,!1),0===e.strm.avail_out))return O}return e.insert=0,t===l?(L(e,!0),0===e.strm.avail_out?T:A):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?O:Z}(i,t):r[i.level].func(i,t);if(p!==T&&p!==A||(i.status=666),p===O||p===T)return 0===e.avail_out&&(i.last_flush=-1),f;if(p===Z&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(N(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),j(e),0===e.avail_out))return i.last_flush=-1,f}return t!==l?f:i.wrap<=0?1:(2===i.wrap?(D(i,255&e.adler),D(i,e.adler>>8&255),D(i,e.adler>>16&255),D(i,e.adler>>24&255),D(i,255&e.total_in),D(i,e.total_in>>8&255),D(i,e.total_in>>16&255),D(i,e.total_in>>24&255)):(M(i,e.adler>>>16),M(i,65535&e.adler)),j(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?f:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==I&&666!==t?P(e,d):(e.state=null,t===I?P(e,-3):f):d},n.deflateSetDictionary=function(e,t){var n,r,o,s,u,c,l,h,p=t.length;if(!e||!e.state)return d;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==C||n.lookahead)return d;for(1===s&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(N(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,p-n.w_size,n.w_size,0),t=h,p=n.w_size),u=e.avail_in,c=e.next_in,l=e.input,e.avail_in=p,e.next_in=0,e.input=t,B(n);n.lookahead>=S;){for(r=n.strstart,o=n.lookahead-(S-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+S-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=S-1,B(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=S-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=u,n.wrap=s,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,m,g,y,b,w,k,x,S,_,E,C;n=e.state,r=e.next_in,E=e.input,i=r+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,f=n.wnext,d=n.window,h=n.hold,p=n.bits,v=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(h+=E[r++]<<p,p+=8,h+=E[r++]<<p,p+=8),b=v[h&g];t:for(;;){if(h>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))C[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=v[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}k=65535&b,(w&=15)&&(p<w&&(h+=E[r++]<<p,p+=8),k+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=E[r++]<<p,p+=8,h+=E[r++]<<p,p+=8),b=m[h&y];n:for(;;){if(h>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=m[(65535&b)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,p<(w&=15)&&(h+=E[r++]<<p,(p+=8)<w&&(h+=E[r++]<<p,p+=8)),u<(x+=h&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=w,p-=w,(w=o-a)<x){if(l<(w=x-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=d,(S=0)===f){if(S+=c-w,w<k){for(k-=w;C[o++]=d[S++],--w;);S=o-x,_=C}}else if(f<w){if(S+=c+f-w,(w-=f)<k){for(k-=w;C[o++]=d[S++],--w;);if(S=0,f<k){for(k-=w=f;C[o++]=d[S++],--w;);S=o-x,_=C}}}else if(S+=f-w,w<k){for(k-=w;C[o++]=d[S++],--w;);S=o-x,_=C}for(;2<k;)C[o++]=_[S++],C[o++]=_[S++],C[o++]=_[S++],k-=3;k&&(C[o++]=_[S++],1<k&&(C[o++]=_[S++]))}else{for(S=o-x;C[o++]=C[S++],C[o++]=C[S++],C[o++]=C[S++],2<(k-=3););k&&(C[o++]=C[S++],1<k&&(C[o++]=C[S++]))}break}}break}}while(r<i&&o<s);r-=k=p>>3,h&=(1<<(p-=k<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),u=1,c=2,l=0,f=-2,d=1,h=852,p=592;function v(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(h),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,l):f}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):f}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?f:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):f}function w(e,t){var n,r;return e?(r=new m,(e.state=r).window=null,(n=b(e,t))!==l&&(e.state=null),n):f}var k,x,S=!0;function _(e){if(S){var t;for(k=new r.Buf32(512),x=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(u,e.lens,0,288,k,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(c,e.lens,0,32,x,0,e.work,{bits:5}),S=!1}e.lencode=k,e.lenbits=9,e.distcode=x,e.distbits=5}function E(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=g,n.inflateInit=function(e){return w(e,15)},n.inflateInit2=w,n.inflate=function(e,t){var n,h,p,m,g,y,b,w,k,x,S,C,I,O,Z,T,A,P,R,N,j,L,D,M,F=0,B=new r.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;12===(n=e.state).mode&&(n.mode=13),g=e.next_out,p=e.output,b=e.avail_out,m=e.next_in,h=e.input,y=e.avail_in,w=n.hold,k=n.bits,x=y,S=b,L=l;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;k<16;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(2&n.wrap&&35615===w){B[n.check=0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0),k=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",n.mode=30;break}if(k-=4,j=8+(15&(w>>>=4)),0===n.wbits)n.wbits=j;else if(j>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<j,e.adler=n.check=1,n.mode=512&w?10:12,k=w=0;break;case 2:for(;k<16;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(n.flags=w,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0)),k=w=0,n.mode=3;case 3:for(;k<32;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}n.head&&(n.head.time=w),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,B[2]=w>>>16&255,B[3]=w>>>24&255,n.check=o(n.check,B,4,0)),k=w=0,n.mode=4;case 4:for(;k<16;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0)),k=w=0,n.mode=5;case 5:if(1024&n.flags){for(;k<16;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0)),k=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(C=n.length)&&(C=y),C&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,h,m,C,j)),512&n.flags&&(n.check=o(n.check,h,C,m)),y-=C,m+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(C=0;j=h[m+C++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j)),j&&C<y;);if(512&n.flags&&(n.check=o(n.check,h,C,m)),y-=C,m+=C,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(C=0;j=h[m+C++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j)),j&&C<y;);if(512&n.flags&&(n.check=o(n.check,h,C,m)),y-=C,m+=C,j)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;k<16;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(w!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}k=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;k<32;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}e.adler=n.check=v(w),k=w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=w,n.bits=k,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){w>>>=7&k,k-=7&k,n.mode=27;break}for(;k<3;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}switch(n.last=1&w,k-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(_(n),n.mode=20,6!==t)break;w>>>=2,k-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}w>>>=2,k-=2;break;case 14:for(w>>>=7&k,k-=7&k;k<32;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,k=w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(y<C&&(C=y),b<C&&(C=b),0===C)break e;r.arraySet(p,h,m,C,g),y-=C,m+=C,b-=C,g+=C,n.length-=C;break}n.mode=12;break;case 17:for(;k<14;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(n.nlen=257+(31&w),w>>>=5,k-=5,n.ndist=1+(31&w),w>>>=5,k-=5,n.ncode=4+(15&w),w>>>=4,k-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;k<3;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}n.lens[U[n.have++]]=7&w,w>>>=3,k-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},L=s(0,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,L){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(F=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,A=65535&F,!((Z=F>>>24)<=k);){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(A<16)w>>>=Z,k-=Z,n.lens[n.have++]=A;else{if(16===A){for(M=Z+2;k<M;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(w>>>=Z,k-=Z,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}j=n.lens[n.have-1],C=3+(3&w),w>>>=2,k-=2}else if(17===A){for(M=Z+3;k<M;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}k-=Z,j=0,C=3+(7&(w>>>=Z)),w>>>=3,k-=3}else{for(M=Z+7;k<M;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}k-=Z,j=0,C=11+(127&(w>>>=Z)),w>>>=7,k-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=j}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,D={bits:n.lenbits},L=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,L){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},L=s(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,L){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=w,n.bits=k,a(e,S),g=e.next_out,p=e.output,b=e.avail_out,m=e.next_in,h=e.input,y=e.avail_in,w=n.hold,k=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;T=(F=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,A=65535&F,!((Z=F>>>24)<=k);){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(T&&0==(240&T)){for(P=Z,R=T,N=A;T=(F=n.lencode[N+((w&(1<<P+R)-1)>>P)])>>>16&255,A=65535&F,!(P+(Z=F>>>24)<=k);){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}w>>>=P,k-=P,n.back+=P}if(w>>>=Z,k-=Z,n.back+=Z,n.length=A,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=12;break}if(64&T){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(M=n.extra;k<M;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,k-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(F=n.distcode[w&(1<<n.distbits)-1])>>>16&255,A=65535&F,!((Z=F>>>24)<=k);){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(0==(240&T)){for(P=Z,R=T,N=A;T=(F=n.distcode[N+((w&(1<<P+R)-1)>>P)])>>>16&255,A=65535&F,!(P+(Z=F>>>24)<=k);){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}w>>>=P,k-=P,n.back+=P}if(w>>>=Z,k-=Z,n.back+=Z,64&T){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(M=n.extra;k<M;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,k-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(C=S-b,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}I=C>n.wnext?(C-=n.wnext,n.wsize-C):n.wnext-C,C>n.length&&(C=n.length),O=n.window}else O=p,I=g-n.offset,C=n.length;for(b<C&&(C=b),b-=C,n.length-=C;p[g++]=O[I++],--C;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;p[g++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;k<32;){if(0===y)break e;y--,w|=h[m++]<<k,k+=8}if(S-=b,e.total_out+=S,n.total+=S,S&&(e.adler=n.check=n.flags?o(n.check,p,S,g-S):i(n.check,p,S,g-S)),S=b,(n.flags?w:v(w))!==n.check){e.msg="incorrect data check",n.mode=30;break}k=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;k<32;){if(0===y)break e;y--,w+=h[m++]<<k,k+=8}if(w!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}k=w=0}n.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;default:return f}return e.next_out=g,e.avail_out=b,e.next_in=m,e.avail_in=y,n.hold=w,n.bits=k,(n.wsize||S!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&E(e,e.output,e.next_out,S-e.avail_out)?(n.mode=31,-4):(x-=e.avail_in,S-=e.avail_out,e.total_in+=x,e.total_out+=S,n.total+=S,n.wrap&&S&&(e.adler=n.check=n.flags?o(n.check,p,S,e.next_out-S):i(n.check,p,S,e.next_out-S)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==x&&0===S||4===t)&&L===l&&(L=-5),L)},n.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?f:((n.head=t).done=!1,l):f},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?f:11===n.mode&&i(1,t,r,0)!==n.check?-3:E(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,u,c,l,f,d){var h,p,v,m,g,y,b,w,k,x=d.bits,S=0,_=0,E=0,C=0,I=0,O=0,Z=0,T=0,A=0,P=0,R=null,N=0,j=new r.Buf16(16),L=new r.Buf16(16),D=null,M=0;for(S=0;S<=15;S++)j[S]=0;for(_=0;_<u;_++)j[t[n+_]]++;for(I=x,C=15;1<=C&&0===j[C];C--);if(C<I&&(I=C),0===C)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(E=1;E<C&&0===j[E];E++);for(I<E&&(I=E),S=T=1;S<=15;S++)if(T<<=1,(T-=j[S])<0)return-1;if(0<T&&(0===e||1!==C))return-1;for(L[1]=0,S=1;S<15;S++)L[S+1]=L[S]+j[S];for(_=0;_<u;_++)0!==t[n+_]&&(f[L[t[n+_]]++]=_);if(y=0===e?(R=D=f,19):1===e?(R=i,N-=257,D=o,M-=257,256):(R=a,D=s,-1),S=E,g=l,Z=_=P=0,v=-1,m=(A=1<<(O=I))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(b=S-Z,k=f[_]<y?(w=0,f[_]):f[_]>y?(w=D[M+f[_]],R[N+f[_]]):(w=96,0),h=1<<S-Z,E=p=1<<O;c[g+(P>>Z)+(p-=h)]=b<<24|w<<16|k|0,0!==p;);for(h=1<<S-1;P&h;)h>>=1;if(0!==h?(P&=h-1,P+=h):P=0,_++,0==--j[S]){if(S===C)break;S=t[n+f[_]]}if(I<S&&(P&m)!==v){for(0===Z&&(Z=I),g+=E,T=1<<(O=S-Z);O+Z<C&&!((T-=j[O+Z])<=0);)O++,T<<=1;if(A+=1<<O,1===e&&852<A||2===e&&592<A)return 1;c[v=P&m]=I<<24|O<<16|g-l|0}}return 0!==P&&(c[g+P]=S-Z<<24|64<<16|0),d.bits=I,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,u=29,c=256,l=c+1+u,f=30,d=19,h=2*l+1,p=15,v=16,m=7,g=256,y=16,b=17,w=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],E=new Array(2*(l+2));a(E);var C=new Array(2*f);a(C);var I=new Array(512);a(I);var O=new Array(256);a(O);var Z=new Array(u);a(Z);var T,A,P,R=new Array(f);function N(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function j(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function L(e){return e<256?I[e]:I[256+(e>>>7)]}function D(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function M(e,t,n){e.bi_valid>v-n?(e.bi_buf|=t<<e.bi_valid&65535,D(e,e.bi_buf),e.bi_buf=t>>v-e.bi_valid,e.bi_valid+=n-v):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){M(e,n[2*t],n[2*t+1])}function B(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function U(e,t,n){var r,i,o=new Array(p+1),a=0;for(r=1;r<=p;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=B(o[s]++,s))}}function z(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?D(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function W(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function $(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?F(e,i,t):(F(e,(o=O[i])+c+1,t),0!==(a=k[o])&&M(e,i-=Z[o],a),F(e,o=L(--r),n),0!==(a=x[o])&&M(e,r-=R[o],a)),s<e.last_lit;);F(e,g,t)}function q(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=h,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)W(e,o,n);for(i=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],W(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,W(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<h;n++)m<(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)&&(o=m,g++),u[2*r+1]=o,c<r||(e.bl_count[o]++,a=0,v<=r&&(a=d[r-v]),s=u[2*r],e.opt_len+=s*(o+a),f&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==g){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(i=e.heap[--n])||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),U(o,c,e.bl_count)}function G(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*w]++,o=i,c=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4))}function K(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)for(;F(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(F(e,i,e.bl_tree),s--),F(e,y,e.bl_tree),M(e,s-3,2)):s<=10?(F(e,b,e.bl_tree),M(e,s-3,3)):(F(e,w,e.bl_tree),M(e,s-11,7));o=i,c=(s=0)===a?(u=138,3):i===a?(u=6,3):(u=7,4)}}a(R);var Q=!1;function J(e,t,n,i){M(e,(s<<1)+(i?1:0),3),function(e,t,n,i){V(e),i&&(D(e,n),D(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){Q||(function(){var e,t,n,r,i,o=new Array(p+1);for(r=n=0;r<u-1;r++)for(Z[r]=n,e=0;e<1<<k[r];e++)O[n++]=r;for(O[n-1]=r,r=i=0;r<16;r++)for(R[r]=i,e=0;e<1<<x[r];e++)I[i++]=r;for(i>>=7;r<f;r++)for(R[r]=i<<7,e=0;e<1<<x[r]-7;e++)I[256+i++]=r;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)E[2*e+1]=8,e++,o[8]++;for(;e<=255;)E[2*e+1]=9,e++,o[9]++;for(;e<=279;)E[2*e+1]=7,e++,o[7]++;for(;e<=287;)E[2*e+1]=8,e++,o[8]++;for(U(E,l+1,o),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=B(e,5);T=new N(E,k,c+1,l,p),A=new N(C,x,0,f,p),P=new N(new Array(0),S,0,d,m)}(),Q=!0),e.l_desc=new j(e.dyn_ltree,T),e.d_desc=new j(e.dyn_dtree,A),e.bl_desc=new j(e.bl_tree,P),e.bi_buf=0,e.bi_valid=0,z(e)},n._tr_stored_block=J,n._tr_flush_block=function(e,t,n,r){var a,s,u=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),q(e,e.l_desc),q(e,e.d_desc),u=function(e){var t;for(G(e,e.dyn_ltree,e.l_desc.max_code),G(e,e.dyn_dtree,e.d_desc.max_code),q(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?J(e,t,n,r):4===e.strategy||s===a?(M(e,2+(r?1:0),3),$(e,E,C)):(M(e,4+(r?1:0),3),function(e,t,n,r){var i;for(M(e,t-257,5),M(e,n-1,5),M(e,r-4,4),i=0;i<r;i++)M(e,e.bl_tree[2*_[i]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),$(e,e.dyn_ltree,e.dyn_dtree)),z(e),r&&V(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+c+1)]++,e.dyn_dtree[2*L(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){M(e,2,3),F(e,g,E),function(e){16===e.bi_valid?(D(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,o,a=1,s={},u=!1,c=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(r=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(d,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return s[a]=i,n(a),a++},l.clearImmediate=f}function f(e){delete s[e]}function d(e){if(u)setTimeout(d,0,e);else{var n=s[e];if(n){u=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{f(e),u=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},4801:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,m=4294967295,g=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",k="[object Date]",x="[object Error]",S="[object Function]",_="[object GeneratorFunction]",E="[object Map]",C="[object Number]",I="[object Object]",O="[object Promise]",Z="[object RegExp]",T="[object Set]",A="[object String]",P="[object Symbol]",R="[object WeakMap]",N="[object ArrayBuffer]",j="[object DataView]",L="[object Float32Array]",D="[object Float64Array]",M="[object Int8Array]",F="[object Int16Array]",B="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",V="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Q=RegExp(G.source),J=RegExp(K.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",Ze="\\ufe0e\\ufe0f",Te="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['\u2019]",Pe="["+_e+"]",Re="["+Te+"]",Ne="["+Ee+"]",je="\\d+",Le="["+Ce+"]",De="["+Ie+"]",Me="[^"+_e+Te+je+Ce+Ie+Oe+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^"+_e+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Oe+"]",He="\\u200d",We="(?:"+De+"|"+Me+")",$e="(?:"+Ve+"|"+Me+")",qe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ne+"|"+Fe+")"+"?",Qe="["+Ze+"]?",Je=Qe+Ke+("(?:"+He+"(?:"+[Be,Ue,ze].join("|")+")"+Qe+Ke+")*"),Ye="(?:"+[Le,Ue,ze].join("|")+")"+Je,Xe="(?:"+[Be+Ne+"?",Ne,Ue,ze,Pe].join("|")+")",et=RegExp(Ae,"g"),tt=RegExp(Ne,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+Xe+Je,"g"),rt=RegExp([Ve+"?"+De+"+"+qe+"(?="+[Re,Ve,"$"].join("|")+")",$e+"+"+Ge+"(?="+[Re,Ve+We,"$"].join("|")+")",Ve+"?"+We+"+"+qe,Ve+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,Ye].join("|"),"g"),it=RegExp("["+He+_e+Ee+Ze+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[L]=ut[D]=ut[M]=ut[F]=ut[B]=ut[U]=ut[z]=ut[V]=ut[H]=!0,ut[y]=ut[b]=ut[N]=ut[w]=ut[j]=ut[k]=ut[x]=ut[S]=ut[E]=ut[C]=ut[I]=ut[Z]=ut[T]=ut[A]=ut[R]=!1;var ct={};ct[y]=ct[b]=ct[N]=ct[j]=ct[w]=ct[k]=ct[L]=ct[D]=ct[M]=ct[F]=ct[B]=ct[E]=ct[C]=ct[I]=ct[Z]=ct[T]=ct[A]=ct[P]=ct[U]=ct[z]=ct[V]=ct[H]=!0,ct[x]=ct[S]=ct[R]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=ht||pt||Function("return this")(),mt=t&&!t.nodeType&&t,gt=mt&&e&&!e.nodeType&&e,yt=gt&&gt.exports===mt,bt=yt&&ht.process,wt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),kt=wt&&wt.isArrayBuffer,xt=wt&&wt.isDate,St=wt&&wt.isMap,_t=wt&&wt.isRegExp,Et=wt&&wt.isSet,Ct=wt&&wt.isTypedArray;function It(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ot(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Rt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function jt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=qt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function zt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Vt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Wt,n)}function Ht(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Wt(e){return e!==e}function $t(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:v}function qt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,mn(e)+1).replace(ae,""):e}function Xt(e){return function(t){return e(t)}}function en(e,t){return jt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var on=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+lt[e]}function un(e){return it.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function fn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return un(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function vn(e){return un(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n=(t=null==t?vt:yn.defaults(vt.Object(),t,yn.pick(vt,at))).Array,r=t.Date,se=t.Error,_e=t.Function,Ee=t.Math,Ce=t.Object,Ie=t.RegExp,Oe=t.String,Ze=t.TypeError,Te=n.prototype,Ae=_e.prototype,Pe=Ce.prototype,Re=t["__core-js_shared__"],Ne=Ae.toString,je=Pe.hasOwnProperty,Le=0,De=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Me=Pe.toString,Fe=Ne.call(Ce),Be=vt._,Ue=Ie("^"+Ne.call(je).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=yt?t.Buffer:i,Ve=t.Symbol,He=t.Uint8Array,We=ze?ze.allocUnsafe:i,$e=ln(Ce.getPrototypeOf,Ce),qe=Ce.create,Ge=Pe.propertyIsEnumerable,Ke=Te.splice,Qe=Ve?Ve.isConcatSpreadable:i,Je=Ve?Ve.iterator:i,Ye=Ve?Ve.toStringTag:i,Xe=function(){try{var e=fo(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=r&&r.now!==vt.Date.now&&r.now,lt=t.setTimeout!==vt.setTimeout&&t.setTimeout,ht=Ee.ceil,pt=Ee.floor,mt=Ce.getOwnPropertySymbols,gt=ze?ze.isBuffer:i,bt=t.isFinite,wt=Te.join,Bt=ln(Ce.keys,Ce),Gt=Ee.max,bn=Ee.min,wn=r.now,kn=t.parseInt,xn=Ee.random,Sn=Te.reverse,_n=fo(t,"DataView"),En=fo(t,"Map"),Cn=fo(t,"Promise"),In=fo(t,"Set"),On=fo(t,"WeakMap"),Zn=fo(Ce,"create"),Tn=On&&new On,An={},Pn=Mo(_n),Rn=Mo(En),Nn=Mo(Cn),jn=Mo(In),Ln=Mo(On),Dn=Ve?Ve.prototype:i,Mn=Dn?Dn.valueOf:i,Fn=Dn?Dn.toString:i;function Bn(e){if(ts(e)&&!Ha(e)&&!(e instanceof Hn)){if(e instanceof Vn)return e;if(je.call(e,"__wrapped__"))return Fo(e)}return new Vn(e)}var Un=function(){function e(){}return function(t){if(!es(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new $n(e);this.size=t.size}function Qn(e,t){var n=Ha(e),r=!n&&Va(e),i=!n&&!r&&Ga(e),o=!n&&!r&&!i&&cs(e),a=n||r||i||o,s=a?Jt(e.length,Oe):[],u=s.length;for(var c in e)!t&&!je.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,u))||s.push(c);return s}function Jn(e){var t=e.length;return t?e[Gr(0,t-1)]:i}function Yn(e,t){return jo(Zi(e),sr(t,0,e.length))}function Xn(e){return jo(Zi(e))}function er(e,t,n){(n!==i&&!Ba(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function tr(e,t,n){var r=e[t];je.call(e,t)&&Ba(r,n)&&(n!==i||t in e)||or(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Ti(t,As(t),e)}function or(e,t,n){"__proto__"==t&&Xe?Xe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:Cs(e,t[r]);return a}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!es(e))return e;var f=Ha(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Zi(e,s)}else{var d=vo(e),h=d==S||d==_;if(Ga(e))return Si(e,u);if(d==I||d==y||h&&!o){if(s=c||h?{}:go(e),!u)return c?function(e,t){return Ti(e,po(e),t)}(e,function(e,t){return e&&Ti(t,Ps(t),e)}(s,e)):function(e,t){return Ti(e,ho(e),t)}(e,ir(s,e))}else{if(!ct[d])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return _i(e);case w:case k:return new r(+e);case j:return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case D:case M:case F:case B:case U:case z:case V:case H:return Ei(e,n);case E:return new r;case C:case A:return new r(e);case Z:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case T:return new r;case P:return i=e,Mn?Ce(Mn.call(i)):{}}var i}(e,d,u)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):ns(e)&&e.forEach((function(r,i){s.set(i,ur(r,t,n,i,e,a))}));var v=f?i:(l?c?io:ro:c?Ps:As)(e);return Zt(v||e,(function(r,i){v&&(r=e[i=r]),tr(s,i,ur(r,t,n,i,e,a))})),s}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function lr(e,t,n){if("function"!=typeof e)throw new Ze(o);return Ao((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,o=Rt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=jt(t,Xt(n))),r?(o=Nt,a=!1):t.length>=200&&(o=tn,a=!1,t=new Gn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Bn.templateSettings={escape:Y,evaluate:X,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Vn.prototype=Un(zn.prototype),Vn.prototype.constructor=Vn,Hn.prototype=Un(zn.prototype),Hn.prototype.constructor=Hn,Wn.prototype.clear=function(){this.__data__=Zn?Zn(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(Zn){var n=t[e];return n===a?i:n}return je.call(t,e)?t[e]:i},Wn.prototype.has=function(e){var t=this.__data__;return Zn?t[e]!==i:je.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Zn&&t===i?a:t,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},$n.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},$n.prototype.has=function(e){return nr(this.__data__,e)>-1},$n.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(En||$n),string:new Wn}},qn.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return co(this,e).get(e)},qn.prototype.has=function(e){return co(this,e).has(e)},qn.prototype.set=function(e,t){var n=co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,a),this},Gn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new $n,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof $n){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var dr=Ri(wr),hr=Ri(kr,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!us(s):n(s,u)))var u=s,c=a}return c}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function gr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?gr(s,t-1,n,r,i):Lt(i,s):r||(i[i.length]=s)}return i}var yr=Ni(),br=Ni(!0);function wr(e,t){return e&&yr(e,t,As)}function kr(e,t){return e&&br(e,t,As)}function xr(e,t){return Pt(t,(function(t){return Ja(e[t])}))}function Sr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Do(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return Ha(e)?r:Lt(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ye&&Ye in Ce(e)?function(e){var t=je.call(e,Ye),n=e[Ye];try{e[Ye]=i;var r=!0}catch(a){}var o=Me.call(e);r&&(t?e[Ye]=n:delete e[Ye]);return o}(e):function(e){return Me.call(e)}(e)}function Cr(e,t){return e>t}function Ir(e,t){return null!=e&&je.call(e,t)}function Or(e,t){return null!=e&&t in Ce(e)}function Zr(e,t,r){for(var o=r?Nt:Rt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=jt(d,Xt(t))),l=bn(d.length,l),c[u]=!r&&(t||a>=120&&d.length>=120)?new Gn(u&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<a&&f.length<l;){var v=d[h],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,m):o(f,m,r))){for(u=s;--u;){var g=c[u];if(!(g?tn(g,m):o(e[u],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Tr(e,t,n){var r=null==(e=Oo(e,t=bi(t,e)))?e:e[Do(Qo(t))];return null==r?i:It(r,e,n)}function Ar(e){return ts(e)&&Er(e)==y}function Pr(e,t,n,r,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Ha(e),u=Ha(t),c=s?b:vo(e),l=u?b:vo(t),f=(c=c==y?I:c)==I,d=(l=l==y?I:l)==I,h=c==l;if(h&&Ga(e)){if(!Ga(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Kn),s||cs(e)?to(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case j:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new He(e),new He(t)));case w:case k:case C:return Ba(+e,+t);case x:return e.name==t.name&&e.message==t.message;case Z:case A:return e==t+"";case E:var s=cn;case T:var u=1&r;if(s||(s=dn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=to(s(e),s(t),r,i,o,a);return a.delete(e),l;case P:if(Mn)return Mn.call(e)==Mn.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var p=f&&je.call(e,"__wrapped__"),v=d&&je.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return a||(a=new Kn),o(m,g,n,r,a)}}if(!h)return!1;return a||(a=new Kn),function(e,t,n,r,o,a){var s=1&n,u=ro(e),c=u.length,l=ro(t),f=l.length;if(c!=f&&!s)return!1;var d=c;for(;d--;){var h=u[d];if(!(s?h in t:je.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var m=!0;a.set(e,t),a.set(t,e);var g=s;for(;++d<c;){var y=e[h=u[d]],b=t[h];if(r)var w=s?r(b,y,h,t,e,a):r(y,b,h,e,t,a);if(!(w===i?y===b||o(y,b,n,r,a):w)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var k=e.constructor,x=t.constructor;k==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof x&&x instanceof x||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,n,r,o,a)}(e,t,n,r,Pr,o))}function Rr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ce(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new Kn;if(r)var h=r(l,f,c,e,t,d);if(!(h===i?Pr(f,l,3,r,d):h))return!1}}return!0}function Nr(e){return!(!es(e)||(t=e,De&&De in t))&&(Ja(e)?Ue:ye).test(Mo(e));var t}function jr(e){return"function"==typeof e?e:null==e?ru:"object"==typeof e?Ha(e)?Ur(e[0],e[1]):Br(e):du(e)}function Lr(e){if(!_o(e))return Bt(e);var t=[];for(var n in Ce(e))je.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Dr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var r in e)("constructor"!=r||!t&&je.call(e,r))&&n.push(r);return n}function Mr(e,t){return e<t}function Fr(e,t){var r=-1,i=$a(e)?n(e.length):[];return dr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Br(e){var t=lo(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function Ur(e,t){return ko(e)&&Eo(t)?Co(Do(e),t):function(n){var r=Cs(n,e);return r===i&&r===t?Is(n,e):Pr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&yr(t,(function(a,s){if(o||(o=new Kn),es(a))!function(e,t,n,r,o,a,s){var u=Zo(e,n),c=Zo(t,n),l=s.get(c);if(l)return void er(e,n,l);var f=a?a(u,c,n+"",e,t,s):i,d=f===i;if(d){var h=Ha(c),p=!h&&Ga(c),v=!h&&!p&&cs(c);f=c,h||p||v?Ha(u)?f=u:qa(u)?f=Zi(u):p?(d=!1,f=Si(c,!0)):v?(d=!1,f=Ei(c,!0)):f=[]:is(c)||Va(c)?(f=u,Va(u)?f=gs(u):es(u)&&!Ja(u)||(f=go(c))):d=!1}d&&(s.set(c,f),o(f,c,r,a,s),s.delete(c));er(e,n,f)}(e,t,s,n,zr,r,o);else{var u=r?r(Zo(e,s),a,s+"",e,t,o):i;u===i&&(u=a),er(e,s,u)}}),Ps)}function Vr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function Hr(e,t,n){t=t.length?jt(t,(function(e){return Ha(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[ru];var r=-1;t=jt(t,Xt(uo()));var i=Fr(e,(function(e,n,i){var o=jt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ci(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Sr(e,a);n(s,a)&&Xr(o,bi(a,e),s)}return o}function $r(e,t,n,r){var i=r?Ht:Vt,o=-1,a=t.length,s=e;for(e===t&&(t=Zi(t)),n&&(s=jt(e,Xt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Gr(e,t){return e+pt(xn()*(t-e+1))}function Kr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Po(Io(e,t,ru),e+"")}function Jr(e){return Jn(Bs(e))}function Yr(e,t){var n=Bs(e);return jo(n,sr(t,0,n.length))}function Xr(e,t,n,r){if(!es(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Do(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=es(f)?f:bo(t[o+1])?[]:{})}tr(u,c,l),u=u[c]}return e}var ei=Tn?function(e,t){return Tn.set(e,t),e}:ru,ti=Xe?function(e,t){return Xe(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:ru;function ni(e){return jo(Bs(e))}function ri(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!us(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ai(e,t,ru,n)}function ai(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,c=us(t),l=t===i;o<a;){var f=pt((o+a)/2),d=n(e[f]),h=d!==i,p=null===d,v=d===d,m=us(d);if(s)var g=r||v;else g=l?v&&(r||h):u?v&&h&&(r||!p):c?v&&h&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);g?o=f+1:a=f}return bn(a,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ba(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?v:+e}function ci(e){if("string"==typeof e)return e;if(Ha(e))return jt(e,ci)+"";if(us(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,n){var r=-1,i=Rt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Nt;else if(o>=200){var c=t?null:Ki(e);if(c)return dn(c);a=!1,i=tn,u=new Gn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function fi(e,t){return null==(e=Oo(e,t=bi(t,e)))||delete e[Do(Qo(t))]}function di(e,t,n,r){return Xr(e,t,n(Sr(e,t)),r)}function hi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function pi(e,t){var n=e;return n instanceof Hn&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function vi(e,t,r){var i=e.length;if(i<2)return i?li(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=fr(a[o]||s,e[u],t,r));return li(gr(a,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function gi(e){return qa(e)?e:[]}function yi(e){return"function"==typeof e?e:ru}function bi(e,t){return Ha(e)?e:ko(e,t)?[e]:Lo(ys(e))}var wi=Qr;function ki(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var xi=nt||function(e){return vt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function _i(e){var t=new e.constructor(e.byteLength);return new He(t).set(new He(e)),t}function Ei(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=us(e),s=t!==i,u=null===t,c=t===t,l=us(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Ii(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=Gt(a-s,0),f=n(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Oi(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=Gt(a-u,0),d=n(f+l),h=!i;++o<f;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++s<u;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}function Zi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ti(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?or(n,u,c):tr(n,u,c)}return n}function Ai(e,t){return function(n,r){var i=Ha(n)?Ot:rr,o=t?t():{};return i(n,e,uo(r,2),o)}}function Pi(e){return Qr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ce(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Ri(e,t){return function(n,r){if(null==n)return n;if(!$a(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ce(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Ni(e){return function(t,n,r){for(var i=-1,o=Ce(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function ji(e){return function(t){var n=un(t=ys(t))?vn(t):i,r=n?n[0]:t.charAt(0),o=n?ki(n,1).join(""):t.slice(1);return r[e]()+o}}function Li(e){return function(t){return Dt(Js(Vs(t).replace(et,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Mi(e){return function(t,n,r){var o=Ce(t);if(!$a(t)){var a=uo(n,3);t=As(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Fi(e){return no((function(t){var n=t.length,r=n,a=Vn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ze(o);if(a&&!u&&"wrapper"==ao(s))var u=new Vn([],!0)}for(r=u?r:n;++r<n;){var c=ao(s=t[r]),l="wrapper"==c?oo(s):i;u=l&&xo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ao(l[0])].apply(u,l[3]):1==s.length&&xo(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ha(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Bi(e,t,r,o,a,s,u,c,l,d){var h=t&f,p=1&t,v=2&t,m=24&t,g=512&t,y=v?i:Di(e);return function f(){for(var b=arguments.length,w=n(b),k=b;k--;)w[k]=arguments[k];if(m)var x=so(f),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,x);if(o&&(w=Ii(w,o,a,m)),s&&(w=Oi(w,s,u,m)),b-=S,m&&b<d){var _=fn(w,x);return qi(e,t,Bi,f.placeholder,r,w,_,c,l,d-b)}var E=p?r:this,C=v?E[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=bn(t.length,n),o=Zi(e);for(;r--;){var a=t[r];e[r]=bo(a,n)?o[a]:i}return e}(w,c):g&&b>1&&w.reverse(),h&&l<b&&(w.length=l),this&&this!==vt&&this instanceof f&&(C=y||Di(C)),C.apply(E,w)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=ui(n),r=ui(r)),o=e(n,r)}return o}}function Vi(e){return no((function(t){return t=jt(t,Xt(uo())),Qr((function(n){var r=this;return e(t,(function(e){return It(e,r,n)}))}))}))}function Hi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Kr(t,e):t;var r=Kr(t,ht(e/pn(t)));return un(t)?ki(vn(r),0,e).join(""):r.slice(0,e)}function Wi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=hs(t),r===i?(r=t,t=0):r=hs(r),function(e,t,r,i){for(var o=-1,a=Gt(ht((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:hs(o),e)}}function $i(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function qi(e,t,n,r,o,a,s,u,f,d){var h=8&t;t|=h?c:l,4&(t&=~(h?l:c))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,f,d],v=n.apply(i,p);return xo(e)&&To(v,p),v.placeholder=r,Ro(v,e,t)}function Gi(e){var t=Ee[e];return function(e,n){if(e=ms(e),(n=null==n?0:bn(ps(n),292))&&bt(e)){var r=(ys(e)+"e").split("e");return+((r=(ys(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ki=In&&1/dn(new In([,-0]))[1]==h?function(e){return new In(e)}:uu;function Qi(e){return function(t){var n=vo(t);return n==E?cn(t):n==T?hn(t):function(e,t){return jt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,a,h,p,v,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Ze(o);var y=a?a.length:0;if(y||(t&=-97,a=h=i),v=v===i?v:Gt(ps(v),0),m=m===i?m:ps(m),y-=h?h.length:0,t&l){var b=a,w=h;a=h=i}var k=g?i:oo(e),x=[e,t,r,a,h,b,w,p,v,m];if(k&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ii(c,u,t[4]):u,e[4]=c?fn(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Oi(c,u,t[6]):u,e[6]=c?fn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,k),e=x[0],t=x[1],r=x[2],a=x[3],h=x[4],!(m=x[9]=x[9]===i?g?0:e.length:Gt(x[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,r){var o=Di(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=so(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:fn(u,l);return(s-=f.length)<r?qi(e,t,Bi,a.placeholder,i,u,f,i,i,r-s):It(this&&this!==vt&&this instanceof a?o:e,this,u)}}(e,t,m):t!=c&&33!=t||h.length?Bi.apply(i,x):function(e,t,r,i){var o=1&t,a=Di(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),d=this&&this!==vt&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return It(d,o?r:this,f)}}(e,t,r,a);else var S=function(e,t,n){var r=1&t,i=Di(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ro((k?ei:To)(S,x),e,t)}function Yi(e,t,n,r){return e===i||Ba(e,Pe[n])&&!je.call(r,n)?t:e}function Xi(e,t,n,r,o,a){return es(e)&&es(t)&&(a.set(t,e),zr(e,t,i,Xi,a),a.delete(t)),e}function eo(e){return is(e)?i:e}function to(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=2&n?new Gn:i;for(a.set(e,t),a.set(t,e);++d<u;){var v=e[d],m=t[d];if(r)var g=s?r(m,v,d,t,e,a):r(v,m,d,e,t,a);if(g!==i){if(g)continue;h=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tn(p,t)&&(v===e||o(v,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(v!==m&&!o(v,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function no(e){return Po(Io(e,i,Wo),e+"")}function ro(e){return _r(e,As,ho)}function io(e){return _r(e,Ps,po)}var oo=Tn?function(e){return Tn.get(e)}:uu;function ao(e){for(var t=e.name+"",n=An[t],r=je.call(An,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(je.call(Bn,"placeholder")?Bn:e).placeholder}function uo(){var e=Bn.iteratee||iu;return e=e===iu?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function lo(e){for(var t=As(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Eo(i)]}return t}function fo(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Nr(n)?n:i}var ho=mt?function(e){return null==e?[]:(e=Ce(e),Pt(mt(e),(function(t){return Ge.call(e,t)})))}:vu,po=mt?function(e){for(var t=[];e;)Lt(t,ho(e)),e=$e(e);return t}:vu,vo=Er;function mo(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=Do(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Xa(i)&&bo(a,i)&&(Ha(e)||Va(e))}function go(e){return"function"!=typeof e.constructor||_o(e)?{}:Un($e(e))}function yo(e){return Ha(e)||Va(e)||!!(Qe&&e&&e[Qe])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?$a(n)&&bo(t,n.length):"string"==r&&t in n)&&Ba(n[t],e)}function ko(e,t){if(Ha(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!us(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function xo(e){var t=ao(e),n=Bn[t];if("function"!=typeof n||!(t in Hn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(_n&&vo(new _n(new ArrayBuffer(1)))!=j||En&&vo(new En)!=E||Cn&&vo(Cn.resolve())!=O||In&&vo(new In)!=T||On&&vo(new On)!=R)&&(vo=function(e){var t=Er(e),n=t==I?e.constructor:i,r=n?Mo(n):"";if(r)switch(r){case Pn:return j;case Rn:return E;case Nn:return O;case jn:return T;case Ln:return R}return t});var So=Re?Ja:mu;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Eo(e){return e===e&&!es(e)}function Co(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ce(n)))}}function Io(e,t,r){return t=Gt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Gt(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),It(e,this,u)}}function Oo(e,t){return t.length<2?e:Sr(e,ri(t,0,-1))}function Zo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var To=No(ei),Ao=lt||function(e,t){return vt.setTimeout(e,t)},Po=No(ti);function Ro(e,t,n){var r=t+"";return Po(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Zt(g,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function No(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function jo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Gr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Lo=function(e){var t=Na(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Do(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mo(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fo(e){if(e instanceof Hn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Zi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Qr((function(e,t){return qa(e)?fr(e,gr(t,1,qa,!0)):[]})),Uo=Qr((function(e,t){var n=Qo(t);return qa(n)&&(n=i),qa(e)?fr(e,gr(t,1,qa,!0),uo(n,2)):[]})),zo=Qr((function(e,t){var n=Qo(t);return qa(n)&&(n=i),qa(e)?fr(e,gr(t,1,qa,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=Gt(r+i,0)),zt(e,uo(t,3),i)}function Ho(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=ps(n),o=n<0?Gt(r+o,0):bn(o,r-1)),zt(e,uo(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?gr(e,1):[]}function $o(e){return e&&e.length?e[0]:i}var qo=Qr((function(e){var t=jt(e,gi);return t.length&&t[0]===e[0]?Zr(t):[]})),Go=Qr((function(e){var t=Qo(e),n=jt(e,gi);return t===Qo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Zr(n,uo(t,2)):[]})),Ko=Qr((function(e){var t=Qo(e),n=jt(e,gi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Zr(n,i,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Qr(Yo);function Yo(e,t){return e&&e.length&&t&&t.length?$r(e,t):e}var Xo=no((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return qr(e,jt(t,(function(e){return bo(e,n)?+e:e})).sort(Ci)),r}));function ea(e){return null==e?e:Sn.call(e)}var ta=Qr((function(e){return li(gr(e,1,qa,!0))})),na=Qr((function(e){var t=Qo(e);return qa(t)&&(t=i),li(gr(e,1,qa,!0),uo(t,2))})),ra=Qr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,li(gr(e,1,qa,!0),i,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(qa(e))return t=Gt(e.length,t),!0})),Jt(t,(function(t){return jt(e,qt(t))}))}function oa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:jt(n,(function(e){return It(t,i,e)}))}var aa=Qr((function(e,t){return qa(e)?fr(e,t):[]})),sa=Qr((function(e){return vi(Pt(e,qa))})),ua=Qr((function(e){var t=Qo(e);return qa(t)&&(t=i),vi(Pt(e,qa),uo(t,2))})),ca=Qr((function(e){var t=Qo(e);return t="function"==typeof t?t:i,vi(Pt(e,qa),i,t)})),la=Qr(ia);var fa=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oa(e,n)}));function da(e){var t=Bn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=no((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Hn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:i}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var va=Ai((function(e,t,n){je.call(e,n)?++e[n]:or(e,n,1)}));var ma=Mi(Vo),ga=Mi(Ho);function ya(e,t){return(Ha(e)?Zt:dr)(e,uo(t,3))}function ba(e,t){return(Ha(e)?Tt:hr)(e,uo(t,3))}var wa=Ai((function(e,t,n){je.call(e,n)?e[n].push(t):or(e,n,[t])}));var ka=Qr((function(e,t,r){var i=-1,o="function"==typeof t,a=$a(e)?n(e.length):[];return dr(e,(function(e){a[++i]=o?It(t,e,r):Tr(e,t,r)})),a})),xa=Ai((function(e,t,n){or(e,n,t)}));function Sa(e,t){return(Ha(e)?jt:Fr)(e,uo(t,3))}var _a=Ai((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ea=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Hr(e,gr(t,1),[])})),Ca=it||function(){return vt.Date.now()};function Ia(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,f,i,i,i,i,t)}function Oa(e,t){var n;if("function"!=typeof t)throw new Ze(o);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Za=Qr((function(e,t,n){var r=1;if(n.length){var i=fn(n,so(Za));r|=c}return Ji(e,r,t,n,i)})),Ta=Qr((function(e,t,n){var r=3;if(n.length){var i=fn(n,so(Ta));r|=c}return Ji(t,r,e,n,i)}));function Aa(e,t,n){var r,a,s,u,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ze(o);function v(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function m(e){var n=e-l;return l===i||n>=t||n<0||h&&e-f>=s}function g(){var e=Ca();if(m(e))return y(e);c=Ao(g,function(e){var n=t-(e-l);return h?bn(n,s-(e-f)):n}(e))}function y(e){return c=i,p&&r?v(e):(r=a=i,u)}function b(){var e=Ca(),n=m(e);if(r=arguments,a=this,l=e,n){if(c===i)return function(e){return f=e,c=Ao(g,t),d?v(e):u}(l);if(h)return xi(c),c=Ao(g,t),v(l)}return c===i&&(c=Ao(g,t)),u}return t=ms(t)||0,es(n)&&(d=!!n.leading,s=(h="maxWait"in n)?Gt(ms(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&xi(c),f=0,r=l=a=c=i},b.flush=function(){return c===i?u:y(Ca())},b}var Pa=Qr((function(e,t){return lr(e,1,t)})),Ra=Qr((function(e,t,n){return lr(e,ms(t)||0,n)}));function Na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ze(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Na.Cache||qn),n}function ja(e){if("function"!=typeof e)throw new Ze(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=qn;var La=wi((function(e,t){var n=(t=1==t.length&&Ha(t[0])?jt(t[0],Xt(uo())):jt(gr(t,1),Xt(uo()))).length;return Qr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return It(e,this,r)}))})),Da=Qr((function(e,t){var n=fn(t,so(Da));return Ji(e,c,i,t,n)})),Ma=Qr((function(e,t){var n=fn(t,so(Ma));return Ji(e,l,i,t,n)})),Fa=no((function(e,t){return Ji(e,d,i,i,i,t)}));function Ba(e,t){return e===t||e!==e&&t!==t}var Ua=$i(Cr),za=$i((function(e,t){return e>=t})),Va=Ar(function(){return arguments}())?Ar:function(e){return ts(e)&&je.call(e,"callee")&&!Ge.call(e,"callee")},Ha=n.isArray,Wa=kt?Xt(kt):function(e){return ts(e)&&Er(e)==N};function $a(e){return null!=e&&Xa(e.length)&&!Ja(e)}function qa(e){return ts(e)&&$a(e)}var Ga=gt||mu,Ka=xt?Xt(xt):function(e){return ts(e)&&Er(e)==k};function Qa(e){if(!ts(e))return!1;var t=Er(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Ja(e){if(!es(e))return!1;var t=Er(e);return t==S||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ya(e){return"number"==typeof e&&e==ps(e)}function Xa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=St?Xt(St):function(e){return ts(e)&&vo(e)==E};function rs(e){return"number"==typeof e||ts(e)&&Er(e)==C}function is(e){if(!ts(e)||Er(e)!=I)return!1;var t=$e(e);if(null===t)return!0;var n=je.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Fe}var os=_t?Xt(_t):function(e){return ts(e)&&Er(e)==Z};var as=Et?Xt(Et):function(e){return ts(e)&&vo(e)==T};function ss(e){return"string"==typeof e||!Ha(e)&&ts(e)&&Er(e)==A}function us(e){return"symbol"==typeof e||ts(e)&&Er(e)==P}var cs=Ct?Xt(Ct):function(e){return ts(e)&&Xa(e.length)&&!!ut[Er(e)]};var ls=$i(Mr),fs=$i((function(e,t){return e<=t}));function ds(e){if(!e)return[];if($a(e))return ss(e)?vn(e):Zi(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=vo(e);return(t==E?cn:t==T?dn:Bs)(e)}function hs(e){return e?(e=ms(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=hs(e),n=t%1;return t===t?n?t-n:t:0}function vs(e){return e?sr(ps(e),0,m):0}function ms(e){if("number"==typeof e)return e;if(us(e))return v;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ge.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):me.test(e)?v:+e}function gs(e){return Ti(e,Ps(e))}function ys(e){return null==e?"":ci(e)}var bs=Pi((function(e,t){if(_o(t)||$a(t))Ti(t,As(t),e);else for(var n in t)je.call(t,n)&&tr(e,n,t[n])})),ws=Pi((function(e,t){Ti(t,Ps(t),e)})),ks=Pi((function(e,t,n,r){Ti(t,Ps(t),e,r)})),xs=Pi((function(e,t,n,r){Ti(t,As(t),e,r)})),Ss=no(ar);var _s=Qr((function(e,t){e=Ce(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ps(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||Ba(f,Pe[l])&&!je.call(e,l))&&(e[l]=a[l])}return e})),Es=Qr((function(e){return e.push(i,Xi),It(Ns,i,e)}));function Cs(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function Is(e,t){return null!=e&&mo(e,t,Or)}var Os=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),e[t]=n}),eu(ru)),Zs=Ui((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Me.call(t)),je.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Ts=Qr(Tr);function As(e){return $a(e)?Qn(e):Lr(e)}function Ps(e){return $a(e)?Qn(e,!0):Dr(e)}var Rs=Pi((function(e,t,n){zr(e,t,n)})),Ns=Pi((function(e,t,n,r){zr(e,t,n,r)})),js=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=jt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Ti(e,io(e),n),r&&(n=ur(n,7,eo));for(var i=t.length;i--;)fi(n,t[i]);return n}));var Ls=no((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return Is(e,n)}))}(e,t)}));function Ds(e,t){if(null==e)return{};var n=jt(io(e),(function(e){return[e]}));return t=uo(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Ms=Qi(As),Fs=Qi(Ps);function Bs(e){return null==e?[]:en(e,As(e))}var Us=Li((function(e,t,n){return t=t.toLowerCase(),e+(n?zs(t):t)}));function zs(e){return Qs(ys(e).toLowerCase())}function Vs(e){return(e=ys(e))&&e.replace(ke,on).replace(tt,"")}var Hs=Li((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ws=Li((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),$s=ji("toLowerCase");var qs=Li((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Gs=Li((function(e,t,n){return e+(n?" ":"")+Qs(t)}));var Ks=Li((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Qs=ji("toUpperCase");function Js(e,t,n){return e=ys(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Ys=Qr((function(e,t){try{return It(e,i,t)}catch(n){return Qa(n)?n:new se(n)}})),Xs=no((function(e,t){return Zt(t,(function(t){t=Do(t),or(e,t,Za(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=Fi(),nu=Fi(!0);function ru(e){return e}function iu(e){return jr("function"==typeof e?e:ur(e,1))}var ou=Qr((function(e,t){return function(n){return Tr(n,e,t)}})),au=Qr((function(e,t){return function(n){return Tr(e,n,t)}}));function su(e,t,n){var r=As(t),i=xr(t,r);null!=n||es(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=xr(t,As(t)));var o=!(es(n)&&"chain"in n)||!!n.chain,a=Ja(e);return Zt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Zi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function uu(){}var cu=Vi(jt),lu=Vi(At),fu=Vi(Ft);function du(e){return ko(e)?qt(Do(e)):function(e){return function(t){return Sr(t,e)}}(e)}var hu=Wi(),pu=Wi(!0);function vu(){return[]}function mu(){return!1}var gu=zi((function(e,t){return e+t}),0),yu=Gi("ceil"),bu=zi((function(e,t){return e/t}),1),wu=Gi("floor");var ku=zi((function(e,t){return e*t}),1),xu=Gi("round"),Su=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ze(o);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ia,Bn.assign=bs,Bn.assignIn=ws,Bn.assignInWith=ks,Bn.assignWith=xs,Bn.at=Ss,Bn.before=Oa,Bn.bind=Za,Bn.bindAll=Xs,Bn.bindKey=Ta,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ha(e)?e:[e]},Bn.chain=da,Bn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:Gt(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(ht(o/t));a<o;)u[s++]=ri(e,a,a+=t);return u},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Lt(Ha(r)?Zi(r):[r],gr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?jt(e,(function(e){if("function"!=typeof e[1])throw new Ze(o);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(It(i[0],this,n))return It(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=As(e);return function(n){return cr(n,e,t)}}(ur(e,1))},Bn.constant=eu,Bn.countBy=va,Bn.create=function(e,t){var n=Un(e);return null==t?n:ir(n,t)},Bn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,r){var o=Ji(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.debounce=Aa,Bn.defaults=_s,Bn.defaultsDeep=Es,Bn.defer=Pa,Bn.delay=Ra,Bn.difference=Bo,Bn.differenceBy=Uo,Bn.differenceWith=zo,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:ps(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:ps(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0):[]},Bn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=ps(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:ps(r))<0&&(r+=o),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ha(e)?Pt:mr)(e,uo(t,3))},Bn.flatMap=function(e,t){return gr(Sa(e,t),1)},Bn.flatMapDeep=function(e,t){return gr(Sa(e,t),h)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:ps(n),gr(Sa(e,t),n)},Bn.flatten=Wo,Bn.flattenDeep=function(e){return(null==e?0:e.length)?gr(e,h):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?gr(e,t=t===i?1:ps(t)):[]},Bn.flip=function(e){return Ji(e,512)},Bn.flow=tu,Bn.flowRight=nu,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:xr(e,As(e))},Bn.functionsIn=function(e){return null==e?[]:xr(e,Ps(e))},Bn.groupBy=wa,Bn.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Bn.intersection=qo,Bn.intersectionBy=Go,Bn.intersectionWith=Ko,Bn.invert=Os,Bn.invertBy=Zs,Bn.invokeMap=ka,Bn.iteratee=iu,Bn.keyBy=xa,Bn.keys=As,Bn.keysIn=Ps,Bn.map=Sa,Bn.mapKeys=function(e,t){var n={};return t=uo(t,3),wr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=uo(t,3),wr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(ur(e,1))},Bn.matchesProperty=function(e,t){return Ur(e,ur(t,1))},Bn.memoize=Na,Bn.merge=Rs,Bn.mergeWith=Ns,Bn.method=ou,Bn.methodOf=au,Bn.mixin=su,Bn.negate=ja,Bn.nthArg=function(e){return e=ps(e),Qr((function(t){return Vr(t,e)}))},Bn.omit=js,Bn.omitBy=function(e,t){return Ds(e,ja(uo(t)))},Bn.once=function(e){return Oa(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ha(t)||(t=null==t?[]:[t]),Ha(n=r?i:n)||(n=null==n?[]:[n]),Hr(e,t,n))},Bn.over=cu,Bn.overArgs=La,Bn.overEvery=lu,Bn.overSome=fu,Bn.partial=Da,Bn.partialRight=Ma,Bn.partition=_a,Bn.pick=Ls,Bn.pickBy=Ds,Bn.property=du,Bn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Bn.pull=Jo,Bn.pullAll=Yo,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,uo(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?$r(e,t,i,n):e},Bn.pullAt=Xo,Bn.range=hu,Bn.rangeRight=pu,Bn.rearg=Fa,Bn.reject=function(e,t){return(Ha(e)?Pt:mr)(e,ja(uo(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return qr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ze(o);return Qr(e,t=t===i?t:ps(t))},Bn.reverse=ea,Bn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:ps(t),(Ha(e)?Yn:Yr)(e,t)},Bn.set=function(e,t,n){return null==e?e:Xr(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Xr(e,t,n,r)},Bn.shuffle=function(e){return(Ha(e)?Xn:ni)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===i?r:ps(n)),ri(e,t,n)):[]},Bn.sortBy=Ea,Bn.sortedUniq=function(e){return e&&e.length?si(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?si(e,uo(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=ys(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ci(t))&&un(e)?ki(vn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ze(o);return t=null==t?0:Gt(ps(t),0),Qr((function(n){var r=n[t],i=ki(n,0,t);return r&&Lt(i,r),It(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:ps(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:ps(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?hi(e,uo(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ze(o);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Aa(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=ha,Bn.toArray=ds,Bn.toPairs=Ms,Bn.toPairsIn=Fs,Bn.toPath=function(e){return Ha(e)?jt(e,Do):us(e)?[e]:Zi(Lo(ys(e)))},Bn.toPlainObject=gs,Bn.transform=function(e,t,n){var r=Ha(e),i=r||Ga(e)||cs(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:es(e)&&Ja(o)?Un($e(e)):{}}return(i?Zt:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Ia(e,1)},Bn.union=ta,Bn.unionBy=na,Bn.unionWith=ra,Bn.uniq=function(e){return e&&e.length?li(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?li(e,uo(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?li(e,i,t):[]},Bn.unset=function(e,t){return null==e||fi(e,t)},Bn.unzip=ia,Bn.unzipWith=oa,Bn.update=function(e,t,n){return null==e?e:di(e,t,yi(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,yi(n),r)},Bn.values=Bs,Bn.valuesIn=function(e){return null==e?[]:en(e,Ps(e))},Bn.without=aa,Bn.words=Js,Bn.wrap=function(e,t){return Da(yi(t),e)},Bn.xor=sa,Bn.xorBy=ua,Bn.xorWith=ca,Bn.zip=la,Bn.zipObject=function(e,t){return mi(e||[],t||[],tr)},Bn.zipObjectDeep=function(e,t){return mi(e||[],t||[],Xr)},Bn.zipWith=fa,Bn.entries=Ms,Bn.entriesIn=Fs,Bn.extend=ws,Bn.extendWith=ks,su(Bn,Bn),Bn.add=gu,Bn.attempt=Ys,Bn.camelCase=Us,Bn.capitalize=zs,Bn.ceil=yu,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))===n?n:0),t!==i&&(t=(t=ms(t))===t?t:0),sr(ms(e),t,n)},Bn.clone=function(e){return ur(e,4)},Bn.cloneDeep=function(e){return ur(e,5)},Bn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||cr(e,t,As(t))},Bn.deburr=Vs,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=bu,Bn.endsWith=function(e,t,n){e=ys(e),t=ci(t);var r=e.length,o=n=n===i?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=Ba,Bn.escape=function(e){return(e=ys(e))&&J.test(e)?e.replace(K,an):e},Bn.escapeRegExp=function(e){return(e=ys(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ha(e)?At:pr;return n&&wo(e,t,n)&&(t=i),r(e,uo(t,3))},Bn.find=ma,Bn.findIndex=Vo,Bn.findKey=function(e,t){return Ut(e,uo(t,3),wr)},Bn.findLast=ga,Bn.findLastIndex=Ho,Bn.findLastKey=function(e,t){return Ut(e,uo(t,3),kr)},Bn.floor=wu,Bn.forEach=ya,Bn.forEachRight=ba,Bn.forIn=function(e,t){return null==e?e:yr(e,uo(t,3),Ps)},Bn.forInRight=function(e,t){return null==e?e:br(e,uo(t,3),Ps)},Bn.forOwn=function(e,t){return e&&wr(e,uo(t,3))},Bn.forOwnRight=function(e,t){return e&&kr(e,uo(t,3))},Bn.get=Cs,Bn.gt=Ua,Bn.gte=za,Bn.has=function(e,t){return null!=e&&mo(e,t,Ir)},Bn.hasIn=Is,Bn.head=$o,Bn.identity=ru,Bn.includes=function(e,t,n,r){e=$a(e)?e:Bs(e),n=n&&!r?ps(n):0;var i=e.length;return n<0&&(n=Gt(i+n,0)),ss(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Vt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=Gt(r+i,0)),Vt(e,t,i)},Bn.inRange=function(e,t,n){return t=hs(t),n===i?(n=t,t=0):n=hs(n),function(e,t,n){return e>=bn(t,n)&&e<Gt(t,n)}(e=ms(e),t,n)},Bn.invoke=Ts,Bn.isArguments=Va,Bn.isArray=Ha,Bn.isArrayBuffer=Wa,Bn.isArrayLike=$a,Bn.isArrayLikeObject=qa,Bn.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Er(e)==w},Bn.isBuffer=Ga,Bn.isDate=Ka,Bn.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Bn.isEmpty=function(e){if(null==e)return!0;if($a(e)&&(Ha(e)||"string"==typeof e||"function"==typeof e.splice||Ga(e)||cs(e)||Va(e)))return!e.length;var t=vo(e);if(t==E||t==T)return!e.size;if(_o(e))return!Lr(e).length;for(var n in e)if(je.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Pr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Pr(e,t,i,n):!!r},Bn.isError=Qa,Bn.isFinite=function(e){return"number"==typeof e&&bt(e)},Bn.isFunction=Ja,Bn.isInteger=Ya,Bn.isLength=Xa,Bn.isMap=ns,Bn.isMatch=function(e,t){return e===t||Rr(e,t,lo(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Rr(e,t,lo(t),n)},Bn.isNaN=function(e){return rs(e)&&e!=+e},Bn.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=rs,Bn.isObject=es,Bn.isObjectLike=ts,Bn.isPlainObject=is,Bn.isRegExp=os,Bn.isSafeInteger=function(e){return Ya(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=as,Bn.isString=ss,Bn.isSymbol=us,Bn.isTypedArray=cs,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return ts(e)&&vo(e)==R},Bn.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Er(e)},Bn.join=function(e,t){return null==e?"":wt.call(e,t)},Bn.kebabCase=Hs,Bn.last=Qo,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=ps(n))<0?Gt(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):zt(e,Wt,o,!0)},Bn.lowerCase=Ws,Bn.lowerFirst=$s,Bn.lt=ls,Bn.lte=fs,Bn.max=function(e){return e&&e.length?vr(e,ru,Cr):i},Bn.maxBy=function(e,t){return e&&e.length?vr(e,uo(t,2),Cr):i},Bn.mean=function(e){return $t(e,ru)},Bn.meanBy=function(e,t){return $t(e,uo(t,2))},Bn.min=function(e){return e&&e.length?vr(e,ru,Mr):i},Bn.minBy=function(e,t){return e&&e.length?vr(e,uo(t,2),Mr):i},Bn.stubArray=vu,Bn.stubFalse=mu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=ku,Bn.nth=function(e,t){return e&&e.length?Vr(e,ps(t)):i},Bn.noConflict=function(){return vt._===this&&(vt._=Be),this},Bn.noop=uu,Bn.now=Ca,Bn.pad=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Hi(pt(i),n)+e+Hi(ht(i),n)},Bn.padEnd=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+Hi(t-r,n):e},Bn.padStart=function(e,t,n){e=ys(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?Hi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(ys(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hs(e),t===i?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=xn();return bn(e+o*(t-e+ft("1e-"+((o+"").length-1))),t)}return Gr(e,t)},Bn.reduce=function(e,t,n){var r=Ha(e)?Dt:Kt,i=arguments.length<3;return r(e,uo(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Ha(e)?Mt:Kt,i=arguments.length<3;return r(e,uo(t,4),n,i,hr)},Bn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:ps(t),Kr(ys(e),t)},Bn.replace=function(){var e=arguments,t=ys(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Do(t[r])];a===i&&(r=o,a=n),e=Ja(a)?a.call(e):a}return e},Bn.round=xu,Bn.runInContext=e,Bn.sample=function(e){return(Ha(e)?Jn:Jr)(e)},Bn.size=function(e){if(null==e)return 0;if($a(e))return ss(e)?pn(e):e.length;var t=vo(e);return t==E||t==T?e.size:Lr(e).length},Bn.snakeCase=qs,Bn.some=function(e,t,n){var r=Ha(e)?Ft:ii;return n&&wo(e,t,n)&&(t=i),r(e,uo(t,3))},Bn.sortedIndex=function(e,t){return oi(e,t)},Bn.sortedIndexBy=function(e,t,n){return ai(e,t,uo(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Ba(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ai(e,t,uo(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Ba(e[n],t))return n}return-1},Bn.startCase=Gs,Bn.startsWith=function(e,t,n){return e=ys(e),n=null==n?0:sr(ps(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},Bn.subtract=Su,Bn.sum=function(e){return e&&e.length?Qt(e,ru):0},Bn.sumBy=function(e,t){return e&&e.length?Qt(e,uo(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&wo(e,t,n)&&(t=i),e=ys(e),t=ks({},t,r,Yi);var o,a,s=ks({},t.imports,r.imports,Yi),u=As(s),c=en(s,u),l=0,f=t.interpolate||xe,d="__p += '",h=Ie((t.escape||xe).source+"|"+f.source+"|"+(f===ee?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(l,u).replace(Se,sn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var v=je.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace($,"$1").replace(q,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ys((function(){return _e(u,p+"return "+d).apply(i,c)}));if(m.source=d,Qa(m))throw m;return m},Bn.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=m,r=bn(e,m);t=uo(t),e-=m;for(var i=Jt(r,t);++n<e;)t(n);return i},Bn.toFinite=hs,Bn.toInteger=ps,Bn.toLength=vs,Bn.toLower=function(e){return ys(e).toLowerCase()},Bn.toNumber=ms,Bn.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Bn.toString=ys,Bn.toUpper=function(e){return ys(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=ys(e))&&(n||t===i))return Yt(e);if(!e||!(t=ci(t)))return e;var r=vn(e),o=vn(t);return ki(r,nn(r,o),rn(r,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ci(t)))return e;var r=vn(e);return ki(r,0,rn(r,vn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=ys(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=ci(t)))return e;var r=vn(e);return ki(r,nn(r,vn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(es(t)){var o="separator"in t?t.separator:o;n="length"in t?ps(t.length):n,r="omission"in t?ci(t.omission):r}var a=(e=ys(e)).length;if(un(e)){var s=vn(e);a=s.length}if(n>=a)return e;var u=n-pn(r);if(u<1)return r;var c=s?ki(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),os(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Ie(o.source,ys(ve.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(ci(o),u)!=u){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},Bn.unescape=function(e){return(e=ys(e))&&Q.test(e)?e.replace(G,gn):e},Bn.uniqueId=function(e){var t=++Le;return ys(e)+t},Bn.upperCase=Ks,Bn.upperFirst=Qs,Bn.each=ya,Bn.eachRight=ba,Bn.first=$o,su(Bn,function(){var e={};return wr(Bn,(function(t,n){je.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Zt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Zt(["drop","take"],(function(e,t){Hn.prototype[e]=function(n){n=n===i?1:Gt(ps(n),0);var r=this.__filtered__&&!t?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Hn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Zt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Hn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Zt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Hn.prototype[e]=function(){return this[n](1).value()[0]}})),Zt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Hn.prototype[e]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ru)},Hn.prototype.find=function(e){return this.filter(e).head()},Hn.prototype.findLast=function(e){return this.reverse().find(e)},Hn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Hn(this):this.map((function(n){return Tr(n,e,t)}))})),Hn.prototype.reject=function(e){return this.filter(ja(uo(e)))},Hn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Hn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Hn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hn.prototype.toArray=function(){return this.take(m)},wr(Hn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Hn,c=s[0],l=u||Ha(t),f=function(e){var t=o.apply(Bn,Lt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&l){t=v?t:new Hn(this);var m=e.apply(t,s);return m.__actions__.push({func:ha,args:[f],thisArg:i}),new Vn(m,d)}return p&&v?e.apply(this,s):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),Zt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Te[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ha(i)?i:[],e)}return this[n]((function(n){return t.apply(Ha(n)?n:[],e)}))}})),wr(Hn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";je.call(An,r)||(An[r]=[]),An[r].push({name:t,func:n})}})),An[Bi(i,2).name]=[{name:"wrapper",func:i}],Hn.prototype.clone=function(){var e=new Hn(this.__wrapped__);return e.__actions__=Zi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Zi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Zi(this.__views__),e},Hn.prototype.reverse=function(){if(this.__filtered__){var e=new Hn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ha(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=Gt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=bn(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,m=e[c+=t];++v<f;){var g=l[v],y=g.iteratee,b=g.type,w=y(m);if(2==b)m=w;else if(!w){if(1==b)continue e;break e}}p[d++]=m}return p},Bn.prototype.at=pa,Bn.prototype.chain=function(){return da(this)},Bn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Fo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hn){var t=e;return this.__actions__.length&&(t=new Hn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ea],thisArg:i}),new Vn(t,this.__chain__)}return this.thru(ea)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Je&&(Bn.prototype[Je]=function(){return this}),Bn}();vt._=yn,(r=function(){return yn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},57:function(e,t,n){e.exports=d,d.Minimatch=h;var r=function(){try{return n(Object(function(){var e=new Error("Cannot find module 'path'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}}()||{sep:"/"};d.sep=r.sep;var i=d.GLOBSTAR=h.GLOBSTAR={},o=n(5828),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s="[^/]",u=s+"*?",c="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var l=/\/+/;function f(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function d(e,t,n){return v(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new h(t,n).match(e)}function h(e,t){if(!(this instanceof h))return new h(e,t);v(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function p(e,t){return t||(t=this instanceof h?this.options:{}),e="undefined"===typeof e?this.pattern:e,v(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)}d.filter=function(e,t){return t=t||{},function(n,r,i){return d(n,e,t)}},d.defaults=function(e){if(!e||"object"!==typeof e||!Object.keys(e).length)return d;var t=d,n=function(n,r,i){return t(n,r,f(e,i))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,f(e,r))}).defaults=function(n){return t.defaults(f(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,f(e,r))},n.defaults=function(n){return t.defaults(f(e,n))},n.makeRe=function(n,r){return t.makeRe(n,f(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,f(e,r))},n.match=function(n,r,i){return t.match(n,r,f(e,i))},n},h.defaults=function(e){return d.defaults(e).Minimatch},h.prototype.debug=function(){},h.prototype.make=function(){var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)});this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},d.braceExpand=function(e,t){return p(e,t)},h.prototype.braceExpand=p;var v=function(e){if("string"!==typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};h.prototype.parse=function(e,t){v(e);var n=this.options;if("**"===e){if(!n.noglobstar)return i;e="*"}if(""===e)return"";var r,o="",l=!!n.nocase,f=!1,d=[],h=[],p=!1,g=-1,y=-1,b="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function k(){if(r){switch(r){case"*":o+=u,l=!0;break;case"?":o+=s,l=!0;break;default:o+="\\"+r}w.debug("clearStateChar %j %j",r,o),r=!1}}for(var x,S=0,_=e.length;S<_&&(x=e.charAt(S));S++)if(this.debug("%s\t%s %s %j",e,S,o,x),f&&c[x])o+="\\"+x,f=!1;else switch(x){case"/":return!1;case"\\":k(),f=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,S,o,x),p){this.debug("  in class"),"!"===x&&S===y+1&&(x="^"),o+=x;continue}w.debug("call clearStateChar %j",r),k(),r=x,n.noext&&k();continue;case"(":if(p){o+="(";continue}if(!r){o+="\\(";continue}d.push({type:r,start:S-1,reStart:o.length,open:a[r].open,close:a[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(p||!d.length){o+="\\)";continue}k(),l=!0;var E=d.pop();o+=E.close,"!"===E.type&&h.push(E),E.reEnd=o.length;continue;case"|":if(p||!d.length||f){o+="\\|",f=!1;continue}k(),o+="|";continue;case"[":if(k(),p){o+="\\"+x;continue}p=!0,y=S,g=o.length,o+=x;continue;case"]":if(S===y+1||!p){o+="\\"+x,f=!1;continue}var C=e.substring(y+1,S);try{RegExp("["+C+"]")}catch(z){var I=this.parse(C,m);o=o.substr(0,g)+"\\["+I[0]+"\\]",l=l||I[1],p=!1;continue}l=!0,p=!1,o+=x;continue;default:k(),f?f=!1:!c[x]||"^"===x&&p||(o+="\\"),o+=x}p&&(C=e.substr(y+1),I=this.parse(C,m),o=o.substr(0,g)+"\\["+I[0],l=l||I[1]);for(E=d.pop();E;E=d.pop()){var O=o.slice(E.reStart+E.open.length);this.debug("setting tail",o,E),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",O,O,E,o);var Z="*"===E.type?u:"?"===E.type?s:"\\"+E.type;l=!0,o=o.slice(0,E.reStart)+Z+"\\("+O}k(),f&&(o+="\\\\");var T=!1;switch(o.charAt(0)){case"[":case".":case"(":T=!0}for(var A=h.length-1;A>-1;A--){var P=h[A],R=o.slice(0,P.reStart),N=o.slice(P.reStart,P.reEnd-8),j=o.slice(P.reEnd-8,P.reEnd),L=o.slice(P.reEnd);j+=L;var D=R.split("(").length-1,M=L;for(S=0;S<D;S++)M=M.replace(/\)[+*?]?/,"");var F="";""===(L=M)&&t!==m&&(F="$"),o=R+N+L+F+j}""!==o&&l&&(o="(?=.)"+o);T&&(o=b+o);if(t===m)return[o,l];if(!l)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var B=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",B)}catch(z){return new RegExp("$.")}return U._glob=e,U._src=o,U};var m={};d.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?u:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"===typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(a){this.regexp=!1}return this.regexp},d.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if("undefined"===typeof t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var i,o,a=this.set;for(this.debug(this.pattern,"set",a),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<a.length;o++){var s=a[o],u=e;if(n.matchBase&&1===s.length&&(u=[i]),this.matchOne(u,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,s=e.length,u=t.length;o<s&&a<u;o++,a++){this.debug("matchOne loop");var c,l=t[a],f=e[o];if(this.debug(t,l,f),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,f]);var d=o,h=a+1;if(h===u){for(this.debug("** at the end");o<s;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;d<s;){var p=e[d];if(this.debug("\nglobstar while",e,d,t,h,p),this.matchOne(e.slice(d),t.slice(h),n))return this.debug("globstar found match!",d,s,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,d,t,h);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!n||(this.debug("\n>>> no match, partial?",e,d,t,h),d!==s))}if("string"===typeof l?(c=f===l,this.debug("string match",l,f,c)):(c=f.match(l),this.debug("pattern match",l,f,c)),!c)return!1}if(o===s&&a===u)return!0;if(o===s)return n;if(a===u)return o===s-1&&""===e[o];throw new Error("wtf?")}},4883:function(e,t,n){var r=n(5097);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+f.length,d)s+=d[1];else{var p=e[a],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var k=null!=v&&null!=p&&p!==v,x="+"===b||"*"===b,S="?"===b||"*"===b,_=n[2]||l,E=g||y;r.push({name:m||o++,prefix:v||"",delimiter:_,optional:S,repeat:x,partial:k,asterisk:!!w,pattern:E?c(E):w?".*":"[^"+u(_)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,d=s[l.name];if(null==d){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=u(d[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(d),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var d=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+d+h+")*"),a+=h=c.optional?c.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},5097:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},7490:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},1729:function(e,t,n){"use strict";var r=n(9165);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6900:function(e,t,n){var r;"undefined"!=typeof self&&self,e.exports=(r=n(7313),function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var r={linear:function(e,t,n,r){return(n-t)*e/r+t},easeInQuad:function(e,t,n,r){return(n-t)*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-(n-t)*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return(n-t)*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-(n-t)*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return(n-t)*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return(n-t)*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){var i=n-t;return-i*Math.cos(e/r*(Math.PI/2))+i+t},easeOutSine:function(e,t,n,r){return(n-t)*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-(n-t)/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0==e?t:(n-t)*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){var i=n-t;return e==r?t+i:i*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){var i=n-t;return 0===e?t:e===r?t+i:(e/=r/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-(n-t)*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return(n-t)*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){var i=n-t;return(e/=r/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var i,o,a,s=n-t;return a=1.70158,0===e?t:1==(e/=r)?t+s:((o=0)||(o=.3*r),(i=s)<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)},easeOutElastic:function(e,t,n,r){var i,o,a,s=n-t;return a=1.70158,0===e?t:1==(e/=r)?t+s:((o=0)||(o=.3*r),(i=s)<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+s+t)},easeInOutElastic:function(e,t,n,r){var i,o,a,s=n-t;return a=1.70158,0===e?t:2==(e/=r/2)?t+s:((o=0)||(o=r*(.3*1.5)),(i=s)<Math.abs(s)?(i=s,a=o/4):a=o/(2*Math.PI)*Math.asin(s/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+s+t)},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(n-t)*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){var o=n-t;return void 0===i&&(i=1.70158),(e/=r/2)<1?o/2*(e*e*((1+(i*=1.525))*e-i))+t:o/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:function(e,t,n,i){var o=n-t;return o-r.easeOutBounce(i-e,0,o,i)+t},easeOutBounce:function(e,t,n,r){var i=n-t;return(e/=r)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,i){var o=n-t;return e<i/2?.5*r.easeInBounce(2*e,0,o,i)+t:.5*r.easeOutBounce(2*e-i,0,o,i)+.5*o+t}};e.exports=r},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"ReactConfetti",(function(){return B}));var r,i,o=n(0),a=n.n(o),s=n(1),u=n.n(s);function c(e,t){return e+Math.random()*(t-e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.Circle=0]="Circle",e[e.Square=1]="Square",e[e.Strip=2]="Strip"}(r||(r={})),function(e){e[e.Positive=1]="Positive",e[e.Negative=-1]="Negative"}(i||(i={}));var d=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"context",void 0),f(this,"radius",void 0),f(this,"x",void 0),f(this,"y",void 0),f(this,"w",void 0),f(this,"h",void 0),f(this,"vx",void 0),f(this,"vy",void 0),f(this,"shape",void 0),f(this,"angle",void 0),f(this,"angularSpin",void 0),f(this,"color",void 0),f(this,"rotateY",void 0),f(this,"rotationDirection",void 0),f(this,"getOptions",void 0),this.getOptions=n;var a,s,u=this.getOptions(),l=u.colors,d=u.initialVelocityX,h=u.initialVelocityY;this.context=t,this.x=r,this.y=o,this.w=c(5,20),this.h=c(5,20),this.radius=c(5,10),this.vx="number"==typeof d?c(-d,d):c(d.min,d.max),this.vy="number"==typeof h?c(-h,0):c(h.min,h.max),this.shape=(a=0,s=2,Math.floor(a+Math.random()*(s-a+1))),this.angle=c(0,360)*Math.PI/180,this.angularSpin=c(-.2,.2),this.color=l[Math.floor(Math.random()*l.length)],this.rotateY=c(0,1),this.rotationDirection=c(0,1)?i.Positive:i.Negative}var t,n,o;return t=e,(n=[{key:"update",value:function(){var e=this.getOptions(),t=e.gravity,n=e.wind,o=e.friction,a=e.opacity,s=e.drawShape;this.x+=this.vx,this.y+=this.vy,this.vy+=t,this.vx+=n,this.vx*=o,this.vy*=o,this.rotateY>=1&&this.rotationDirection===i.Positive?this.rotationDirection=i.Negative:this.rotateY<=-1&&this.rotationDirection===i.Negative&&(this.rotationDirection=i.Positive);var u=.1*this.rotationDirection;if(this.rotateY+=u,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=a,this.context.lineCap="round",this.context.lineWidth=2,s&&"function"==typeof s)s.call(this,this.context);else switch(this.shape){case r.Circle:this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break;case r.Square:this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break;case r.Strip:this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h)}this.context.closePath(),this.context.restore()}}])&&l(t.prototype,n),o&&l(t,o),e}();function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"canvas",void 0),h(this,"context",void 0),h(this,"getOptions",void 0),h(this,"x",0),h(this,"y",0),h(this,"w",0),h(this,"h",0),h(this,"lastNumberOfPieces",0),h(this,"tweenInitTime",Date.now()),h(this,"particles",[]),h(this,"particlesGenerated",0),h(this,"removeParticleAt",(function(e){r.particles.splice(e,1)})),h(this,"getParticle",(function(){var e=c(r.x,r.w+r.x),t=c(r.y,r.h+r.y);return new d(r.context,r.getOptions,e,t)})),h(this,"animate",(function(){var e=r.canvas,t=r.context,n=r.particlesGenerated,i=r.lastNumberOfPieces,o=r.getOptions(),a=o.run,s=o.recycle,u=o.numberOfPieces,c=o.debug,l=o.tweenFunction,f=o.tweenDuration;if(!a)return!1;var d=r.particles.length,h=s?d:n,p=Date.now();if(h<u){i!==u&&(r.tweenInitTime=p,r.lastNumberOfPieces=u);for(var v=r.tweenInitTime,m=l(p-v>f?f:Math.max(0,p-v),h,u,f),g=Math.round(m-h),y=0;y<g;y++)r.particles.push(r.getParticle());r.particlesGenerated+=g}return c&&(t.font="12px sans-serif",t.fillStyle="#333",t.textAlign="right",t.fillText("Particles: ".concat(d),e.width-10,e.height-20)),r.particles.forEach((function(t,n){t.update(),(t.y>e.height||t.y<-100||t.x>e.width+100||t.x<-100)&&(s&&h<=u?r.particles[n]=r.getParticle():r.removeParticleAt(n))})),d>0||h<u})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=n};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={width:"undefined"!=typeof window?window.innerWidth:300,height:"undefined"!=typeof window?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:u.a.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0},w=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"canvas",void 0),y(this,"context",void 0),y(this,"_options",void 0),y(this,"generator",void 0),y(this,"rafId",void 0),y(this,"setOptionsWithDefaults",(function(e){var t={confettiSource:{x:0,y:0,w:r.canvas.width,h:0}};r._options=m(m(m({},t),b),e),Object.assign(r,e.confettiSource)})),y(this,"update",(function(){var e=r.options,t=e.run,n=e.onConfettiComplete,i=r.canvas,o=r.context;t&&(o.fillStyle="white",o.clearRect(0,0,i.width,i.height)),r.generator.animate()?r.rafId=requestAnimationFrame(r.update):(n&&"function"==typeof n&&r.generator.particlesGenerated>0&&n.call(r,r),r._options.run=!1)})),y(this,"reset",(function(){r.generator&&r.generator.particlesGenerated>0&&(r.generator.particlesGenerated=0,r.generator.particles=[],r.generator.lastNumberOfPieces=0)})),y(this,"stop",(function(){r.options={run:!1},r.rafId&&(cancelAnimationFrame(r.rafId),r.rafId=void 0)})),this.canvas=t;var i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new p(this.canvas,(function(){return r.options})),this.options=n,this.update()}var t,n,r;return t=e,(n=[{key:"options",get:function(){return this._options},set:function(e){var t=this._options&&this._options.run,n=this._options&&this._options.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),"boolean"==typeof e.recycle&&e.recycle&&!1===n&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),"boolean"==typeof e.run&&e.run&&!1===t&&this.update()}}])&&g(t.prototype,n),r&&g(t,r),e}();function k(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=a.a.createRef(),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(o,e);var t,n,r,i=P(o);function o(e){var t;Z(this,o);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return L(N(t=i.call.apply(i,[this,e].concat(r))),"canvas",a.a.createRef()),L(N(t),"confetti",void 0),t.canvas=e.canvasRef||D,t}return t=o,(n=[{key:"componentDidMount",value:function(){if(this.canvas.current){var e=F(this.props)[0];this.confetti=new w(this.canvas.current,e)}}},{key:"componentDidUpdate",value:function(){var e=F(this.props)[0];this.confetti&&(this.confetti.options=e)}},{key:"componentWillUnmount",value:function(){this.confetti&&this.confetti.stop(),this.confetti=void 0}},{key:"render",value:function(){var e=C(F(this.props),2),t=e[0],n=e[1],r=E({zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0},n.style);return a.a.createElement("canvas",S({width:t.width,height:t.height,ref:this.canvas},n,{style:r}))}}])&&T(t.prototype,n),r&&T(t,r),o}(o.Component);function F(e){var t={},n={},r=[].concat(k(Object.keys(b)),["confettiSource","drawShape","onConfettiComplete"]),i=["canvasRef"];for(var o in e){var a=e[o];r.includes(o)?t[o]=a:i.includes(o)?i[o]=a:n[o]=a}return[t,n,{}]}L(M,"defaultProps",E({},b)),L(M,"displayName","ReactConfetti");var B=a.a.forwardRef((function(e,t){return a.a.createElement(M,S({canvasRef:t},e))}));t.default=B}]).default)},534:function(e,t,n){"use strict";var r=n(7313),i=n(2224);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var L,D=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function U(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case _:return"StrictMode";case Z:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=ki(t),xe(e.stateNode,e.type,t))}}function Ce(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ie(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Oe(e,t){return e(t)}function Ze(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return Oe(e,t,n)}finally{Te=!1,(null!==Se||null!==_e)&&(Ze(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(le){Re=!1}function je(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,De=null,Me=!1,Fe=null,Be={onError:function(e){Le=!0,De=e}};function Ue(e,t,n,r,i,o,a,s,u){Le=!1,De=null,je.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,St,_t,Et,Ct=!1,It=[],Ot=null,Zt=null,Tt=null,At=new Map,Pt=new Map,Rt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Ot&&Mt(Ot)&&(Ot=null),null!==Zt&&Mt(Zt)&&(Zt=null),null!==Tt&&Mt(Tt)&&(Tt=null),At.forEach(Ft),Pt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Ut(Ot,e),null!==Zt&&Ut(Zt,e),null!==Tt&&Ut(Tt,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Rt.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function $t(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function qt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,Gt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Lt(Ot,e,t,n,r,i),!0;case"dragenter":return Zt=Lt(Zt,e,t,n,r,i),!0;case"mouseover":return Tt=Lt(Tt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&kt(o),null===(o=Kt(e,t,n,r))&&Hr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Kt(e,t,n,r){if(Gt=null,null!==(e=yi(e=ke(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=D({},cn,{view:0,detail:0}),dn=on(fn),hn=D({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(D({},hn,{dataTransfer:0})),mn=on(D({},fn,{relatedTarget:0})),gn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(D({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return _n}var Cn=D({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Cn),On=on(D({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Zn=on(D({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Tn=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=D({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(An),Rn=[9,13,27,32],Nn=l&&"CompositionEvent"in window,jn=null;l&&"documentMode"in document&&(jn=document.documentMode);var Ln=l&&"TextEvent"in window&&!jn,Dn=l&&(!Nn||jn&&8<jn&&11>=jn),Mn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=$r(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,qn=null;function Gn(e){Mr(e,0)}function Kn(e){if(q(wi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Yn;if(l){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Yn=Xn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),qn=$n=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Wn(t,qn,e,ke(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=$r(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},_r={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Er("animationend"),Ir=Er("animationiteration"),Or=Er("animationstart"),Zr=Er("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),u(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Nr=Ar[Rr];Pr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Pr(Cr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Or,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Zr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(o(198));var l=De;Le=!1,De=null,Me||(Me=!0,Fe=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,s,c),o=u}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=$t;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=ke(n),a=[];e:{var s=Tr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Zn;break;case Cr:case Ir:case Or:u=gn;break;case Zr:u=Tn;break;case"scroll":u=dn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:wi(u),h=null==c?s:wi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=qr(h))p++;for(h=0,v=d;v;v=qr(v))h++;for(;0<p-h;)l=qr(l),p--;for(;0<h-p;)d=qr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=qr(l),d=qr(d)}l=null}else l=null;null!==u&&Gr(a,s,u,l,!1),null!==c&&null!==f&&Gr(a,f,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Qn;else if(Hn(s))if(Jn)m=ar;else{m=ir;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(a,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Yt="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(g=$r(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Nn&&Bn(e,t)?(e=en(),Xt=Yt=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Pe(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Pe(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function Yr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ki(e){return e[hi]||null}var xi=[],Si=-1;function _i(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ci(e,t){Si++,xi[Si]=e.current,e.current=t}var Ii={},Oi=_i(Ii),Zi=_i(!1),Ti=Ii;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Zi),Ei(Oi)}function Ni(e,t,n){if(Oi.current!==Ii)throw Error(o(168));Ci(Oi,t),Ci(Zi,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return D({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ti=Oi.current,Ci(Oi,e),Ci(Zi,Zi.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ji(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Ei(Zi),Ei(Oi),Ci(Oi,e)):Ei(Zi),Ci(Zi,n)}var Mi=null,Fi=!1,Bi=!1;function Ui(e){null===Mi?Mi=[e]:Mi.push(e)}function zi(){if(!Bi&&null!==Mi){Bi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Fi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),qe(Xe,zi),i}finally{bt=t,Bi=!1}}return null}var Vi=[],Hi=0,Wi=null,$i=0,qi=[],Gi=0,Ki=null,Qi=1,Ji="";function Yi(e,t){Vi[Hi++]=$i,Vi[Hi++]=Wi,Wi=e,$i=t}function Xi(e,t,n){qi[Gi++]=Qi,qi[Gi++]=Ji,qi[Gi++]=Ki,Ki=e;var r=Qi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Yi(e,1),Xi(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--Hi],Vi[Hi]=null,$i=Vi[--Hi],Vi[Hi]=null;for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Ji=qi[--Gi],qi[Gi]=null,Qi=qi[--Gi],qi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=_i(null),bo=null,wo=null,ko=null;function xo(){ko=wo=bo=null}function So(e){var t=yo.current;Ei(yo),e._currentValue=t}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,ko=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Io=null;function Oo(e){null===Io?Io=[e]:Io.push(e)}function Zo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oo(t)):(n.next=i.next,i.next=n),t.interleaved=n,To(e,r)}function To(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Zu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,To(e,n)}return null===(i=r.interleaved)?(t.next=t,Oo(r)):(t.next=i.next,i.next=t),r.interleaved=t,To(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=D({},f,d);break e;case 2:Ao=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Du|=a,e.lanes=a,e.memoizedState=f}}function Fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=No(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=No(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=jo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=No(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=jo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ho(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Pi(t)?Ti:Oi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Pi(t)?Ti:Oi.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zo.enqueueReplaceState(i,i.state,null),Mo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Ko(o)===t.type)?((r=i(t,n.props)).ref=qo(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=qo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),io&&Yi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Yi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),io&&Yi(i,v),c}function m(i,s,u,c){var l=j(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),io&&Yi(i,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=d(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return io&&Yi(i,m),l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Yi(i,m),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ko(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=qo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=jc(a.type,a.key,a.props,null,r.mode,u)).ref=qo(r,o,a),u.return=r,r=u)}return s(r);case x:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fc(a,r.mode,u)).return=r,r=o}return s(r);case P:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(j(a))return m(r,o,a,u);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Mc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Jo=Qo(!0),Yo=Qo(!1),Xo={},ea=_i(Xo),ta=_i(Xo),na=_i(Xo);function ra(e){if(e===Xo)throw Error(o(174));return e}function ia(e,t){switch(Ci(na,t),Ci(ta,e),Ci(ea,Xo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),Ci(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ci(ta,e),Ci(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var ua=_i(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var da=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,pa=0,va=null,ma=null,ga=null,ya=!1,ba=!1,wa=0,ka=0;function xa(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ga=ma=null,t.updateQueue=null,da.current=cs,e=n(r,i)}while(ba)}if(da.current=as,t=null!==ma&&null!==ma.next,pa=0,ga=ma=va=null,ya=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==wa;return wa=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?va.memoizedState=ga=e:ga=ga.next=e,ga}function Ia(){if(null===ma){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?va.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?va.memoizedState=ga=e:ga=ga.next=e}return ga}function Oa(e,t){return"function"===typeof t?t(e):t}function Za(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,va.lanes|=f,Du|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Du|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Pa(e,t){var n=va,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ha(ja.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Na.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Na(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Da(e)}function ja(e,t,n){return n((function(){La(t)&&Da(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Da(e){var t=To(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=Ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Ia().memoizedState}function Ua(e,t,n,r){var i=Ca();va.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function za(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Fa(t,n,o,r))}va.flags|=e,i.memoizedState=Fa(1|t,n,o,r)}function Va(e,t){return Ua(8390656,8,e,t)}function Ha(e,t){return za(2048,8,e,t)}function Wa(e,t){return za(4,2,e,t)}function $a(e,t){return za(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,qa.bind(null,t,e),n)}function Ka(){}function Qa(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ya(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Du|=n,e.baseState=!0),t)}function Xa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return Ia().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Zo(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Oo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Zo(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Co,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Co,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:Ma,useDebugValue:Ka,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Xa.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ca();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tu)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(ja.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Na.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=Tu.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ka++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Ha,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:$a,useMemo:Ja,useReducer:Za,useRef:Ba,useState:function(){return Za(Oa)},useDebugValue:Ka,useDeferredValue:function(e){return Ya(Ia(),ma.memoizedState,e)},useTransition:function(){return[Za(Oa)[0],Ia().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1},cs={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Ha,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:$a,useMemo:Ja,useReducer:Ta,useRef:Ba,useState:function(){return Ta(Oa)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ia();return null===ma?t.memoizedState=e:Ya(t,ma.memoizedState,e)},useTransition:function(){return[Ta(Oa)[0],Ia().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=No(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,$u=r),ds(0,t)},n}function vs(e,t,n){(n=No(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===qu?qu=new Set([this]):qu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=No(-1,1)).tag=2,jo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Yo(t,null,n,r):Jo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=_a(e,t,n,r,o,i),n=Ea(),null===e||ws?(io&&n&&eo(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Nc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Is(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Nu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Nu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Nu,Ru),Ru|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Nu,Ru),Ru|=r;return ks(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=Pi(n)?Ti:Oi.current;return o=Ai(t,o),Eo(t,i),n=_a(e,t,n,r,o,i),r=Ea(),null===e||ws?(io&&r&&eo(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Os(e,t,n,r,i){if(Pi(n)){var o=!0;Li(t)}else o=!1;if(Eo(t,i),null===t.stateNode)Hs(e,t),Ho(t,n,r),$o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Ai(t,c=Pi(n)?Ti:Oi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wo(t,a,r,c),Ao=!1;var d=t.memoizedState;a.state=d,Mo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Zi.current||Ao?("function"===typeof l&&(Uo(t,n,l,r),u=t.memoizedState),(s=Ao||Vo(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:go(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Co(u):u=Ai(t,u=Pi(n)?Ti:Oi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Wo(t,a,r,u),Ao=!1,d=t.memoizedState,a.state=d,Mo(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||Zi.current||Ao?("function"===typeof h&&(Uo(t,n,h,r),p=t.memoizedState),(c=Ao||Vo(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Zs(e,t,n,r,o,i)}function Zs(e,t,n,r,i,o){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Di(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):ks(e,t,s,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ia(e,t.containerInfo)}function As(e,t,n,r,i){return po(),vo(i),t.flags|=256,ks(e,t,n,r),t.child}var Ps,Rs,Ns,js,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Dc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):Fs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Tu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,To(e,i),rc(r,e,i,-1))}return mc(),Bs(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[Gi++]=Qi,qi[Gi++]=Ji,qi[Gi++]=Ki,Qi=e.id,Ji=e.overflow,Ki=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Nc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ds(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&vo(r),Jo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,o);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Pi(t.type)&&Ri(),qs(t),null;case 3:return r=t.stateNode,oa(),Ei(Zi),Ei(Oi),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Rs(e,t),qs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return qs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Fr(jr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Q(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Fr("scroll",r)}switch(n){case"input":$(r),X(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Fr(jr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":Q(e,r),i=K(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Fr("scroll",e):null!=l&&b(e,a,l,u))}switch(n){case"input":$(e),X(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)js(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return qs(t),null;case 13:if(Ei(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===ju&&(ju=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return oa(),Rs(e,t),null===e&&zr(t.stateNode.containerInfo),qs(t),null;case 10:return So(t.type._context),qs(t),null;case 19:if(Ei(ua),null===(a=t.memoizedState))return qs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)$s(a,!1);else{if(0!==ju||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,$s(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Vu&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$s(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return qs(t),null}else 2*Je()-a.renderingStartTime>Vu&&1073741824!==n&&(t.flags|=128,r=!0,$s(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=ua.current,Ci(ua,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Zi),Ei(Oi),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ua),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},js=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Js=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tu(t,n,o)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ou(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||eu(n,t);case 6:var r=fu,i=du;fu=null,hu(e,t,n),du=i,null!==(fu=r)&&(du?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(du?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=du,fu=n.stateNode.containerInfo,du=!0,hu(e,t,n),fu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Js&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,hu(e,t,n),Js=r):hu(e,t,n);break;default:hu(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Zc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,du=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===fu)throw Error(o(160));pu(a,s,i),fu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){Ec(e,e.return,m)}try{ru(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&J(i,a),be(u,s);var l=be(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(u){case"input":Y(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(mu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(mu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:mu(t,e),yu(e);break;case 13:mu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Je())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(l=Js)||f,mu(t,e),Js=l):mu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:ru(4,h,h.return);break;case 1:eu(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:eu(h,h.return);break;case 22:if(null!==h.memoizedState){xu(d);continue}}null!==p?(p.return=h,Xs=p):xu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cu(e,uu(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Xs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Js;s=Qs;var c=Js;if(Qs=a,(Js=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Xs=u):Su(i);for(;null!==o;)Xs=o,wu(o,t,n),o=o.sibling;Xs=i,Qs=s,Js=c}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):ku(e)}}function ku(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:go(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(o(163))}Js||512&t.flags&&ou(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function xu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function Su(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var o=t.return;try{ou(t)}catch(u){Ec(t,o,u)}break;case 5:var a=t.return;try{ou(t)}catch(u){Ec(t,a,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var _u,Eu=Math.ceil,Cu=w.ReactCurrentDispatcher,Iu=w.ReactCurrentOwner,Ou=w.ReactCurrentBatchConfig,Zu=0,Tu=null,Au=null,Pu=0,Ru=0,Nu=_i(0),ju=0,Lu=null,Du=0,Mu=0,Fu=0,Bu=null,Uu=null,zu=0,Vu=1/0,Hu=null,Wu=!1,$u=null,qu=null,Gu=!1,Ku=null,Qu=0,Ju=0,Yu=null,Xu=-1,ec=0;function tc(){return 0!==(6&Zu)?Je():-1!==Xu?Xu:Xu=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Zu)&&0!==Pu?Pu&-Pu:null!==mo.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,r){if(50<Ju)throw Ju=0,Yu=null,Error(o(185));gt(e,n,r),0!==(2&Zu)&&e===Tu||(e===Tu&&(0===(2&Zu)&&(Mu|=n),4===ju&&uc(e,Pu)),ic(e,r),1===n&&0===Zu&&0===(1&t.mode)&&(Vu=Je()+500,Fi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Tu?Pu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),ai((function(){0===(6&Zu)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xu=-1,ec=0,0!==(6&Zu))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=dt(e,e===Tu?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Zu;Zu|=2;var a=vc();for(Tu===e&&Pu===t||(Hu=null,Vu=Je()+500,hc(e,t));;)try{bc();break}catch(u){pc(e,u)}xo(),Cu.current=a,Zu=i,null!==Au?t=0:(Tu=null,Pu=0,t=ju)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Lu,hc(e,0),uc(e,r),ic(e,Je()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Lu,hc(e,0),uc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Uu,Hu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zu+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Uu,Hu),t);break}xc(e,Uu,Hu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Uu,Hu),r);break}xc(e,Uu,Hu);break;default:throw Error(o(329))}}}return ic(e,Je()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uu,Uu=n,null!==t&&sc(t)),e}function sc(e){null===Uu?Uu=e:Uu.push.apply(Uu,e)}function uc(e,t){for(t&=~Fu,t&=~Mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Zu))throw Error(o(327));Sc();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Lu,hc(e,0),uc(e,t),ic(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Uu,Hu),ic(e,Je()),null}function lc(e,t){var n=Zu;Zu|=1;try{return e(t)}finally{0===(Zu=n)&&(Vu=Je()+500,Fi&&zi())}}function fc(e){null!==Ku&&0===Ku.tag&&0===(6&Zu)&&Sc();var t=Zu;Zu|=1;var n=Ou.transition,r=bt;try{if(Ou.transition=null,bt=1,e)return e()}finally{bt=r,Ou.transition=n,0===(6&(Zu=t))&&zi()}}function dc(){Ru=Nu.current,Ei(Nu)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Ei(Zi),Ei(Oi),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(ua);break;case 10:So(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tu=e,Au=e=Nc(e.current,null),Pu=Ru=t,ju=0,Lu=null,Fu=Mu=Du=0,Uu=Bu=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function pc(e,t){for(;;){var n=Au;try{if(xo(),da.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ga=ma=va=null,ba=!1,wa=0,Iu.current=null,null===n||null===n.return){ju=1,Lu=t,Au=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&ms(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){ms(a,l,t),mc();break e}c=Error(o(426))}else if(io&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==ju&&(ju=2),null===Bu?Bu=[a]:Bu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Do(a,ps(0,c,t));break e;case 1:u=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qu||!qu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Do(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}kc(n)}catch(w){t=w,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vc(){var e=Cu.current;return Cu.current=as,null===e?as:e}function mc(){0!==ju&&3!==ju&&2!==ju||(ju=4),null===Tu||0===(268435455&Du)&&0===(268435455&Mu)||uc(Tu,Pu)}function gc(e,t){var n=Zu;Zu|=2;var r=vc();for(Tu===e&&Pu===t||(Hu=null,hc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(xo(),Zu=n,Cu.current=r,null!==Au)throw Error(o(261));return Tu=null,Pu=0,ju}function yc(){for(;null!==Au;)wc(Au)}function bc(){for(;null!==Au&&!Ke();)wc(Au)}function wc(e){var t=_u(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?kc(e):Au=t,Iu.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ru)))return void(Au=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return ju=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===ju&&(ju=5)}function xc(e,t,n){var r=bt,i=Ou.transition;try{Ou.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ku);if(0!==(6&Zu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tu&&(Au=Tu=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Tc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ou.transition,Ou.transition=null;var s=bt;bt=1;var u=Zu;Zu|=4,Iu.current=null,function(e,t){if(ei=Ht,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===a&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:go(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(k){Ec(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=nu,nu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Qe(),Zu=u,bt=s,Ou.transition=a}else e.current=n;if(Gu&&(Gu=!1,Ku=e,Qu=i),a=e.pendingLanes,0===a&&(qu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=$u,$u=null,e;0!==(1&Qu)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Yu?Ju++:(Ju=0,Yu=e):Ju=0,zi()}(e,t,n,r)}finally{Ou.transition=i,bt=r}return null}function Sc(){if(null!==Ku){var e=wt(Qu),t=Ou.transition,n=bt;try{if(Ou.transition=null,bt=16>e?16:e,null===Ku)var r=!1;else{if(e=Ku,Ku=null,Qu=0,0!==(6&Zu))throw Error(o(331));var i=Zu;for(Zu|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:ru(8,f,a)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var h=(f=Xs).sibling,p=f.return;if(au(f),f===l){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:ru(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Xs=y;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var w=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Xs=w;else e:for(s=b;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Xs=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,Xs=k;break e}Xs=u.return}}if(Zu=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ou.transition=t}}return!1}function _c(e,t,n){e=jo(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qu||!qu.has(r))){t=jo(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Pu&n)===n&&(4===ju||3===ju&&(130023424&Pu)===Pu&&500>Je()-zu?hc(e,0):Fu|=n),ic(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=To(e,t))&&(gt(e,t,n),ic(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Zc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ic(e,n)}function Tc(e,t){return qe(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Lc(n.children,i,a,t);case _:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case Z:return(e=Pc(13,n,t,i)).elementType=Z,e.lanes=a,e;case T:return(e=Pc(19,n,t,i)).elementType=T,e.lanes=a,e;case R:return Dc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case O:s=11;break e;case A:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,a,s,u){return e=new Bc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return ji(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,u){return(e=Uc(n,r,!0,e,0,o,0,s,u)).context=zc(null),n=e.current,(o=No(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,jo(n,o,i),e.current.lanes=i,gt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=No(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=jo(i,t,a))&&(rc(e,i,a,o),Lo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Zi.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),po();break;case 5:aa(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ms(e,t,n):(Ci(ua,1&ua.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Xi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ai(t,Oi.current);Eo(t,n),i=_a(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=zo,t.stateNode=i,i._reactInternals=t,$o(t,r,e,n),t=Zs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(r),e=go(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,go(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:go(r,i),n);case 1:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:go(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),Mo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Yo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ms(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:go(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Zi.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=No(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_o(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_o(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=Co(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=go(r=t.type,t.pendingProps),Ss(e,t,r,i=go(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:go(r,i),Hs(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Eo(t,n),Ho(t,r,i),$o(t,r,i,n),Zs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),fc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(u);s.call(e)}}var u=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Hc(t,u,n,r)})),u}(n,t,e,i,r);return Wc(a)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Hc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Dt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Zu)&&(Vu=Je()+500,zi()))}break;case 13:fc((function(){var t=To(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),qc(e,1)}},xt=function(e){if(13===e.tag){var t=To(e,134217728);if(null!==t)rc(t,e,134217728,tc());qc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=To(e,t);if(null!==n)rc(n,e,t,tc());qc(e,t)}},_t=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(o(90));q(r),Y(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=lc,Ze=fc;var tl={usingClientEntryPoint:!1,Events:[bi,wi,ki,Ce,Ie,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1739:function(e,t,n){"use strict";var r=n(1168);t.s=r.createRoot,r.hydrateRoot},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},6939:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(!o(e[u],a[u]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!o(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(e[u]!==a[u])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!o(e[c[u]],a[c[u]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1624:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6214:function(e,t,n){"use strict";n(1624)},7740:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===f}},335:function(e,t,n){"use strict";n(7740)},3021:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(7313)),c=n(4660),l=n(7253),f=n(741),d=(0,l.createAnimation)("BarLoader","0% {left: -35%;right: 100%} 60% {left: 100%;right: -90%} 100% {left: 100%;right: -90%}","long"),h=(0,l.createAnimation)("BarLoader","0% {left: -200%;right: 100%} 60% {left: 107%;right: -8%} 100% {left: 107%;right: -8%}","short");t.default=function(e){var t=e.loading,n=void 0===t||t,i=e.color,o=void 0===i?"#000000":i,a=e.speedMultiplier,l=void 0===a?1:a,p=e.cssOverride,v=void 0===p?{}:p,m=e.height,g=void 0===m?4:m,y=e.width,b=void 0===y?100:y,w=s(e,["loading","color","speedMultiplier","cssOverride","height","width"]),k=r({display:"inherit",position:"relative",width:(0,c.cssValue)(b),height:(0,c.cssValue)(g),overflow:"hidden",backgroundColor:(0,f.calculateRgba)(o,.2),backgroundClip:"padding-box"},v),x=function(e){return{position:"absolute",height:(0,c.cssValue)(g),overflow:"hidden",backgroundColor:o,backgroundClip:"padding-box",display:"block",borderRadius:2,willChange:"left, right",animationFillMode:"forwards",animation:"".concat(1===e?d:h," ").concat(2.1/l,"s ").concat(2===e?"".concat(1.15/l,"s"):""," ").concat(1===e?"cubic-bezier(0.65, 0.815, 0.735, 0.395)":"cubic-bezier(0.165, 0.84, 0.44, 1)"," infinite")}};return n?u.createElement("span",r({style:k},w),u.createElement("span",{style:x(1)}),u.createElement("span",{style:x(2)})):null}},7253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnimation=void 0;t.createAnimation=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,a="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(a,0),r}},741:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRgba=void 0,function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(n||(n={}));t.calculateRgba=function(e,t){if(Object.keys(n).includes(e)&&(e=n[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var r="";e.split("").forEach((function(e){r+=e,r+=e})),e=r}var i=(e.match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)})).join(", ");return"rgba(".concat(i,", ").concat(t,")")}},4660:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function r(e){if("number"===typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var i=(e.match(/[^0-9]*$/)||"").toString();return n[i]?{value:t,unit:i}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}t.parseLengthAndUnit=r,t.cssValue=function(e){var t=r(e);return"".concat(t.value).concat(t.unit)}},5918:function(e,t,n){"use strict";var r=n(7313),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function Z(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+O(u,0):o,k(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),Z(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",k(e))for(var c=0;c<e.length;c++){var l=o+O(s=e[c],c);u+=Z(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=Z(s=s.value,t,i,l=o+O(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return Z(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},N={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},6188:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(7313),i=n(481);var o=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function u(){var e="undefined"!=typeof window&&"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1;return Math.min(Math.max(1,e),3)}"function"==typeof SuppressedError&&SuppressedError;var c=function(){function e(){}return e.prototype.observe=function(){},e.prototype.unobserve=function(){},e.prototype.disconnect=function(){},e}(),l=globalThis.ResizeObserver||c,f=void 0!==globalThis.ResizeObserver,d=!f;function h(e,t){void 0===t&&(t=!0);var n=r.useState({width:0,height:0}),i=n[0],o=n[1];r.useEffect((function(){if("undefined"!=typeof window&&t){var e=function(){o({width:window.innerWidth,height:window.innerHeight})};return d&&(e(),window.addEventListener("resize",e)),function(){return window.removeEventListener("resize",e)}}}),[]);var a,s,u=r.useRef(new l((a=function(e){f&&o({width:e[e.length-1].contentRect.width,height:e[e.length-1].contentRect.height})},0,s=0,function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];clearTimeout(s),s=window.setTimeout((function(){return a.apply(e,t)}),0)})));return r.useEffect((function(){var n=u.current;if(t){var r=e.current;return e.current&&f&&n.observe(e.current),function(){n.disconnect(),r&&f&&n.unobserve(r)}}n.disconnect()}),[e,u]),i}var p={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function v(e){return Object.assign({},p,e)}function m(e){var t=e.riveLoaded,n=void 0!==t&&t,i=e.canvasRef,o=e.containerRef,a=e.options,s=void 0===a?{}:a,c=e.onCanvasHasResized,l=e.artboardBounds,f=v(s),d=r.useState({height:0,width:0}),p=d[0],m=p.height,g=p.width,y=d[1],b=r.useState({height:0,width:0}),w=b[0],k=w.height,x=w.width,S=b[1],_=r.useState(!0),E=_[0],C=_[1],I=f.fitCanvasToArtboardHeight,O=f.shouldResizeCanvasToContainer,Z=f.useDevicePixelRatio,T=h(o,O),A=function(){var e=u(),t=r.useState(e),n=t[0],i=t[1];return r.useEffect((function(){if("undefined"!=typeof window&&"matchMedia"in window){var e=function(){var e=u();i(e)},t=window.matchMedia("screen and (resolution: ".concat(n,"dppx)"));return t.hasOwnProperty("addEventListener")?t.addEventListener("change",e):t.addListener(e),function(){t.hasOwnProperty("removeEventListener")?t.removeEventListener("change",e):t.removeListener(e)}}}),[n]),n}(),P=null!=l?l:{},R=P.maxX,N=P.maxY,j=r.useCallback((function(){var e,t,n,r,i=null!==(t=null===(e=o.current)||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0,a=null!==(r=null===(n=o.current)||void 0===n?void 0:n.clientHeight)&&void 0!==r?r:0;return I&&l?{width:i,height:i*(l.maxY/l.maxX)}:{width:i,height:a}}),[o,I,R,N]);r.useEffect((function(){if(O&&o.current&&n){var e=j(),t=e.width,r=e.height,a=!1;if(i.current){var s=t!==g||r!==m;if(f.fitCanvasToArtboardHeight&&s&&(o.current.style.height=r+"px",a=!0),f.useDevicePixelRatio){if(s||t*A!==x||r*A!==k){var u=A*t,l=A*r;i.current.width=u,i.current.height=l,i.current.style.width=t+"px",i.current.style.height=r+"px",S({width:u,height:l}),a=!0}}else s&&(i.current.width=t,i.current.height=r,S({width:t,height:r}),a=!0);y({width:t,height:r})}c&&(E||a)&&c&&c(),E&&C(!1)}}),[i,o,T,A,j,E,C,k,x,m,g,c,O,I,Z,n])}function g(e){var t=e.setContainerRef,n=e.setCanvasRef,r=e.className,i=void 0===r?"":r,u=e.style,c=e.children,l=s(e,["setContainerRef","setCanvasRef","className","style","children"]),f=a({width:"100%",height:"100%"},u);return o.default.createElement("div",a({ref:t,className:i},!i&&{style:f}),o.default.createElement("canvas",a({ref:n,style:{verticalAlign:"top",width:0,height:0}},l),c))}function y(e,t){void 0===t&&(t={});var n=r.useRef(null),s=r.useRef(null),u=r.useState(null),c=u[0],l=u[1],f=Boolean(e),d=v(t),h=r.useCallback((function(){c&&(c.startRendering(),c.resizeToCanvas())}),[c]);m({riveLoaded:!!c,canvasRef:n,containerRef:s,options:d,onCanvasHasResized:h,artboardBounds:null==c?void 0:c.bounds});var p=r.useCallback((function(t){if(t&&e&&f){var r=d.useOffscreenRenderer,o=new i.Rive(a(a({useOffscreenRenderer:r},e),{canvas:t}));o.on(i.EventType.Load,(function(){n.current?l(o):o.cleanup()}))}else null===t&&n.current&&(n.current.height=0,n.current.width=0);n.current=t}),[f]),y=r.useCallback((function(e){s.current=e}),[]);r.useEffect((function(){var e=new IntersectionObserver((function(e){e[0].isIntersecting?c&&c.startRendering():c&&c.stopRendering()}));return n.current&&e.observe(n.current),function(){e.disconnect()}}),[c]),r.useEffect((function(){return function(){c&&(c.cleanup(),l(null))}}),[c]);var b=null==e?void 0:e.animations;r.useEffect((function(){c&&b&&(c.isPlaying?(c.stop(c.animationNames),c.play(b)):c.isPaused&&(c.stop(c.animationNames),c.pause(b)))}),[b,c]);var w=r.useCallback((function(e){return o.default.createElement(g,a({setContainerRef:y,setCanvasRef:p},e))}),[p,y]);return{canvas:n.current,container:s.current,setCanvasRef:p,setContainerRef:y,rive:c,RiveComponent:w}}t.default=function(e){var t=e.src,n=e.artboard,r=e.animations,i=e.stateMachines,u=e.layout,c=e.useOffscreenRenderer,l=void 0===c||c,f=e.shouldDisableRiveListeners,d=void 0!==f&&f,h=e.shouldResizeCanvasToContainer,p=void 0===h||h,v=e.children,m=s(e,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","children"]),g=y({src:t,artboard:n,animations:r,layout:u,stateMachines:i,autoplay:!0,shouldDisableRiveListeners:d},{useOffscreenRenderer:l,shouldResizeCanvasToContainer:p}).RiveComponent;return o.default.createElement(g,a({},m),v)},t.useResizeCanvas=m,t.useRive=y,t.useStateMachineInput=function(e,t,n,o){var a=r.useState(null),s=a[0],u=a[1];return r.useEffect((function(){function r(){if(e&&t&&n||u(null),e&&t&&n){var r=e.stateMachineInputs(t);if(r){var i=r.find((function(e){return e.name===n}));void 0!==o&&i&&(i.value=o),u(i||null)}}else u(null)}r(),e&&e.on(i.EventType.Play,(function(){r()}))}),[e]),s},Object.keys(i).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}))},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function k(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,R(x);else{var t=r(l);null!==t&&N(k,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(C),C=-1),p=!0;var o=h;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!Z());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&N(k,f.startTime-n),u=!1}return u}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,E=null,C=-1,I=5,O=-1;function Z(){return!(t.unstable_now()-O<I)}function T(){if(null!==E){var e=t.unstable_now();O=e;var n=!0;try{n=E(!0,e)}finally{n?S():(_=!1,E=null)}}else _=!1}if("function"===typeof b)S=function(){b(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=T,S=function(){P.postMessage(null)}}else S=function(){g(T,0)};function R(e){E=e,_||(_=!0,S())}function N(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(C),C=-1):m=!0,N(k,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,R(x))),e},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},6637:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),o=n(6035),a=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},5647:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9611),i=n(8814);function o(e,t,n){return o=(0,i.Z)()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&(0,r.Z)(o,n.prototype),o},o.apply(null,arguments)}},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120),i=n(8814),o=n(2963);function a(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(T){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new I(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(O([])));b&&b!==t&&n.call(b,s)&&(g=b);var w=m.prototype=p.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return Z()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(x.prototype),l(x.prototype,u,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,c,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8664:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120),i=n(9611);var o=n(5647);function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return(0,o.Z)(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},a(e)}},904:function(e,t,n){"use strict";n.d(t,{Jn:function(){return q},qX:function(){return V},Xd:function(){return z},Mq:function(){return K},ZF:function(){return G},KN:function(){return Q}});var r,i,o=n(3433),a=n(4165),s=n(5861),u=n(7762),c=n(4942),l=n(5671),f=n(3144),d=n(2339),h=n(2413),p=n(4766),v=n(1413),m=function(e,t){return t.some((function(t){return e instanceof t}))};var g=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,k=new WeakMap;var x={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return y.get(e);if("objectStoreNames"===t)return e.objectStoreNames||b.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function S(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(C(this),n),E(g.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(e.apply(C(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=e.call.apply(e,[C(this),t].concat(r));return b.set(o,t.sort?t.sort():[t]),E(o)}}function _(e){return"function"===typeof e?S(e):(e instanceof IDBTransaction&&function(e){if(!y.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=function(){t(),r()},o=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));y.set(e,t)}}(e),m(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,x):e)}function E(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",o)},i=function(){t(E(e.result)),r()},o=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((function(t){t instanceof IDBCursor&&g.set(t,e)})).catch((function(){})),k.set(t,e),t}(e);if(w.has(e))return w.get(e);var t=_(e);return t!==e&&(w.set(e,t),k.set(t,e)),t}var C=function(e){return k.get(e)};var I,O,Z=["get","getKey","getAll","getAllKeys","count"],T=["put","add","delete","clear"],A=new Map;function P(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(A.get(t))return A.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=T.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Z.includes(n))){var o=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var o,s,u,c,l,f,d=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,c=d.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=d[f];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(o=u)[n].apply(o,l),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return A.set(t,o),o}}}x=function(e){return(0,v.Z)((0,v.Z)({},e),{},{get:function(t,n,r){return P(t,n)||e.get(t,n,r)},has:function(t,n){return!!P(t,n)||e.has(t,n)}})}(x);var R=function(){function e(t){(0,l.Z)(this,e),this.container=t}return(0,f.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var N="@firebase/app",j="0.9.12",L=new h.Yd("@firebase/app"),D="[DEFAULT]",M=(I={},(0,c.Z)(I,N,"fire-core"),(0,c.Z)(I,"@firebase/app-compat","fire-core-compat"),(0,c.Z)(I,"@firebase/analytics","fire-analytics"),(0,c.Z)(I,"@firebase/analytics-compat","fire-analytics-compat"),(0,c.Z)(I,"@firebase/app-check","fire-app-check"),(0,c.Z)(I,"@firebase/app-check-compat","fire-app-check-compat"),(0,c.Z)(I,"@firebase/auth","fire-auth"),(0,c.Z)(I,"@firebase/auth-compat","fire-auth-compat"),(0,c.Z)(I,"@firebase/database","fire-rtdb"),(0,c.Z)(I,"@firebase/database-compat","fire-rtdb-compat"),(0,c.Z)(I,"@firebase/functions","fire-fn"),(0,c.Z)(I,"@firebase/functions-compat","fire-fn-compat"),(0,c.Z)(I,"@firebase/installations","fire-iid"),(0,c.Z)(I,"@firebase/installations-compat","fire-iid-compat"),(0,c.Z)(I,"@firebase/messaging","fire-fcm"),(0,c.Z)(I,"@firebase/messaging-compat","fire-fcm-compat"),(0,c.Z)(I,"@firebase/performance","fire-perf"),(0,c.Z)(I,"@firebase/performance-compat","fire-perf-compat"),(0,c.Z)(I,"@firebase/remote-config","fire-rc"),(0,c.Z)(I,"@firebase/remote-config-compat","fire-rc-compat"),(0,c.Z)(I,"@firebase/storage","fire-gcs"),(0,c.Z)(I,"@firebase/storage-compat","fire-gcs-compat"),(0,c.Z)(I,"@firebase/firestore","fire-fst"),(0,c.Z)(I,"@firebase/firestore-compat","fire-fst-compat"),(0,c.Z)(I,"fire-js","fire-js"),(0,c.Z)(I,"firebase","fire-js-all"),I),F=new Map,B=new Map;function U(e,t){try{e.container.addComponent(t)}catch(n){L.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function z(e){var t=e.name;if(B.has(t))return L.debug("There were multiple attempts to register component ".concat(t,".")),!1;B.set(t,e);var n,r=(0,u.Z)(F.values());try{for(r.s();!(n=r.n()).done;){U(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function V(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var H=(O={},(0,c.Z)(O,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,c.Z)(O,"bad-app-name","Illegal App name: '{$appName}"),(0,c.Z)(O,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,c.Z)(O,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,c.Z)(O,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,c.Z)(O,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,c.Z)(O,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,c.Z)(O,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(O,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(O,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,c.Z)(O,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),O),W=new p.LL("app","Firebase",H),$=function(){function e(t,n,r){var i=this;(0,l.Z)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new d.wA("app",(function(){return i}),"PUBLIC"))}return(0,f.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw W.create("app-deleted",{appName:this._name})}}]),e}(),q="9.22.2";function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:D,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw W.create("bad-app-name",{appName:String(i)});if(n||(n=(0,p.aH)()),!n)throw W.create("no-options");var o=F.get(i);if(o){if((0,p.vZ)(n,o.options)&&(0,p.vZ)(r,o.config))return o;throw W.create("duplicate-app",{appName:i})}var a,s=new d.H0(i),c=(0,u.Z)(B.values());try{for(c.s();!(a=c.n()).done;){var l=a.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new $(n,r,s);return F.set(i,f),f}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=F.get(e);if(!t&&e===D&&(0,p.aH)())return G();if(!t)throw W.create("no-app",{appName:e});return t}function Q(e,t,n){var r,i=null!==(r=M[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&s.push("and"),a&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void L.warn(s.join(" "))}z(new d.wA("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var J="firebase-heartbeat-database",Y=1,X="firebase-heartbeat-store",ee=null;function te(){return ee||(ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,o=n.blocking,a=n.terminated,s=indexedDB.open(e,t),u=E(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(E(s.result),e.oldVersion,e.newVersion,E(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){a&&e.addEventListener("close",(function(){return a()})),o&&e.addEventListener("versionchange",(function(e){return o(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(J,Y,{upgrade:function(e,t){if(0===t)e.createObjectStore(X)}}).catch((function(e){throw W.create("idb-open",{originalErrorMessage:e.message})}))),ee}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)((0,a.Z)().mark((function e(t){var n,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:return n=e.sent,e.next=6,n.transaction(X).objectStore(X).get(ae(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof p.ZR?L.warn(e.t0.message):(i=W.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),L.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,s.Z)((0,a.Z)().mark((function e(t,n){var r,i,o,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:return r=e.sent,i=r.transaction(X,"readwrite"),o=i.objectStore(X),e.next=8,o.put(n,ae(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof p.ZR?L.warn(e.t0.message):(s=W.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),L.warn(s.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function ae(e){return"".concat(e.name,"!").concat(e.options.appId)}var se=function(){function e(t){var n=this;(0,l.Z)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new fe(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,f.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=ue(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,n,r,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=ue(),n=ce(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,o=(0,p.L)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ue(){return(new Date).toISOString().substring(0,10)}function ce(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),o=(0,u.Z)(e);try{var a=function(){var e=t.value,o=r.find((function(t){return t.agent===e.agent}));if(o){if(o.dates.push(e.date),de(r)>n)return o.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),de(r)>n)return r.pop(),"break";i=i.slice(1)};for(o.s();!(t=o.n()).done;){if("break"===a())break}}catch(s){o.e(s)}finally{o.f()}return{heartbeatsToSend:r,unsentEntries:i}}var le,fe=function(){function e(t){(0,l.Z)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,f.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,p.hl)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",(0,p.eu)().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ne(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ie(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ie(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,o.Z)(r.heartbeats),(0,o.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function de(e){return(0,p.L)(JSON.stringify({version:2,heartbeats:e})).length}le="",z(new d.wA("platform-logger",(function(e){return new R(e)}),"PRIVATE")),z(new d.wA("heartbeat",(function(e){return new se(e)}),"PRIVATE")),Q(N,j,le),Q(N,j,"esm2017"),Q("fire-js","")},2339:function(e,t,n){"use strict";n.d(t,{H0:function(){return p},wA:function(){return f}});var r=n(4165),i=n(3433),o=n(5861),a=n(9439),s=n(7762),u=n(5671),c=n(3144),l=n(4766),f=function(){function e(t,n,r){(0,u.Z)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,c.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",h=function(){function e(t,n){(0,u.Z)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,c.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new l.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(l){}var t,n=(0,s.Z)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,i.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,i.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=(0,s.Z)(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var c=(0,a.Z)(i.value,2),l=c[0],f=c[1];r===this.normalizeInstanceIdentifier(l)&&f.resolve(o)}}catch(d){u.e(d)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=(0,s.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(e,t)}catch(a){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var p=function(){function e(t){(0,u.Z)(this,e),this.name=t,this.providers=new Map}return(0,c.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new h(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},2413:function(e,t,n){"use strict";n.d(t,{Yd:function(){return h},in:function(){return i}});var r,i,o=n(5671),a=n(3144),s=n(4942),u=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var c={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},l=i.INFO,f=(r={},(0,s.Z)(r,i.DEBUG,"log"),(0,s.Z)(r,i.VERBOSE,"log"),(0,s.Z)(r,i.INFO,"info"),(0,s.Z)(r,i.WARN,"warn"),(0,s.Z)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=f[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},h=function(){function e(t){(0,o.Z)(this,e),this.name=t,this._logLevel=l,this._logHandler=d,this._userLogHandler=null,u.push(this)}return(0,a.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?c[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}()},2987:function(e,t,n){"use strict";n.d(t,{$g:function(){return r.$g},AP:function(){return r.AP},BV:function(){return r.BV},F6:function(){return r.F6},Fb:function(){return r.Fb},GH:function(){return r.GH},H5:function(){return r.H5},JB:function(){return r.JB},L6:function(){return r.L6},LG:function(){return r.LG},LS:function(){return r.LS},O4:function(){return r.O4},P6:function(){return r.P6},RO:function(){return r.RO},S$:function(){return r.S$},WV:function(){return r.WV},XB:function(){return r.XB},Xb:function(){return r.Xb},ZJ:function(){return r.ZJ},_O:function(){return r._O},_p:function(){return r._p},a$:function(){return r.a$},aT:function(){return r.aT},c4:function(){return r.c4},ck:function(){return r.ck},cx:function(){return r.cx},e5:function(){return r.e5},gK:function(){return r.gK},gQ:function(){return r.gQ},h8:function(){return r.h8},hJ:function(){return r.hJ},iA:function(){return r.iA},jh:function(){return r.jh},k9:function(){return r.k9},lI:function(){return r.lI},oo:function(){return r.oo},qB:function(){return r.qB},rh:function(){return r.rh},s:function(){return r.s},sB:function(){return r.sB},v0:function(){return r.v0},w$:function(){return r.w$},w9:function(){return r.w9}});var r=n(5526)},5330:function(e,t,n){"use strict";n.d(t,{_T:function(){return r}});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{27:"fa25d4ce",56:"af7200e1",154:"995e1dea",161:"93aa093c",198:"f0aa7ae6",203:"d6f7c64f",261:"dc9b4039",294:"eb4f6ad1",336:"086de342",433:"fd9ff6aa",540:"b32ba225",566:"b81e3ef1",613:"0f09a27c",706:"8928b67f",716:"914521ca",760:"93a2192b",846:"ff1d4c82",863:"ab973bef",869:"e764545b",922:"e19ca803",934:"fd387036",944:"666a5937",957:"4685c7d8",992:"57d32e12"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="cuba:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkcuba=self.webpackChunkcuba||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(1739),t=n(4165),r=n(5861),i=n(9439),o=n(9611);function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,o.Z)(e,t)}var s=n(7313),u=n.t(s,2),c=n(5192),l=n.n(c);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(e){return"/"===e.charAt(0)}function h(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var p=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&d(e),a=t&&d(t),s=o||a;if(e&&d(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?h(i,l):".."===f?(h(i,l),c++):c&&(h(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&d(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function v(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var m=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=v(t),i=v(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},g=!0,y="Invariant failed";function b(e,t){if(!e){if(g)throw new Error(y);var n="function"===typeof t?t():t,r=n?"".concat(y,": ").concat(n):y;throw new Error(r)}}function w(e){return"/"===e.charAt(0)?e:"/"+e}function k(e){return"/"===e.charAt(0)?e.substr(1):e}function x(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function S(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function _(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function E(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=f({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=p(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function C(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var I=!("undefined"===typeof window||!window.document||!window.document.createElement);function O(e,t){t(window.confirm(e))}var Z="popstate",T="hashchange";function A(){try{return window.history.state||{}}catch(e){return{}}}function P(e){void 0===e&&(e={}),I||b(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,u=void 0===s?O:s,c=i.keyLength,l=void 0===c?6:c,d=e.basename?S(w(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=x(o,d)),E(o,r,n)}function p(){return Math.random().toString(36).substr(2,l)}var v=C();function m(e){f(B,e),B.length=t.length,v.notifyListeners(B.location,B.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(h(e.state))}function y(){P(h(A()))}var k=!1;function P(e){if(k)k=!1,m();else{v.confirmTransitionTo(e,"POP",u,(function(t){t?m({action:"POP",location:e}):function(e){var t=B.location,n=N.indexOf(t.key);-1===n&&(n=0);var r=N.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,L(i))}(e)}))}}var R=h(A()),N=[R.key];function j(e){return d+_(e)}function L(e){t.go(e)}var D=0;function M(e){1===(D+=e)&&1===e?(window.addEventListener(Z,g),r&&window.addEventListener(T,y)):0===D&&(window.removeEventListener(Z,g),r&&window.removeEventListener(T,y))}var F=!1;var B={length:t.length,action:"POP",location:R,createHref:j,push:function(e,r){var i="PUSH",o=E(e,r,p(),B.location);v.confirmTransitionTo(o,i,u,(function(e){if(e){var r=j(o),s=o.key,u=o.state;if(n)if(t.pushState({key:s,state:u},null,r),a)window.location.href=r;else{var c=N.indexOf(B.location.key),l=N.slice(0,c+1);l.push(o.key),N=l,m({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=E(e,r,p(),B.location);v.confirmTransitionTo(o,i,u,(function(e){if(e){var r=j(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),a)window.location.replace(r);else{var c=N.indexOf(B.location.key);-1!==c&&(N[c]=o.key),m({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return F||(M(1),F=!0),function(){return F&&(F=!1,M(-1)),t()}},listen:function(e){var t=v.appendListener(e);return M(1),function(){M(-1),t()}}};return B}var R="hashchange",N={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+k(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:k,decodePath:w},slash:{encodePath:w,decodePath:w}};function j(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function L(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function D(e){window.location.replace(j(window.location.href)+"#"+e)}function M(e){void 0===e&&{},I||b(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?O:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?S(w(e.basename)):"",u=N[a],c=u.encodePath,l=u.decodePath;function d(){var e=l(L());return s&&x(e,s),E(e)}var h=C();function p(e){f(B,e),B.length=t.length,h.notifyListeners(B.location,B.action)}var v=!1,m=null;function g(){var e=L(),t=c(e);if(e!==t)D(t);else{var n=d(),r=B.location;if(!v&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===_(n))return;null,function(e){if(v)!1,p();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=B.location,n=T.lastIndexOf(_(t));-1===n&&0;var r=T.lastIndexOf(_(e));-1===r&&0;var i=n-r;i&&(!0,A(i))}(e)}))}}(n)}}var y=L(),k=c(y);y!==k&&D(k);var Z=d(),T=[_(Z)];function A(e){t.go(e)}var P=0;function M(e){1===(P+=e)&&1===e?window.addEventListener(R,g):0===P&&window.removeEventListener(R,g)}var F=!1;var B={length:t.length,action:"POP",location:Z,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&j(window.location.href),n+"#"+c(s+_(e))},push:function(e,t){var n="PUSH",r=E(e,void 0,void 0,B.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=_(r),i=c(s+t);if(L()!==i){t,function(e){window.location.hash=e}(i);var o=T.lastIndexOf(_(B.location)),a=T.slice(0,o+1);a.push(t),a,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=E(e,void 0,void 0,B.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=_(r),i=c(s+t);L()!==i&&(t,D(i));var o=T.indexOf(_(B.location));-1!==o&&(T[o]=t),p({action:n,location:r})}}))},go:A,goBack:function(){A(-1)},goForward:function(){A(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return F||(M(1),!0),function(){return F&&(!1,M(-1)),t()}},listen:function(e){var t=h.appendListener(e);return M(1),function(){M(-1),t()}}};return B}function F(e,t,n){return Math.min(Math.max(e,t),n)}var B=n(4883),U=n.n(B);n(335);function z(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var V=n(7861),H=n.n(V),W=1073741823,$="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var q=s.createContext||function(e,t){var n,r,i="__create-react-context-"+function(){var e="__global_unique_id__";return $[e]=($[e]||0)+1}()+"__",o=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}a(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(n="function"===typeof t?t(r,i):W,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(s.Component);o.childContextTypes=((n={})[i]=l().object.isRequired,n);var u=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}a(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?W:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?W:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return function(e){return Array.isArray(e)?e[0]:e}(this.props.children)(this.state.value)},n}(s.Component);return u.contextTypes=((r={})[i]=l().object,r),{Provider:o,Consumer:u}},G=function(e){var t=q();return t.displayName=e,t},K=G("Router-History"),Q=G("Router"),J=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}a(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return s.createElement(Q.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},s.createElement(K.Provider,{children:this.props.children||null,value:this.props.history}))},t}(s.Component);s.Component;var Y=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(s.Component);var X={},ee=1e4,te=0;function ne(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(X[e])return X[e];var t=U().compile(e);return te<ee&&(X[e]=t,te++),t}(e)(t,{pretty:!0})}function re(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return s.createElement(Q.Consumer,null,(function(e){e||b(!1);var r=e.history,o=e.staticContext,a=i?r.push:r.replace,u=E(t?"string"===typeof n?ne(n,t.params):f({},n,{pathname:ne(n.pathname,t.params)}):n);return o?(a(u),null):s.createElement(Y,{onMount:function(){a(u)},onUpdate:function(e,t){var n=E(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&m(e.state,t.state)})(n,f({},u,{key:n.key}))||a(u)},to:n})}))}var ie={},oe=1e4,ae=0;function se(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ie[n]||(ie[n]={});if(r[e])return r[e];var i=[],o={regexp:U()(e,i,t),keys:i};return ae<oe&&(r[e]=o,ae++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var ue=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return s.createElement(Q.Consumer,null,(function(t){t||b(!1);var n=e.props.location||t.location,r=f({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?se(n.pathname,e.props):t.match}),i=e.props,o=i.children,a=i.component,u=i.render;return Array.isArray(o)&&function(e){return 0===s.Children.count(e)}(o)&&(o=null),s.createElement(Q.Provider,{value:r},r.match?o?"function"===typeof o?o(r):o:a?s.createElement(a,r):u?u(r):null:"function"===typeof o?o(r):null)}))},t}(s.Component);function ce(e){return"/"===e.charAt(0)?e:"/"+e}function le(e,t){if(!e)return t;var n=ce(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})}function fe(e){return"string"===typeof e?e:_(e)}function de(e){return function(){b(!1)}}function he(){}s.Component;var pe=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.render=function(){var e=this;return s.createElement(Q.Consumer,null,(function(t){t||b(!1);var n,r,i=e.props.location||t.location;return s.Children.forEach(e.props.children,(function(e){if(null==r&&s.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?se(i.pathname,f({},e.props,{path:o})):t.match}})),r?s.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(s.Component);var ve=s.useContext;function me(){return ve(K)}function ge(){return ve(Q).location}var ye,be=n(3433),we=n(4942),ke=n(7326),xe=n(136),Se=n(9388),_e=n(5671),Ee=n(3144),Ce=n(2718),Ie=function(){function e(){(0,_e.Z)(this,e),this.m=new Map}return(0,Ee.Z)(e,[{key:"reset",value:function(e){this.m=new Map(Object.entries(e))}},{key:"get",value:function(e,t){var n=this.m.get(e);return void 0!==n?n:t}},{key:"getBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.m.get(e);return void 0===n?t:"string"===typeof n?"true"===n:!!n}},{key:"getNumber",value:function(e,t){var n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}},{key:"set",value:function(e,t){this.m.set(e,t)}}]),e}(),Oe=new Ie,Ze=function(e,t){return e.substr(0,t.length)===t},Te="ionic:",Ae="ionic-persist-config",Pe=function(e,t){return"string"===typeof e&&(t=e,e=void 0),function(e){return Re(e)}(e).includes(t)},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if("undefined"===typeof e)return[];e.Ionic=e.Ionic||{};var t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=Ne(e)).forEach((function(t){return e.document.documentElement.classList.add("plt-".concat(t))})),t},Ne=function(e){var t=Oe.get("platform");return Object.keys(Ve).filter((function(n){var r=null===t||void 0===t?void 0:t[n];return"function"===typeof r?r(e):Ve[n](e)}))},je=function(e){return!!Ue(e,/iPad/i)||!(!Ue(e,/Macintosh/i)||!De(e))},Le=function(e){return Ue(e,/android|sink/i)},De=function(e){return ze(e,"(any-pointer:coarse)")},Me=function(e){return Fe(e)||Be(e)},Fe=function(e){return!!(e.cordova||e.phonegap||e.PhoneGap)},Be=function(e){var t=e.Capacitor;return!!(null===t||void 0===t?void 0:t.isNative)},Ue=function(e,t){return t.test(e.navigator.userAgent)},ze=function(e,t){var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},Ve={ipad:je,iphone:function(e){return Ue(e,/iPhone/i)},ios:function(e){return Ue(e,/iPhone|iPod/i)||je(e)},android:Le,phablet:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return je(e)||function(e){return Le(e)&&!Ue(e,/mobile/i)}(e)||r>460&&r<820&&i>780&&i<1400},cordova:Fe,capacitor:Be,electron:function(e){return Ue(e,/electron/i)},pwa:function(e){var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:De,mobileweb:function(e){return De(e)&&!Me(e)},desktop:function(e){return!De(e)},hybrid:Me},He=function(e){return e&&(0,Ce.iJ)(e)||ye},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof window){var t=window.document,n=window;Ce._y.config=Oe;var r=n.Ionic=n.Ionic||{},o={};e._ael&&(o.ael=e._ael),e._rel&&(o.rel=e._rel),e._ce&&(o.ce=e._ce),(0,Ce.TX)(o);var a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},function(e){try{var t=e.sessionStorage.getItem(Ae);return null!==t?JSON.parse(t):{}}catch(n){return{}}}(n)),{persistConfig:!1}),r.config),function(e){var t={};return e.location.search.slice(1).split("&").map((function(e){return e.split("=")})).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return[decodeURIComponent(n),decodeURIComponent(r)]})).filter((function(e){var t=(0,i.Z)(e,1)[0];return Ze(t,Te)})).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return[n.slice(Te.length),r]})).forEach((function(e){var n=(0,i.Z)(e,2),r=n[0],o=n[1];t[r]=o})),t}(n)),e);Oe.reset(a),Oe.getBoolean("persistConfig")&&function(e,t){try{e.sessionStorage.setItem(Ae,JSON.stringify(t))}catch(n){return}}(n,a),Re(n),r.config=Oe,r.mode=ye=Oe.get("mode",t.documentElement.getAttribute("mode")||(Pe(n,"ios")?"ios":"md")),Oe.set("mode",ye),t.documentElement.setAttribute("mode",ye),t.documentElement.classList.add(ye),Oe.getBoolean("_testing")&&Oe.set("animated",!1);var s=function(e){var t;return null===(t=e.tagName)||void 0===t?void 0:t.startsWith("ION-")},u=function(e){return["ios","md"].includes(e)};(0,Ce.PM)((function(e){for(;e;){var t=e.mode||e.getAttribute("mode");if(t){if(u(t))return t;s(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return ye}))}},$e=n(972),qe=n(226),Ge=0,Ke=new WeakMap,Qe=function(e){return{create:function(t){return et(e,t)},dismiss:function(t,n,r){return ot(document,t,n,e,r)},getTop:function(){return(0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",at(document,e));case 1:case"end":return t.stop()}}),n)})))()}}},Je=Qe("ion-loading"),Ye=Qe("ion-toast"),Xe=function(e){"undefined"!==typeof document&&it(document);var t=Ge++;e.overlayIndex=t,e.hasAttribute("id")||(e.id="ion-overlay-".concat(t))},et=function(e,t){return"undefined"!==typeof window&&"undefined"!==typeof window.customElements?window.customElements.whenDefined(e).then((function(){var n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},t),{hasController:!0})),ft(document).appendChild(n),new Promise((function(e){return(0,qe.c)(n,e)}))})):Promise.resolve()},tt='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',nt=function(e,t){var n=e.querySelector(tt),r=null===n||void 0===n?void 0:n.shadowRoot;r&&(n=r.querySelector(tt)||n),n?(0,qe.f)(n):t.focus()},rt=function(e,t){var n=Array.from(e.querySelectorAll(tt)),r=n.length>0?n[n.length-1]:null,i=null===r||void 0===r?void 0:r.shadowRoot;i&&(r=i.querySelector(tt)||r),r?r.focus():t.focus()},it=function(e){0===Ge&&(Ge=1,e.addEventListener("focus",(function(t){!function(e,t){var n=at(t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),r=e.target;n&&r&&!n.classList.contains("ion-disable-focus-trap")&&(n.shadowRoot?function(){if(n.contains(r))n.lastFocus=r;else{var e=n.lastFocus;nt(n,n),e===t.activeElement&&rt(n,n),n.lastFocus=t.activeElement}}():function(){if(n===r)n.lastFocus=void 0;else{var e=(0,qe.g)(n);if(!e.contains(r))return;var i=e.querySelector(".ion-overlay-wrapper");if(!i)return;if(i.contains(r))n.lastFocus=r;else{var o=n.lastFocus;nt(i,n),o===t.activeElement&&rt(i,n),n.lastFocus=t.activeElement}}}())}(t,e)}),!0),e.addEventListener("ionBackButton",(function(t){var n=at(e);(null===n||void 0===n?void 0:n.backdropDismiss)&&t.detail.register($e.OVERLAY_BACK_BUTTON_PRIORITY,(function(){return n.dismiss(void 0,yt)}))})),e.addEventListener("keyup",(function(t){if("Escape"===t.key){var n=at(e);(null===n||void 0===n?void 0:n.backdropDismiss)&&n.dismiss(void 0,yt)}})))},ot=function(e,t,n,r,i){var o=at(e,r,i);return o?o.dismiss(t,n):Promise.reject("overlay does not exist")},at=function(e,t,n){var r=function(e,t){return void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter((function(e){return e.overlayIndex>0}))}(e,t).filter((function(e){return!e.classList.contains("overlay-hidden")}));return void 0===n?r[r.length-1]:r.find((function(e){return e.id===n}))},st=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=ft(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},ut=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a){var s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.presented){e.next=2;break}return e.abrupt("return");case 2:return st(!0),n.presented=!0,n.willPresent.emit(),null===(s=n.willPresentShorthand)||void 0===s||s.emit(),c=He(n),l=n.enterAnimation?n.enterAnimation:Oe.get(r,"ios"===c?i:o),e.next=10,dt(n,l,n.el,a);case 10:e.sent&&(n.didPresent.emit(),null===(u=n.didPresentShorthand)||void 0===u||u.emit()),"ION-TOAST"!==n.el.tagName&&ct(n.el),!n.keyboardClose||null!==document.activeElement&&n.el.contains(document.activeElement)||n.el.focus();case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),ct=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.activeElement){e.next=3;break}return e.abrupt("return");case 3:return(i=null===r||void 0===r?void 0:r.shadowRoot)&&(r=i.querySelector(tt)||r),e.next=7,n.onDidDismiss();case 7:r.focus();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s,u){var c,l,f,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.presented){e.next=2;break}return e.abrupt("return",!1);case 2:if(st(!1),n.presented=!1,e.prev=4,n.el.style.setProperty("pointer-events","none"),n.willDismiss.emit({data:r,role:i}),null===(c=n.willDismissShorthand)||void 0===c||c.emit({data:r,role:i}),f=He(n),d=n.leaveAnimation?n.leaveAnimation:Oe.get(o,"ios"===f?a:s),i===bt){e.next=13;break}return e.next=13,dt(n,d,n.el,u);case 13:n.didDismiss.emit({data:r,role:i}),null===(l=n.didDismissShorthand)||void 0===l||l.emit({data:r,role:i}),Ke.delete(n),n.el.classList.add("overlay-hidden"),n.el.style.removeProperty("pointer-events"),void 0!==n.el.lastFocus&&(n.el.lastFocus=void 0),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.error(e.t0);case 24:return n.el.remove(),e.abrupt("return",!0);case 26:case"end":return e.stop()}}),e,null,[[4,21]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}(),ft=function(e){return e.querySelector("ion-app")||e.body},dt=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.classList.remove("overlay-hidden"),a=n.el,s=r(a,o),n.animated&&Oe.getBoolean("animated",!0)||s.duration(0),n.keyboardClose&&s.beforeAddWrite((function(){var e=i.ownerDocument.activeElement;(null===e||void 0===e?void 0:e.matches("input,ion-input, ion-textarea"))&&e.blur()})),u=Ke.get(n)||[],Ke.set(n,[].concat((0,be.Z)(u),[s])),e.next=9,s.play();case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),ht=function(e,t){var n,r=new Promise((function(e){return n=e}));return pt(e,t,(function(e){n(e.detail)})),r},pt=function(e,t,n){(0,qe.a)(e,t,(function r(i){(0,qe.b)(e,t,r),n(i)}))},vt=function(e){return"cancel"===e||e===yt},mt=function(e){return e()},gt=function(e,t){if("function"===typeof e)return Oe.get("_zoneGate",mt)((function(){try{return e(t)}catch(n){throw n}}))},yt="backdrop",bt="gesture",wt=n(6189),kt=n(5330),xt=n(1168),St=function(e,t){return null!==t.closest(e)},_t=function(e,t){return"string"===typeof e&&e.length>0?Object.assign((0,we.Z)({"ion-color":!0},"ion-color-".concat(e),!0),t):t},Et=function(e){var t={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter((function(e){return null!=e})).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]}(e).forEach((function(e){return t[e]=!0})),t},Ct=/^[a-z][a-z0-9+\-.]*:/,It=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n||"#"===n[0]||Ct.test(n)){e.next=5;break}if(!(a=document.querySelector("ion-router"))){e.next=5;break}return null!=r&&r.preventDefault(),e.abrupt("return",a.push(n,i,o));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Ot=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e}return(0,Ee.Z)(n,[{key:"render",value:function(){var e=He(this);return(0,Ce.h)(Ce.AA,{class:_t(this.color,(0,we.Z)({},e,!0))},(0,Ce.h)("slot",null))}}],[{key:"style",get:function(){return{ios:":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px}",md:":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}"}}}]),n}(Ce.mv),[33,"ion-badge",{color:[513]}]);var Zt=function(){if("undefined"!==typeof customElements){["ion-badge"].forEach((function(e){if("ion-badge"===e)customElements.get(e)||customElements.define(e,Ot)}))}},Tt={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},At=function(e){if(void 0===e||""===e)return!0;if(window.matchMedia){var t=Tt[e];return window.matchMedia(t).matches}return!1},Pt="undefined"!==typeof window?window:void 0,Rt=Pt&&!!(Pt.CSS&&Pt.CSS.supports&&Pt.CSS.supports("--a: 0")),Nt=["","xs","sm","md","lg","xl"],jt=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e}return(0,Ee.Z)(n,[{key:"onResize",value:function(){(0,Ce.xE)(this)}},{key:"getColumns",value:function(e){for(var t,n=0,r=Nt;n<r.length;n++){var i=r[n],o=At(i),a=this[e+i.charAt(0).toUpperCase()+i.slice(1)];o&&void 0!==a&&(t=a)}return t}},{key:"calculateSize",value:function(){var e=this.getColumns("size");if(e&&""!==e){var t="auto"===e?"auto":Rt?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(t),width:"".concat(t),"max-width":"".concat(t)}}}},{key:"calculatePosition",value:function(e,t){var n=this.getColumns(e);if(n){var r=Rt?"calc(calc(".concat(n," / var(--ion-grid-columns, 12)) * 100%)"):n>0&&n<12?n/12*100+"%":"auto";return(0,we.Z)({},t,r)}}},{key:"calculateOffset",value:function(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}},{key:"calculatePull",value:function(e){return this.calculatePosition("pull",e?"left":"right")}},{key:"calculatePush",value:function(e){return this.calculatePosition("push",e?"right":"left")}},{key:"render",value:function(){var e="rtl"===document.dir,t=He(this);return(0,Ce.h)(Ce.AA,{class:(0,we.Z)({},t,!0),style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},(0,Ce.h)("slot",null))}}],[{key:"style",get:function(){return":host{padding-left:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px))}}@media (min-width: 576px){:host{padding-left:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 768px){:host{padding-left:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 992px){:host{padding-left:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}}@media (min-width: 1200px){:host{padding-left:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-right:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}}"}}]),n}(Ce.mv),[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);var Lt=function(){if("undefined"!==typeof customElements){["ion-col"].forEach((function(e){if("ion-col"===e)customElements.get(e)||customElements.define(e,jt)}))}},Dt=n(3696),Mt=(0,Ce.GH)(function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(){var e;return(0,_e.Z)(this,i),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionScrollStart=(0,Ce.yM)((0,ke.Z)(e),"ionScrollStart",7),e.ionScroll=(0,Ce.yM)((0,ke.Z)(e),"ionScroll",7),e.ionScrollEnd=(0,Ce.yM)((0,ke.Z)(e),"ionScrollEnd",7),e.watchDog=null,e.isScrolling=!1,e.lastScroll=0,e.queued=!1,e.cTop=-1,e.cBottom=-1,e.isMainContent=!0,e.resizeTimeout=null,e.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},e.fullscreen=!1,e.scrollX=!1,e.scrollY=!0,e.scrollEvents=!1,e}return(0,Ee.Z)(i,[{key:"connectedCallback",value:function(){this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal")}},{key:"disconnectedCallback",value:function(){this.onScrollEnd()}},{key:"onAppLoad",value:function(){this.resize()}},{key:"onResize",value:function(){var e=this;this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout((function(){null!==e.el.offsetParent&&e.resize()}),100)}},{key:"shouldForceOverscroll",value:function(){var e=this.forceOverscroll,t=He(this);return void 0===e?"ios"===t&&Pe("ios"):e}},{key:"resize",value:function(){var e=this;this.fullscreen?(0,Ce.wj)((function(){return e.readDimensions()})):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,(0,Ce.xE)(this))}},{key:"readDimensions",value:function(){var e=Ft(this.el),t=Math.max(this.el.offsetTop,0),n=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||n!==this.cBottom)&&(this.cTop=t,this.cBottom=n,(0,Ce.xE)(this))}},{key:"onScroll",value:function(e){var t=this,n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,(0,Ce.wj)((function(n){t.queued=!1,t.detail.event=e,Bt(t.detail,t.scrollEl,n,r),t.ionScroll.emit(t.detail)})))}},{key:"getScrollElement",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.scrollEl){e.next=3;break}return e.next=3,new Promise((function(e){return(0,qe.c)(n.el,e)}));case 3:return e.abrupt("return",Promise.resolve(this.scrollEl));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBackgroundElement",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.backgroundContentEl){e.next=3;break}return e.next=3,new Promise((function(e){return(0,qe.c)(n.el,e)}));case 3:return e.abrupt("return",Promise.resolve(this.backgroundContentEl));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"scrollToTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.scrollToPoint(void 0,0,e)}},{key:"scrollToBottom",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:0,e.next=3,this.getScrollElement();case 3:return r=e.sent,i=r.scrollHeight-r.clientHeight,e.abrupt("return",this.scrollToPoint(void 0,i,n));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"scrollByPoint",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getScrollElement();case 2:return o=e.sent,e.abrupt("return",this.scrollToPoint(n+o.scrollLeft,r+o.scrollTop,i));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"scrollToPoint",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f,d,h,p=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p.length>2&&void 0!==p[2]?p[2]:0,e.next=3,this.getScrollElement();case 3:if(o=e.sent,!(i<32)){e.next=8;break}return null!=r&&(o.scrollTop=r),null!=n&&(o.scrollLeft=n),e.abrupt("return");case 8:return s=0,u=new Promise((function(e){return a=e})),c=o.scrollTop,l=o.scrollLeft,f=null!=r?r-c:0,d=null!=n?n-l:0,h=function e(t){var n=Math.min(1,(t-s)/i)-1,r=Math.pow(n,3)+1;0!==f&&(o.scrollTop=Math.floor(r*f+c)),0!==d&&(o.scrollLeft=Math.floor(r*d+l)),r<1?requestAnimationFrame(e):a()},requestAnimationFrame((function(e){s=e,h(e)})),e.abrupt("return",u);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onScrollStart",value:function(){var e=this;this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((function(){e.lastScroll<Date.now()-120&&e.onScrollEnd()}),100)}},{key:"onScrollEnd",value:function(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}},{key:"render",value:function(){var e,t=this,n=this.isMainContent,r=this.scrollX,i=this.scrollY,o=this.el,a=(0,Dt.i)(o)?"rtl":"ltr",s=He(this),u=this.shouldForceOverscroll(),c="ios"===s,l=n?"main":"div";return this.resize(),(0,Ce.h)(Ce.AA,{class:_t(this.color,(e={},(0,we.Z)(e,s,!0),(0,we.Z)(e,"content-sizing",St("ion-popover",this.el)),(0,we.Z)(e,"overscroll",u),(0,we.Z)(e,"content-".concat(a),!0),e)),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},(0,Ce.h)("div",{ref:function(e){return t.backgroundContentEl=e},id:"background-content",part:"background"}),(0,Ce.h)(l,{class:{"inner-scroll":!0,"scroll-x":r,"scroll-y":i,overscroll:(r||i)&&u},ref:function(e){return t.scrollEl=e},onScroll:this.scrollEvents?function(e){return t.onScroll(e)}:void 0,part:"scroll"},(0,Ce.h)("slot",null)),c?(0,Ce.h)("div",{class:"transition-effect"},(0,Ce.h)("div",{class:"transition-cover"}),(0,Ce.h)("div",{class:"transition-shadow"})):null,(0,Ce.h)("slot",{name:"fixed"}))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.inner-scroll{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:10px;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3MDgzRkQ5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3MDgzRkU5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTcwODNGQjlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTcwODNGQzlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmePEuQAAABNSURBVHjaYvz//z8DIxAwMDAwATGMhmFmPDQuOSZks0AMmoJBaQHjkPfB0Lfg/2gQjVow+HPy/yHvg9GiYjQfjMbBqAWjFgy/4hogwADYqwdzxy5BuwAAAABJRU5ErkJggg==);background-repeat:repeat-y;background-size:10px 16px}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}}]),i}(Ce.mv),[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]]),Ft=function(e){var t=e.closest("ion-tabs");if(t)return t;var n=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||function(e){var t;return e.parentElement?e.parentElement:(null===(t=e.parentNode)||void 0===t?void 0:t.host)?e.parentNode.host:null}(e)},Bt=function(e,t,n,r){var i=e.currentX,o=e.currentY,a=e.currentTime,s=t.scrollLeft,u=t.scrollTop,c=n-a;if(r&&(e.startTime=n,e.startX=s,e.startY=u,e.velocityX=e.velocityY=0),e.currentTime=n,e.currentX=e.scrollLeft=s,e.currentY=e.scrollTop=u,e.deltaX=s-e.startX,e.deltaY=u-e.startY,c>0&&c<100){var l=(s-i)/c,f=(u-o)/c;e.velocityX=.7*l+.3*e.velocityX,e.velocityY=.7*f+.3*e.velocityY}};var Ut=function(){if("undefined"!==typeof customElements){["ion-content"].forEach((function(e){if("ion-content"===e)customElements.get(e)||customElements.define(e,Mt)}))}},zt=n(2151),Vt=function(e){var t=document.querySelector("".concat(e,".ion-cloned-element"));if(null!==t)return t;var n=document.createElement(e);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},Ht=function(e){if(e){var t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map((function(e){var t=e.querySelector("ion-title");return{el:e,background:e.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:t,innerTitleEl:t?t.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(e.querySelectorAll("ion-buttons"))}}))}}},Wt=function(e,t,n){(0,Ce.wj)((function(){var r=e.scrollTop,i=(0,qe.h)(1,1+-r/500,1.1);null===n.querySelector("ion-refresher.refresher-native")&&(0,Ce.Iu)((function(){Kt(t.toolbars,i)}))}))},$t=function(e,t){"fade"!==e.collapse&&(void 0===t?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},qt=function(e,t,n,r){(0,Ce.Iu)((function(){var i=r.scrollTop;!function(e,t,n){if(e[0].isIntersecting){var r=e[0].intersectionRatio>.9||n<=0?0:100*(1-e[0].intersectionRatio)/75;$t(t.el,1===r?void 0:r)}}(e,t,i);var o=e[0],a=o.intersectionRect,s=a.width*a.height,u=o.rootBounds.width*o.rootBounds.height,c=0===s&&0===u,l=Math.abs(a.left-o.boundingClientRect.left),f=Math.abs(a.right-o.boundingClientRect.right);c||s>0&&(l>=5||f>=5)||(o.isIntersecting?(Gt(t,!1),Gt(n)):(0===a.x&&0===a.y||0!==a.width&&0!==a.height)&&i>0&&(Gt(t),Gt(n,!1),$t(t.el)))}))},Gt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.el;t?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},Kt=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var r=n.ionTitleEl,i=n.innerTitleEl;r&&"large"===r.size&&(i.style.transition=t?"all 0.2s ease-in-out":"",i.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))}))},Qt=function(e,t,n){(0,Ce.wj)((function(){var r=e.scrollTop,i=t.clientHeight,o=n?n.clientHeight:0;if(null!==n&&r<o)return t.style.setProperty("--opacity-scale","0"),void e.style.setProperty("clip-path","inset(".concat(i,"px 0px 0px 0px)"));var a=r-o,s=(0,qe.h)(0,a/10,1);(0,Ce.Iu)((function(){e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",s.toString())}))}))},Jt=(0,Ce.GH)(function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(){var e;return(0,_e.Z)(this,i),(e=n.call(this)).__registerHost(),e.inheritedAttributes={},e.translucent=!1,e.setupFadeHeader=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r,i){var o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,zt.g)(r);case 2:o=e.scrollEl=t.sent,e.contentScrollCallback=function(){Qt(e.scrollEl,e.el,i)},o.addEventListener("scroll",e.contentScrollCallback),Qt(e.scrollEl,e.el,i);case 6:case"end":return t.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),e}return(0,Ee.Z)(i,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=(0,qe.i)(this.el)}},{key:"componentDidLoad",value:function(){this.checkCollapsibleHeader()}},{key:"componentDidUpdate",value:function(){this.checkCollapsibleHeader()}},{key:"disconnectedCallback",value:function(){this.destroyCollapsibleHeader()}},{key:"checkCollapsibleHeader",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ios"===He(this)){e.next=3;break}return e.abrupt("return");case 3:if(n=this.collapse,r="condense"===n,i="fade"===n,this.destroyCollapsibleHeader(),!r){e.next=15;break}return o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),a=o?(0,zt.f)(o):null,(0,Ce.Iu)((function(){Vt("ion-title").size="large",Vt("ion-back-button")})),e.next=13,this.setupCondenseHeader(a,o);case 13:e.next=24;break;case 15:if(!i){e.next=24;break}if(s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),u=s?(0,zt.f)(s):null){e.next=21;break}return(0,zt.p)(this.el),e.abrupt("return");case 21:return c=u.querySelector('ion-header[collapse="condense"]'),e.next=24,this.setupFadeHeader(u,c);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroyCollapsibleHeader",value:function(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}},{key:"setupCondenseHeader",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=3;break}return(0,zt.p)(this.el),e.abrupt("return");case 3:if("undefined"!==typeof IntersectionObserver){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,zt.g)(n);case 7:if(this.scrollEl=e.sent,i=r.querySelectorAll("ion-header"),this.collapsibleMainHeader=Array.from(i).find((function(e){return"condense"!==e.collapse})),this.collapsibleMainHeader){e.next=12;break}return e.abrupt("return");case 12:if(o=Ht(this.collapsibleMainHeader),a=Ht(this.el),o&&a){e.next=16;break}return e.abrupt("return");case 16:Gt(o,!1),$t(o.el,0),s=function(e){qt(e,o,a,u.scrollEl)},this.intersectionObserver=new IntersectionObserver(s,{root:n,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(a.toolbars[a.toolbars.length-1].el),this.contentScrollCallback=function(){Wt(u.scrollEl,a,n)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),(0,Ce.Iu)((function(){void 0!==u.collapsibleMainHeader&&u.collapsibleMainHeader.classList.add("header-collapse-main")}));case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.translucent,n=this.inheritedAttributes,r=He(this),i=this.collapse||"none",o=St("ion-menu",this.el)?"none":"banner";return(0,Ce.h)(Ce.AA,Object.assign({role:o,class:(e={},(0,we.Z)(e,r,!0),(0,we.Z)(e,"header-".concat(r),!0),(0,we.Z)(e,"header-translucent",this.translucent),(0,we.Z)(e,"header-collapse-".concat(i),!0),(0,we.Z)(e,"header-translucent-".concat(r),this.translucent),e)},n),"ios"===r&&t&&(0,Ce.h)("div",{class:"header-background"}),(0,Ce.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",md:'ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md::after{left:0;bottom:-5px;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:""}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{left:unset;right:unset;right:0}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{background-position:right 0 top -2px}.header-collapse-condense{display:none}.header-md.ion-no-border::after{display:none}'}}}]),i}(Ce.mv),[36,"ion-header",{collapse:[1],translucent:[4]}]);var Yt=function(){if("undefined"!==typeof customElements){["ion-header"].forEach((function(e){if("ion-header"===e)customElements.get(e)||customElements.define(e,Jt)}))}},Xt=n(7762),en=function(e,t,n,r,i){return nn(e[1],t[1],n[1],r[1],i).map((function(i){return tn(e[0],t[0],n[0],r[0],i)}))},tn=function(e,t,n,r,i){return i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-e*Math.pow(i-1,3)},nn=function(e,t,n,r,i){return rn((r-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter((function(e){return e>=0&&e<=1}))},rn=function(e,t,n,r){if(0===e)return function(e,t,n){var r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]}(t,n,r);var i=(3*(n/=e)-(t/=e)*t)/3,o=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];var a=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===a)return[Math.pow(o/2,.5)-t/3];if(a>0)return[Math.pow(-o/2+Math.sqrt(a),1/3)-Math.pow(o/2+Math.sqrt(a),1/3)-t/3];var s=Math.sqrt(Math.pow(-i/3,3)),u=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(s,1/3);return[c*Math.cos(u/3)-t/3,c*Math.cos((u+2*Math.PI)/3)-t/3,c*Math.cos((u+4*Math.PI)/3)-t/3]},on=n(550),an=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s){var u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=2;break}return e.abrupt("return",n.attachViewToDom(r,i,a,o));case 2:if(s||"string"===typeof i||i instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:return c="string"===typeof i?null===(u=r.ownerDocument)||void 0===u?void 0:u.createElement(i):i,o&&o.forEach((function(e){return c.classList.add(e)})),a&&Object.assign(c,a),r.appendChild(c),e.next=10,new Promise((function(e){return(0,qe.c)(c,e)}));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}(),sn=function(e,t){if(t){if(e){var n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()},un=function(){function e(t,n){(0,_e.Z)(this,e),this.component=t,this.params=n,this.state=1}return(0,Ee.Z)(e,[{key:"init",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state=2,this.element){e.next=6;break}return r=this.component,e.next=5,an(this.delegate,n,r,["ion-page","ion-page-invisible"],this.params);case 5:this.element=e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_destroy",value:function(){(0,qe.m)(3!==this.state,"view state must be ATTACHED");var e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=3}}]),e}(),cn=function(e,t,n){return!!e&&(e.component===t&&(0,qe.s)(e.params,n))},ln=function(e,t){return e?e instanceof un?e:new un(e,t):null},fn=(0,Ce.GH)(function(e){(0,xe.Z)(o,e);var i=(0,Se.Z)(o);function o(){var e;return(0,_e.Z)(this,o),(e=i.call(this)).__registerHost(),e.__attachShadow(),e.ionNavWillLoad=(0,Ce.yM)((0,ke.Z)(e),"ionNavWillLoad",7),e.ionNavWillChange=(0,Ce.yM)((0,ke.Z)(e),"ionNavWillChange",3),e.ionNavDidChange=(0,Ce.yM)((0,ke.Z)(e),"ionNavDidChange",3),e.transInstr=[],e.animationEnabled=!0,e.useRouter=!1,e.isTransitioning=!1,e.destroyed=!1,e.views=[],e.animated=!0,e}return(0,Ee.Z)(o,[{key:"swipeGestureChanged",value:function(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}},{key:"rootChanged",value:function(){var e=Ce.Z5.isDev;void 0!==this.root&&(this.useRouter?e&&console.warn("<ion-nav> does not support a root attribute when using ion-router."):this.setRoot(this.root,this.rootParams))}},{key:"componentWillLoad",value:function(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){var e=He(this);this.swipeGesture=Oe.getBoolean("swipeBackEnabled","ios"===e)}this.ionNavWillLoad.emit()}},{key:"componentDidLoad",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rootChanged(),e.next=3,n.e(203).then(n.bind(n,1203));case 3:this.gesture=e.sent.createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connectedCallback",value:function(){this.destroyed=!1}},{key:"disconnectedCallback",value:function(){var e,t=(0,Xt.Z)(this.views);try{for(t.s();!(e=t.n()).done;){var n=e.value;(0,on.l)(n.element,on.d),n._destroy()}}catch(r){t.e(r)}finally{t.f()}this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}},{key:"push",value:function(e,t,n,r){return this.insert(-1,e,t,n,r)}},{key:"insert",value:function(e,t,n,r,i){return this.insertPages(e,[{component:t,componentProps:n}],r,i)}},{key:"insertPages",value:function(e,t,n,r){return this.queueTrns({insertStart:e,insertViews:t,opts:n},r)}},{key:"pop",value:function(e,t){return this.removeIndex(-1,1,e,t)}},{key:"popTo",value:function(e,t,n){var r={removeStart:-1,removeCount:-1,opts:t};return"object"===typeof e&&e.component?(r.removeView=e,r.removeStart=1):"number"===typeof e&&(r.removeStart=e+1),this.queueTrns(r,n)}},{key:"popToRoot",value:function(e,t){return this.removeIndex(1,-1,e,t)}},{key:"removeIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return this.queueTrns({removeStart:e,removeCount:t,opts:n},r)}},{key:"setRoot",value:function(e,t,n,r){return this.setPages([{component:e,componentProps:t}],n,r)}},{key:"setPages",value:function(e,t,n){return null!==t&&void 0!==t||(t={}),!0!==t.animated&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},n)}},{key:"setRouteId",value:function(e,n,i,o){var a,s=this.getActiveSync();if(cn(s,e,n))return Promise.resolve({changed:!1,element:s.element});var u,c=new Promise((function(e){return a=e})),l={updateURL:!1,viewIsReady:function(e){var n,i=new Promise((function(e){return n=e}));return a({changed:!0,element:e,markVisible:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.next=3,u;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),i}};if("root"===i)u=this.setRoot(e,n,l);else{var f=this.views.find((function(t){return cn(t,e,n)}));f?u=this.popTo(f,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:o})):"forward"===i?u=this.push(e,n,Object.assign(Object.assign({},l),{animationBuilder:o})):"back"===i&&(u=this.setRoot(e,n,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:o})))}return c}},{key:"getRouteId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.getActiveSync())){e.next=3;break}return e.abrupt("return",{id:n.element.tagName,params:n.params,element:n.element});case 3:return e.abrupt("return",void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getActive",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getActiveSync());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getByIndex",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.views[n]);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canGoBack",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.canGoBackSync(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrevious",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getPreviousSync(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLength",value:function(){return this.views.length}},{key:"getActiveSync",value:function(){return this.views[this.views.length-1]}},{key:"canGoBackSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActiveSync();return!(!e||!this.getPreviousSync(e))}},{key:"getPreviousSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActiveSync();if(e){var t=this.views,n=t.indexOf(e);return n>0?t[n-1]:void 0}}},{key:"queueTrns",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransitioning||!(null===(i=n.opts)||void 0===i?void 0:i.skipIfBusy)){e.next=2;break}return e.abrupt("return",!1);case 2:if(a=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.done=r,!n.opts||!1===n.opts.updateURL||!this.useRouter){e.next=15;break}if(!(s=document.querySelector("ion-router"))){e.next=15;break}return e.next=9,s.canTransition();case 9:if(!1!==(u=e.sent)){e.next=12;break}return e.abrupt("return",!1);case 12:if("string"!==typeof u){e.next=15;break}return s.push(u,n.opts.direction||"back"),e.abrupt("return",!1);case 15:return 0===(null===(o=n.insertViews)||void 0===o?void 0:o.length)&&(n.insertViews=void 0),this.transInstr.push(n),this.nextTrns(),e.abrupt("return",a);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"success",value:function(e,t){if(this.destroyed)this.fireError("nav controller was destroyed",t);else if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){var n=document.querySelector("ion-router");if(n){var r="back"===e.direction?"back":"forward";n.navChanged(r)}}}},{key:"failed",value:function(e,t){this.destroyed?this.fireError("nav controller was destroyed",t):(this.transInstr.length=0,this.fireError(e,t))}},{key:"fireError",value:function(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}},{key:"nextTrns",value:function(){if(this.isTransitioning)return!1;var e=this.transInstr.shift();return!!e&&(this.runTransition(e),!0)}},{key:"runTransition",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(n),r=this.getActiveSync(),i=this.getEnteringView(n,r),r||i){e.next=8;break}throw new Error("no views in the stack to be removed");case 8:if(!i||1!==i.state){e.next=11;break}return e.next=11,i.init(this.el);case 11:if(this.postViewInit(i,r,n),(o=(n.enteringRequiresTransition||n.leavingRequiresTransition)&&i!==r)&&n.opts&&r&&("back"===n.opts.direction&&(n.opts.animationBuilder=n.opts.animationBuilder||(null===i||void 0===i?void 0:i.animationBuilder)),r.animationBuilder=n.opts.animationBuilder),!o){e.next=20;break}return e.next=17,this.transition(i,r,n);case 17:a=e.sent,e.next=21;break;case 20:a={hasCompleted:!0,requiresTransition:!1};case 21:this.success(a,n),this.ionNavDidChange.emit(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),this.failed(e.t0,n);case 28:this.isTransitioning=!1,this.nextTrns();case 30:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"prepareTI",value:function(e){var t,n,r,i=this.views.length;if(null!==(t=e.opts)&&void 0!==t||(e.opts={}),null!==(n=(r=e.opts).delegate)&&void 0!==n||(r.delegate=this.delegate),void 0!==e.removeView){(0,qe.m)(void 0!==e.removeStart,"removeView needs removeStart"),(0,qe.m)(void 0!==e.removeCount,"removeView needs removeCount");var o=this.views.indexOf(e.removeView);if(o<0)throw new Error("removeView was not found");e.removeStart+=o}void 0!==e.removeStart&&(e.removeStart<0&&(e.removeStart=i-1),e.removeCount<0&&(e.removeCount=i-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===i),e.insertViews&&((e.insertStart<0||e.insertStart>i)&&(e.insertStart=i),e.enteringRequiresTransition=e.insertStart===i);var a=e.insertViews;if(a){(0,qe.m)(a.length>0,"length can not be zero");var s=a.map((function(e){return e instanceof un?e:"component"in e?ln(e.component,null===e.componentProps?void 0:e.componentProps):ln(e,void 0)})).filter((function(e){return null!==e}));if(0===s.length)throw new Error("invalid views to insert");var u,c=(0,Xt.Z)(s);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.delegate=e.opts.delegate;var f=l.nav;if(f&&f!==this)throw new Error("inserted view was already inserted");if(3===l.state)throw new Error("inserted view was already destroyed")}}catch(d){c.e(d)}finally{c.f()}e.insertViews=s}}},{key:"getEnteringView",value:function(e,t){var n=e.insertViews;if(void 0!==n)return n[n.length-1];var r=e.removeStart;if(void 0!==r)for(var i=this.views,o=r+e.removeCount,a=i.length-1;a>=0;a--){var s=i[a];if((a<r||a>=o)&&s!==t)return s}}},{key:"postViewInit",value:function(e,t,n){var r,i,o;(0,qe.m)(t||e,"Both leavingView and enteringView are null"),(0,qe.m)(n.resolve,"resolve must be valid"),(0,qe.m)(n.reject,"reject must be valid");var a,s=n.opts,u=n.insertViews,c=n.removeStart,l=n.removeCount;if(void 0!==c&&void 0!==l){(0,qe.m)(c>=0,"removeStart can not be negative"),(0,qe.m)(l>=0,"removeCount can not be negative"),a=[];for(var f=c;f<c+l;f++){var d=this.views[f];void 0!==d&&d!==e&&d!==t&&a.push(d)}null!==(r=s.direction)&&void 0!==r||(s.direction="back")}var h=this.views.length+(null!==(i=null===u||void 0===u?void 0:u.length)&&void 0!==i?i:0)-(null!==l&&void 0!==l?l:0);if((0,qe.m)(h>=0,"final balance can not be negative"),0===h)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(u){var p,v=n.insertStart,m=(0,Xt.Z)(u);try{for(m.s();!(p=m.n()).done;){var g=p.value;this.insertViewAt(g,v),v++}}catch(_){m.e(_)}finally{m.f()}n.enteringRequiresTransition&&(null!==(o=s.direction)&&void 0!==o||(s.direction="forward"))}if(a&&a.length>0){var y,b=(0,Xt.Z)(a);try{for(b.s();!(y=b.n()).done;){var w=y.value;(0,on.l)(w.element,on.b),(0,on.l)(w.element,on.c),(0,on.l)(w.element,on.d)}}catch(_){b.e(_)}finally{b.f()}var k,x=(0,Xt.Z)(a);try{for(x.s();!(k=x.n()).done;){var S=k.value;this.destroyView(S)}}catch(_){x.e(_)}finally{x.f()}}}},{key:"transition",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s,u,c,l,f,d,h=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.opts,a=o.progressAnimation?function(e){return h.sbAni=e}:void 0,s=He(this),u=n.element,c=r&&r.element,l=Object.assign(Object.assign({mode:s,showGoBack:this.canGoBackSync(n),baseEl:this.el,progressCallback:a,animated:this.animated&&Oe.getBoolean("animated",!0),enteringEl:u,leavingEl:c},o),{animationBuilder:o.animationBuilder||this.animation||Oe.get("navAnimation")}),e.next=8,(0,on.t)(l);case 8:return f=e.sent,d=f.hasCompleted,e.abrupt("return",this.transitionFinish(d,n,r,o));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"transitionFinish",value:function(e,t,n,r){var i=e?t:n;return i&&this.unmountInactiveViews(i),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:n,direction:r.direction}}},{key:"insertViewAt",value:function(e,t){var n=this.views,r=n.indexOf(e);r>-1?((0,qe.m)(e.nav===this,"view is not part of the nav"),n.splice(r,1),n.splice(t,0,e)):((0,qe.m)(!e.nav,"nav is used"),e.nav=this,n.splice(t,0,e))}},{key:"removeView",value:function(e){(0,qe.m)(2===e.state||3===e.state,"view state should be loaded or destroyed");var t=this.views,n=t.indexOf(e);(0,qe.m)(n>-1,"view must be part of the stack"),n>=0&&t.splice(n,1)}},{key:"destroyView",value:function(e){e._destroy(),this.removeView(e)}},{key:"unmountInactiveViews",value:function(e){if(!this.destroyed)for(var t=this.views,n=t.indexOf(e),r=t.length-1;r>=0;r--){var i=t[r],o=i.element;o&&(r>n?((0,on.l)(o,on.d),this.destroyView(i)):r<n&&(0,on.s)(o,!0))}}},{key:"canStart",value:function(){return!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.animationEnabled&&this.canGoBackSync()}},{key:"onStart",value:function(){this.pop({direction:"back",progressAnimation:!0})}},{key:"onMove",value:function(e){this.sbAni&&this.sbAni.progressStep(e)}},{key:"onEnd",value:function(e,t,n){var r=this;if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish((function(){r.animationEnabled=!0}),{oneTimeCallback:!0});var i=e?-.001:.001;e?i+=en([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=en([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,i,n)}}},{key:"render",value:function(){return(0,Ce.h)("slot",null)}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}},{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}}]),o}(Ce.mv),[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);var dn=function(){if("undefined"!==typeof customElements){["ion-nav"].forEach((function(e){if("ion-nav"===e)customElements.get(e)||customElements.define(e,fn)}))}},hn=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e}return(0,Ee.Z)(n,[{key:"render",value:function(){return(0,Ce.h)(Ce.AA,{class:He(this)},(0,Ce.h)("slot",null))}}],[{key:"style",get:function(){return":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}"}}]),n}(Ce.mv),[1,"ion-row"]);var pn,vn,mn=function(){if("undefined"!==typeof customElements){["ion-row"].forEach((function(e){if("ion-row"===e)customElements.get(e)||customElements.define(e,hn)}))}},gn="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",yn="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",bn={getEngine:function(){var e,t=window;return t.TapticEngine||(null===(e=t.Capacitor)||void 0===e?void 0:e.isPluginAvailable("Haptics"))&&t.Capacitor.Plugins.Haptics},available:function(){var e,t=window;return!!this.getEngine()&&("web"!==(null===(e=t.Capacitor)||void 0===e?void 0:e.getPlatform())||"undefined"!==typeof navigator&&void 0!==navigator.vibrate)},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})}},notification:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},wn=function(){return bn.available()},kn=function(e){var t=function(){if("undefined"===typeof window)return new Map;if(!pn){var e=window;e.Ionicons=e.Ionicons||{},pn=e.Ionicons.map=e.Ionicons.map||new Map}return pn}().get(e);return t||(0,Ce.K3)("svg/".concat(e,".svg"))},xn=function(e,t,n,r,i){return n="ios"===(n&&Cn(n))?"ios":"md",r&&"ios"===n?e=Cn(r):i&&"md"===n?e=Cn(i):(e||!t||_n(t)||(e=t),En(e)&&(e=Cn(e))),En(e)&&""!==e.trim()?""!==e.replace(/[a-z]|-|\d/gi,"")?null:e:null},Sn=function(e){return En(e)&&(e=e.trim(),_n(e))?e:null},_n=function(e){return e.length>0&&/(\/|\.)/.test(e)},En=function(e){return"string"===typeof e},Cn=function(e){return e.toLowerCase()},In=function e(t){if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n].name;if(En(r)&&0===r.toLowerCase().indexOf("on"))return!1}for(var i=0;i<t.childNodes.length;i++)if(!e(t.childNodes[i]))return!1}return!0},On=new Map,Zn=new Map,Tn=function(e,t){var n=Zn.get(e);if(!n){if("undefined"===typeof fetch||"undefined"===typeof document)return On.set(e,""),Promise.resolve();if(function(e){return e.startsWith("data:image/svg+xml")}(e)&&function(e){return-1!==e.indexOf(";utf8,")}(e)){vn||(vn=new DOMParser);var r=vn.parseFromString(e,"text/html").querySelector("svg");return r&&On.set(e,r.outerHTML),Promise.resolve()}n=fetch(e).then((function(n){if(n.ok)return n.text().then((function(n){n&&!1!==t&&(n=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);var r=t.firstElementChild;if(r&&"svg"===r.nodeName.toLowerCase()){var i=r.getAttribute("class")||"";if(r.setAttribute("class",(i+" s-ion-icon").trim()),In(r))return t.innerHTML}return""}(n)),On.set(e,n||"")}));On.set(e,"")})),Zn.set(e,n)}return n},An=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.iconName=null,e.inheritedAttributes={},e.isVisible=!1,e.mode=Pn(),e.lazy=!1,e.sanitize=!0,e.hasAriaHidden=function(){var t=(0,ke.Z)(e).el;return t.hasAttribute("aria-hidden")&&"true"===t.getAttribute("aria-hidden")},e}return(0,Ee.Z)(n,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=function(e){var t={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){e.hasAttribute(n)&&(null!==e.getAttribute(n)&&(t[n]=e.getAttribute(n)),e.removeAttribute(n))})),t}(this.el,["aria-label"])}},{key:"connectedCallback",value:function(){var e=this;this.waitUntilVisible(this.el,"50px",(function(){e.isVisible=!0,e.loadIcon()}))}},{key:"disconnectedCallback",value:function(){this.io&&(this.io.disconnect(),this.io=void 0)}},{key:"waitUntilVisible",value:function(e,t,n){var r=this;if(Ce.Z5.isBrowser&&this.lazy&&"undefined"!==typeof window&&window.IntersectionObserver){var i=this.io=new window.IntersectionObserver((function(e){e[0].isIntersecting&&(i.disconnect(),r.io=void 0,n())}),{rootMargin:t});i.observe(e)}else n()}},{key:"loadIcon",value:function(){var e=this;if(Ce.Z5.isBrowser&&this.isVisible){var t=function(e){var t=Sn(e.src);if(t)return t;if(t=xn(e.name,e.icon,e.mode,e.ios,e.md))return kn(t);if(e.icon){if(t=Sn(e.icon))return t;if(t=Sn(e.icon[e.mode]))return t}return null}(this);t&&(On.has(t)?this.svgContent=On.get(t):Tn(t,this.sanitize).then((function(){return e.svgContent=On.get(t)})))}var n=this.iconName=xn(this.name,this.icon,this.mode,this.ios,this.md);n&&(this.ariaLabel=n.replace(/\-/g," "))}},{key:"render",value:function(){var e,t,n=this.iconName,r=this.ariaLabel,i=this.el,o=this.inheritedAttributes,a=this.mode||"md",s=this.flipRtl||n&&(n.indexOf("arrow")>-1||n.indexOf("chevron")>-1)&&!1!==this.flipRtl;return(0,Ce.h)(Ce.AA,Object.assign({"aria-label":void 0===r||this.hasAriaHidden()?null:r,role:"img",class:Object.assign(Object.assign((0,we.Z)({},a,!0),Rn(this.color)),(e={},(0,we.Z)(e,"icon-".concat(this.size),!!this.size),(0,we.Z)(e,"flip-rtl",!!s&&(t=i,t&&""!==t.dir?"rtl"===t.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),e))},o),Ce.Z5.isBrowser&&this.svgContent?(0,Ce.h)("div",{class:"icon-inner",innerHTML:this.svgContent}):(0,Ce.h)("div",{class:"icon-inner"}))}},{key:"el",get:function(){return this}}],[{key:"assetsDirs",get:function(){return["svg"]}},{key:"watchers",get:function(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}},{key:"style",get:function(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}}]),n}(Ce.mv),[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32],ariaLabel:[32]}]),Pn=function(){return Ce.Z5.isBrowser&&"undefined"!==typeof document&&document.documentElement.getAttribute("mode")||"md"},Rn=function(e){return e?(0,we.Z)({"ion-color":!0},"ion-color-".concat(e),!0):null};function Nn(){if("undefined"!==typeof customElements){["ion-icon"].forEach((function(e){if("ion-icon"===e)customElements.get(e)||customElements.define(e,An)}))}}var jn=(0,Ce.GH)(function(e){(0,xe.Z)(o,e);var i=(0,Se.Z)(o);function o(){var e;return(0,_e.Z)(this,o),(e=i.call(this)).__registerHost(),e.__attachShadow(),e.ionChange=(0,Ce.yM)((0,ke.Z)(e),"ionChange",7),e.ionFocus=(0,Ce.yM)((0,ke.Z)(e),"ionFocus",7),e.ionBlur=(0,Ce.yM)((0,ke.Z)(e),"ionBlur",7),e.ionStyle=(0,Ce.yM)((0,ke.Z)(e),"ionStyle",7),e.inputId="ion-tg-".concat(Dn++),e.lastDrag=0,e.activated=!1,e.name=e.inputId,e.checked=!1,e.disabled=!1,e.value="on",e.enableOnOffLabels=Oe.get("toggleOnOffLabels"),e.onClick=function(t){t.preventDefault(),e.lastDrag+300<Date.now()&&(e.checked=!e.checked)},e.onFocus=function(){e.ionFocus.emit()},e.onBlur=function(){e.ionBlur.emit()},e.getSwitchLabelIcon=function(e,t){return"md"===e?t?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>":yn:t?yn:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"},e}return(0,Ee.Z)(o,[{key:"checkedChanged",value:function(e){this.ionChange.emit({checked:e,value:this.value})}},{key:"disabledChanged",value:function(){this.emitStyle(),this.gesture&&this.gesture.enable(!this.disabled)}},{key:"connectedCallback",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(613).then(n.bind(n,3613));case 2:this.gesture=e.sent.createGesture({el:this.el,gestureName:"toggle",gesturePriority:100,threshold:5,passive:!1,onStart:function(){return r.onStart()},onMove:function(e){return r.onMove(e)},onEnd:function(e){return r.onEnd(e)}}),this.disabledChanged();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"componentWillLoad",value:function(){this.emitStyle()}},{key:"emitStyle",value:function(){this.ionStyle.emit({"interactive-disabled":this.disabled})}},{key:"onStart",value:function(){this.activated=!0,this.setFocus()}},{key:"onMove",value:function(e){Ln((0,Dt.i)(this.el),this.checked,e.deltaX,-10)&&(this.checked=!this.checked,wn()&&bn.selection())}},{key:"onEnd",value:function(e){this.activated=!1,this.lastDrag=Date.now(),e.event.preventDefault(),e.event.stopImmediatePropagation()}},{key:"getValue",value:function(){return this.value||""}},{key:"setFocus",value:function(){this.focusEl&&this.focusEl.focus()}},{key:"renderOnOffSwitchLabels",value:function(e,t){var n=this.getSwitchLabelIcon(e,t);return(0,Ce.h)("ion-icon",{class:{"toggle-switch-icon":!0,"toggle-switch-icon-checked":t},icon:n,"aria-hidden":"true"})}},{key:"render",value:function(){var e,t=this,n=this.activated,r=this.color,i=this.checked,o=this.disabled,a=this.el,s=this.inputId,u=this.name,c=this.enableOnOffLabels,l=He(this),f=(0,qe.n)(a,s),d=f.label,h=f.labelId,p=f.labelText,v=this.getValue(),m=(0,Dt.i)(a)?"rtl":"ltr";return(0,qe.e)(!0,a,u,i?v:"",o),(0,Ce.h)(Ce.AA,{onClick:this.onClick,"aria-labelledby":d?h:null,"aria-checked":"".concat(i),"aria-hidden":o?"true":null,role:"switch",class:_t(r,(e={},(0,we.Z)(e,l,!0),(0,we.Z)(e,"in-item",St("ion-item",a)),(0,we.Z)(e,"toggle-activated",n),(0,we.Z)(e,"toggle-checked",i),(0,we.Z)(e,"toggle-disabled",o),(0,we.Z)(e,"interactive",!0),(0,we.Z)(e,"toggle-".concat(m),!0),e))},(0,Ce.h)("div",{class:"toggle-icon",part:"track"},c&&"ios"===l&&[this.renderOnOffSwitchLabels(l,!0),this.renderOnOffSwitchLabels(l,!1)],(0,Ce.h)("div",{class:"toggle-icon-wrapper"},(0,Ce.h)("div",{class:"toggle-inner",part:"handle"},c&&"md"===l&&this.renderOnOffSwitchLabels(l,i)))),(0,Ce.h)("label",{htmlFor:s},p),(0,Ce.h)("input",{type:"checkbox",role:"switch","aria-checked":"".concat(i),disabled:o,id:s,onFocus:function(){return t.onFocus()},onBlur:function(){return t.onBlur()},ref:function(e){return t.focusEl=e}}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{checked:["checkedChanged"],disabled:["disabledChanged"]}}},{key:"style",get:function(){return{ios:":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;outline:none;contain:content;cursor:pointer;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0;pointer-events:none}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--background);pointer-events:none;overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.088);--background-checked:var(--ion-color-primary, #3880ff);--border-radius:16px;--handle-background:#ffffff;--handle-background-checked:#ffffff;--handle-border-radius:25.5px;--handle-box-shadow:0 3px 12px rgba(0, 0, 0, 0.16), 0 3px 1px rgba(0, 0, 0, 0.1);--handle-height:calc(32px - (2px * 2));--handle-max-height:calc(100% - var(--handle-spacing) * 2);--handle-width:calc(32px - (2px * 2));--handle-spacing:2px;--handle-transition:transform 300ms, width 120ms ease-in-out 80ms, left 110ms ease-in-out 80ms, right 110ms ease-in-out 80ms;width:51px;height:32px;contain:strict;overflow:hidden}:host(.ion-color.toggle-checked) .toggle-icon{background:var(--ion-color-base)}:host(.toggle-activated) .toggle-switch-icon{opacity:0}.toggle-icon{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);-webkit-transition:background-color 300ms;transition:background-color 300ms}.toggle-inner{will-change:transform}.toggle-switch-icon{position:absolute;top:50%;width:11px;height:11px;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:opacity 300ms, color 300ms;transition:opacity 300ms, color 300ms}.toggle-switch-icon{position:absolute;color:var(--ion-color-dark)}:host(.toggle-ltr) .toggle-switch-icon{right:6px}:host(.toggle-rtl) .toggle-switch-icon{right:initial;left:6px;}:host(.toggle-checked) .toggle-switch-icon.toggle-switch-icon-checked{color:var(--ion-color-contrast, #fff)}:host(.toggle-checked) .toggle-switch-icon:not(.toggle-switch-icon-checked){opacity:0}.toggle-switch-icon-checked{position:absolute;width:15px;height:15px;-webkit-transform:translateY(-50%) rotate(90deg);transform:translateY(-50%) rotate(90deg)}:host(.toggle-ltr) .toggle-switch-icon-checked{right:initial;left:4px;}:host(.toggle-rtl) .toggle-switch-icon-checked{right:4px}:host(.toggle-activated) .toggle-icon::before,:host(.toggle-checked) .toggle-icon::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated.toggle-checked) .toggle-inner::before{-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0)}:host(.toggle-activated) .toggle-inner{width:calc(var(--handle-width) + 6px)}:host(.toggle-ltr.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0);transform:translate3d(calc(100% - var(--handle-width) - 6px), 0, 0)}:host(.toggle-rtl.toggle-activated.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0);transform:translate3d(calc(-100% + var(--handle-width) + 6px), 0, 0)}:host(.toggle-disabled){opacity:0.3}:host(.in-item[slot]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:20px;padding-right:10px;padding-top:6px;padding-bottom:5px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot]){padding-left:unset;padding-right:unset;-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:10px;padding-inline-end:10px}}:host(.in-item[slot=start]){padding-left:0;padding-right:16px;padding-top:6px;padding-bottom:5px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){padding-left:unset;padding-right:unset;-webkit-padding-start:0;padding-inline-start:0;-webkit-padding-end:16px;padding-inline-end:16px}}",md:":host{-webkit-box-sizing:content-box !important;box-sizing:content-box !important;display:inline-block;position:relative;outline:none;contain:content;cursor:pointer;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.ion-focused) input{border:2px solid #5e9ed6}:host(.toggle-disabled){pointer-events:none}label{left:0;top:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;position:absolute;width:100%;height:100%;border:0;background:transparent;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;opacity:0;pointer-events:none}[dir=rtl] label,:host-context([dir=rtl]) label{left:unset;right:unset;right:0}label::-moz-focus-inner{border:0}input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}.toggle-icon-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;-webkit-transition:var(--handle-transition);transition:var(--handle-transition);will-change:transform}.toggle-icon{border-radius:var(--border-radius);display:block;position:relative;width:100%;height:100%;background:var(--background);pointer-events:none;overflow:inherit}:host(.toggle-checked) .toggle-icon{background:var(--background-checked)}.toggle-inner{border-radius:var(--handle-border-radius);position:absolute;width:var(--handle-width);height:var(--handle-height);max-height:var(--handle-max-height);-webkit-transition:var(--handle-transition);transition:var(--handle-transition);background:var(--handle-background);-webkit-box-shadow:var(--handle-box-shadow);box-shadow:var(--handle-box-shadow);contain:strict}:host(.toggle-ltr) .toggle-inner{left:var(--handle-spacing)}:host(.toggle-rtl) .toggle-inner{right:var(--handle-spacing)}:host(.toggle-ltr.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(100% - var(--handle-width)), 0, 0);transform:translate3d(calc(100% - var(--handle-width)), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-icon-wrapper{-webkit-transform:translate3d(calc(-100% + var(--handle-width)), 0, 0);transform:translate3d(calc(-100% + var(--handle-width)), 0, 0)}:host(.toggle-checked) .toggle-inner{background:var(--handle-background-checked)}:host(.toggle-ltr.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * -2), 0, 0)}:host(.toggle-rtl.toggle-checked) .toggle-inner{-webkit-transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0);transform:translate3d(calc(var(--handle-spacing) * 2), 0, 0)}:host{--background:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.39);--background-checked:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.5);--border-radius:14px;--handle-background:#ffffff;--handle-background-checked:var(--ion-color-primary, #3880ff);--handle-border-radius:50%;--handle-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);--handle-width:20px;--handle-height:20px;--handle-max-height:calc(100% + 6px);--handle-spacing:0;--handle-transition:transform 160ms cubic-bezier(0.4, 0, 0.2, 1), background-color 160ms cubic-bezier(0.4, 0, 0.2, 1);padding-left:12px;padding-right:12px;padding-top:12px;padding-bottom:12px;width:36px;height:14px;contain:strict}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px}}:host(.ion-color.toggle-checked) .toggle-icon{background:rgba(var(--ion-color-base-rgb), 0.5)}:host(.ion-color.toggle-checked) .toggle-inner{background:var(--ion-color-base)}:host(.toggle-checked) .toggle-inner{color:var(--ion-color-contrast, #fff)}.toggle-icon{-webkit-transition:background-color 160ms;transition:background-color 160ms}.toggle-inner{will-change:background-color, transform;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;color:#000}.toggle-inner .toggle-switch-icon{padding-left:1px;padding-right:1px;padding-top:1px;padding-bottom:1px;width:100%;height:100%}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toggle-inner .toggle-switch-icon{padding-left:unset;padding-right:unset;-webkit-padding-start:1px;padding-inline-start:1px;-webkit-padding-end:1px;padding-inline-end:1px}}:host(.toggle-disabled){opacity:0.3}:host(.in-item[slot]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:16px;padding-right:0;padding-top:12px;padding-bottom:12px;cursor:pointer}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot]){padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:0;padding-inline-end:0}}:host(.in-item[slot=start]){padding-left:2px;padding-right:18px;padding-top:12px;padding-bottom:12px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.in-item[slot=start]){padding-left:unset;padding-right:unset;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:18px;padding-inline-end:18px}}"}}}]),o}(Ce.mv),[33,"ion-toggle",{color:[513],name:[1],checked:[1028],disabled:[4],value:[1],enableOnOffLabels:[4,"enable-on-off-labels"],activated:[32]}]),Ln=function(e,t,n,r){return t?!e&&r>n||e&&-r<n:!e&&-r<n||e&&r>n},Dn=0;var Mn=function(){if("undefined"!==typeof customElements){["ion-toggle","ion-icon"].forEach((function(e){switch(e){case"ion-toggle":customElements.get(e)||customElements.define(e,jn);break;case"ion-icon":customElements.get(e)||Nn()}}))}},Fn=n(9723),Bn=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.ionFocus=(0,Ce.yM)((0,ke.Z)(e),"ionFocus",7),e.ionBlur=(0,Ce.yM)((0,ke.Z)(e),"ionBlur",7),e.inItem=!1,e.inListHeader=!1,e.inToolbar=!1,e.inheritedAttributes={},e.buttonType="button",e.disabled=!1,e.routerDirection="forward",e.strong=!1,e.type="button",e.handleClick=function(t){var n=(0,ke.Z)(e).el;if("button"===e.type)It(e.href,t,e.routerDirection,e.routerAnimation);else if((0,qe.q)(n)){var r=e.findForm(),i=(0,ke.Z)(e).form;if(!r&&void 0!==i)return void("string"===typeof i?(0,Fn.a)('Form with selector: "#'.concat(i,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),n):(0,Fn.a)('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',n));if(r||(r=n.closest("form")),r){t.preventDefault();var o=document.createElement("button");o.type=e.type,o.style.display="none",r.appendChild(o),o.click(),o.remove()}}},e.onFocus=function(){e.ionFocus.emit()},e.onBlur=function(){e.ionBlur.emit()},e}return(0,Ee.Z)(n,[{key:"componentWillLoad",value:function(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=(0,qe.i)(this.el)}},{key:"hasIconOnly",get:function(){return!!this.el.querySelector('[slot="icon-only"]')}},{key:"rippleType",get:function(){return(void 0===this.fill||"clear"===this.fill)&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}},{key:"findForm",value:function(){var e=this.form;if(e instanceof HTMLFormElement)return e;if("string"===typeof e){var t=document.getElementById(e);if(t instanceof HTMLFormElement)return t}return null}},{key:"render",value:function(){var e,t=He(this),n=this.buttonType,r=this.type,i=this.disabled,o=this.rel,a=this.target,s=this.size,u=this.href,c=this.color,l=this.expand,f=this.hasIconOnly,d=this.shape,h=this.strong,p=this.inheritedAttributes,v=void 0===s&&this.inItem?"small":s,m=void 0===u?"button":"a",g="button"===m?{type:r}:{download:this.download,href:u,rel:o,target:a},y=this.fill;return null==y&&(y=this.inToolbar||this.inListHeader?"clear":"solid"),(0,Ce.h)(Ce.AA,{onClick:this.handleClick,"aria-disabled":i?"true":null,class:_t(c,(e={},(0,we.Z)(e,t,!0),(0,we.Z)(e,n,!0),(0,we.Z)(e,"".concat(n,"-").concat(l),void 0!==l),(0,we.Z)(e,"".concat(n,"-").concat(v),void 0!==v),(0,we.Z)(e,"".concat(n,"-").concat(d),void 0!==d),(0,we.Z)(e,"".concat(n,"-").concat(y),!0),(0,we.Z)(e,"".concat(n,"-strong"),h),(0,we.Z)(e,"in-toolbar",St("ion-toolbar",this.el)),(0,we.Z)(e,"in-toolbar-color",St("ion-toolbar[color]",this.el)),(0,we.Z)(e,"in-buttons",St("ion-buttons",this.el)),(0,we.Z)(e,"button-has-icon-only",f),(0,we.Z)(e,"button-disabled",i),(0,we.Z)(e,"ion-activatable",!0),(0,we.Z)(e,"ion-focusable",!0),e))},(0,Ce.h)(m,Object.assign({},g,{class:"button-native",part:"native",disabled:i,onFocus:this.onFocus,onBlur:this.onBlur},p),(0,Ce.h)("span",{class:"button-inner"},(0,Ce.h)("slot",{name:"icon-only"}),(0,Ce.h)("slot",{name:"start"}),(0,Ce.h)("slot",null),(0,Ce.h)("slot",{name:"end"})),"md"===t&&(0,Ce.h)("ion-ripple-effect",{type:this.rippleType})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){margin-left:-0.3em;margin-right:0.3em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}::slotted(ion-icon[slot=end]){margin-left:0.3em;margin-right:-0.2em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em}}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:10px;--padding-top:0;--padding-bottom:0;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;margin-left:2px;margin-right:2px;margin-top:4px;margin-bottom:4px;height:2.8em;font-size:16px;font-weight:500;letter-spacing:-0.03em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.in-buttons){font-size:17px;font-weight:400}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:10px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal;letter-spacing:0}:host(.button-large){--border-radius:12px;--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',md:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){margin-left:-0.3em;margin-right:0.3em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}::slotted(ion-icon[slot=end]){margin-left:0.3em;margin-right:-0.2em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em}}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:0;--padding-bottom:0;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;margin-left:2px;margin-right:2px;margin-top:4px;margin-bottom:4px;height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}'}}}]),n}(Ce.mv),[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]);var Un=Bn,zn=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.inheritedAriaAttributes={},e.button=!1,e.type="button",e.disabled=!1,e.routerDirection="forward",e}return(0,Ee.Z)(n,[{key:"componentWillLoad",value:function(){this.inheritedAriaAttributes=(0,qe.d)(this.el,["aria-label"])}},{key:"isClickable",value:function(){return void 0!==this.href||this.button}},{key:"renderCard",value:function(e){var t=this.isClickable();if(!t)return[(0,Ce.h)("slot",null)];var n=this.href,r=this.routerAnimation,i=this.routerDirection,o=this.inheritedAriaAttributes,a=t?void 0===n?"button":"a":"div",s="button"===a?{type:this.type}:{download:this.download,href:this.href,rel:this.rel,target:this.target};return(0,Ce.h)(a,Object.assign({},s,o,{class:"card-native",part:"native",disabled:this.disabled,onClick:function(e){return It(n,e,i,r)}}),(0,Ce.h)("slot",null),t&&"md"===e&&(0,Ce.h)("ion-ripple-effect",null))}},{key:"render",value:function(){var e,t=He(this);return(0,Ce.h)(Ce.AA,{class:_t(this.color,(e={},(0,we.Z)(e,t,!0),(0,we.Z)(e,"card-disabled",this.disabled),(0,we.Z)(e,"ion-activatable",this.isClickable()),e))},this.renderCard(t))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-600, #666666)));margin-left:16px;margin-right:16px;margin-top:24px;margin-bottom:24px;border-radius:8px;-webkit-transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:-webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);transition:transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1), -webkit-transform 500ms cubic-bezier(0.12, 0.72, 0.29, 1);font-size:14px;-webkit-box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);box-shadow:0 4px 16px rgba(0, 0, 0, 0.12)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px}}:host(.ion-activated){-webkit-transform:scale3d(0.97, 0.97, 1);transform:scale3d(0.97, 0.97, 1)}",md:":host{--ion-safe-area-left:0px;--ion-safe-area-right:0px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;overflow:hidden}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.card-disabled){cursor:default;opacity:0.3;pointer-events:none}.card-native{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:inherit}.card-native::-moz-focus-inner{border:0}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}ion-ripple-effect{color:var(--ripple-color)}:host{--background:var(--ion-card-background, var(--ion-item-background, var(--ion-background-color, #fff)));--color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, #737373)));margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px;border-radius:4px;font-size:14px;-webkit-box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}"}}}]),n}(Ce.mv),[33,"ion-card",{color:[513],button:[4],type:[1],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1]}]);var Vn=zn,Hn=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.labelColorStyles={},e.itemStyles=new Map,e.inheritedAriaAttributes={},e.multipleInputs=!1,e.focusable=!0,e.button=!1,e.detailIcon=gn,e.disabled=!1,e.counter=!1,e.routerDirection="forward",e.type="button",e}return(0,Ee.Z)(n,[{key:"counterFormatterChanged",value:function(){this.updateCounterOutput(this.getFirstInput())}},{key:"handleIonChange",value:function(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}},{key:"labelColorChanged",value:function(e){void 0===this.color&&(this.labelColorStyles=e.detail)}},{key:"itemStyle",value:function(e){e.stopPropagation();var t=e.target.tagName,n=e.detail,r={},i=this.itemStyles.get(t)||{},o=!1;Object.keys(n).forEach((function(e){if(n[e]){var t="item-".concat(e);i[t]||(o=!0),r[t]=!0}})),o||Object.keys(r).length===Object.keys(i).length||(o=!0),o&&(this.itemStyles.set(t,r),(0,Ce.xE)(this))}},{key:"connectedCallback",value:function(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.getFirstInput();void 0===t||this.clickListener||(this.clickListener=function(n){return e.delegateFocus(n,t)},this.el.addEventListener("click",this.clickListener))}},{key:"disconnectedCallback",value:function(){void 0!==this.getFirstInput()&&this.clickListener&&(this.el.removeEventListener("click",this.clickListener),this.clickListener=void 0)}},{key:"componentWillLoad",value:function(){this.inheritedAriaAttributes=(0,qe.d)(this.el,["aria-label"])}},{key:"componentDidLoad",value:function(){var e=this;(0,qe.r)((function(){e.setMultipleInputs(),e.focusable=e.isFocusable()}))}},{key:"setMultipleInputs",value:function(){var e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),n=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+n.length>1||e.length>0&&this.isClickable()}},{key:"hasCover",value:function(){return 1===this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length&&!this.multipleInputs}},{key:"isClickable",value:function(){return void 0!==this.href||this.button}},{key:"canActivate",value:function(){return this.isClickable()||this.hasCover()}},{key:"isFocusable",value:function(){var e=this.el.querySelector(".ion-focusable");return this.canActivate()||null!==e}},{key:"getFirstInput",value:function(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}},{key:"delegateFocus",value:function(e,t){var n="ION-ITEM"===e.target.tagName,r=!1;document.activeElement&&(r=t.querySelector("input, textarea")===document.activeElement),!n||!r&&this.multipleInputs||(t.fireFocusEvents=!1,t.setBlur(),t.setFocus(),(0,qe.r)((function(){t.fireFocusEvents=!0})))}},{key:"updateCounterOutput",value:function(e){var t,n,r=this.counter,i=this.counterFormatter,o=this.defaultCounterFormatter;if(r&&!this.multipleInputs&&void 0!==(null===e||void 0===e?void 0:e.maxlength)){var a=null!==(n=null===(t=null===e||void 0===e?void 0:e.value)||void 0===t?void 0:t.toString().length)&&void 0!==n?n:0;if(void 0===i)this.counterString=o(a,e.maxlength);else try{this.counterString=i(a,e.maxlength)}catch(s){(0,Fn.p)("Exception in provided `counterFormatter`.",s),this.counterString=o(a,e.maxlength)}}}},{key:"defaultCounterFormatter",value:function(e,t){return"".concat(e," / ").concat(t)}},{key:"hasStartEl",value:function(){null!==this.el.querySelector('[slot="start"]')&&this.el.classList.add("item-has-start-slot")}},{key:"render",value:function(){var e,t=this.counterString,n=this.detail,r=this.detailIcon,i=this.download,o=this.fill,a=this.labelColorStyles,s=this.lines,u=this.disabled,c=this.href,l=this.rel,f=this.shape,d=this.target,h=this.routerAnimation,p=this.routerDirection,v=this.inheritedAriaAttributes,m={},g=He(this),y=this.isClickable(),b=this.canActivate(),w=y?void 0===c?"button":"a":"div",k="button"===w?{type:this.type}:{download:i,href:c,rel:l,target:d},x=y?{onClick:function(e){It(c,e,p,h)}}:{},S=void 0!==n?n:"ios"===g&&y;this.itemStyles.forEach((function(e){Object.assign(m,e)}));var _=u||m["item-interactive-disabled"]?"true":null,E=o||"none",C=St("ion-list",this.el);return(0,Ce.h)(Ce.AA,{"aria-disabled":_,class:Object.assign(Object.assign(Object.assign({},m),a),_t(this.color,(e={item:!0},(0,we.Z)(e,g,!0),(0,we.Z)(e,"item-lines-default",void 0===s),(0,we.Z)(e,"item-lines-".concat(s),void 0!==s),(0,we.Z)(e,"item-fill-".concat(E),!0),(0,we.Z)(e,"item-shape-".concat(f),void 0!==f),(0,we.Z)(e,"item-disabled",u),(0,we.Z)(e,"in-list",C),(0,we.Z)(e,"item-multiple-inputs",this.multipleInputs),(0,we.Z)(e,"ion-activatable",b),(0,we.Z)(e,"ion-focusable",this.focusable),(0,we.Z)(e,"item-rtl","rtl"===document.dir),e))),role:C?"listitem":null},(0,Ce.h)(w,Object.assign({},k,v,{class:"item-native",part:"native",disabled:u},x),(0,Ce.h)("slot",{name:"start"}),(0,Ce.h)("div",{class:"item-inner"},(0,Ce.h)("div",{class:"input-wrapper"},(0,Ce.h)("slot",null)),(0,Ce.h)("slot",{name:"end"}),S&&(0,Ce.h)("ion-icon",{icon:r,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":r===gn}),(0,Ce.h)("div",{class:"item-inner-highlight"})),b&&"md"===g&&(0,Ce.h)("ion-ripple-effect",null),(0,Ce.h)("div",{class:"item-highlight"})),(0,Ce.h)("div",{class:"item-bottom"},(0,Ce.h)("slot",{name:"error"}),(0,Ce.h)("slot",{name:"helper"}),t&&(0,Ce.h)("ion-note",{class:"item-counter"},t)))}},{key:"el",get:function(){return this}}],[{key:"delegatesFocus",get:function(){return!0}},{key:"watchers",get:function(){return{counterFormatter:["counterFormatterChanged"]}}},{key:"style",get:function(){return{ios:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-native{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--inner-padding-start);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-inner{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-bottom{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end)}}.item-detail-icon{color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{margin-left:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-counter{margin-left:unset;-webkit-margin-start:auto;margin-inline-start:auto}}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:20px;--inner-padding-end:10px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:#000;--background-focused:#000;--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:17px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){margin-left:0;margin-right:20px;margin-top:2px;margin-bottom:2px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:20px;margin-inline-end:20px}}::slotted([slot=end]){margin-left:10px;margin-right:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:0px;--padding-bottom:0px;--padding-start:.5em;--padding-end:.5em;height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){margin-left:0px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){margin-left:unset;-webkit-margin-start:0px;margin-inline-start:0px}}::slotted(ion-label){margin-left:0;margin-right:8px;margin-top:10px;margin-bottom:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-label){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',md:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-native{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--inner-padding-start);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-inner{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-bottom{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end)}}.item-detail-icon{color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{margin-left:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-counter{margin-left:unset;-webkit-margin-start:auto;margin-inline-start:auto}}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));left:var(--position-offset);top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){margin-right:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-right:unset;-webkit-margin-end:32px;margin-inline-end:32px}}::slotted([slot=end]){margin-left:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;-webkit-margin-start:32px;margin-inline-start:32px}}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){margin-right:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-right:unset;-webkit-margin-end:32px;margin-inline-end:32px}}::slotted(ion-icon[slot=end]){margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){padding-right:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-note[slot=start]){padding-right:unset;-webkit-padding-end:16px;padding-inline-end:16px}}::slotted(ion-note[slot=end]){padding-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-note[slot=end]){padding-left:unset;-webkit-padding-start:16px;padding-inline-start:16px}}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){margin-right:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){margin-right:unset;-webkit-margin-end:16px;margin-inline-end:16px}}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){margin-left:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){margin-left:unset;-webkit-margin-start:0;margin-inline-start:0}}::slotted(.button-small){--padding-top:0;--padding-bottom:0;--padding-start:.6em;--padding-end:.6em;height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{padding-left:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-fill-outline.item-shape-round) .item-bottom{padding-left:unset;-webkit-padding-start:32px;padding-inline-start:32px}}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}'}}}]),n}(Ce.mv),[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);var Wn=Hn,$n=function(e){try{if(e instanceof Yn)return e.value;if(!Kn()||"string"!==typeof e||""===e)return e;if(e.includes("onload="))return"";var t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),n.innerHTML=e,Jn.forEach((function(e){for(var n=t.querySelectorAll(e),r=n.length-1;r>=0;r--){var i=n[r];i.parentNode?i.parentNode.removeChild(i):t.removeChild(i);for(var o=Gn(i),a=0;a<o.length;a++)qn(o[a])}}));for(var r=Gn(t),i=0;i<r.length;i++)qn(r[i]);var o=document.createElement("div");o.appendChild(t);var a=o.querySelector("div");return null!==a?a.innerHTML:o.innerHTML}catch(s){return console.error(s),""}},qn=function e(t){if(!t.nodeType||1===t.nodeType)if("undefined"===typeof NamedNodeMap||t.attributes instanceof NamedNodeMap){for(var n=t.attributes.length-1;n>=0;n--){var r=t.attributes.item(n),i=r.name;if(Qn.includes(i.toLowerCase())){var o=r.value,a=t[i];(null!=o&&o.toLowerCase().includes("javascript:")||null!=a&&a.toLowerCase().includes("javascript:"))&&t.removeAttribute(i)}else t.removeAttribute(i)}for(var s=Gn(t),u=0;u<s.length;u++)e(s[u])}else t.remove()},Gn=function(e){return null!=e.children?e.children:e.childNodes},Kn=function(){var e,t=window,n=null===(e=null===t||void 0===t?void 0:t.Ionic)||void 0===e?void 0:e.config;return!n||(n.get?n.get("sanitizerEnabled",!0):!0===n.sanitizerEnabled||void 0===n.sanitizerEnabled)},Qn=["class","id","href","src","name","slot"],Jn=["script","style","iframe","meta","link","object","embed"],Yn=(0,Ee.Z)((function e(t){(0,_e.Z)(this,e),this.value=t})),Xn=n(4324),er=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.ionBackdropTap=(0,Ce.yM)((0,ke.Z)(e),"ionBackdropTap",7),e.blocker=Xn.G.createBlocker({disableScroll:!0}),e.visible=!0,e.tappable=!0,e.stopPropagation=!0,e}return(0,Ee.Z)(n,[{key:"connectedCallback",value:function(){this.stopPropagation&&this.blocker.block()}},{key:"disconnectedCallback",value:function(){this.blocker.unblock()}},{key:"onMouseDown",value:function(e){this.emitTap(e)}},{key:"emitTap",value:function(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}},{key:"render",value:function(){var e,t=He(this);return(0,Ce.h)(Ce.AA,{tabindex:"-1","aria-hidden":"true",class:(e={},(0,we.Z)(e,t,!0),(0,we.Z)(e,"backdrop-hide",!this.visible),(0,we.Z)(e,"backdrop-no-tappable",!this.tappable),e)})}}],[{key:"style",get:function(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}}]),n}(Ce.mv),[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);var tr={bubbles:{dur:1e3,circles:9,fn:function(e,t,n){var r="".concat(e*t/n-e,"ms"),i=2*Math.PI*t/n;return{r:5,style:{top:"".concat(9*Math.sin(i),"px"),left:"".concat(9*Math.cos(i),"px"),"animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:function(e,t,n){var r=t/n,i="".concat(e*r-e,"ms"),o=2*Math.PI*r;return{r:5,style:{top:"".concat(9*Math.sin(o),"px"),left:"".concat(9*Math.cos(o),"px"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(e,t){var n=-110*t+"ms";return{r:6,style:{left:"".concat(9-9*t,"px"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:function(e,t,n){return{y1:14,y2:26,style:{transform:"rotate(".concat(360/n*t+(t<n/2?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}},"lines-small":{dur:1e3,lines:8,fn:function(e,t,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(360/n*t+(t<n/2?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}},"lines-sharp":{dur:1e3,lines:12,fn:function(e,t,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:function(e,t,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}}},nr=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.paused=!1,e}return(0,Ee.Z)(n,[{key:"getName",value:function(){var e=this.name||Oe.get("spinner"),t=He(this);return e||("ios"===t?"lines":"circular")}},{key:"render",value:function(){var e,t,n=this,r=He(n),i=n.getName(),o=null!==(t=tr[i])&&void 0!==t?t:tr.lines,a="number"===typeof n.duration&&n.duration>10?n.duration:o.dur,s=[];if(void 0!==o.circles)for(var u=0;u<o.circles;u++)s.push(rr(o,a,u,o.circles));else if(void 0!==o.lines)for(var c=0;c<o.lines;c++)s.push(ir(o,a,c,o.lines));return(0,Ce.h)(Ce.AA,{class:_t(n.color,(e={},(0,we.Z)(e,r,!0),(0,we.Z)(e,"spinner-".concat(i),!0),(0,we.Z)(e,"spinner-paused",n.paused||Oe.getBoolean("_testing")),e)),role:"progressbar",style:o.elmDuration?{animationDuration:a+"ms"}:{}},s)}}],[{key:"style",get:function(){return":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}[dir=rtl] svg,:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}"}}]),n}(Ce.mv),[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),rr=function(e,t,n,r){var i=e.fn(t,n,r);return i.style["animation-duration"]=t+"ms",(0,Ce.h)("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},(0,Ce.h)("circle",{transform:i.transform||"translate(32,32)",cx:i.cx,cy:i.cy,r:i.r,style:e.elmDuration?{animationDuration:t+"ms"}:{}}))},ir=function(e,t,n,r){var i=e.fn(t,n,r);return i.style["animation-duration"]=t+"ms",(0,Ce.h)("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},(0,Ce.h)("line",{transform:"translate(32,32)",y1:i.y1,y2:i.y2}))};var or=function(e){var t=(0,wt.c)(),n=(0,wt.c)(),r=(0,wt.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},ar=function(e){var t=(0,wt.c)(),n=(0,wt.c)(),r=(0,wt.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},sr=function(e){var t=(0,wt.c)(),n=(0,wt.c)(),r=(0,wt.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},ur=function(e){var t=(0,wt.c)(),n=(0,wt.c)(),r=(0,wt.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},cr=(0,Ce.GH)(function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(){var e;return(0,_e.Z)(this,i),(e=n.call(this)).__registerHost(),e.didPresent=(0,Ce.yM)((0,ke.Z)(e),"ionLoadingDidPresent",7),e.willPresent=(0,Ce.yM)((0,ke.Z)(e),"ionLoadingWillPresent",7),e.willDismiss=(0,Ce.yM)((0,ke.Z)(e),"ionLoadingWillDismiss",7),e.didDismiss=(0,Ce.yM)((0,ke.Z)(e),"ionLoadingDidDismiss",7),e.customHTMLEnabled=Oe.get("innerHTMLTemplatesEnabled",true),e.presented=!1,e.keyboardClose=!0,e.duration=0,e.backdropDismiss=!1,e.showBackdrop=!0,e.translucent=!1,e.animated=!0,e.onBackdropTap=function(){e.dismiss(void 0,yt)},e}return(0,Ee.Z)(i,[{key:"connectedCallback",value:function(){Xe(this.el)}},{key:"componentWillLoad",value:function(){if(void 0===this.spinner){var e=He(this);this.spinner=Oe.get("loadingSpinner",Oe.get("spinner","ios"===e?"lines":"crescent"))}}},{key:"present",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(this,"loadingEnter",or,sr);case 2:this.duration>0&&(this.durationTimeout=setTimeout((function(){return n.dismiss()}),this.duration+10));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dismiss",value:function(e,t){return this.durationTimeout&&clearTimeout(this.durationTimeout),lt(this,e,t,"loadingLeave",ar,ur)}},{key:"onDidDismiss",value:function(){return ht(this.el,"ionLoadingDidDismiss")}},{key:"onWillDismiss",value:function(){return ht(this.el,"ionLoadingWillDismiss")}},{key:"renderLoadingMessage",value:function(e){var t=this.customHTMLEnabled,n=this.message;return t?(0,Ce.h)("div",{class:"loading-content",id:e,innerHTML:$n(n)}):(0,Ce.h)("div",{class:"loading-content",id:e},n)}},{key:"render",value:function(){var e,t=this.message,n=this.spinner,r=this.htmlAttributes,i=this.overlayIndex,o=He(this),a="loading-".concat(i,"-msg"),s=void 0!==t?a:null;return(0,Ce.h)(Ce.AA,Object.assign({role:"dialog","aria-modal":"true","aria-labelledby":s,tabindex:"-1"},r,{style:{zIndex:"".concat(4e4+this.overlayIndex)},onIonBackdropTap:this.onBackdropTap,class:Object.assign(Object.assign({},Et(this.cssClass)),(e={},(0,we.Z)(e,o,!0),(0,we.Z)(e,"overlay-hidden",!0),(0,we.Z)(e,"loading-translucent",this.translucent),e))}),(0,Ce.h)("ion-backdrop",{visible:this.showBackdrop,tappable:this.backdropDismiss}),(0,Ce.h)("div",{tabindex:"0"}),(0,Ce.h)("div",{class:"loading-wrapper ion-overlay-wrapper"},n&&(0,Ce.h)("div",{class:"loading-spinner"},(0,Ce.h)("ion-spinner",{name:n,"aria-hidden":"true"})),void 0!==t&&this.renderLoadingMessage(a)),(0,Ce.h)("div",{tabindex:"0"}))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:".sc-ion-loading-ios-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-ios-h{display:none}.loading-wrapper.sc-ion-loading-ios{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-ios{color:var(--spinner-color)}.sc-ion-loading-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--max-height:90%;--spinner-color:var(--ion-color-step-600, #666666);--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);color:var(--ion-text-color, #000);font-size:14px}.loading-wrapper.sc-ion-loading-ios{border-radius:8px;padding-left:34px;padding-right:34px;padding-top:24px;padding-bottom:24px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:34px;padding-inline-start:34px;-webkit-padding-end:34px;padding-inline-end:34px}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.loading-translucent.sc-ion-loading-ios-h .loading-wrapper.sc-ion-loading-ios{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.loading-content.sc-ion-loading-ios{font-weight:bold}.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-ios+.loading-content.sc-ion-loading-ios{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}",md:".sc-ion-loading-md-h{--min-width:auto;--width:auto;--min-height:auto;--height:auto;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-loading-md-h{display:none}.loading-wrapper.sc-ion-loading-md{display:-ms-flexbox;display:flex;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);opacity:0;z-index:10}ion-spinner.sc-ion-loading-md{color:var(--spinner-color)}.sc-ion-loading-md-h{--background:var(--ion-color-step-50, #f2f2f2);--max-width:280px;--max-height:90%;--spinner-color:var(--ion-color-primary, #3880ff);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);color:var(--ion-color-step-850, #262626);font-size:14px}.loading-wrapper.sc-ion-loading-md{border-radius:2px;padding-left:24px;padding-right:24px;padding-top:24px;padding-bottom:24px;-webkit-box-shadow:0 16px 20px rgba(0, 0, 0, 0.4);box-shadow:0 16px 20px rgba(0, 0, 0, 0.4)}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-wrapper.sc-ion-loading-md{padding-left:unset;padding-right:unset;-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px}}.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.loading-spinner.sc-ion-loading-md+.loading-content.sc-ion-loading-md{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}"}}}]),i}(Ce.mv),[34,"ion-loading",{overlayIndex:[2,"overlay-index"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],message:[1],cssClass:[1,"css-class"],duration:[2],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],spinner:[1025],translucent:[4],animated:[4],htmlAttributes:[16],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]);var lr=function(){if("undefined"!==typeof customElements){["ion-loading","ion-backdrop","ion-spinner"].forEach((function(e){switch(e){case"ion-loading":customElements.get(e)||customElements.define(e,cr);break;case"ion-backdrop":customElements.get(e)||"undefined"!==typeof customElements&&["ion-backdrop"].forEach((function(e){"ion-backdrop"===e&&(customElements.get(e)||customElements.define(e,er))}));break;case"ion-spinner":customElements.get(e)||"undefined"!==typeof customElements&&["ion-spinner"].forEach((function(e){"ion-spinner"===e&&(customElements.get(e)||customElements.define(e,nr))}))}}))}},fr=(0,Ce.GH)(function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(){var e;return(0,_e.Z)(this,i),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.type="bounded",e}return(0,Ee.Z)(i,[{key:"addRipple",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){(0,Ce.wj)((function(){var t=i.el.getBoundingClientRect(),o=t.width,a=t.height,s=Math.sqrt(o*o+a*a),u=Math.max(a,o),c=i.unbounded?u:s+hr,l=Math.floor(u*pr),f=c/l,d=n-t.left,h=r-t.top;i.unbounded&&(d=.5*o,h=.5*a);var p=d-.5*l,v=h-.5*l,m=.5*o-d,g=.5*a-h;(0,Ce.Iu)((function(){var t=document.createElement("div");t.classList.add("ripple-effect");var n=t.style;n.top=v+"px",n.left=p+"px",n.width=n.height=l+"px",n.setProperty("--final-scale","".concat(f)),n.setProperty("--translate-end","".concat(m,"px, ").concat(g,"px")),(i.el.shadowRoot||i.el).appendChild(t),setTimeout((function(){e((function(){dr(t)}))}),325)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unbounded",get:function(){return"unbounded"===this.type}},{key:"render",value:function(){var e,t=He(this);return(0,Ce.h)(Ce.AA,{role:"presentation",class:(e={},(0,we.Z)(e,t,!0),(0,we.Z)(e,"unbounded",this.unbounded),e)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}}]),i}(Ce.mv),[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),dr=function(e){e.classList.add("fade-out"),setTimeout((function(){e.remove()}),200)},hr=10,pr=.5;function vr(){if("undefined"!==typeof customElements){["ion-ripple-effect"].forEach((function(e){if("ion-ripple-effect"===e)customElements.get(e)||customElements.define(e,fr)}))}}var mr=function(e,t){var n=(0,wt.c)(),r=(0,wt.c)(),i=(0,qe.g)(e).querySelector(".toast-wrapper");switch(r.addElement(i),t){case"top":r.fromTo("transform","translateY(-100%)","translateY(".concat("calc(10px + var(--ion-safe-area-top, 0px))",")"));break;case"middle":var o=Math.floor(e.clientHeight/2-i.clientHeight/2);i.style.top="".concat(o,"px"),r.fromTo("opacity",.01,1);break;default:r.fromTo("transform","translateY(100%)","translateY(".concat("calc(-10px - var(--ion-safe-area-bottom, 0px))",")"))}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(r)},gr=function(e,t){var n=(0,wt.c)(),r=(0,wt.c)(),i=(0,qe.g)(e).querySelector(".toast-wrapper");switch(r.addElement(i),t){case"top":r.fromTo("transform","translateY(".concat("calc(10px + var(--ion-safe-area-top, 0px))",")"),"translateY(-100%)");break;case"middle":r.fromTo("opacity",.99,0);break;default:r.fromTo("transform","translateY(".concat("calc(-10px - var(--ion-safe-area-bottom, 0px))",")"),"translateY(100%)")}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(r)},yr=function(e,t){var n=(0,wt.c)(),r=(0,wt.c)(),i=(0,qe.g)(e).querySelector(".toast-wrapper");switch(r.addElement(i),t){case"top":i.style.top="calc(8px + var(--ion-safe-area-top, 0px))",r.fromTo("opacity",.01,1);break;case"middle":var o=Math.floor(e.clientHeight/2-i.clientHeight/2);i.style.top="".concat(o,"px"),r.fromTo("opacity",.01,1);break;default:i.style.bottom="calc(8px + var(--ion-safe-area-bottom, 0px))",r.fromTo("opacity",.01,1)}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(r)},br=function(e){var t=(0,wt.c)(),n=(0,wt.c)(),r=(0,qe.g)(e).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},wr=(0,Ce.GH)(function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(){var e;return(0,_e.Z)(this,i),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.didPresent=(0,Ce.yM)((0,ke.Z)(e),"ionToastDidPresent",7),e.willPresent=(0,Ce.yM)((0,ke.Z)(e),"ionToastWillPresent",7),e.willDismiss=(0,Ce.yM)((0,ke.Z)(e),"ionToastWillDismiss",7),e.didDismiss=(0,Ce.yM)((0,ke.Z)(e),"ionToastDidDismiss",7),e.customHTMLEnabled=Oe.get("innerHTMLTemplatesEnabled",true),e.presented=!1,e.duration=Oe.getNumber("toastDuration",0),e.layout="baseline",e.keyboardClose=!1,e.position="bottom",e.translucent=!1,e.animated=!0,e.dispatchCancelHandler=function(t){var n=t.detail.role;if(vt(n)){var r=e.getButtons().find((function(e){return"cancel"===e.role}));e.callButtonHandler(r)}},e}return(0,Ee.Z)(i,[{key:"connectedCallback",value:function(){Xe(this.el)}},{key:"present",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(this,"toastEnter",mr,yr,this.position);case 2:this.duration>0&&(this.durationTimeout=setTimeout((function(){return n.dismiss(void 0,"timeout")}),this.duration));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dismiss",value:function(e,t){return this.durationTimeout&&clearTimeout(this.durationTimeout),lt(this,e,t,"toastLeave",gr,br,this.position)}},{key:"onDidDismiss",value:function(){return ht(this.el,"ionToastDidDismiss")}},{key:"onWillDismiss",value:function(){return ht(this.el,"ionToastWillDismiss")}},{key:"getButtons",value:function(){var e=this.buttons?this.buttons.map((function(e){return"string"===typeof e?{text:e}:e})):[];return e}},{key:"buttonClick",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.role,!vt(r)){e.next=3;break}return e.abrupt("return",this.dismiss(void 0,r));case 3:return e.next=5,this.callButtonHandler(n);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",this.dismiss(void 0,r));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callButtonHandler",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||void 0===n?void 0:n.handler)){e.next=12;break}return e.prev=1,e.next=4,gt(n.handler);case 4:if(!1!==e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderButtons",value:function(e,t){var n=this;if(0!==e.length){var r=He(this),i=(0,we.Z)({"toast-button-group":!0},"toast-button-group-".concat(t),!0);return(0,Ce.h)("div",{class:i},e.map((function(e){return(0,Ce.h)("button",{type:"button",class:kr(e),tabIndex:0,onClick:function(){return n.buttonClick(e)},part:"button"},(0,Ce.h)("div",{class:"toast-button-inner"},e.icon&&(0,Ce.h)("ion-icon",{icon:e.icon,slot:void 0===e.text?"icon-only":void 0,class:"toast-button-icon"}),e.text),"md"===r&&(0,Ce.h)("ion-ripple-effect",{type:void 0!==e.icon&&void 0===e.text?"unbounded":"bounded"}))})))}}},{key:"renderToastMessage",value:function(){var e=this.customHTMLEnabled,t=this.message;return e?(0,Ce.h)("div",{class:"toast-message",part:"message",innerHTML:$n(t)}):(0,Ce.h)("div",{class:"toast-message",part:"message"},t)}},{key:"render",value:function(){var e,t=this.layout,n=this.el,r=this.getButtons(),i=r.filter((function(e){return"start"===e.side})),o=r.filter((function(e){return"start"!==e.side})),a=He(this),s=(e={"toast-wrapper":!0},(0,we.Z)(e,"toast-".concat(this.position),!0),(0,we.Z)(e,"toast-layout-".concat(t),!0),e),u=r.length>0?"dialog":"status";return"stacked"===t&&i.length>0&&o.length>0&&(0,Fn.a)("This toast is using start and end buttons with the stacked toast layout. We recommend following the best practice of using either start or end buttons with the stacked toast layout.",n),(0,Ce.h)(Ce.AA,Object.assign({"aria-live":"polite","aria-atomic":"true",role:u,tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:_t(this.color,Object.assign(Object.assign((0,we.Z)({},a,!0),Et(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),(0,Ce.h)("div",{class:s},(0,Ce.h)("div",{class:"toast-container",part:"container"},this.renderButtons(i,"start"),void 0!==this.icon&&(0,Ce.h)("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),(0,Ce.h)("div",{class:"toast-content"},void 0!==this.header&&(0,Ce.h)("div",{class:"toast-header",part:"header"},this.header),void 0!==this.message&&this.renderToastMessage()),this.renderButtons(o,"end"))))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-layout-stacked .toast-container{-ms-flex-wrap:wrap;flex-wrap:wrap}.toast-layout-baseline .toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-layout-stacked .toast-button-group{-ms-flex-pack:end;justify-content:end;width:100%}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-layout-baseline .toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-layout-baseline .toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-layout-stacked .toast-button-group-start{margin-right:8px;margin-top:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-layout-stacked .toast-button-group-start{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-layout-baseline .toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-layout-baseline .toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-layout-stacked .toast-button-group-end{margin-right:8px;margin-bottom:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-layout-stacked .toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"}}}]),i}(Ce.mv),[33,"ion-toast",{overlayIndex:[2,"overlay-index"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],layout:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]),kr=function(e){var t;return Object.assign((t={"toast-button":!0,"toast-button-icon-only":void 0!==e.icon&&void 0===e.text},(0,we.Z)(t,"toast-button-".concat(e.role),void 0!==e.role),(0,we.Z)(t,"ion-focusable",!0),(0,we.Z)(t,"ion-activatable",!0),t),Et(e.cssClass))};var xr=function(){if("undefined"!==typeof customElements){["ion-toast","ion-icon","ion-ripple-effect"].forEach((function(e){switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,wr);break;case"ion-icon":customElements.get(e)||Nn();break;case"ion-ripple-effect":customElements.get(e)||vr()}}))}},Sr=(0,Ce.GH)(function(e){(0,xe.Z)(o,e);var i=(0,Se.Z)(o);function o(){var e;return(0,_e.Z)(this,o),(e=i.call(this)).__registerHost(),e}return(0,Ee.Z)(o,[{key:"componentDidLoad",value:function(){var e=this;Ce.Z5.isBrowser&&Er((0,r.Z)((0,t.Z)().mark((function r(){var i,o,a;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Pe(window,"hybrid"),Oe.getBoolean("_testing")||n.e(934).then(n.bind(n,8934)).then((function(e){return e.startTapClick(Oe)})),Oe.getBoolean("statusTap",i)&&n.e(161).then(n.bind(n,3161)).then((function(e){return e.startStatusTap()})),Oe.getBoolean("inputShims",_r())&&(o=Pe(window,"ios")?"ios":"android",n.e(716).then(n.bind(n,716)).then((function(e){return e.startInputShims(Oe,o)}))),t.next=6,Promise.resolve().then(n.bind(n,972));case 6:a=t.sent,Oe.getBoolean("hardwareBackButton",i)?a.startHardwareBackButton():a.blockHardwareBackButton(),"undefined"!==typeof window&&n.e(957).then(n.bind(n,957)).then((function(e){return e.startKeyboardAssist(window)})),n.e(198).then(n.bind(n,2198)).then((function(t){return e.focusVisible=t.startFocusVisible()}));case 10:case"end":return t.stop()}}),r)}))))}},{key:"setFocus",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.focusVisible&&this.focusVisible.setFocus(n);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=He(this);return(0,Ce.h)(Ce.AA,{class:(e={},(0,we.Z)(e,t,!0),(0,we.Z)(e,"ion-page",!0),(0,we.Z)(e,"force-statusbar-padding",Oe.getBoolean("_forceStatusbarPadding")),e)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}}]),o}(Ce.mv),[0,"ion-app",{setFocus:[64]}]),_r=function(){return!(!Pe(window,"ios")||!Pe(window,"mobile"))||!(!Pe(window,"android")||!Pe(window,"mobileweb"))},Er=function(e){"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};var Cr=function(){if("undefined"!==typeof customElements){["ion-app"].forEach((function(e){if("ion-app"===e)customElements.get(e)||customElements.define(e,Sr)}))}},Ir=(0,Ce.GH)(function(e){(0,xe.Z)(o,e);var i=(0,Se.Z)(o);function o(){var e;return(0,_e.Z)(this,o),(e=i.call(this)).__registerHost(),e.__attachShadow(),e.ionNavWillLoad=(0,Ce.yM)((0,ke.Z)(e),"ionNavWillLoad",7),e.ionNavWillChange=(0,Ce.yM)((0,ke.Z)(e),"ionNavWillChange",3),e.ionNavDidChange=(0,Ce.yM)((0,ke.Z)(e),"ionNavDidChange",3),e.gestureOrAnimationInProgress=!1,e.mode=He((0,ke.Z)(e)),e.animated=!0,e}return(0,Ee.Z)(o,[{key:"swipeHandlerChanged",value:function(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}},{key:"connectedCallback",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){i.gestureOrAnimationInProgress=!0,i.swipeHandler&&i.swipeHandler.onStart()},e.next=3,n.e(203).then(n.bind(n,1203));case 3:this.gesture=e.sent.createSwipeBackGesture(this.el,(function(){return!i.gestureOrAnimationInProgress&&!!i.swipeHandler&&i.swipeHandler.canStart()}),(function(){return r()}),(function(e){var t;return null===(t=i.ani)||void 0===t?void 0:t.progressStep(e)}),(function(e,t,n){if(i.ani){i.ani.onFinish((function(){i.gestureOrAnimationInProgress=!1,i.swipeHandler&&i.swipeHandler.onEnd(e)}),{oneTimeCallback:!0});var r=e?-.001:.001;e?r+=en([0,0],[.32,.72],[0,1],[1,1],t)[0]:(i.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=en([0,0],[1,0],[.68,.28],[1,1],t)[0]),i.ani.progressEnd(e?1:0,r,n)}else i.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){this.ionNavWillLoad.emit()}},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"commit",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lock();case 2:return o=e.sent,a=!1,e.prev=4,e.next=7,this.transition(n,r,i);case 7:a=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:return o(),e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setRouteId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRoot(n,r,{duration:"root"===i?0:void 0,direction:"back"===i?"back":"forward",animationBuilder:o});case 2:return a=e.sent,e.abrupt("return",{changed:a,element:this.activeEl});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getRouteId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.activeEl,e.abrupt("return",n?{id:n.tagName,element:n,params:this.activeParams}:void 0);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRoot",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeComponent!==n||!(0,qe.s)(r,this.activeParams)){e.next=2;break}return e.abrupt("return",!1);case 2:return o=this.activeEl,e.next=5,an(this.delegate,this.el,n,["ion-page","ion-page-invisible"],r);case 5:return a=e.sent,this.activeComponent=n,this.activeEl=a,this.activeParams=r,e.next=11,this.commit(a,o,i);case 11:return e.next=13,sn(this.delegate,o);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"transition",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c=this,l=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:{},r!==n){e.next=3;break}return e.abrupt("return",!1);case 3:return this.ionNavWillChange.emit(),o=this.el,a=this.mode,s=this.animated&&Oe.getBoolean("animated",!0),u=i.animationBuilder||this.animation||Oe.get("navAnimation"),e.next=9,(0,on.t)(Object.assign(Object.assign({mode:a,animated:s,enteringEl:n,leavingEl:r,baseEl:o,progressCallback:i.progressAnimation?function(e){void 0===e||c.gestureOrAnimationInProgress?c.ani=e:(c.gestureOrAnimationInProgress=!0,e.onFinish((function(){c.gestureOrAnimationInProgress=!1,c.swipeHandler&&c.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0},i),{animationBuilder:u}));case 9:return this.ionNavDidChange.emit(),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"lock",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.waitPromise,this.waitPromise=new Promise((function(e){return r=e})),void 0===n){e.next=5;break}return e.next=5,n;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,Ce.h)("slot",null)}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{swipeHandler:["swipeHandlerChanged"]}}},{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}}]),o}(Ce.mv),[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);var Or=function(){if("undefined"!==typeof customElements){["ion-router-outlet"].forEach((function(e){if("ion-router-outlet"===e)customElements.get(e)||customElements.define(e,Ir)}))}},Zr=n(8857),Tr=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.ionTabBarChanged=(0,Ce.yM)((0,ke.Z)(e),"ionTabBarChanged",7),e.keyboardCtrl=null,e.keyboardVisible=!1,e.translucent=!1,e}return(0,Ee.Z)(n,[{key:"selectedTabChanged",value:function(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}},{key:"componentWillLoad",value:function(){this.selectedTabChanged()}},{key:"connectedCallback",value:function(){var e=this;this.keyboardCtrl=function(e){var t,n,r,i=function(){t=function(){r=!0,e&&e(!0)},n=function(){r=!1,e&&e(!1)},null===Zr.w||void 0===Zr.w||Zr.w.addEventListener("keyboardWillShow",t),null===Zr.w||void 0===Zr.w||Zr.w.addEventListener("keyboardWillHide",n)};return i(),{init:i,destroy:function(){null===Zr.w||void 0===Zr.w||Zr.w.removeEventListener("keyboardWillShow",t),null===Zr.w||void 0===Zr.w||Zr.w.removeEventListener("keyboardWillHide",n),t=n=void 0},isKeyboardVisible:function(){return r}}}((function(t){e.keyboardVisible=t}))}},{key:"disconnectedCallback",value:function(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}},{key:"render",value:function(){var e,t=this.color,n=this.translucent,r=this.keyboardVisible,i=He(this),o=r&&"top"!==this.el.getAttribute("slot");return(0,Ce.h)(Ce.AA,{role:"tablist","aria-hidden":o?"true":null,class:_t(t,(e={},(0,we.Z)(e,i,!0),(0,we.Z)(e,"tab-bar-translucent",n),(0,we.Z)(e,"tab-bar-hidden",o),e))},(0,Ce.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{selectedTab:["selectedTabChanged"]}}},{key:"style",get:function(){return{ios:":host{padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-400, #999999));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}"}}}]),n}(Ce.mv),[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);var Ar=function(){if("undefined"!==typeof customElements){["ion-tab-bar"].forEach((function(e){if("ion-tab-bar"===e)customElements.get(e)||customElements.define(e,Tr)}))}},Pr=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.ionTabButtonClick=(0,Ce.yM)((0,ke.Z)(e),"ionTabButtonClick",7),e.inheritedAttributes={},e.disabled=!1,e.selected=!1,e.onKeyUp=function(t){"Enter"!==t.key&&" "!==t.key||e.selectTab(t)},e.onClick=function(t){e.selectTab(t)},e}return(0,Ee.Z)(n,[{key:"onTabBarChanged",value:function(e){var t=e.target,n=this.el.parentElement;(e.composedPath().includes(n)||(null===t||void 0===t?void 0:t.contains(this.el)))&&(this.selected=this.tab===e.detail.tab)}},{key:"componentWillLoad",value:function(){this.inheritedAttributes=Object.assign({},(0,qe.d)(this.el,["aria-label"])),void 0===this.layout&&(this.layout=Oe.get("tabButtonLayout","icon-top"))}},{key:"selectTab",value:function(e){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}},{key:"hasLabel",get:function(){return!!this.el.querySelector("ion-label")}},{key:"hasIcon",get:function(){return!!this.el.querySelector("ion-icon")}},{key:"render",value:function(){var e,t=this.disabled,n=this.hasIcon,r=this.hasLabel,i=this.href,o=this.rel,a=this.target,s=this.layout,u=this.selected,c=this.tab,l=this.inheritedAttributes,f=He(this),d={download:this.download,href:i,rel:o,target:a};return(0,Ce.h)(Ce.AA,{onClick:this.onClick,onKeyup:this.onKeyUp,id:void 0!==c?"tab-button-".concat(c):null,class:(e={},(0,we.Z)(e,f,!0),(0,we.Z)(e,"tab-selected",u),(0,we.Z)(e,"tab-disabled",t),(0,we.Z)(e,"tab-has-label",r),(0,we.Z)(e,"tab-has-icon",n),(0,we.Z)(e,"tab-has-label-only",r&&!n),(0,we.Z)(e,"tab-has-icon-only",n&&!r),(0,we.Z)(e,"tab-layout-".concat(s),!0),(0,we.Z)(e,"ion-activatable",!0),(0,we.Z)(e,"ion-selectable",!0),(0,we.Z)(e,"ion-focusable",!0),e)},(0,Ce.h)("a",Object.assign({},d,{class:"button-native",part:"native",role:"tab","aria-selected":u?"true":null,"aria-disabled":t?"true":null,tabindex:t?"-1":void 0},l),(0,Ce.h)("span",{class:"button-inner"},(0,Ce.h)("slot",null)),"md"===f&&(0,Ce.h)("ion-ripple-effect",{type:"unbounded"})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){padding-left:6px;padding-right:6px;padding-top:1px;padding-bottom:1px;left:calc(50% + 6px);top:4px;height:auto;font-size:12px;line-height:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-badge){padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}[dir=rtl] ::slotted(ion-badge),:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px);top:10px}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px);top:10px}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}[dir=rtl] ::slotted(ion-icon),:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}::slotted(ion-badge){border-radius:8px;padding-left:2px;padding-right:2px;padding-top:3px;padding-bottom:2px;left:calc(50% + 6px);top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-badge){padding-left:unset;padding-right:unset;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px}}[dir=rtl] ::slotted(ion-badge),:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%;top:8px}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%;top:16px}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){margin-right:6px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-icon){margin-right:unset;-webkit-margin-end:6px;margin-inline-end:6px}}:host(.tab-layout-icon-end) ::slotted(ion-icon){margin-left:6px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.tab-layout-icon-end) ::slotted(ion-icon){margin-left:unset;-webkit-margin-start:6px;margin-inline-start:6px}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%;top:16px}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}}]),n}(Ce.mv),[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);var Rr,Nr,jr=function(){if("undefined"!==typeof customElements){["ion-tab-button","ion-ripple-effect"].forEach((function(e){switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Pr);break;case"ion-ripple-effect":customElements.get(e)||vr()}}))}},Lr=function(){if("undefined"===typeof window)return new Map;if(!Rr){var e=window;e.Ionicons=e.Ionicons||{},Rr=e.Ionicons.map=e.Ionicons.map||new Map}return Rr},Dr=function(e){var t=Lr().get(e);return t||(0,Ce.K3)("svg/".concat(e,".svg"))},Mr=function(e,t,n,r,i){return n="ios"===(n&&zr(n))?"ios":"md",r&&"ios"===n?e=zr(r):i&&"md"===n?e=zr(i):(e||!t||Br(t)||(e=t),Ur(e)&&(e=zr(e))),Ur(e)&&""!==e.trim()?""!==e.replace(/[a-z]|-|\d/gi,"")?null:e:null},Fr=function(e){return Ur(e)&&(e=e.trim(),Br(e))?e:null},Br=function(e){return e.length>0&&/(\/|\.)/.test(e)},Ur=function(e){return"string"===typeof e},zr=function(e){return e.toLowerCase()},Vr=function e(t){if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n].name;if(Ur(r)&&0===r.toLowerCase().indexOf("on"))return!1}for(var i=0;i<t.childNodes.length;i++)if(!e(t.childNodes[i]))return!1}return!0},Hr=new Map,Wr=new Map,$r=function(e,t){var n=Wr.get(e);if(!n){if("undefined"===typeof fetch||"undefined"===typeof document)return Hr.set(e,""),Promise.resolve();if(function(e){return e.startsWith("data:image/svg+xml")}(e)&&function(e){return-1!==e.indexOf(";utf8,")}(e)){Nr||(Nr=new DOMParser);var r=Nr.parseFromString(e,"text/html").querySelector("svg");return r&&Hr.set(e,r.outerHTML),Promise.resolve()}n=fetch(e).then((function(n){if(n.ok)return n.text().then((function(n){n&&!1!==t&&(n=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);var r=t.firstElementChild;if(r&&"svg"===r.nodeName.toLowerCase()){var i=r.getAttribute("class")||"";if(r.setAttribute("class",(i+" s-ion-icon").trim()),Vr(r))return t.innerHTML}return""}(n)),Hr.set(e,n||"")}));Hr.set(e,"")})),Wr.set(e,n)}return n},qr=(0,Ce.GH)(function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.iconName=null,e.inheritedAttributes={},e.isVisible=!1,e.mode=Gr(),e.lazy=!1,e.sanitize=!0,e.hasAriaHidden=function(){var t=(0,ke.Z)(e).el;return t.hasAttribute("aria-hidden")&&"true"===t.getAttribute("aria-hidden")},e}return(0,Ee.Z)(n,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=function(e){var t={};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(n){e.hasAttribute(n)&&(null!==e.getAttribute(n)&&(t[n]=e.getAttribute(n)),e.removeAttribute(n))})),t}(this.el,["aria-label"])}},{key:"connectedCallback",value:function(){var e=this;this.waitUntilVisible(this.el,"50px",(function(){e.isVisible=!0,e.loadIcon()}))}},{key:"disconnectedCallback",value:function(){this.io&&(this.io.disconnect(),this.io=void 0)}},{key:"waitUntilVisible",value:function(e,t,n){var r=this;if(Ce.Z5.isBrowser&&this.lazy&&"undefined"!==typeof window&&window.IntersectionObserver){var i=this.io=new window.IntersectionObserver((function(e){e[0].isIntersecting&&(i.disconnect(),r.io=void 0,n())}),{rootMargin:t});i.observe(e)}else n()}},{key:"loadIcon",value:function(){var e=this;if(Ce.Z5.isBrowser&&this.isVisible){var t=function(e){var t=Fr(e.src);if(t)return t;if(t=Mr(e.name,e.icon,e.mode,e.ios,e.md))return Dr(t);if(e.icon){if(t=Fr(e.icon))return t;if(t=Fr(e.icon[e.mode]))return t}return null}(this);t&&(Hr.has(t)?this.svgContent=Hr.get(t):$r(t,this.sanitize).then((function(){return e.svgContent=Hr.get(t)})))}var n=this.iconName=Mr(this.name,this.icon,this.mode,this.ios,this.md);n&&(this.ariaLabel=n.replace(/\-/g," "))}},{key:"render",value:function(){var e,t,n=this.iconName,r=this.ariaLabel,i=this.el,o=this.inheritedAttributes,a=this.mode||"md",s=this.flipRtl||n&&(n.indexOf("arrow")>-1||n.indexOf("chevron")>-1)&&!1!==this.flipRtl;return(0,Ce.h)(Ce.AA,Object.assign({"aria-label":void 0===r||this.hasAriaHidden()?null:r,role:"img",class:Object.assign(Object.assign((0,we.Z)({},a,!0),Kr(this.color)),(e={},(0,we.Z)(e,"icon-".concat(this.size),!!this.size),(0,we.Z)(e,"flip-rtl",!!s&&(t=i,t&&""!==t.dir?"rtl"===t.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),e))},o),Ce.Z5.isBrowser&&this.svgContent?(0,Ce.h)("div",{class:"icon-inner",innerHTML:this.svgContent}):(0,Ce.h)("div",{class:"icon-inner"}))}},{key:"el",get:function(){return this}}],[{key:"assetsDirs",get:function(){return["svg"]}},{key:"watchers",get:function(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}},{key:"style",get:function(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}}]),n}(Ce.mv),[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32],ariaLabel:[32]}]),Gr=function(){return Ce.Z5.isBrowser&&"undefined"!==typeof document&&document.documentElement.getAttribute("mode")||"md"},Kr=function(e){return e?(0,we.Z)({"ion-color":!0},"ion-color-".concat(e),!0):null};var Qr=function(){if("undefined"!==typeof customElements){["ion-icon"].forEach((function(e){if("ion-icon"===e)customElements.get(e)||customElements.define(e,qr)}))}},Jr=s.createContext({onIonViewWillEnter:function(){},ionViewWillEnter:function(){},onIonViewDidEnter:function(){},ionViewDidEnter:function(){},onIonViewWillLeave:function(){},ionViewWillLeave:function(){},onIonViewDidLeave:function(){},ionViewDidLeave:function(){}}),Yr=function(){function e(){(0,_e.Z)(this,e),this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}return(0,Ee.Z)(e,[{key:"onIonViewWillEnter",value:function(e){if(e.id){var t=this.ionViewWillEnterCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewWillEnterCallbacks[t]=e:this.ionViewWillEnterCallbacks.push(e)}else this.ionViewWillEnterCallbacks.push(e)}},{key:"ionViewWillEnter",value:function(){this.ionViewWillEnterCallbacks.forEach((function(e){return e()}))}},{key:"onIonViewDidEnter",value:function(e){if(e.id){var t=this.ionViewDidEnterCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewDidEnterCallbacks[t]=e:this.ionViewDidEnterCallbacks.push(e)}else this.ionViewDidEnterCallbacks.push(e)}},{key:"ionViewDidEnter",value:function(){this.ionViewDidEnterCallbacks.forEach((function(e){return e()}))}},{key:"onIonViewWillLeave",value:function(e){if(e.id){var t=this.ionViewWillLeaveCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewWillLeaveCallbacks[t]=e:this.ionViewWillLeaveCallbacks.push(e)}else this.ionViewWillLeaveCallbacks.push(e)}},{key:"ionViewWillLeave",value:function(){this.ionViewWillLeaveCallbacks.forEach((function(e){return e()}))}},{key:"onIonViewDidLeave",value:function(e){if(e.id){var t=this.ionViewDidLeaveCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewDidLeaveCallbacks[t]=e:this.ionViewDidLeaveCallbacks.push(e)}else this.ionViewDidLeaveCallbacks.push(e)}},{key:"ionViewDidLeave",value:function(){this.ionViewDidLeaveCallbacks.forEach((function(e){return e()})),this.componentCanBeDestroyed()}},{key:"onComponentCanBeDestroyed",value:function(e){this.componentCanBeDestroyedCallback=e}},{key:"componentCanBeDestroyed",value:function(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}}]),e}(),Xr=s.createContext({getIonRedirect:function(){},getIonRoute:function(){},getPageManager:function(){},getStackManager:function(){},goBack:function(e){"undefined"!==typeof window&&("string"===typeof e?window.location.pathname=e:window.history.back())},navigate:function(e){"undefined"!==typeof window&&(window.location.pathname=e)},hasIonicRouter:function(){return!1},routeInfo:void 0,setCurrentTab:function(){},changeTab:function(e,t){"undefined"!==typeof window&&(window.location.pathname=t)},resetTab:function(e,t){"undefined"!==typeof window&&(window.location.pathname=t)}}),ei=function(e){return e.toLowerCase().split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")},ti=function(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))},ni=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Element){var r=ri(e.classList,t,n);""!==r&&(e.className=r),Object.keys(t).forEach((function(n){if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){var r=n.substring(2),i=r[0].toLowerCase()+r.substring(1);ii(i)||oi(e,i,t[n])}else{e[n]=t[n],"string"===typeof t[n]&&e.setAttribute(ti(n),t[n])}}))}},ri=function(e,t,n){var r=t.className||t.class,i=n.className||n.class,o=ai(e),a=ai(r?r.split(" "):[]),s=ai(i?i.split(" "):[]),u=[];return o.forEach((function(e){a.has(e)?(u.push(e),a.delete(e)):s.has(e)||u.push(e)})),a.forEach((function(e){return u.push(e)})),u.join(" ")},ii=function(e){if("undefined"===typeof document)return!0;var t="on"+e,n=t in document;if(!n){var r=document.createElement("div");r.setAttribute(t,"return;"),n="function"===typeof r[t]}return n},oi=function(e,t,n){var r=e.__events||(e.__events={}),i=r[t];i&&e.removeEventListener(t,i),e.addEventListener(t,r[t]=function(e){n&&n.call(this,e)})},ai=function(e){var t=new Map;return e.forEach((function(e){return t.set(e,e)})),t},si=function(e,t){"function"===typeof e?e(t):null!=e&&(e.current=t)},ui=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){si(t,e)}))}},ci=function(e,t,n,r){void 0!==r&&r();var i=ei(e),o=function(t){(0,xe.Z)(o,t);var r=(0,Se.Z)(o);function o(e){var t;return(0,_e.Z)(this,o),(t=r.call(this,e)).setComponentElRef=function(e){t.componentEl=e},t}return(0,Ee.Z)(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){ni(this.componentEl,this.props,e)}},{key:"render",value:function(){var t=this.props,r=t.children,i=t.forwardedRef,o=t.style,a=(t.className,t.ref,(0,kt._T)(t,["children","forwardedRef","style","className","ref"])),u=Object.keys(a).reduce((function(e,t){if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var n=t.substring(2).toLowerCase();"undefined"!==typeof document&&ii(n)&&(e[t]=a[t])}else e[t]=a[t];return e}),{});n&&(u=n(this.props,u));var c=Object.assign(Object.assign({},u),{ref:ui(i,this.setComponentElRef),style:o});return(0,s.createElement)(e,c,r)}}],[{key:"displayName",get:function(){return i}}]),o}(s.Component);return t&&(o.contextType=t),function(e,t){var n=function(t,n){return s.createElement(e,Object.assign({},t,{forwardedRef:n}))};return n.displayName=t,s.forwardRef(n)}(o,i)},li=ci("ion-badge",void 0,void 0,Zt),fi=ci("ion-col",void 0,void 0,Lt),di=ci("ion-content",void 0,void 0,Ut),hi=ci("ion-header",void 0,void 0,Yt),pi=ci("ion-row",void 0,void 0,mn),vi=ci("ion-toggle",void 0,void 0,Mn),mi=function(e,t){var n=function(t,n){return s.createElement(e,Object.assign({},t,{forwardedRef:n}))};return n.displayName=t,s.forwardRef(n)},gi=function(){if("undefined"!==typeof window){var e=window.Ionic;if(e&&e.config)return e.config}return null},yi=function(e,t){!function(e,t){void 0===t||"undefined"===typeof customElements||customElements.get(e)||customElements.define(e,t)}(e,t);var n=ei(e),r=function(t){(0,xe.Z)(i,t);var r=(0,Se.Z)(i);function i(e){var t;return(0,_e.Z)(this,i),(t=r.call(this,e)).handleClick=function(e){var n=t.props,r=n.routerLink,i=n.routerDirection,o=n.routerOptions,a=n.routerAnimation;void 0!==r&&(e.preventDefault(),t.context.navigate(r,i,void 0,a,o))},t.ref=s.createRef(),t.stableMergedRefs=ui(t.ref,t.props.forwardedRef),t}return(0,Ee.Z)(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.ref.current;ni(t,this.props,e)}},{key:"render",value:function(){var t=this,n=this.props,r=n.children,i=(n.forwardedRef,n.style),o=(n.className,n.ref,(0,kt._T)(n,["children","forwardedRef","style","className","ref"])),a=Object.keys(o).reduce((function(e,t){if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var n=t.substring(2).toLowerCase();ii(n)&&(e[t]=o[t])}else["string","boolean","number"].includes(typeof o[t])&&(e[ti(t)]=o[t]);return e}),{}),u=Object.assign(Object.assign({},a),{ref:this.stableMergedRefs,style:i});if(this.props.routerLink&&!this.props.href&&(u.href=this.props.routerLink),u.onClick){var c=u.onClick;u.onClick=function(e){c(e),e.defaultPrevented||t.handleClick(e)}}else u.onClick=this.handleClick;return(0,s.createElement)(e,u,r)}}],[{key:"displayName",get:function(){return n}},{key:"contextType",get:function(){return Xr}}]),i}(s.Component);return mi(r,n)},bi=yi("ion-button",Un),wi=yi("ion-card",Vn),ki=yi("ion-item",Wn),xi=function(e,n,i){i&&i();var o=ei(e),a="on".concat(o,"DidDismiss"),u="on".concat(o,"DidPresent"),c="on".concat(o,"WillDismiss"),l="on".concat(o,"WillPresent"),f=function(e){(0,xe.Z)(s,e);var i=(0,Se.Z)(s);function s(e){var t;return(0,_e.Z)(this,s),(t=i.call(this,e)).willUnmount=!1,t.handleDismiss=t.handleDismiss.bind((0,ke.Z)(t)),t}return(0,Ee.Z)(s,[{key:"componentDidMount",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.willUnmount=!1,this.props.isOpen&&this.present();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.willUnmount=!0,this.overlay&&this.overlay.dismiss()}},{key:"componentDidUpdate",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isOpen!==this.props.isOpen&&!0===this.props.isOpen&&this.present(n),!this.overlay||n.isOpen===this.props.isOpen||!1!==this.props.isOpen){e.next=4;break}return e.next=4,this.overlay.dismiss();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleDismiss",value:function(e){this.props.onDidDismiss&&this.props.onDidDismiss(e),si(this.props.forwardedRef,null)}},{key:"present",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){var i,o,s,f=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.props,s=(0,kt._T)(o,["isOpen","onDidDismiss","onDidPresent","onWillDismiss","onWillPresent"]),this.overlay&&this.overlay.remove(),e.next=4,n.create(Object.assign({},s));case 4:if(this.overlay=e.sent,ni(this.overlay,(i={},(0,we.Z)(i,a,this.handleDismiss),(0,we.Z)(i,u,(function(e){return f.props.onDidPresent&&f.props.onDidPresent(e)})),(0,we.Z)(i,c,(function(e){return f.props.onWillDismiss&&f.props.onWillDismiss(e)})),(0,we.Z)(i,l,(function(e){return f.props.onWillPresent&&f.props.onWillPresent(e)})),i),r),!0!==this.props.isOpen||!1!==this.willUnmount){e.next=10;break}return si(this.props.forwardedRef,this.overlay),e.next=10,this.overlay.present();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null}}],[{key:"displayName",get:function(){return o}}]),s}(s.Component);return s.forwardRef((function(e,t){return s.createElement(f,Object.assign({},e,{forwardedRef:t}))}))},Si=xi("ion-loading",Je,lr),_i=s.createContext({addOverlay:function(){},removeOverlay:function(){}}),Ei=function(e){var t=e.onAddOverlay,n=e.onRemoveOverlay,r=(0,s.useState)({}),o=(0,i.Z)(r,2),a=o[0],u=o[1],c=(0,s.useRef)({});c.current=a,(0,s.useEffect)((function(){t(l),n(f)}),[]);var l=function(e,t,n){var r=Object.assign({},c.current);r[e]={component:t,containerElement:n},u(r)},f=function(e){var t=Object.assign({},c.current);delete t[e],u(t)},d=Object.keys(a);return s.createElement(s.Fragment,null,d.map((function(e){var t=a[e];return xt.createPortal(t.component,t.containerElement,"overlay-".concat(e))})))},Ci=ci("ion-tab-button",void 0,void 0,jr),Ii=ci("ion-tab-bar",void 0,void 0,Ar),Oi=ci("ion-router-outlet",void 0,void 0,Or),Zi=ci("ion-app",void 0,void 0,Cr),Ti=ci("ion-icon",void 0,void 0,Qr),Ai=function(){return function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).ionContext={addOverlay:function(e,t,n){r.addOverlayCallback&&r.addOverlayCallback(e,t,n)},removeOverlay:function(e){r.removeOverlayCallback&&r.removeOverlayCallback(e)}},r}return(0,Ee.Z)(n,[{key:"render",value:function(){var e=this;return s.createElement(_i.Provider,{value:this.ionContext},s.createElement(Zi,Object.assign({},this.props),this.props.children),s.createElement(Ei,{onAddOverlay:function(t){e.addOverlayCallback=t},onRemoveOverlay:function(t){e.removeOverlayCallback=t}}))}}],[{key:"displayName",get:function(){return"IonApp"}}]),n}(s.Component)}(),Pi=s.createContext({registerIonPage:function(){},isInOutlet:function(){return!1}}),Ri=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).ionPageElementRef=s.createRef(),r.stableMergedRefs=ui(r.ionPageElementRef,r.props.forwardedRef),r}return(0,Ee.Z)(n,[{key:"componentDidMount",value:function(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"componentWillUnmount",value:function(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"ionViewWillEnterHandler",value:function(){this.ionLifeCycleContext.ionViewWillEnter()}},{key:"ionViewDidEnterHandler",value:function(){this.ionLifeCycleContext.ionViewDidEnter()}},{key:"ionViewWillLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewWillLeave()}},{key:"ionViewDidLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewDidLeave()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.children,i=(t.routeInfo,t.forwardedRef,(0,kt._T)(t,["className","children","routeInfo","forwardedRef"]));return s.createElement(Jr.Consumer,null,(function(t){return e.ionLifeCycleContext=t,s.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:e.stableMergedRefs},i),r)}))}}],[{key:"contextType",get:function(){return Pi}}]),n}(s.PureComponent),Ni=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){return(0,_e.Z)(this,n),t.call(this,e)}return(0,Ee.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.forwardedRef,i=(0,kt._T)(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?s.createElement(Ri,Object.assign({className:t?"".concat(t):"",routeInfo:this.context.routeInfo,forwardedRef:r},i),n):s.createElement("div",Object.assign({className:t?"ion-page ".concat(t):"ion-page",ref:r},i),n)}}],[{key:"displayName",get:function(){return"IonPage"}},{key:"contextType",get:function(){return Xr}}]),n}(s.Component),ji=mi(Ni,"IonPage"),Li=ci("ion-nav",void 0,void 0,dn),Di=(mi((function(e){e.children;var n=e.forwardedRef,o=(0,kt._T)(e,["children","forwardedRef"]),a=(0,s.useState)([]),u=(0,i.Z)(a,2),c=u[0],l=u[1],f=function(e,n){var i=new WeakMap,o=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r,o,a,s){var u,c,l,f;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=document.createElement("div"),s&&(u=c.classList).add.apply(u,(0,be.Z)(s)),r.appendChild(c),l=o(a),f=(0,xt.createPortal)(l,c),i.set(o,f),e(f),t.abrupt("return",Promise.resolve(c));case 8:case"end":return t.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}();return{attachViewToDom:o,removeViewFromDom:function(e,t){var r=i.get(t);return r&&n(r),Promise.resolve()}}}((function(e){return l([].concat((0,be.Z)(c),[e]))}),(function(e){return l(c.filter((function(t){return t!==e})))}));return s.createElement(Li,Object.assign({delegate:f,ref:n},o),c)}),"IonNav"),s.createContext({activeTab:void 0,selectTab:function(){return!1}}),"undefined"!==typeof HTMLElement?HTMLElement:function(){return(0,Ee.Z)((function e(){(0,_e.Z)(this,e)}))}()),Mi=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).outletIsReady=!1,r}return(0,Ee.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.ionRouterOutlet&&(this.outletIsReady||(0,qe.c)(this.ionRouterOutlet,(function(){e.outletIsReady=!0,e.context.registerIonPage(e.ionRouterOutlet,e.props.routeInfo)})),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"componentWillUnmount",value:function(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"ionViewWillEnterHandler",value:function(){this.ionLifeCycleContext.ionViewWillEnter()}},{key:"ionViewDidEnterHandler",value:function(){this.ionLifeCycleContext.ionViewDidEnter()}},{key:"ionViewWillLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewWillLeave()}},{key:"ionViewDidLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewDidLeave()}},{key:"render",value:function(){var e=this,t=this.props,n=t.StackManager,r=t.children,i=t.routeInfo,o=(0,kt._T)(t,["StackManager","children","routeInfo"]);return s.createElement(Jr.Consumer,null,(function(t){return e.ionLifeCycleContext=t,s.createElement(n,{routeInfo:i},s.createElement(Oi,Object.assign({setRef:function(t){return e.ionRouterOutlet=t}},o),r))}))}}],[{key:"contextType",get:function(){return Pi}}]),n}(s.Component),Fi=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){return(0,_e.Z)(this,n),t.call(this,e)}return(0,Ee.Z)(n,[{key:"render",value:function(){var e=this.context.getStackManager(),t=this.props,n=t.children,r=t.forwardedRef,i=(0,kt._T)(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?i.ionPage?s.createElement(Mi,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},i),n):s.createElement(e,{routeInfo:this.context.routeInfo},s.createElement(Oi,Object.assign({},i,{forwardedRef:r}),n)):s.createElement(Oi,Object.assign({ref:r},this.props),this.props.children)}}],[{key:"contextType",get:function(){return Xr}}]),n}(s.Component),Bi=mi(Fi,"IonRouterOutlet"),Ui=function(){return function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).handleIonTabButtonClick=r.handleIonTabButtonClick.bind((0,ke.Z)(r)),r}return(0,Ee.Z)(n,[{key:"handleIonTabButtonClick",value:function(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}},{key:"render",value:function(){var e=this.props,t=(0,kt._T)(e,["onClick"]);return s.createElement(Ci,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},t))}}],[{key:"displayName",get:function(){return"IonTabButton"}}]),n}(s.Component)}(),zi=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;(0,_e.Z)(this,n),(r=t.call(this,e)).setActiveTabOnContext=function(e){};var i={};return s.Children.forEach(e.children,(function(t){var n,r,o,a;null!=t&&"object"===typeof t&&t.props&&(t.type===Ui||t.type.isTabButton)&&(i[t.props.tab]={originalHref:t.props.href,currentHref:t.props.href,originalRouteOptions:t.props.href===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)?null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions:void 0,currentRouteOptions:t.props.href===(null===(o=e.routeInfo)||void 0===o?void 0:o.pathname)?null===(a=e.routeInfo)||void 0===a?void 0:a.routeOptions:void 0})})),r.state={tabs:i},r.onTabButtonClick=r.onTabButtonClick.bind((0,ke.Z)(r)),r.renderTabButton=r.renderTabButton.bind((0,ke.Z)(r)),r.setActiveTabOnContext=r.setActiveTabOnContext.bind((0,ke.Z)(r)),r.selectTab=r.selectTab.bind((0,ke.Z)(r)),r}return(0,Ee.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tabs,n=Object.keys(t).find((function(n){var r=t[n].originalHref;return e.props.routeInfo.pathname.startsWith(r)}));n&&this.setState({activeTab:n})}},{key:"componentDidUpdate",value:function(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}},{key:"selectTab",value:function(e){var t=this.state.tabs[e];return!!t&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0)}},{key:"onTabButtonClick",value:function(e,t){var n=this.state.tabs[e.detail.tab],r=n.originalHref,i=e.detail.href,o=this.state.activeTab;t&&t(e),o===e.detail.tab?r!==i&&this.context.resetTab(e.detail.tab,r,n.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,i,e.detail.routeOptions))}},{key:"renderTabButton",value:function(e){var t=this;return function(n){var r,i;if(null!=n&&n.props&&(n.type===Ui||n.type.isTabButton)){var o=n.props.tab===e?null===(r=t.props.routeInfo)||void 0===r?void 0:r.pathname:t.state.tabs[n.props.tab].currentHref,a=n.props.tab===e?null===(i=t.props.routeInfo)||void 0===i?void 0:i.routeOptions:t.state.tabs[n.props.tab].currentRouteOptions;return s.cloneElement(n,{href:o,routeOptions:a,onClick:function(e){return t.onTabButtonClick(e,n.props.onClick)}})}return null}}},{key:"render",value:function(){var e=this.state.activeTab;return s.createElement(Ii,Object.assign({},this.props,{selectedTab:e}),s.Children.map(this.props.children,this.renderTabButton(e)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,i,o=Object.assign({},t.tabs),a=Object.keys(t.tabs).find((function(n){var r=t.tabs[n].originalHref;return e.routeInfo.pathname.startsWith(r)}));s.Children.forEach(e.children,(function(e){if(null!=e&&"object"===typeof e&&e.props&&(e.type===Ui||e.type.isTabButton)){var t=o[e.props.tab];t&&t.originalHref===e.props.href||(o[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.routeOptions,currentRouteOptions:e.props.routeOptions})}}));var u=t.activeTab;if(a&&u){var c=t.tabs[u].currentHref,l=t.tabs[u].currentRouteOptions;a===u&&c===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)&&l===(null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions)||(o[a]={originalHref:o[a].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[a].originalRouteOptions,currentRouteOptions:null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions},"pop"===e.routeInfo.routeAction&&a!==u&&(o[u]={originalHref:o[u].originalHref,currentHref:o[u].originalHref,originalRouteOptions:o[u].originalRouteOptions,currentRouteOptions:o[u].currentRouteOptions}))}return a&&e.onSetCurrentTab(a,e.routeInfo),{activeTab:a,tabs:o}}},{key:"contextType",get:function(){return Xr}}]),n}(s.PureComponent),Vi=s.memo((function(e){var t=e.forwardedRef,n=(0,kt._T)(e,["forwardedRef"]),r=(0,s.useContext)(Xr);return s.createElement(zi,Object.assign({ref:t},n,{routeInfo:n.routeInfo||r.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:r.setCurrentTab}),n.children)})),Hi=(mi(Vi,"IonTabBar"),function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.call(this)}return(0,Ee.Z)(n)}(Di));"undefined"!==typeof window&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Hi));var Wi=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.'),r}return(0,Ee.Z)(n,[{key:"render",value:function(){var e,t,n,r=this.props,i=r.icon,o=r.ios,a=r.md,u=r.mode,c=(0,kt._T)(r,["icon","ios","md","mode"]),l=gi(),f=u||(null===l||void 0===l?void 0:l.get("mode"));return n=o||a?"ios"===f?null!==(e=null!==o&&void 0!==o?o:a)&&void 0!==e?e:i:null!==(t=null!==a&&void 0!==a?a:o)&&void 0!==t?t:i:i,s.createElement(Ti,Object.assign({ref:this.props.forwardedRef,icon:n},c),this.props.children)}}],[{key:"contextType",get:function(){return Xr}}]),n}(s.PureComponent),$i=mi(Wi,"IonIcon"),qi=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n,[{key:"render",value:function(){var e=this.context.getIonRoute();return this.context.hasIonicRouter()&&n?s.createElement(e,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null)}}],[{key:"contextType",get:function(){return Xr}}]),n}(s.PureComponent),Gi=(s.PureComponent,s.createContext({routeInfo:void 0,push:function(){throw new Error("An Ionic Router is required for IonRouterContext")},back:function(){throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:function(){throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:function(){throw new Error("An Ionic Router is required for IonRouterContext")}}));s.PureComponent;var Ki=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(var i in t)t.hasOwnProperty(i)&&!r.includes(i)&&t[i]!==n[i]&&e[i](t[i]);var o=t.from;o&&o!==n.from&&(Array.isArray(o)?o:[o]).forEach((function(t){return e.from(t.property,t.value)}));var a=t.to;a&&a!==n.to&&(Array.isArray(a)?a:[a]).forEach((function(t){return e.to(t.property,t.value)}));var s=t.fromTo;s&&s!==n.fromTo&&(Array.isArray(s)?s:[s]).forEach((function(t){return e.fromTo(t.property,t.fromValue,t.toValue)}));var u=t.onFinish;u&&u!==n.onFinish&&(Array.isArray(u)?u:[u]).forEach((function(t){return e.onFinish(t.callback,t.opts)}))},Qi=function(e){var t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=a.progressStart,c=a.progressStep,l=a.progressEnd;!u||(null===(t=s.progressStart)||void 0===t?void 0:t.forceLinearEasing)===(null===u||void 0===u?void 0:u.forceLinearEasing)&&(null===(n=s.progressStart)||void 0===n?void 0:n.step)===(null===u||void 0===u?void 0:u.step)||e.progressStart(u.forceLinearEasing,u.step),c&&(null===(r=s.progressStep)||void 0===r?void 0:r.step)!==(null===c||void 0===c?void 0:c.step)&&e.progressStep(c.step),!l||(null===(i=s.progressEnd)||void 0===i?void 0:i.playTo)===(null===l||void 0===l?void 0:l.playTo)&&(null===(o=s.progressEnd)||void 0===o?void 0:o.step)===(null===l||void 0===l?void 0:l.step)&&(null===s||void 0===s?void 0:s.dur)===(null===l||void 0===l?void 0:l.dur)||e.progressEnd(l.playTo,l.step,l.dur)},Ji=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!n.play&&t.play&&e.play(),!n.pause&&t.pause&&e.pause(),!n.stop&&t.stop&&e.stop(),!n.destroy&&t.destroy&&e.destroy()};function Yi(e,n,i){var o=(0,s.useRef)(),a=(0,s.useMemo)((function(){return"on".concat(e,"DidDismiss")}),[e]),u=(0,s.useMemo)((function(){return"on".concat(e,"DidPresent")}),[e]),c=(0,s.useMemo)((function(){return"on".concat(e,"WillDismiss")}),[e]),l=(0,s.useMemo)((function(){return"on".concat(e,"WillPresent")}),[e]);i();var f=(0,s.useCallback)(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){var i,s,f,d,h,p,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.current){e.next=2;break}return e.abrupt("return");case 2:return s=r.onDidDismiss,f=r.onWillDismiss,d=r.onDidPresent,h=r.onWillPresent,p=(0,kt._T)(r,["onDidDismiss","onWillDismiss","onDidPresent","onWillPresent"]),v=function(e){s&&s(e),o.current=void 0},e.next=6,n.create(Object.assign({},p));case 6:o.current=e.sent,ni(o.current,(i={},(0,we.Z)(i,a,v),(0,we.Z)(i,u,(function(e){return d&&d(e)})),(0,we.Z)(i,c,(function(e){return f&&f(e)})),(0,we.Z)(i,l,(function(e){return h&&h(e)})),i)),o.current.present();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]);return{present:f,dismiss:(0,s.useCallback)((0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o.current,!e.t0){e.next=4;break}return e.next=4,o.current.dismiss();case 4:o.current=void 0;case 5:case"end":return e.stop()}}),e)}))),[])}}function Xi(){var e=Yi("IonToast",Ye,xr),t=(0,s.useCallback)((function(t,n){return"string"===typeof t?e.present({message:t,duration:n}):e.present(t)}),[e.present]);return[t,e.dismiss]}var eo={main:0},to=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",n=(null!==(e=eo[t])&&void 0!==e?e:0)+1;return eo[t]=n,n.toString()};var no=s.createContext({addViewItem:function(){},canGoBack:function(){},clearOutlet:function(){},createViewItem:function(){},findViewItemByPathname:function(){},findLeavingViewItemByRouteInfo:function(){},findViewItemByRouteInfo:function(){},getChildrenToRender:function(){},goBack:function(){},unMountViewItem:function(){}}),ro=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).ionLifeCycleContext=new Yr,r._isMounted=!1,r.ionLifeCycleContext.onComponentCanBeDestroyed((function(){r.props.mount||r._isMounted&&r.setState({show:!1},(function(){return r.props.removeView()}))})),r.state={show:!0},r}return(0,Ee.Z)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.show;return s.createElement(Jr.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}]),n}(s.Component),io=function(){function e(){(0,_e.Z)(this,e),this.locationHistory=[],this.tabHistory={}}return(0,Ee.Z)(e,[{key:"add",value:function(e){"push"===e.routeAction||null==e.routeAction?this._add(e):"pop"===e.routeAction?this._pop(e):"replace"===e.routeAction&&this._replace(e),"root"===e.routeDirection&&(this._clear(),this._add(e))}},{key:"clearTabStack",value:function(e){var t=this,n=this._getRouteInfosByKey(e);n&&(n.forEach((function(e){t.locationHistory=t.locationHistory.filter((function(t){return t.id!==e.id}))})),this.tabHistory[e]=[])}},{key:"update",value:function(e){var t=this.locationHistory.findIndex((function(t){return t.id===e.id}));t>-1&&this.locationHistory.splice(t,1,e);var n=this.tabHistory[e.tab||""];if(n){var r=n.findIndex((function(t){return t.id===e.id}));r>-1?n.splice(r,1,e):n.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}},{key:"_add",value:function(e){var t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}},{key:"_areRoutesEqual",value:function(e,t){return!(!e||!t)&&(e.pathname===t.pathname&&e.search===t.search)}},{key:"_pop",value:function(e){var t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}},{key:"_replace",value:function(e){var t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}},{key:"_clear",value:function(){var e=this;Object.keys(this.tabHistory).forEach((function(t){return e.tabHistory[t]=[]})),this.locationHistory=[]}},{key:"_getRouteInfosByKey",value:function(e){var t;return e&&((t=this.tabHistory[e])||(t=this.tabHistory[e]=[])),t}},{key:"getFirstRouteInfoForTab",value:function(e){var t=this._getRouteInfosByKey(e);if(t)return t[0]}},{key:"getCurrentRouteInfoForTab",value:function(e){var t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}},{key:"findLastLocation",value:function(e){var t=this._getRouteInfosByKey(e.tab);if(t)for(var n=t.length-2;n>=0;n--){var r=t[n];if(r&&r.pathname===e.pushedByRoute)return r}for(var i=this.locationHistory.length-2;i>=0;i--){var o=this.locationHistory[i];if(o&&o.pathname===e.pushedByRoute)return o}}},{key:"previous",value:function(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}},{key:"current",value:function(){return this.locationHistory[this.locationHistory.length-1]}},{key:"canGoBack",value:function(){return this.locationHistory.length>1}}]),e}(),oo=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).ionRouterContextValue={push:function(e,t,n,i,o){r.navigate(e,t,n,o,i)},back:function(e){r.goBack(void 0,e)},canGoBack:function(){return r.props.locationHistory.canGoBack()},nativeBack:function(){return r.props.onNativeBack()},routeInfo:r.props.routeInfo},r.state={goBack:r.goBack.bind((0,ke.Z)(r)),hasIonicRouter:function(){return!0},navigate:r.navigate.bind((0,ke.Z)(r)),getIonRedirect:r.getIonRedirect.bind((0,ke.Z)(r)),getIonRoute:r.getIonRoute.bind((0,ke.Z)(r)),getStackManager:r.getStackManager.bind((0,ke.Z)(r)),getPageManager:r.getPageManager.bind((0,ke.Z)(r)),routeInfo:r.props.routeInfo,setCurrentTab:r.props.onSetCurrentTab,changeTab:r.props.onChangeTab,resetTab:r.props.onResetTab},r}return(0,Ee.Z)(n,[{key:"componentDidMount",value:function(){"undefined"!==typeof document&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof document&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}},{key:"handleHardwareBackButton",value:function(e){var t=this;e.detail.register(0,(function(e){t.nativeGoBack(),e()}))}},{key:"goBack",value:function(e,t){this.props.onNavigateBack(e,t)}},{key:"nativeGoBack",value:function(){this.props.onNativeBack()}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"forward",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"push",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;this.props.onNavigate(e,n,t,r,i,o)}},{key:"getPageManager",value:function(){return Ri}},{key:"getIonRedirect",value:function(){return this.props.ionRedirect}},{key:"getIonRoute",value:function(){return this.props.ionRoute}},{key:"getStackManager",value:function(){return this.props.stackManager}},{key:"render",value:function(){return s.createElement(Xr.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},s.createElement(Gi.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}]),n}(s.PureComponent),ao=function(){function e(){(0,_e.Z)(this,e),this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}return(0,Ee.Z)(e,[{key:"add",value:function(e){var t=e.outletId;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}},{key:"clear",value:function(e){var t=this;return setTimeout((function(){delete t.viewStacks[e]}),500)}},{key:"getViewItemsForOutlet",value:function(e){return this.viewStacks[e]||[]}},{key:"remove",value:function(e){var t=e.outletId,n=this.viewStacks[t];if(n){var r=n.find((function(t){return t.id===e.id}));r&&(r.mount=!1,this.viewStacks[t]=n.filter((function(e){return e.id!==r.id})))}}},{key:"getStackIds",value:function(){return Object.keys(this.viewStacks)}},{key:"getAllViewItems",value:function(){var e=this,t=this.getStackIds(),n=[];return t.forEach((function(t){n.push.apply(n,(0,be.Z)(e.viewStacks[t]))})),n}}]),e}(),so=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n,[{key:"render",value:function(){return s.createElement(ue,{path:this.props.path,exact:this.props.exact,render:this.props.render,computedMatch:this.props.computedMatch})}}]),n}(s.PureComponent),uo=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.call(this)).createViewItem=e.createViewItem.bind((0,ke.Z)(e)),e.findViewItemByRouteInfo=e.findViewItemByRouteInfo.bind((0,ke.Z)(e)),e.findLeavingViewItemByRouteInfo=e.findLeavingViewItemByRouteInfo.bind((0,ke.Z)(e)),e.getChildrenToRender=e.getChildrenToRender.bind((0,ke.Z)(e)),e.findViewItemByPathname=e.findViewItemByPathname.bind((0,ke.Z)(e)),e}return(0,Ee.Z)(n,[{key:"createViewItem",value:function(e,t,n,r){var i={id:to("viewItem"),outletId:e,ionPageElement:r,reactElement:t,mount:!0,ionRoute:!1},o={exact:t.props.exact,path:t.props.path||t.props.from,component:t.props.component},a=se(n.pathname,o);return t.type===qi&&(i.ionRoute=!0,i.disableIonPageManagement=t.props.disableIonPageManagement),i.routeData={match:a,childProps:t.props},i}},{key:"getChildrenToRender",value:function(e,t,n){var r=this,i=this.getViewItemsForOutlet(e);return s.Children.forEach(t.props.children,(function(e){var t=i.find((function(t){return co(e,t.routeData.childProps.path||t.routeData.childProps.from)}));t&&(t.reactElement=e)})),i.map((function(e){var t;if(e.ionRoute&&!e.disableIonPageManagement)t=s.createElement(ro,{key:"view-".concat(e.id),mount:e.mount,removeView:function(){return r.remove(e)}},s.cloneElement(e.reactElement,{computedMatch:e.routeData.match}));else{var i=co(e.reactElement,n.pathname);t=s.createElement(ro,{key:"view-".concat(e.id),mount:e.mount,removeView:function(){return r.remove(e)}},s.cloneElement(e.reactElement,{computedMatch:e.routeData.match})),!i&&e.routeData.match&&(e.routeData.match=void 0,e.mount=!1)}return t}))}},{key:"findViewItemByRouteInfo",value:function(e,t,n){var r=this.findViewItemByPath(e.pathname,t),i=r.viewItem,o=r.match;return(void 0===n||!0===n)&&i&&o&&(i.routeData.match=o),i}},{key:"findLeavingViewItemByRouteInfo",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.findViewItemByPath(e.lastPathname,t,!1,n).viewItem}},{key:"findViewItemByPathname",value:function(e,t){return this.findViewItemByPath(e,t).viewItem}},{key:"findViewItemByPath",value:function(e,t,n,r){var i,o,a;if(t)(a=this.getViewItemsForOutlet(t)).some(u),i||a.some(c);else{var s=this.getAllViewItems();s.some(u),i||s.some(c)}return{viewItem:i,match:o};function u(t){if(r&&!t.ionRoute)return!1;var a={exact:!!n||t.routeData.childProps.exact,path:t.routeData.childProps.path||t.routeData.childProps.from,component:t.routeData.childProps.component},s=se(e,a);return!!s&&(i=t,o=s,!0)}function c(t){return!t.routeData.childProps.path&&!t.routeData.childProps.from&&(o={path:e,url:e,isExact:!0,params:{}},i=t,!0)}}}]),n}(ao);function co(e,t,n){return se(t,{exact:!!n||e.props.exact,path:e.props.path||e.props.from,component:e.props.component})}function lo(e){var t;if(t="string"===typeof e?e:e.outerHTML,document){var n=document.createElement("div");n.innerHTML=t,n.style.zIndex="";var r=n.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),n.firstChild}}var fo=function(e){return!e.classList.contains("ion-page-invisible")&&!e.classList.contains("ion-page-hidden")},ho=function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(e){var t;return(0,_e.Z)(this,i),(t=n.call(this,e)).stackContextValue={registerIonPage:t.registerIonPage.bind((0,ke.Z)(t)),isInOutlet:function(){return!0}},t.pendingPageTransition=!1,t.registerIonPage=t.registerIonPage.bind((0,ke.Z)(t)),t.transitionPage=t.transitionPage.bind((0,ke.Z)(t)),t.handlePageTransition=t.handlePageTransition.bind((0,ke.Z)(t)),t.id=to("routerOutlet"),t.prevProps=void 0,t.skipTransition=!1,t}return(0,Ee.Z)(i,[{key:"componentDidMount",value:function(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}},{key:"componentDidUpdate",value:function(e){this.props.routeInfo.pathname!==e.routeInfo.pathname?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}},{key:"componentWillUnmount",value:function(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}},{key:"handlePageTransition",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.routerOutletElement&&this.routerOutletElement.commit){e.next=4;break}this.pendingPageTransition=!0,e.next=22;break;case 4:if(o=this.context.findViewItemByRouteInfo(n,this.id),!(a=this.context.findLeavingViewItemByRouteInfo(n,this.id))&&n.prevRouteLastPathname&&(a=this.context.findViewItemByPathname(n.prevRouteLastPathname,this.id)),a&&("replace"===n.routeAction?a.mount=!1:"push"!==n.routeAction||"forward"!==n.routeDirection?"none"!==n.routeDirection&&o!==a&&(a.mount=!1):(null===(r=n.routeOptions)||void 0===r?void 0:r.unmount)&&(a.mount=!1)),s=po(null===(i=this.ionRouterOutlet)||void 0===i?void 0:i.props.children,n),o?o.reactElement=s:s&&(o=this.context.createViewItem(this.id,s,n),this.context.addViewItem(o)),!o||!o.ionPageElement){e.next=20;break}if(o!==a){e.next=14;break}if(o.routeData.match.url===n.pathname){e.next=14;break}return e.abrupt("return");case 14:if(!a&&this.props.routeInfo.prevRouteLastPathname&&(a=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),!fo(o.ionPageElement)||void 0===a||fo(a.ionPageElement)){e.next=17;break}return e.abrupt("return");case 17:this.transitionPage(n,o,a),e.next=21;break;case 20:!a||s||o||a.ionPageElement&&(a.ionPageElement.classList.add("ion-page-hidden"),a.ionPageElement.setAttribute("aria-hidden","true"));case 21:this.forceUpdate();case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerIonPage",value:function(e,t){var n=this.context.findViewItemByRouteInfo(t,this.id);if(n){var r=n.ionPageElement;if(n.ionPageElement=e,n.ionRoute=!0,r===e)return}this.handlePageTransition(t)}},{key:"setupRouterOutlet",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,o,a,s=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=function(){var e=gi();if(!(e&&e.get("swipeBackEnabled","ios"===n.mode)))return!1;var t=s.props.routeInfo,r=s.prevProps&&s.prevProps.routeInfo.pathname===t.pushedByRoute?s.prevProps.routeInfo:{pathname:t.pushedByRoute||""},i=s.context.findViewItemByRouteInfo(r,s.id,!1);return!!i&&i.mount&&i.routeData.match.path!==t.pathname},o=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.props.routeInfo,r=s.prevProps&&s.prevProps.routeInfo.pathname===n.pushedByRoute?s.prevProps.routeInfo:{pathname:n.pushedByRoute||""},i=s.context.findViewItemByRouteInfo(r,s.id,!1),o=s.context.findViewItemByRouteInfo(n,s.id,!1),!i||!o){e.next=7;break}return e.next=7,s.transitionPage(n,i,o,"back",!0);case 7:return e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(e){if(e)s.skipTransition=!0,s.context.goBack();else{var t=s.props.routeInfo,n=s.prevProps&&s.prevProps.routeInfo.pathname===t.pushedByRoute?s.prevProps.routeInfo:{pathname:t.pushedByRoute||""},r=s.context.findViewItemByRouteInfo(n,s.id,!1);if(r!==s.context.findViewItemByRouteInfo(t,s.id,!1)&&void 0!==(null===r||void 0===r?void 0:r.ionPageElement)){var i=r.ionPageElement;i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden")}}},n.swipeHandler={canStart:i,onStart:o,onEnd:a};case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"transitionPage",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,i,o,a){var s,u,c,l,f,d,h=this,p=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=p.length>4&&void 0!==p[4]&&p[4],u=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r,i){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=h.skipTransition)?h.skipTransition=!1:(r.classList.add("ion-page"),r.classList.add("ion-page-invisible")),e.next=4,c.commit(r,i,{deepWait:!0,duration:o||void 0===f?0:void 0,direction:f,showGoBack:!!n.pushedByRoute,progressAnimation:s,animationBuilder:n.routeAnimation});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=this.routerOutletElement,l="none"===n.routeDirection||"root"===n.routeDirection?void 0:n.routeDirection,f=null!==a&&void 0!==a?a:l,!(i&&i.ionPageElement&&this.routerOutletElement)){e.next=24;break}if(!o||!o.ionPageElement||i!==o){e.next=21;break}if(!vo(o.reactElement,n.pathname,!0)){e.next=17;break}if(!(d=lo(o.ionPageElement.outerHTML))){e.next=15;break}return this.routerOutletElement.appendChild(d),e.next=14,u(i.ionPageElement,d);case 14:this.routerOutletElement.removeChild(d);case 15:e.next=19;break;case 17:return e.next=19,u(i.ionPageElement,void 0);case 19:e.next=24;break;case 21:return e.next=23,u(i.ionPageElement,null===o||void 0===o?void 0:o.ionPageElement);case 23:o&&o.ionPageElement&&!s&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));case 24:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.children,n=s.Children.only(t);this.ionRouterOutlet=n;var r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,(function(){e.forceUpdate()}));return s.createElement(Pi.Provider,{value:this.stackContextValue},s.cloneElement(n,{ref:function(t){n.props.setRef&&n.props.setRef(t),n.props.forwardedRef&&(n.props.forwardedRef.current=t),e.routerOutletElement=t;var r=n.ref;"function"===typeof r&&r(t)}},r))}}],[{key:"contextType",get:function(){return no}}]),i}(s.PureComponent);function po(e,t){var n;return s.Children.forEach(e,(function(e){var r={exact:e.props.exact,path:e.props.path||e.props.from,component:e.props.component};se(t.pathname,r)&&(n=e)})),n||(s.Children.forEach(e,(function(e){e.props.path||e.props.from||(n=e)})),n)}function vo(e,t,n){return se(t,{exact:!!n||e.props.exact,path:e.props.path||e.props.from,component:e.props.component})}var mo=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;(0,_e.Z)(this,n),(r=t.call(this,e)).exitViewFromOtherOutletHandlers=[],r.locationHistory=new io,r.viewStack=new uo,r.routeMangerContextState={canGoBack:function(){return r.locationHistory.canGoBack()},clearOutlet:r.viewStack.clear,findViewItemByPathname:r.viewStack.findViewItemByPathname,getChildrenToRender:r.viewStack.getChildrenToRender,goBack:function(){return r.handleNavigateBack()},createViewItem:r.viewStack.createViewItem,findViewItemByRouteInfo:r.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:r.viewStack.findLeavingViewItemByRouteInfo,addViewItem:r.viewStack.add,unMountViewItem:r.viewStack.remove};var i={id:to("routeInfo"),pathname:r.props.location.pathname,search:r.props.location.search};return r.locationHistory.add(i),r.handleChangeTab=r.handleChangeTab.bind((0,ke.Z)(r)),r.handleResetTab=r.handleResetTab.bind((0,ke.Z)(r)),r.handleNativeBack=r.handleNativeBack.bind((0,ke.Z)(r)),r.handleNavigate=r.handleNavigate.bind((0,ke.Z)(r)),r.handleNavigateBack=r.handleNavigateBack.bind((0,ke.Z)(r)),r.props.registerHistoryListener(r.handleHistoryChange.bind((0,ke.Z)(r))),r.handleSetCurrentTab=r.handleSetCurrentTab.bind((0,ke.Z)(r)),r.state={routeInfo:i},r}return(0,Ee.Z)(n,[{key:"handleChangeTab",value:function(e,t,n){if(t){var r=this.locationHistory.getCurrentRouteInfoForTab(e),o=t.split("?"),a=(0,i.Z)(o,2),s=a[0],u=a[1];r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===s?(this.incomingRouteParams.routeOptions=n,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=u?"?"+u:void 0,this.incomingRouteParams.routeOptions=n,this.props.history.push(s+(u?"?"+u:"")))):this.handleNavigate(s,"push","none",void 0,n,e)}}},{key:"handleHistoryChange",value:function(e,t){var n,r,i,o;if((o=this.incomingRouteParams&&"replace"===this.incomingRouteParams.routeAction?this.locationHistory.previous():this.locationHistory.current()).pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if("REPLACE"===t&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),"POP"===t){var a=this.locationHistory.current();if(a&&a.pushedByRoute){var s=this.locationHistory.findLastLocation(a);this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:(null===(n=e.state)||void 0===n?void 0:n.direction)||"forward",routeOptions:null===(r=e.state)||void 0===r?void 0:r.routerOptions,tab:this.currentTab})}var u;if(null===(i=this.incomingRouteParams)||void 0===i?void 0:i.id)u=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(u);else{var c="push"===this.incomingRouteParams.routeAction&&"forward"===this.incomingRouteParams.routeDirection;if(u=Object.assign(Object.assign({id:to("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)u.tab=o.tab,u.pushedByRoute=o.pathname;else if("pop"===u.routeAction){var l=this.locationHistory.findLastLocation(u);u.pushedByRoute=null===l||void 0===l?void 0:l.pushedByRoute}else if("push"===u.routeAction&&u.tab!==o.tab){var f=this.locationHistory.getCurrentRouteInfoForTab(u.tab);u.pushedByRoute=null===f||void 0===f?void 0:f.pushedByRoute}else if("replace"===u.routeAction){var d=this.locationHistory.current(),h=null===d||void 0===d?void 0:d.pushedByRoute,p=void 0!==h&&h!==u.pathname?h:u.pushedByRoute;u.lastPathname=(null===d||void 0===d?void 0:d.pathname)||u.lastPathname,u.prevRouteLastPathname=null===d||void 0===d?void 0:d.lastPathname,u.pushedByRoute=p,u.routeDirection=(null===d||void 0===d?void 0:d.routeDirection)||u.routeDirection,u.routeAnimation=(null===d||void 0===d?void 0:d.routeAnimation)||u.routeAnimation}this.locationHistory.add(u)}this.setState({routeInfo:u})}this.incomingRouteParams=void 0}},{key:"handleNativeBack",value:function(){var e=this.props.history;(e.goBack||e.back)()}},{key:"handleNavigate",value:function(e,t,n,r,i,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:n,routeOptions:i,routeAnimation:r,tab:o}),"push"===t?this.props.history.push(e):this.props.history.replace(e)}},{key:"handleNavigateBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0,n=gi();e=e||n&&n.get("backButtonDefaultHref");var r=this.locationHistory.current();if(r&&r.pushedByRoute){var i=this.locationHistory.findLastLocation(r);if(i)if(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"pop",routeDirection:"back",routeAnimation:t||r.routeAnimation}),r.lastPathname===r.pushedByRoute||i.pathname===r.pushedByRoute&&""===r.tab&&""===i.tab){var o=this.props.history;(o.goBack||o.back)()}else this.handleNavigate(i.pathname+(i.search||""),"pop","back");else this.handleNavigate(e,"pop","back")}else this.handleNavigate(e,"pop","back")}},{key:"handleResetTab",value:function(e,t,n){var r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){var i=Object.assign({},r);i.pathname=t,i.routeOptions=n,this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(i.pathname+(i.search||""))}}},{key:"handleSetCurrentTab",value:function(e){this.currentTab=e;var t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}},{key:"render",value:function(){return s.createElement(no.Provider,{value:this.routeMangerContextState},s.createElement(oo,{ionRoute:so,ionRedirect:{},stackManager:ho,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}]),n}(s.PureComponent),go=function(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=z(t,["wrappedComponentRef"]);return s.createElement(Q.Consumer,null,(function(t){return t||b(!1),s.createElement(e,f({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,H()(n,e)}(mo);go.displayName="IonRouter";var yo,bo=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;(0,_e.Z)(this,n),r=t.call(this,e);var i=e.history,o=(0,kt._T)(e,["history"]);return r.history=i||P(o),r.history.listen(r.handleHistoryChange.bind((0,ke.Z)(r))),r.registerHistoryListener=r.registerHistoryListener.bind((0,ke.Z)(r)),r}return(0,Ee.Z)(n,[{key:"handleHistoryChange",value:function(e,t){var n=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(n,r)}},{key:"registerHistoryListener",value:function(e){this.historyListenHandler=e}},{key:"render",value:function(){var e=this.props,t=e.children,n=(0,kt._T)(e,["children"]);return s.createElement(J,Object.assign({history:this.history},n),s.createElement(go,{registerHistoryListener:this.registerHistoryListener},t))}}]),n}(s.Component),wo=(s.Component,s.Component,n(9565)),ko=function(){function e(t,n,r,i,o){(0,_e.Z)(this,e),this._userAccountName=void 0,this._authToken=void 0,this._accountType=void 0,this._sourcedId=void 0,this._endpointUrl=void 0,this._userAccountName=t,this._authToken=n,this._accountType=r,this._sourcedId=i,this._endpointUrl=o}return(0,Ee.Z)(e,[{key:"VSOLogin",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem(Bo,"true"),localStorage.setItem(Uo,JSON.stringify({authAccount:"student",sourcedId:"4334700840729898",endpointUrl:"http://192.168.88.99:8087/",addedType:"com.ustadmobile",authToken:"VcisaeK2MhuAxpUCvWUcmVoGyxe1NKY"})),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isUserLoggedIn",value:function(){if(void 0!=this._userAccountName&&void 0!=this._authToken&&void 0!=this._accountType&&void 0!=this._sourcedId&&void 0!=this._endpointUrl)return!0;var e=localStorage.getItem(Bo),t=localStorage.getItem(Uo)||"";if("true"==e&&t&&"null"!=t){var n=JSON.parse(t);return console.log("auth result ",JSON.stringify(n)),this._userAccountName=n.authAccount,this._accountType=n.addedType,this._authToken=n.authToken,this._sourcedId=n.sourcedId,this._endpointUrl=n.endpointUrl,void 0!=this._userAccountName&&void 0!=this._authToken&&void 0!=this._accountType&&void 0!=this._sourcedId&&void 0!=this._endpointUrl}return this._userAccountName=null,this._authToken=null,this._accountType=null,this._sourcedId=null,this._endpointUrl=null,!1}},{key:"authLogout",value:function(){try{return this._userAccountName=null,this._authToken=null,this._accountType=null,this._sourcedId=null,this._endpointUrl=null,localStorage.setItem(Uo,"null"),localStorage.setItem("isUserLogedIn","false"),!0}catch(e){return console.log("error",e),!1}}},{key:"userAccountName",get:function(){return this._userAccountName},set:function(e){this._userAccountName=e}},{key:"authToken",get:function(){return this._authToken},set:function(e){this._authToken=e}},{key:"accountType",get:function(){return this._accountType},set:function(e){this._accountType=e}},{key:"sourcedId",get:function(){return this._sourcedId},set:function(e){this._sourcedId=e}},{key:"endpointUrl",get:function(){return this._endpointUrl},set:function(e){this._endpointUrl=e}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e(null,null,null,null,null)),e.instance}},{key:"i",get:function(){return e.getInstance()}}]),e}();ko.instance=void 0;var xo=function(e){return e.SIERRA_LEONE_ENGLISH="sl-en",e.SIERRA_LEONE_MATHS="sl-maths",e.PUZZLE="puzzle",e.ENGLISH="en",e.MATHS="maths",e}({}),So=function(e){return e.GRADE1="Grade 1",e.GRADE2="Grade 2",e}({}),_o=(xo.ENGLISH,xo.MATHS,xo.PUZZLE,function(e){return e.WEEKLY="WEEKLY",e.MONTHLY="MONTHLY",e.ALL_TIME="ALL_TIME",e}({})),Eo=function(e){return e.en="English",e.hi="\u0939\u093f\u0928\u094d\u0926\u0940",e.kn="\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",e}({}),Co=function(e){return e.SUGGESTIONS="SUGGESTIONS",e.SUBJECTS="SUBJECTS",e.HOME="HOME",e.ASSIGNMENT="ASSIGNMENT",e.CHALLENGES="CHALLENGES",e.SEARCH="SEARCH",e.LIVEQUIZ="LIVE-QUIZ",e.PROFILE="PROFILE",e.HISTORY="HISTORY",e.FAVOURITES="FAVOURITES",e}({}),Io=function(e){return e.PROFILE="PROFILE",e.SETTING="SETTING",e.HELP="HELP",e.FAQ="FAQ",e}({}),Oo=function(e){return e.LEADERBOARD="LEADERBOARD",e.EVENTS="EVENTS",e.REWARDS="REWARDS",e}({}),Zo=function(e){return e.BADGES="BADGES",e.BONUS="BONUS",e.STICKER="STICKER",e}({}),To="R5sDh8LKKBx7D7o1MMl0",Ao="al0OqObeTBK3OFWSyDOg",Po="continue",Ro=(Io.PROFILE,Io.SETTING,Io.HELP,Io.FAQ,new Map([[Co.HOME,{displayName:"Home",iconSrc:"/assets/icons/homeIcon.svg",headerList:Co.HOME}],[Co.SUGGESTIONS,{displayName:"Suggestion",iconSrc:"/assets/icons/suggestionIcon_icon.svg",headerList:Co.SUGGESTIONS}],[Co.SUBJECTS,{displayName:"Subjects",iconSrc:"/assets/icons/subjectIcon.svg",headerList:Co.SUBJECTS}],[Co.ASSIGNMENT,{displayName:"Home work",iconSrc:"/assets/icons/homeworkIcon.svg",headerList:Co.ASSIGNMENT}],[Co.SEARCH,{displayName:"Search",iconSrc:"/assets/icons/searchIcon.svg",headerList:Co.SEARCH}],[Co.LIVEQUIZ,{displayName:"Live Quiz",iconSrc:"/assets/icons/quiz_icon.svg",headerList:Co.LIVEQUIZ}]])),No=new Map([[Co.SUGGESTIONS,{displayName:"Suggestion",iconSrc:"/assets/icons/suggestionInactiveIcon.svg",headerList:Co.SUGGESTIONS}],[Co.SUBJECTS,{displayName:"Subjects",iconSrc:"/assets/icons/subjectInactiveIcon.svg",headerList:Co.SUBJECTS}],[Co.ASSIGNMENT,{displayName:"Home work",iconSrc:"/assets/icons/homeworkInactiveIcon.svg",headerList:Co.ASSIGNMENT}],[Co.SEARCH,{displayName:"Search",iconSrc:"/assets/icons/searchInactiveIcon.svg",headerList:Co.SEARCH}],[Co.LIVEQUIZ,{displayName:"Live Quiz",iconSrc:"/assets/icons/quizInactiveIcon.svg",headerList:Co.LIVEQUIZ}]]),jo=(new Map([[Co.SUGGESTIONS,{displayName:"Suggestion",iconSrc:"/assets/icons/suggestion_icon.svg",headerList:Co.SUGGESTIONS}],[Co.SUBJECTS,{displayName:"Subjects",iconSrc:"/assets/icons/subject_icon.svg",headerList:Co.SUBJECTS}],[Co.ASSIGNMENT,{displayName:"Home work",iconSrc:"/assets/icons/homework_icon.svg",headerList:Co.ASSIGNMENT}],[Co.SEARCH,{displayName:"Search",iconSrc:"/assets/icons/search_icon.svg",headerList:Co.SEARCH}],[Co.LIVEQUIZ,{displayName:"Live Quiz",iconSrc:"/assets/icons/quiz_icon.svg",headerList:Co.LIVEQUIZ}]]),["#FF7925","#FFC000","#2BAC67","#008CD2","#FF94B5","#AC82CF"]),Lo=["#F99500","#0090D3","#F3609B","#8F5AA5","#009948"],Do=function(e){return e.APP_UPDATE="/",e.HOME="/home",e.LOGIN="/login",e.GAME="/game",e.END="/end",e.PROFILE="/profile",e.PARENT="/parent",e.CREATE_STUDENT="/create-student",e.EDIT_STUDENT="/edit-student",e.DISPLAY_STUDENT="/display-students",e.DISPLAY_SUBJECTS="/display-subjects",e.DISPLAY_CHAPTERS="/display-chapters",e.APP_LANG_SELECTION="/app-lang-selection",e.STUDENT_PROGRESS="/student-progress",e.SEARCH="/search",e.LEADERBOARD="/leaderboard",e.ASSIGNMENT="/assignment",e.JOIN_CLASS="/join-class",e.LIVE_QUIZ="/live-quiz",e.SELECT_MODE="/select-mode",e.TERMS_AND_CONDITIONS="/terms-and-conditions",e.LIVE_QUIZ_JOIN="/live-quiz-join",e.LIVE_QUIZ_GAME="/live-quiz-game",e.LIVE_QUIZ_ROOM_RESULT="/live-quiz-room-result",e.LIVE_QUIZ_LEADERBOARD="/live-quiz-leaderboard",e}({}),Mo=function(e){return e.ENGLISH="en",e.HINDI="hi",e.KANNADA="kn",e.MARATHI="mr",e.SIERRA_LEONE="sl_en",e}({}),Fo=(window.innerWidth,window.innerHeight,"lessonsPlayedCount"),Bo="isUserLogedIn",Uo="userToken",zo="currentSchool",Vo="currentMode",Ho="currentClass",Wo="language",$o="exam",qo="PreQuiz",Go="GradeMap",Ko="DispSubStore",Qo="EditStudentStorage",Jo="sfxOff",Yo="musicOff",Xo="recommendations",ea="liveQuiz",ta="type",na=!wo.dV.isNativePlatform()&&{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"046e7f5aac99ffa553eae479b809dbdd",REACT_APP_STORAGE_BUCKET:"chimple-prod.appspot.com",REACT_APP_MEASUREMENT_ID:"733418845711",REACT_APP_HOT_UPDATE_SERVER:"https://chimple-prod-hot-update.web.app/v2/",REACT_APP_AUTH_DOMAIN:"chimple-prod.firebaseapp.com",REACT_APP_PROJECT_ID:"chimple-prod",REACT_APP_APP_ID:"1:733418845711:web:ffc43f8556b8ecaaa0957a",REACT_APP_ALGOLIA_INDEX_NAME:"lesson_cuba_prod",REACT_APP_API_KEY:"AIzaSyAqNGaNBLDNQ309JPDMbhXcZQyWSWua5UQ",REACT_APP_MESSAGING_SENDER_ID:"",REACT_APP_ALGOLIA_APP_ID:"918P925LR9"}.REACT_APP_GITHUB_BASE?{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"046e7f5aac99ffa553eae479b809dbdd",REACT_APP_STORAGE_BUCKET:"chimple-prod.appspot.com",REACT_APP_MEASUREMENT_ID:"733418845711",REACT_APP_HOT_UPDATE_SERVER:"https://chimple-prod-hot-update.web.app/v2/",REACT_APP_AUTH_DOMAIN:"chimple-prod.firebaseapp.com",REACT_APP_PROJECT_ID:"chimple-prod",REACT_APP_APP_ID:"1:733418845711:web:ffc43f8556b8ecaaa0957a",REACT_APP_ALGOLIA_INDEX_NAME:"lesson_cuba_prod",REACT_APP_API_KEY:"AIzaSyAqNGaNBLDNQ309JPDMbhXcZQyWSWua5UQ",REACT_APP_MESSAGING_SENDER_ID:"",REACT_APP_ALGOLIA_APP_ID:"918P925LR9"}.REACT_APP_GITHUB_BASE:"",ra=["MWGQt7j9HrEE9XqKYsGg","5fq9UvGv0sjzZJqOZt3c","nnFVTiGBmw1LiV3xa4V1"],ia=function(e){return e.BOY="male",e.GIRL="female",e.OTHER="unspecified",e}({}),oa=["Aligator","armydog","astronautraccon","barbermouse","bosspanda","bull","cheetah","chefrat","chicken","chimpanzee","cow","deer","doctorrabbit","donkey","elephant","fox","giraffe","goat","hamster","hippo","horse","journalistdeer","koala","lion","monkey","owl","pilotpenguin","plumerpig","policecat","postmanbear","rabbit","reporterfox","rhino","sheep","sloth","snake","soldierpolar","teacherbird","tiger","zebra"],aa=null!==(yo="lesson_cuba_prod")?yo:"",sa=function(e){return e.PARENT="PARENT",e.SCHOOL="SCHOOL",e}({}),ua=function(e){return e.CREATE="create",e.UPDATE="update",e.DELETE="delete",e}({}),ca="currentStudent",la="currentUser",fa=function(e){return e.LESSON_END="lesson_end",e.LESSON_INCOMPLETE="lesson_incomplete",e.USER_PROFILE="user_profile",e}({}),da="fcmTokens",ha="is_conected",pa="cacheImage",va="isMigrationChecked",ma="copiedBundleFilesIndex",ga=/^[0-9]+$/,ya="downloadedLessonId",ba="lastFunctionCall",wa="lessonDocLessonidMap",ka="showAvatarDailyProgress",xa=function(e){return e.BADGE="badge",e.BONUS="bonus",e.STICKER="sticker",e}({}),Sa="lesson_download_success",_a="all_lesson_download_success",Ea="download_button_loading_status",Ca=n(6417),Ia=function(e){var t=e.score;return(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("div",{className:"star-background-shadow"}),(0,Ca.jsx)("div",{className:"lesson-card-score-card",children:(0,Ca.jsxs)("div",{children:[t>25?(0,Ca.jsx)("img",{className:"lesson-card-score-card-star",src:"assets/icons/star2.svg"}):(0,Ca.jsx)("img",{className:"lesson-card-score-card-star",src:"assets/icons/greystar2.svg"}),t>50?(0,Ca.jsx)("img",{className:"lesson-card-score-card-middle-star",src:"assets/icons/star2.svg"}):(0,Ca.jsx)("img",{className:"lesson-card-score-card-middle-star",src:"assets/icons/greystar2.svg"}),t>75?(0,Ca.jsx)("img",{className:"lesson-card-score-card-star",src:"assets/icons/star2.svg"}):(0,Ca.jsx)("img",{className:"lesson-card-score-card-star",src:"assets/icons/greystar2.svg"})]})})]})},Oa=function(){function e(t,n,r){(0,_e.Z)(this,e),this._updatedAt=void 0,this._createdAt=void 0,this._docId=void 0,this._updatedAt=t,this._createdAt=n,this._docId=r}return(0,Ee.Z)(e,[{key:"updatedAt",get:function(){return this._updatedAt},set:function(e){this._updatedAt=e}},{key:"createdAt",get:function(){return this._createdAt},set:function(e){this._createdAt=e}},{key:"docId",get:function(){return this._docId},set:function(e){this._docId=e}}]),e}(),Za=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r,i=e.clonedFrom,o=e.createdBy,a=e.id,s=e.language,u=e.outcome,c=e.pluginType,l=e.status,f=e.subject,d=e.targetFrom,h=e.targetTo,p=e.thumbnail,v=e.topic,m=e.type,g=e.title,y=e.updatedAt,b=e.createdAt,w=e.docId,k=e.cocosChapterCode,x=e.cocosSubjectCode;return(0,_e.Z)(this,n),(r=t.call(this,y,b,w))._title=void 0,r._clonedFrom=void 0,r._createdBy=void 0,r._id=void 0,r._language=void 0,r._outcome=void 0,r._pluginType=void 0,r._status=void 0,r._subject=void 0,r._targetFrom=void 0,r._targetTo=void 0,r._thumbnail=void 0,r._topic=void 0,r._type=void 0,r._cocosChapterCode=void 0,r._cocosSubjectCode=void 0,r._assignment=void 0,r._chapterTitle=void 0,r._clonedFrom=i,r._createdBy=o,r._id=a,r._language=s,r._outcome=u,r._pluginType=c,r._status=l,r._subject=f,r._targetFrom=d,r._targetTo=h,r._thumbnail=p,r._topic=v,r._type=m,r._title=g,r._cocosChapterCode=k,r._cocosSubjectCode=x,r}return(0,Ee.Z)(n,[{key:"title",get:function(){return this._title},set:function(e){this._title=e}},{key:"clonedFrom",get:function(){return this._clonedFrom},set:function(e){this._clonedFrom=e}},{key:"createdBy",get:function(){return this._createdBy},set:function(e){this._createdBy=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"language",get:function(){return this._language},set:function(e){this._language=e}},{key:"outcome",get:function(){return this._outcome},set:function(e){this._outcome=e}},{key:"pluginType",get:function(){return this._pluginType},set:function(e){this._pluginType=e}},{key:"status",get:function(){return this._status},set:function(e){this._status=e}},{key:"subject",get:function(){return this._subject},set:function(e){this._subject=e}},{key:"targetFrom",get:function(){return this._targetFrom},set:function(e){this._targetFrom=e}},{key:"targetTo",get:function(){return this._targetTo},set:function(e){this._targetTo=e}},{key:"thumbnail",get:function(){return this._thumbnail},set:function(e){this._thumbnail=e}},{key:"topic",get:function(){return this._topic},set:function(e){this._topic=e}},{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"cocosChapterCode",get:function(){return this._cocosChapterCode},set:function(e){this._cocosChapterCode=e}},{key:"cocosSubjectCode",get:function(){return this._cocosSubjectCode},set:function(e){this._cocosSubjectCode=e}},{key:"assignment",get:function(){return this._assignment},set:function(e){this._assignment=e}},{key:"chapterTitle",get:function(){return this._chapterTitle},set:function(e){this._chapterTitle=e}}],[{key:"toJson",value:function(e){return{title:e.title,clonedFrom:e.clonedFrom,createdBy:e.createdBy,id:e.id,language:e.language,outcome:e.outcome,pluginType:e.pluginType,status:e.status,subject:e.subject,targetFrom:e.targetFrom,targetTo:e.targetTo,thumbnail:e.thumbnail,topic:e.topic,type:e.type,cocosChapterCode:e.cocosChapterCode,cocosSubjectCode:e.cocosSubjectCode,docId:e.docId,assignment:e.assignment}}}]),n}(Oa),Ta=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r,i=e.chapters,o=e.courseCode,a=e.curriculum,s=e.grade,u=e.sortIndex,c=e.status,l=e.subject,f=e.title,d=e.thumbnail,h=e.updatedAt,p=e.createdAt,v=e.docId;return(0,_e.Z)(this,n),(r=t.call(this,h,p,v))._title=void 0,r._chapters=void 0,r._courseCode=void 0,r._curriculum=void 0,r._grade=void 0,r._sortIndex=void 0,r._status=void 0,r._subject=void 0,r._thumbnail=void 0,r._chapters=i,r._courseCode=o,r._curriculum=a,r._grade=s,r._sortIndex=u,r._status=c,r._subject=l,r._title=f,r._thumbnail=d,r}return(0,Ee.Z)(n,[{key:"chapters",get:function(){return this._chapters},set:function(e){this._chapters=e}},{key:"courseCode",get:function(){return this._courseCode},set:function(e){this._courseCode=e}},{key:"curriculum",get:function(){return this._curriculum},set:function(e){this._curriculum=e}},{key:"grade",get:function(){return this._grade},set:function(e){this._grade=e}},{key:"sortIndex",get:function(){return this._sortIndex},set:function(e){this._sortIndex=e}},{key:"status",get:function(){return this._status},set:function(e){this._status=e}},{key:"subject",get:function(){return this._subject},set:function(e){this._subject=e}},{key:"title",get:function(){return this._title},set:function(e){this._title=e}},{key:"thumbnail",get:function(){return this._thumbnail},set:function(e){this._thumbnail=e}}],[{key:"toJson",value:function(e){return{chapters:e.chapters,courseCode:e.courseCode,curriculum:e.curriculum,grade:e.grade,sortIndex:e.sortIndex,status:e.status,subject:e.subject,title:e.title,thumbnail:e.thumbnail}}}]),n}(Oa),Aa=function(){function e(){(0,_e.Z)(this,e),this.s=void 0}return(0,Ee.Z)(e,[{key:"getAssignmentById",value:function(e){return this.s.getAssignmentById(e)}},{key:"liveQuizListener",value:function(e,t){return this.s.liveQuizListener(e,t)}},{key:"updateLiveQuiz",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.s.updateLiveQuiz(n,r,i,o,a));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"joinLiveQuiz",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.s.joinLiveQuiz(n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateRewardsForStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.updateRewardsForStudent(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUserByDocId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getUserByDocId(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRewardAsSeen",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.updateRewardAsSeen(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLeaderboardStudentResultFromB2CCollection",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getLeaderboardStudentResultFromB2CCollection(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRewardsById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.s.getRewardsById(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBadgeById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.s.getBadgeById(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStickerById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.s.getStickerById(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAvatarInfo",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getAvatarInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSchoolsForUser",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getSchoolsForUser(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isUserTeacher",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.isUserTeacher(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClassesForSchool",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getClassesForSchool(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getStudentsForClass",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getStudentsForClass(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"currentMode",get:function(){return this.s.currentMode},set:function(e){this.s.currentMode=e}},{key:"deleteAllUserData",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.deleteAllUserData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCoursesByGrade",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getCoursesByGrade(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCourses",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getAllCourses();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSchoolById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getSchoolById(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDataByInviteCode",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getDataByInviteCode(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.linkStudent(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStudentResult",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,this.s.getStudentResult(n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStudentResultInMap",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getStudentResultInMap(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClassById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getClassById(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isStudentLinked",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,this.s.isStudentLinked(n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPendingAssignments",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getPendingAssignments(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s,u,c,l){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.updateStudent(n,r,i,o,a,s,u,c,l);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s,u,c){return e.apply(this,arguments)}}()},{key:"getLiveQuizLessons",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.s.getLiveQuizLessons(n,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLessonResultsForStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getLessonResultsForStudent(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateResult",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s,u,c,l,f,d){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.updateResult(n,r,i,o,a,s,u,c,l,f,d);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s,u,c,l,f){return e.apply(this,arguments)}}()},{key:"getCoursesForParentsStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getCoursesForParentsStudent(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLessonWithCocosLessonId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getLessonWithCocosLessonId(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCoursesForClassStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getCoursesForClassStudent(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLesson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:void 0,i=a.length>2&&void 0!==a[2]&&a[2],o=a.length>3&&void 0!==a[3]?a[3]:void 0,e.next=5,this.s.getLesson(n,r,i,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLessonsForChapter",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getLessonsForChapter(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDifferentGradesForCourse",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getDifferentGradesForCourse(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLiveQuizRoomDoc",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getLiveQuizRoomDoc(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCurriculums",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getAllCurriculums();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllGrades",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getAllGrades();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAllLanguages",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getAllLanguages();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getParentStudentProfiles",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getParentStudentProfiles();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateSoundFlag",value:function(e,t){return this.s.updateSoundFlag(e,t)}},{key:"updateMusicFlag",value:function(e,t){return this.s.updateMusicFlag(e,t)}},{key:"updateTcAccept",value:function(e,t){return this.s.updateTcAccept(e,t)}},{key:"currentStudent",get:function(){return this.s.currentStudent},set:function(e){this.s.currentStudent=e}},{key:"currentClass",get:function(){return this.s.currentClass},set:function(e){this.s.currentClass=e}},{key:"currentSchool",get:function(){return this.s.currentSchool},set:function(e){this.s.currentSchool=e}},{key:"updateLanguage",value:function(e,t){return this.s.updateLanguage(e,t)}},{key:"createProfile",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s,u,c){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.createProfile(n,r,i,o,a,s,u,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s,u){return e.apply(this,arguments)}}()},{key:"deleteProfile",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.deleteProfile(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLanguageWithId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getLanguageWithId(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubject",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getSubject(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getCourse(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLeaderboardResults",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getLeaderboardResults(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAllLessonsForCourse",value:function(e){return this.s.getAllLessonsForCourse(e)}},{key:"getLessonFromCourse",value:function(e,t){return this.s.getLessonFromCourse(e,t)}},{key:"getCourseFromLesson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.s.getCourseFromLesson(n));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(t){return e.i||(e.i=new e,e.i.s=t),e.i}}]),e}();Aa.i=void 0;var Pa,Ra=n(1413),Na=n(5647),ja=n(1752),La=n(1120),Da=n(8664),Ma=n(904),Fa=n(2339),Ba=n(2413),Ua=n(4766),za="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Va={},Ha=Ha||{},Wa=za||self;function $a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function qa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ga="closure_uid_"+(1e9*Math.random()>>>0),Ka=0;function Qa(e,t,n){return e.call.apply(e.bind,arguments)}function Ja(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ya(e,t,n){return(Ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Qa:Ja).apply(null,arguments)}function Xa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function es(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function ts(){this.s=this.s,this.o=this.o}ts.prototype.s=!1,ts.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Ga)&&e[Ga]||(e[Ga]=++Ka)}(this)},ts.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ns=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function is(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if($a(r)){var i=e.length||0,o=r.length||0;e.length=i+o;for(var a=0;a<o;a++)e[i+a]=r[a]}else e.push(r)}}function os(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}os.prototype.h=function(){this.defaultPrevented=!0};var as=function(){if(!Wa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wa.addEventListener("test",(function(){}),t),Wa.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function ss(e){return/^[\s\xa0]*$/.test(e)}function us(){var e=Wa.navigator;return e&&(e=e.userAgent)?e:""}function cs(e){return-1!=us().indexOf(e)}function ls(e){return ls[" "](e),e}ls[" "]=function(){};var fs,ds,hs=cs("Opera"),ps=cs("Trident")||cs("MSIE"),vs=cs("Edge"),ms=vs||ps,gs=cs("Gecko")&&!(-1!=us().toLowerCase().indexOf("webkit")&&!cs("Edge"))&&!(cs("Trident")||cs("MSIE"))&&!cs("Edge"),ys=-1!=us().toLowerCase().indexOf("webkit")&&!cs("Edge");function bs(){var e=Wa.document;return e?e.documentMode:void 0}e:{var ws="",ks=function(){var e=us();return gs?/rv:([^\);]+)(\)|;)/.exec(e):vs?/Edge\/([\d\.]+)/.exec(e):ps?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ys?/WebKit\/(\S+)/.exec(e):hs?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ks&&(ws=ks?ks[1]:""),ps){var xs=bs();if(null!=xs&&xs>parseFloat(ws)){fs=String(xs);break e}}fs=ws}if(Wa.document&&ps){var Ss=bs();ds=Ss||(parseInt(fs,10)||void 0)}else ds=void 0;var _s=ds;function Es(e,t){if(os.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gs){e:{try{ls(t.nodeName);var i=!0;break e}catch(ZW){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Cs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Es.$.h.call(this)}}es(Es,os);var Cs={2:"touch",3:"pen",4:"mouse"};Es.prototype.h=function(){Es.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Is="closure_listenable_"+(1e6*Math.random()|0),Os=0;function Zs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Os,this.fa=this.ia=!1}function Ts(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function As(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ps(e){var t={};for(var n in e)t[n]=e[n];return t}var Rs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ns(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Rs.length;o++)n=Rs[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function js(e){this.src=e,this.g={},this.h=0}function Ls(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=ns(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ts(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ds(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}js.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=Ds(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Zs(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var Ms="closure_lm_"+(1e6*Math.random()|0),Fs={};function Bs(e,t,n,r,i){if(r&&r.once)return zs(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Bs(e,t[o],n,r,i);return null}return n=Ks(n),e&&e[Is]?e.O(t,n,qa(r)?!!r.capture:!!r,i):Us(e,t,n,!1,r,i)}function Us(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=qa(i)?!!i.capture:!!i,s=qs(e);if(s||(e[Ms]=s=new js(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=$s;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)as||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ws(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zs(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)zs(e,t[o],n,r,i);return null}return n=Ks(n),e&&e[Is]?e.P(t,n,qa(r)?!!r.capture:!!r,i):Us(e,t,n,!0,r,i)}function Vs(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Vs(e,t[o],n,r,i);else r=qa(r)?!!r.capture:!!r,n=Ks(n),e&&e[Is]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ds(o=e.g[t],n,r,i))&&(Ts(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=qs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ds(t,n,r,i)),(n=-1<e?t[e]:null)&&Hs(n))}function Hs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Is])Ls(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ws(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qs(t))?(Ls(n,e),0==n.h&&(n.src=null,t[Ms]=null)):Ts(e)}}}function Ws(e){return e in Fs?Fs[e]:Fs[e]="on"+e}function $s(e,t){if(e.fa)e=!0;else{t=new Es(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Hs(e),e=n.call(r,t)}return e}function qs(e){return(e=e[Ms])instanceof js?e:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ks(e){return"function"===typeof e?e:(e[Gs]||(e[Gs]=function(t){return e.handleEvent(t)}),e[Gs])}function Qs(){ts.call(this),this.i=new js(this),this.S=this,this.J=null}function Js(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new os(t,e);else if(t instanceof os)t.target=t.target||e;else{var i=t;Ns(t=new os(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ys(a,r,!0,t)&&i}if(i=Ys(a=t.g=e,r,!0,t)&&i,i=Ys(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ys(a=t.g=n[o],r,!1,t)&&i}function Ys(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,u=a.la||a.src;a.ia&&Ls(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}es(Qs,ts),Qs.prototype[Is]=!0,Qs.prototype.removeEventListener=function(e,t,n,r){Vs(this,e,t,n,r)},Qs.prototype.N=function(){if(Qs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ts(n[r]);delete t.g[e],t.h--}}this.J=null},Qs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Qs.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xs=Wa.JSON.stringify,eu=function(){function e(t,n){(0,_e.Z)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return(0,Ee.Z)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function tu(){var e=cu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var nu=function(){function e(){(0,_e.Z)(this,e),this.h=this.g=null}return(0,Ee.Z)(e,[{key:"add",value:function(e,t){var n=ru.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ru=new eu((function(){return new iu}),(function(e){return e.reset()})),iu=function(){function e(){(0,_e.Z)(this,e),this.next=this.g=this.h=null}return(0,Ee.Z)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ou(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function au(e){Wa.setTimeout((function(){throw e}),0)}var su,uu=!1,cu=new nu,lu=function(){var e=Wa.Promise.resolve(void 0);su=function(){e.then(fu)}},fu=function(){for(var e;e=tu();){try{e.h.call(e.g)}catch(n){au(n)}var t=ru;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}uu=!1};function du(e,t){Qs.call(this),this.h=e||1,this.g=t||Wa,this.j=Ya(this.qb,this),this.l=Date.now()}function hu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function pu(e,t,n){if("function"===typeof e)n&&(e=Ya(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ya(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wa.setTimeout(e,t||0)}function vu(e){e.g=pu((function(){e.g=null,e.i&&(e.i=!1,vu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}es(du,Qs),(Pa=du.prototype).ga=!1,Pa.T=null,Pa.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Js(this,"tick"),this.ga&&(hu(this),this.start()))}},Pa.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pa.N=function(){du.$.N.call(this),hu(this),delete this.g};var mu=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return(0,Ee.Z)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:vu(this)}},{key:"N",value:function(){(0,ja.Z)((0,La.Z)(n.prototype),"N",this).call(this),this.g&&(Wa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ts);function gu(e){ts.call(this),this.h=e,this.g={}}es(gu,ts);var yu=[];function bu(e,t,n,r){Array.isArray(n)||(n&&(yu[0]=n.toString()),n=yu);for(var i=0;i<n.length;i++){var o=Bs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function wu(e){As(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hs(e)}),e),e.g={}}function ku(){this.g=!0}function xu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Xs(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}gu.prototype.N=function(){gu.$.N.call(this),wu(this)},gu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ku.prototype.Ea=function(){this.g=!1},ku.prototype.info=function(){};var Su={},_u=null;function Eu(){return _u=_u||new Qs}function Cu(e){os.call(this,Su.Ta,e)}function Iu(e){var t=Eu();Js(t,new Cu(t))}function Ou(e,t){os.call(this,Su.STAT_EVENT,e),this.stat=t}function Zu(e){var t=Eu();Js(t,new Ou(t,e))}function Tu(e,t){os.call(this,Su.Ua,e),this.size=t}function Au(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wa.setTimeout((function(){e()}),t)}Su.Ta="serverreachability",es(Cu,os),Su.STAT_EVENT="statevent",es(Ou,os),Su.Ua="timingevent",es(Tu,os);var Pu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ru={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nu(){}function ju(e){return e.h||(e.h=e.i())}function Lu(){}Nu.prototype.h=null;var Du,Mu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fu(){os.call(this,"d")}function Bu(){os.call(this,"c")}function Uu(){}function zu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new gu(this),this.P=Hu,e=ms?125:void 0,this.V=new du(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vu}function Vu(){this.i=null,this.g="",this.h=!1}es(Fu,os),es(Bu,os),es(Uu,Nu),Uu.prototype.g=function(){return new XMLHttpRequest},Uu.prototype.i=function(){return{}},Du=new Uu;var Hu=45e3,Wu={},$u={};function qu(e,t,n){e.L=1,e.v=dc(sc(t)),e.s=n,e.S=!0,Gu(e,null)}function Gu(e,t){e.G=Date.now(),Yu(e),e.A=sc(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ec(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Vu,e.g=El(e.l,n?t:null,!e.s),0<e.O&&(e.M=new mu(Ya(e.Pa,e,e.g),e.O)),bu(e.U,e.g,"readystatechange",e.nb),t=e.I?Ps(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Iu(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ku(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Qu(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Ju(e,n))==$u){4==t&&(e.o=4,Zu(14),i=!1),xu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Wu){e.o=4,Zu(15),xu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}xu(e.j,e.m,r,null),rc(e,r)}Ku(e)&&r!=$u&&r!=Wu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gl(t),t.M=!0,Zu(11))):(xu(e.j,e.m,n,"[Invalid Chunked Response]"),nc(e),tc(e))}function Ju(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$u:(n=Number(t.substring(n,r)),isNaN(n)?Wu:(r+=1)+n>t.length?$u:(t=t.slice(r,r+n),e.C=r+n,t))}function Yu(e){e.Y=Date.now()+e.P,Xu(e,e.P)}function Xu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Au(Ya(e.lb,e),t)}function ec(e){e.B&&(Wa.clearTimeout(e.B),e.B=null)}function tc(e){0==e.l.H||e.J||wl(e.l,e)}function nc(e){ec(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,hu(e.V),wu(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function rc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Pc(n.i,e)))if(!e.K&&Pc(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;bl(n),cl(n)}ml(n),Zu(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Au(Ya(n.ib,n),6e3));if(1>=Ac(n.i)&&n.oa){try{n.oa()}catch(o){}n.oa=void 0}}else xl(n,11)}else if((e.K||n.g==e)&&bl(n),!ss(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.V=o[0],o=o[1],2==n.H)if("c"==o[0]){n.K=o[1],n.pa=o[2];var a=o[3];null!=a&&(n.ra=a,n.l.info("VER="+n.ra));var s=o[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Rc(f,f.h),f.h=null))}if(r.F){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.Da=d,fc(r.I,r.F,d))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var h=e;if((r=n).wa=_l(r,r.J?r.pa:null,r.Y),h.K){Nc(r.i,h);var p=h,v=r.L;v&&p.setTimeout(v),p.B&&(ec(p),Yu(p)),r.g=h}else vl(r);0<n.j.length&&fl(n)}else"stop"!=o[0]&&"close"!=o[0]||xl(n,7);else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?xl(n,7):ul(n):"noop"!=o[0]&&n.h&&n.h.Aa(o),n.A=0)}Iu()}catch(o){}}function ic(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if($a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if($a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if($a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(Pa=zu.prototype).setTimeout=function(e){this.P=e},Pa.nb=function(e){e=e.target;var t=this.M;t&&3==nl(e)?t.l():this.Pa(e)},Pa.Pa=function(e){try{if(e==this.g)e:{var t=nl(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ms||this.g&&(this.h.h||this.g.ja()||rl(this.g)))){this.J||4!=t||7==n||Iu(),ec(this);var r=this.g.da();this.ca=r;t:if(Ku(this)){var i=rl(this.g);e="";var o=i.length,a=4==nl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){nc(this),tc(this);var s="";break t}this.h.i=new Wa.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ss(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Zu(12),nc(this),tc(this);break e}xu(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rc(this,r)}this.S?(Qu(this,t,s),ms&&this.i&&3==t&&(bu(this.U,this.V,"tick",this.mb),this.V.start())):(xu(this.j,this.m,s,null),rc(this,s)),4==t&&nc(this),this.i&&!this.J&&(4==t?wl(this.l,this):(this.i=!1,Yu(this)))}else(function(e){var t={};e=(e.g&&2<=nl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!ss(e[n])){var r=ou(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var o=t[i]||[];t[i]=o,o.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Zu(12)):(this.o=0,Zu(13)),nc(this),tc(this)}}}catch(t){}},Pa.mb=function(){if(this.g){var e=nl(this.g),t=this.g.ja();this.C<t.length&&(ec(this),Qu(this,e,t),this.i&&4!=e&&Yu(this))}},Pa.cancel=function(){this.J=!0,nc(this)},Pa.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Iu(),Zu(17)),nc(this),this.o=2,tc(this)):Xu(this,this.Y-e)};var oc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ac(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ac){this.h=e.h,uc(this,e.j),this.s=e.s,this.g=e.g,cc(this,e.m),this.l=e.l;var t=e.i,n=new kc;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),lc(this,n),this.o=e.o}else e&&(t=String(e).match(oc))?(this.h=!1,uc(this,t[1]||"",!0),this.s=hc(t[2]||""),this.g=hc(t[3]||"",!0),cc(this,t[4]),this.l=hc(t[5]||"",!0),lc(this,t[6]||"",!0),this.o=hc(t[7]||"")):(this.h=!1,this.i=new kc(null,this.h))}function sc(e){return new ac(e)}function uc(e,t,n){e.j=n?hc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function cc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lc(e,t,n){t instanceof kc?(e.i=t,function(e,t){t&&!e.j&&(xc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Sc(this,t),Ec(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pc(t,bc)),e.i=new kc(t,e.h))}function fc(e,t,n){e.i.set(t,n)}function dc(e){return fc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ac.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pc(t,mc,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pc(t,mc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pc(n,"/"==n.charAt(0)?yc:gc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pc(n,wc)),e.join("")};var mc=/[#\/\?@]/g,gc=/[#\?:]/g,yc=/[#\?]/g,bc=/[#\?@]/g,wc=/#/g;function kc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xc(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Sc(e,t){xc(e),t=Cc(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _c(e,t){return xc(e),t=Cc(e,t),e.g.has(t)}function Ec(e,t,n){Sc(e,t),0<n.length&&(e.i=null,e.g.set(Cc(e,t),rs(n)),e.h+=n.length)}function Cc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Pa=kc.prototype).add=function(e,t){xc(this),this.i=null,e=Cc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Pa.forEach=function(e,t){xc(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Pa.ta=function(){xc(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Pa.Z=function(e){xc(this);var t=[];if("string"===typeof e)_c(this,e)&&(t=t.concat(this.g.get(Cc(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Pa.set=function(e,t){return xc(this),this.i=null,_c(this,e=Cc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Pa.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Pa.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var a=i;""!==o[r]&&(a+="="+encodeURIComponent(String(o[r]))),e.push(a)}}return this.i=e.join("&")};var Ic=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.g=t,this.map=n}));function Oc(e){this.l=e||Zc,Wa.PerformanceNavigationTiming?e=0<(e=Wa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wa.g&&Wa.g.Ka&&Wa.g.Ka()&&Wa.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zc=10;function Tc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ac(e){return e.h?1:e.g?e.g.size:0}function Pc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Rc(e,t){e.g?e.g.add(t):e.h=t}function Nc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function jc(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=(0,Xt.Z)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(o){r.e(o)}finally{r.f()}return n}return rs(e.i)}Oc.prototype.cancel=function(){if(this.i=jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=(0,Xt.Z)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Lc=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"stringify",value:function(e){return Wa.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Wa.JSON.parse(e,void 0)}}]),e}();function Dc(){this.g=new Lc}function Mc(e,t,n){var r=n||"";try{ic(e,(function(e,n){var i=e;qa(e)&&(i=Xs(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(ZW){}}function Bc(e){this.l=e.fc||null,this.j=e.ob||!1}function Uc(e,t){Qs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=zc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}es(Bc,Nu),Bc.prototype.g=function(){return new Uc(this.l,this.j)},Bc.prototype.i=function(e){return function(){return e}}({}),es(Uc,Qs);var zc=0;function Vc(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Hc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Wc(e)}function Wc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Pa=Uc.prototype).open=function(e,t){if(this.readyState!=zc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Wc(this)},Pa.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Wa).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Pa.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hc(this)),this.readyState=zc},Pa.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wc(this)),this.g&&(this.readyState=3,Wc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Wa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vc(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Pa.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Hc(this):Wc(this),3==this.readyState&&Vc(this)}},Pa.Za=function(e){this.g&&(this.response=this.responseText=e,Hc(this))},Pa.Ya=function(e){this.g&&(this.response=e,Hc(this))},Pa.ka=function(){this.g&&Hc(this)},Pa.setRequestHeader=function(e,t){this.v.append(e,t)},Pa.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Pa.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var $c=Wa.JSON.parse;function qc(e){Qs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gc,this.L=this.M=!1}es(qc,Qs);var Gc="",Kc=/^https?$/i,Qc=["POST","PUT"];function Jc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Yc(e),el(e)}function Yc(e){e.F||(e.F=!0,Js(e,"complete"),Js(e,"error"))}function Xc(e){if(e.h&&"undefined"!=typeof Ha&&(!e.C[1]||4!=nl(e)||2!=e.da()))if(e.v&&4==nl(e))pu(e.La,0,e);else if(Js(e,"readystatechange"),4==nl(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.I).match(oc)[1]||null;!o&&Wa.self&&Wa.self.location&&(o=Wa.self.location.protocol.slice(0,-1)),i=!Kc.test(o?o.toLowerCase():"")}t=i}if(t)Js(e,"complete"),Js(e,"success");else{e.m=6;try{var a=2<nl(e)?e.g.statusText:""}catch(s){a=""}e.j=a+" ["+e.da()+"]",Yc(e)}}finally{el(e)}}}function el(e,t){if(e.g){tl(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Js(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function tl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Wa.clearTimeout(e.A),e.A=null)}function nl(e){return e.g?e.g.readyState:0}function rl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Gc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(cf){return null}}function il(e){var t="";return As(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ol(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=il(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):fc(e,t,n))}function al(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sl(e){this.Ga=0,this.j=[],this.l=new ku,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=al("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=al("baseRetryDelayMs",5e3,e),this.hb=al("retryDelaySeedMs",1e4,e),this.eb=al("forwardChannelMaxRetries",2,e),this.xa=al("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Oc(e&&e.concurrentRequestLimit),this.Ja=new Dc,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ul(e){if(ll(e),3==e.H){var t=e.W++,n=sc(e.I);if(fc(n,"SID",e.K),fc(n,"RID",t),fc(n,"TYPE","terminate"),hl(e,n),(t=new zu(e,e.l,t)).L=2,t.v=dc(sc(n)),n=!1,Wa.navigator&&Wa.navigator.sendBeacon)try{n=Wa.navigator.sendBeacon(t.v.toString(),"")}catch(DW){}!n&&Wa.Image&&((new Image).src=t.v,n=!0),n||(t.g=El(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yu(t)}Sl(e)}function cl(e){e.g&&(gl(e),e.g.cancel(),e.g=null)}function ll(e){cl(e),e.u&&(Wa.clearTimeout(e.u),e.u=null),bl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wa.clearTimeout(e.m),e.m=null)}function fl(e){if(!Tc(e.i)&&!e.m){e.m=!0;var t=e.Na;su||lu(),uu||(su(),uu=!0),cu.add(t,e),e.C=0}}function dl(e,t){var n;n=t?t.m:e.W++;var r=sc(e.I);fc(r,"SID",e.K),fc(r,"RID",n),fc(r,"AID",e.V),hl(e,r),e.o&&e.s&&ol(r,e.o,e.s),n=new zu(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=pl(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Rc(e.i,n),qu(n,r,t)}function hl(e,t){e.na&&As(e.na,(function(e,n){fc(t,n,e)})),e.h&&ic({},(function(e,n){fc(t,n,e)}))}function pl(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ya(e.h.Va,e.h,e):null;e:for(var i=e.j,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].g,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=o))o=Math.max(0,i[u].g-100),s=!1;else try{Mc(l,a,"req"+c+"_")}catch(wf){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function vl(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;su||lu(),uu||(su(),uu=!0),cu.add(t,e),e.A=0}}function ml(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Au(Ya(e.Ma,e),kl(e,e.A)),e.A++,!0)}function gl(e){null!=e.B&&(Wa.clearTimeout(e.B),e.B=null)}function yl(e){e.g=new zu(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=sc(e.wa);fc(t,"RID","rpc"),fc(t,"SID",e.K),fc(t,"AID",e.V),fc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&fc(t,"TO",e.qa),fc(t,"TYPE","xmlhttp"),hl(e,t),e.o&&e.s&&ol(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=dc(sc(t)),n.s=null,n.S=!0,Gu(n,e)}function bl(e){null!=e.v&&(Wa.clearTimeout(e.v),e.v=null)}function wl(e,t){var n=null;if(e.g==t){bl(e),gl(e),e.g=null;var r=2}else{if(!Pc(e.i,t))return;n=t.F,Nc(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Js(r=Eu(),new Tu(r,n)),fl(e)}else vl(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Ac(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Au(Ya(e.Na,e,t),kl(e,e.C)),e.C++,!0))}(e,t)||2==r&&ml(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xl(e,5);break;case 4:xl(e,10);break;case 3:xl(e,6);break;default:xl(e,2)}}function kl(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function xl(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ya(e.pb,e);n||(n=new ac("//www.google.com/images/cleardot.gif"),Wa.location&&"http"==Wa.location.protocol||uc(n,"https"),dc(n)),function(e,t){var n=new ku;if(Wa.Image){var r=new Image;r.onload=Xa(Fc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xa(Fc,n,r,"TestLoadImage: error",!1,t),r.onabort=Xa(Fc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xa(Fc,n,r,"TestLoadImage: timeout",!1,t),Wa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zu(2);e.H=0,e.h&&e.h.za(t),Sl(e),ll(e)}function Sl(e){if(e.H=0,e.ma=[],e.h){var t=jc(e.i);0==t.length&&0==e.j.length||(is(e.ma,t),is(e.ma,e.j),e.i.i.length=0,rs(e.j),e.j.length=0),e.h.ya()}}function _l(e,t,n){var r=n instanceof ac?sc(n):new ac(n);if(""!=r.g)t&&(r.g=t+"."+r.g),cc(r,r.m);else{var i=Wa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new ac(null);r&&uc(o,r),t&&(o.g=t),i&&cc(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&fc(r,n,t),fc(r,"VER",e.ra),hl(e,r),r}function El(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new qc(new Bc({ob:!0})):new qc(e.va)).Oa(e.J),t}function Cl(){}function Il(){if(ps&&!(10<=Number(_s)))throw Error("Environmental error: no available transport.")}function Ol(e,t){Qs.call(this),this.g=new sl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ss(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ss(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Al(this)}function Zl(e){Fu.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tl(){Bu.call(this),this.status=1}function Al(e){this.g=e}function Pl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Rl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function Nl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(Pa=qc.prototype).Oa=function(e){this.M=e},Pa.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Du.g(),this.C=this.u?ju(this.u):ju(Du),this.g.onreadystatechange=Ya(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Jc(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,s=(0,Xt.Z)(r.keys());try{for(s.s();!(a=s.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),o=Wa.FormData&&e instanceof Wa.FormData,!(0<=ns(Qc,t))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=(0,Xt.Z)(n);try{for(l.s();!(c=l.n()).done;){var f=(0,i.Z)(c.value,2),d=f[0],h=f[1];this.g.setRequestHeader(d,h)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tl(this),0<this.B&&((this.L=function(e){return ps&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ya(this.ua,this)):this.A=pu(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Jc(this,u)}},Pa.ua=function(){"undefined"!=typeof Ha&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Js(this,"timeout"),this.abort(8))},Pa.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Js(this,"complete"),Js(this,"abort"),el(this))},Pa.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),el(this,!0)),qc.$.N.call(this)},Pa.La=function(){this.s||(this.G||this.v||this.l?Xc(this):this.kb())},Pa.kb=function(){Xc(this)},Pa.isActive=function(){return!!this.g},Pa.da=function(){try{return 2<nl(this)?this.g.status:-1}catch(e){return-1}},Pa.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Pa.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),$c(t)}},Pa.Ia=function(){return this.m},Pa.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Pa=sl.prototype).ra=8,Pa.H=1,Pa.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new zu(this,this.l,e),n=this.s;if(this.U&&(n?Ns(n=Ps(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var o=this.j[i];if(void 0===(o="__data__"in o.map&&"string"===typeof(o=o.map.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pl(this,t,r),fc(i=sc(this.I),"RID",e),fc(i,"CVER",22),this.F&&fc(i,"X-HTTP-Session-Id",this.F),hl(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(il(n)))+"&"+r:this.o&&ol(i,this.o,n)),Rc(this.i,t),this.bb&&fc(i,"TYPE","init"),this.P?(fc(i,"$req",r),fc(i,"SID","null"),t.aa=!0,qu(t,i,null)):qu(t,i,r),this.H=2}}else 3==this.H&&(e?dl(this,e):0==this.j.length||Tc(this.i)||dl(this))},Pa.Ma=function(){if(this.u=null,yl(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Au(Ya(this.jb,this),e)}},Pa.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zu(10),cl(this),yl(this))},Pa.ib=function(){null!=this.v&&(this.v=null,cl(this),ml(this),Zu(19))},Pa.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Zu(2)):(this.l.info("Failed to ping google.com"),Zu(1))},Pa.isActive=function(){return!!this.h&&this.h.isActive(this)},(Pa=Cl.prototype).Ba=function(){},Pa.Aa=function(){},Pa.za=function(){},Pa.ya=function(){},Pa.isActive=function(){return!0},Pa.Va=function(){},Il.prototype.g=function(e,t){return new Ol(e,t)},es(Ol,Qs),Ol.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Zu(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=_l(e,null,e.Y),fl(e)},Ol.prototype.close=function(){ul(this.g)},Ol.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xs(e),e=n);t.j.push(new Ic(t.fb++,e)),3==t.H&&fl(t)},Ol.prototype.N=function(){this.g.h=null,delete this.j,ul(this.g),delete this.g,Ol.$.N.call(this)},es(Zl,Fu),es(Tl,Bu),es(Al,Cl),Al.prototype.Ba=function(){Js(this.g,"a")},Al.prototype.Aa=function(e){Js(this.g,new Zl(e))},Al.prototype.za=function(e){Js(this.g,new Tl)},Al.prototype.ya=function(){Js(this.g,"b")},es(Pl,(function(){this.blockSize=-1})),Pl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Pl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)Rl(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){Rl(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){Rl(this,r),i=0;break}}this.h=i,this.i+=t},Pl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var jl={};function Ll(e){return-128<=e&&128>e?function(e,t){var n=jl;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Nl([0|e],0>e?-1:0)})):new Nl([0|e],0>e?-1:0)}function Dl(e){if(isNaN(e)||!isFinite(e))return Fl;if(0>e)return Hl(Dl(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ml;return new Nl(t,0)}var Ml=4294967296,Fl=Ll(0),Bl=Ll(1),Ul=Ll(16777216);function zl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Vl(e){return-1==e.h}function Hl(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nl(n,~e.h).add(Bl)}function Wl(e,t){return e.add(Hl(t))}function $l(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ql(e,t){this.g=e,this.h=t}function Gl(e,t){if(zl(t))throw Error("division by zero");if(zl(e))return new ql(Fl,Fl);if(Vl(e))return t=Gl(Hl(e),t),new ql(Hl(t.g),Hl(t.h));if(Vl(t))return t=Gl(e,Hl(t)),new ql(Hl(t.g),t.h);if(30<e.g.length){if(Vl(e)||Vl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Bl,r=t;0>=r.X(e);)n=Kl(n),r=Kl(r);var i=Ql(n,1),o=Ql(r,1);for(r=Ql(r,2),n=Ql(n,2);!zl(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Ql(r,1),n=Ql(n,1)}return t=Wl(e,i.R(t)),new ql(i,t)}for(i=Fl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=Dl(n)).R(t);Vl(a)||0<a.X(e);)a=(o=Dl(n-=r)).R(t);zl(o)&&(o=Bl),i=i.add(o),e=Wl(e,a)}return new ql(i,e)}function Kl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nl(n,e.h)}function Ql(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new Nl(i,e.h)}(Pa=Nl.prototype).ea=function(){if(Vl(this))return-Hl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ml+r)*t,t*=Ml}return e},Pa.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(zl(this))return"0";if(Vl(this))return"-"+Hl(this).toString(e);for(var t=Dl(Math.pow(e,6)),n=this,r="";;){var i=Gl(n,t).g,o=((0<(n=Wl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(zl(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Pa.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Pa.X=function(e){return Vl(e=Wl(this,e))?-1:zl(e)?0:1},Pa.abs=function(){return Vl(this)?Hl(this):this},Pa.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new Nl(n,-2147483648&n[n.length-1]?-1:0)},Pa.R=function(e){if(zl(this)||zl(e))return Fl;if(Vl(this))return Vl(e)?Hl(this).R(Hl(e)):Hl(Hl(this).R(e));if(Vl(e))return Hl(this.R(Hl(e)));if(0>this.X(Ul)&&0>e.X(Ul))return Dl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=a*u,$l(n,2*r+2*i),n[2*r+2*i+1]+=o*u,$l(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,$l(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,$l(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nl(n,0)},Pa.gb=function(e){return Gl(this,e).h},Pa.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nl(n,this.h&e.h)},Pa.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nl(n,this.h|e.h)},Pa.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nl(n,this.h^e.h)},Il.prototype.createWebChannel=Il.prototype.g,Ol.prototype.send=Ol.prototype.u,Ol.prototype.open=Ol.prototype.m,Ol.prototype.close=Ol.prototype.close,Pu.NO_ERROR=0,Pu.TIMEOUT=8,Pu.HTTP_ERROR=6,Ru.COMPLETE="complete",Lu.EventType=Mu,Mu.OPEN="a",Mu.CLOSE="b",Mu.ERROR="c",Mu.MESSAGE="d",Qs.prototype.listen=Qs.prototype.O,qc.prototype.listenOnce=qc.prototype.P,qc.prototype.getLastError=qc.prototype.Sa,qc.prototype.getLastErrorCode=qc.prototype.Ia,qc.prototype.getStatus=qc.prototype.da,qc.prototype.getResponseJson=qc.prototype.Wa,qc.prototype.getResponseText=qc.prototype.ja,qc.prototype.send=qc.prototype.ha,qc.prototype.setWithCredentials=qc.prototype.Oa,Pl.prototype.digest=Pl.prototype.l,Pl.prototype.reset=Pl.prototype.reset,Pl.prototype.update=Pl.prototype.j,Nl.prototype.add=Nl.prototype.add,Nl.prototype.multiply=Nl.prototype.R,Nl.prototype.modulo=Nl.prototype.gb,Nl.prototype.compare=Nl.prototype.X,Nl.prototype.toNumber=Nl.prototype.ea,Nl.prototype.toString=Nl.prototype.toString,Nl.prototype.getBits=Nl.prototype.D,Nl.fromNumber=Dl,Nl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Hl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Dl(Math.pow(n,8)),i=Fl,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=Dl(Math.pow(n,a)),i=i.R(a).add(Dl(s))):i=(i=i.R(r)).add(Dl(s))}return i};var Jl=Va.createWebChannelTransport=function(){return new Il},Yl=Va.getStatEventTarget=function(){return Eu()},Xl=Va.ErrorCode=Pu,ef=Va.EventType=Ru,tf=Va.Event=Su,nf=Va.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rf=Va.FetchXmlHttpFactory=Bc,of=Va.WebChannel=Lu,af=Va.XhrIo=qc,sf=Va.Md5=Pl,uf=Va.Integer=Nl,cf="@firebase/firestore",lf=function(){function e(t){(0,_e.Z)(this,e),this.uid=t}return(0,Ee.Z)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();lf.UNAUTHENTICATED=new lf(null),lf.GOOGLE_CREDENTIALS=new lf("google-credentials-uid"),lf.FIRST_PARTY=new lf("first-party-uid"),lf.MOCK_USER=new lf("mock-user");var ff="9.22.2",df=new Ba.Yd("@firebase/firestore");function hf(){return df.logLevel}function pf(e){if(df.logLevel<=Ba.in.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gf);df.debug.apply(df,["Firestore (".concat(ff,"): ").concat(e)].concat((0,be.Z)(i)))}}function vf(e){if(df.logLevel<=Ba.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gf);df.error.apply(df,["Firestore (".concat(ff,"): ").concat(e)].concat((0,be.Z)(i)))}}function mf(e){if(df.logLevel<=Ba.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(gf);df.warn.apply(df,["Firestore (".concat(ff,"): ").concat(e)].concat((0,be.Z)(i)))}}function gf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ff,") INTERNAL ASSERTION FAILED: ")+e;throw vf(t),new Error(t)}function bf(e,t){e||yf()}function wf(e,t){return e}var kf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xf=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return(0,Ee.Z)(n)}(Ua.ZR),Sf=(0,Ee.Z)((function e(){var t=this;(0,_e.Z)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),_f=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ef=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Cf=function(){function e(t){(0,_e.Z)(this,e),this.token=t,this.changeListener=null}return(0,Ee.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),If=function(){function e(t){(0,_e.Z)(this,e),this.t=t,this.currentUser=lf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return(0,Ee.Z)(e,[{key:"start",value:function(e,n){var i=this,o=this.i,a=function(e){return i.i!==o?(o=i.i,n(e)):Promise.resolve()},s=new Sf;this.o=function(){i.i++,i.currentUser=i.u(),s.resolve(),s=new Sf,e.enqueueRetryable((function(){return a(i.currentUser)}))};var u=function(){var n=s;e.enqueueRetryable((0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.promise;case 2:return e.next=4,a(i.currentUser);case 4:case"end":return e.stop()}}),e)}))))},c=function(e){pf("FirebaseAuthCredentialsProvider","Auth detected"),i.auth=e,i.auth.addAuthTokenListener(i.o),u()};this.t.onInit((function(e){return c(e)})),setTimeout((function(){if(!i.auth){var e=i.t.getImmediate({optional:!0});e?c(e):(pf("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sf)}}),0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(pf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(bf("string"==typeof n.accessToken),new _f(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return bf(null===e||"string"==typeof e),new lf(e)}}]),e}(),Of=function(){function e(t,n,r){(0,_e.Z)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=lf.FIRST_PARTY,this.g=new Map}return(0,Ee.Z)(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Zf=function(){function e(t,n,r){(0,_e.Z)(this,e),this.h=t,this.l=n,this.m=r}return(0,Ee.Z)(e,[{key:"getToken",value:function(){return Promise.resolve(new Of(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(lf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Tf=(0,Ee.Z)((function e(t){(0,_e.Z)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Af=function(){function e(t){(0,_e.Z)(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return(0,Ee.Z)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&pf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,pf("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){pf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):pf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(bf("string"==typeof t.token),e.T=t.token,new Tf(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Pf(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Rf=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Pf(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Nf(e,t){return e<t?-1:e>t?1:0}function jf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Lf(e){return e+"\0"}var Df=function(){function e(t,n){if((0,_e.Z)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new xf(kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xf(kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new xf(kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xf(kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return(0,Ee.Z)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Nf(this.nanoseconds,e.nanoseconds):Nf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Mf=function(){function e(t){(0,_e.Z)(this,e),this.timestamp=t}return(0,Ee.Z)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Df(0,0))}},{key:"max",value:function(){return new e(new Df(253402300799,999999999))}}]),e}(),Ff=function(){function e(t,n,r){(0,_e.Z)(this,e),void 0===n?n=0:n>t.length&&yf(),void 0===r?r=t.length-n:r>t.length-n&&yf(),this.segments=t,this.offset=n,this.len=r}return(0,Ee.Z)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Bf=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];if(s.indexOf("//")>=0)throw new xf(kf.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,be.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ff),Uf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zf=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Uf.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,o=function(){if(0===r.length)throw new xf(kf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new xf(kf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new xf(kf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new xf(kf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ff),Vf=function(){function e(t){(0,_e.Z)(this,e),this.path=t}return(0,Ee.Z)(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Bf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Bf.fromString(t))}},{key:"fromName",value:function(t){return new e(Bf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Bf.emptyPath())}},{key:"comparator",value:function(e,t){return Bf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Bf(t.slice()))}}]),e}(),Hf=(0,Ee.Z)((function e(t,n,r,i){(0,_e.Z)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Wf(e){return e.fields.find((function(e){return 2===e.kind}))}function $f(e){return e.fields.filter((function(e){return 2!==e.kind}))}Hf.UNKNOWN_ID=-1;var qf=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.fieldPath=t,this.kind=n}));var Gf=function(){function e(t,n){(0,_e.Z)(this,e),this.sequenceNumber=t,this.offset=n}return(0,Ee.Z)(e,null,[{key:"empty",value:function(){return new e(0,Jf.min())}}]),e}();function Kf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mf.fromTimestamp(1e9===r?new Df(n+1,0):new Df(n,r));return new Jf(i,Vf.empty(),t)}function Qf(e){return new Jf(e.readTime,e.key,-1)}var Jf=function(){function e(t,n,r){(0,_e.Z)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return(0,Ee.Z)(e,null,[{key:"min",value:function(){return new e(Mf.min(),Vf.empty(),-1)}},{key:"max",value:function(){return new e(Mf.max(),Vf.empty(),-1)}}]),e}();function Yf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Vf.comparator(e.documentKey,t.documentKey))?n:Nf(e.largestBatchId,t.largestBatchId)}var Xf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ed=function(){function e(){(0,_e.Z)(this,e),this.onCommittedListeners=[]}return(0,Ee.Z)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function td(e){return nd.apply(this,arguments)}function nd(){return nd=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code===kf.FAILED_PRECONDITION&&n.message===Xf){e.next=2;break}throw n;case 2:pf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}var rd=function(){function e(t){var n=this;(0,_e.Z)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return(0,Ee.Z)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&yf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=(0,Xt.Z)(t);try{var o=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,o=new Array(i),a=0,s=function(){var s=u;n(t[s]).next((function(t){o[s]=t,++a===i&&e(o)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),id=function(){function e(t,n){var r=this;(0,_e.Z)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new Sf,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new sd(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=dd(e.target.error);r.v.reject(new sd(t,n))}}return(0,Ee.Z)(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(pf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new cd(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new sd(n,t)}}}]),e}(),od=function(){function e(t,n,r){(0,_e.Z)(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S((0,Ua.z$)())&&vf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return(0,Ee.Z)(e,[{key:"$",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return pf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,t){var i=indexedDB.open(r.name,r.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){t(new sd(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var r=e.target.error;"VersionError"===r.name?t(new xf(kf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?t(new xf(kf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):t(new sd(n,r))},i.onupgradeneeded=function(e){pf("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;r.V.O(t,i.transaction,e.oldVersion,r.version).next((function(){pf("SimpleDb","Database upgrade to version "+r.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return r.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s,u,c,l=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===r,s=0,u=(0,t.Z)().mark((function e(){var r,u,c,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++s,e.prev=1,e.next=4,l.$(n);case 4:return l.db=e.sent,r=id.open(l.db,n,a?"readonly":"readwrite",i),u=o(r).next((function(e){return r.P(),e})).catch((function(e){return r.abort(e),rd.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,r.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&s<3,pf("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return pf("SimpleDb","Removing database:",e),ld(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!(0,Ua.hl)())return!1;if(e.C())return!0;var t=(0,Ua.z$)(),n=e.S(t),r=0<n&&n<10,i=e.N(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ALGOLIA_API_KEY:"046e7f5aac99ffa553eae479b809dbdd",REACT_APP_STORAGE_BUCKET:"chimple-prod.appspot.com",REACT_APP_MEASUREMENT_ID:"733418845711",REACT_APP_HOT_UPDATE_SERVER:"https://chimple-prod-hot-update.web.app/v2/",REACT_APP_AUTH_DOMAIN:"chimple-prod.firebaseapp.com",REACT_APP_PROJECT_ID:"chimple-prod",REACT_APP_APP_ID:"1:733418845711:web:ffc43f8556b8ecaaa0957a",REACT_APP_ALGOLIA_INDEX_NAME:"lesson_cuba_prod",REACT_APP_API_KEY:"AIzaSyAqNGaNBLDNQ309JPDMbhXcZQyWSWua5UQ",REACT_APP_MESSAGING_SENDER_ID:"",REACT_APP_ALGOLIA_APP_ID:"918P925LR9"})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ad=function(){function e(t){(0,_e.Z)(this,e),this.L=t,this.q=!1,this.U=null}return(0,Ee.Z)(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return ld(this.L.delete())}}]),e}(),sd=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this,kf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return(0,Ee.Z)(n)}(xf);function ud(e){return"IndexedDbTransactionError"===e.name}var cd=function(){function e(t){(0,_e.Z)(this,e),this.store=t}return(0,Ee.Z)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(pf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(pf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ld(n)}},{key:"add",value:function(e){return pf("SimpleDb","ADD",this.store.name,e,e),ld(this.store.add(e))}},{key:"get",value:function(e){var t=this;return ld(this.store.get(e)).next((function(n){return void 0===n&&(n=null),pf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return pf("SimpleDb","DELETE",this.store.name,e),ld(this.store.delete(e))}},{key:"count",value:function(){return pf("SimpleDb","COUNT",this.store.name),ld(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var o=this.store.getAll(n.range);return new rd((function(e,t){o.onerror=function(e){t(e.target.error)},o.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new rd((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){pf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new rd((function(n,r){t.onerror=function(e){var t=dd(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new rd((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ad(i),a=t(i.primaryKey,i.value,o);if(a instanceof rd){var s=a.catch((function(e){return o.done(),rd.reject(e)}));n.push(s)}o.isDone?r():null===o.K?i.continue():i.continue(o.K)}else r()}})).next((function(){return rd.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function ld(e){return new rd((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=dd(e.target.error);n(t)}}))}var fd=!1;function dd(e){var t=od.S((0,Ua.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new xf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return fd||(fd=!0,setTimeout((function(){throw r}),0)),r}}return e}var hd=function(){function e(t,n){(0,_e.Z)(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return(0,Ee.Z)(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var n=this;pf("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.task=null,e.prev=1,e.t0=pf,e.t1="Documents written: ",e.next=6,n.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ud(e.t4)){e.next=17;break}pf("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,td(e.t4);case 19:return e.next=21,n.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),pd=function(){function e(t,n){(0,_e.Z)(this,e),this.localStore=t,this.persistence=n}return(0,Ee.Z)(e,[{key:"nt",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r=this,i=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return r.st(e,n)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,o=!0;return rd.doWhile((function(){return!0===o&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return pf("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));o=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var o=n.changes;return r.localStore.indexManager.updateIndexEntries(e,o).next((function(){return r.rt(i,n)})).next((function(n){return pf("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return o.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Qf(t);Yf(r,n)>0&&(n=r)})),new Jf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),vd=function(){function e(t,n){var r=this;(0,_e.Z)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return(0,Ee.Z)(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function md(e){return null==e}function gd(e){return 0===e&&1/e==-1/0}function yd(e){return"number"==typeof e&&Number.isInteger(e)&&!gd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function bd(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=kd(t)),t=wd(e.get(n),t);return kd(t)}function wd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function kd(e){return e+"\x01\x01"}function xd(e){var t=e.length;if(bf(t>=2),2===t)return bf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Bf.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&yf(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:yf()}o=a+2}return new Bf(r)}vd.ct=-1;var Sd=["userId","batchId"];function _d(e,t){return[e,bd(t)]}function Ed(e,t,n){return[e,bd(t),n]}var Cd={},Id=["prefixPath","collectionGroup","readTime","documentId"],Od=["prefixPath","collectionGroup","documentId"],Zd=["collectionGroup","readTime","prefixPath","documentId"],Td=["canonicalId","targetId"],Ad=["targetId","path"],Pd=["path","targetId"],Rd=["collectionId","parent"],Nd=["indexId","uid"],jd=["uid","sequenceNumber"],Ld=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dd=["indexId","uid","orderedDocumentKey"],Md=["userId","collectionPath","documentId"],Fd=["userId","collectionPath","largestBatchId"],Bd=["userId","collectionGroup","largestBatchId"],Ud=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),zd=[].concat((0,be.Z)(Ud),["documentOverlays"]),Vd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hd=Vd,Wd=[].concat(Hd,["indexConfiguration","indexState","indexEntries"]),$d=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return(0,Ee.Z)(n)}(ed);function qd(e,t){var n=wf(e);return od.M(n.ht,t)}function Gd(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Jd=function(){function e(t,n){(0,_e.Z)(this,e),this.comparator=t,this.root=n||Xd.EMPTY}return(0,Ee.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Yd(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Yd(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Yd(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Yd(this.root,e,this.comparator,!0)}}]),e}(),Yd=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.isReverse=i,this.nodeStack=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return(0,Ee.Z)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xd=function(){function e(t,n,r,i,o){(0,_e.Z)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return(0,Ee.Z)(e,[{key:"copy",value:function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw yf();if(this.right.isRed())throw yf();var e=this.left.check();if(e!==this.right.check())throw yf();return e+(this.isRed()?0:1)}}]),e}();Xd.EMPTY=null,Xd.RED=!0,Xd.BLACK=!1,Xd.EMPTY=new(function(){function e(){(0,_e.Z)(this,e),this.size=0}return(0,Ee.Z)(e,[{key:"key",get:function(){throw yf()}},{key:"value",get:function(){throw yf()}},{key:"color",get:function(){throw yf()}},{key:"left",get:function(){throw yf()}},{key:"right",get:function(){throw yf()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var eh=function(){function e(t){(0,_e.Z)(this,e),this.comparator=t,this.data=new Jd(this.comparator)}return(0,Ee.Z)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new th(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new th(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),th=function(){function e(t){(0,_e.Z)(this,e),this.iter=t}return(0,Ee.Z)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function nh(e){return e.hasNext()?e.getNext():void 0}var rh=function(){function e(t){(0,_e.Z)(this,e),this.fields=t,t.sort(zf.comparator)}return(0,Ee.Z)(e,[{key:"unionWith",value:function(t){var n,r=new eh(zf.comparator),i=(0,Xt.Z)(this.fields);try{for(i.s();!(n=i.n()).done;){var o=n.value;r=r.add(o)}}catch(c){i.e(c)}finally{i.f()}var a,s=(0,Xt.Z)(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=(0,Xt.Z)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return jf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ih=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return(0,Ee.Z)(n)}((0,Da.Z)(Error));var oh=function(e){function t(e){(0,_e.Z)(this,t),this.binaryString=e}return(0,Ee.Z)(t,[{key:e,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Nf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ih("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}(Symbol.iterator);oh.EMPTY_BYTE_STRING=new oh("");var ah=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sh(e){if(bf(!!e),"string"==typeof e){var t=0,n=ah.exec(e);if(bf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:uh(e.seconds),nanos:uh(e.nanos)}}function uh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ch(e){return"string"==typeof e?oh.fromBase64String(e):oh.fromUint8Array(e)}function lh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fh(e){var t=e.mapValue.fields.__previous_value__;return lh(t)?fh(t):t}function dh(e){var t=sh(e.mapValue.fields.__local_write_time__.timestampValue);return new Df(t.seconds,t.nanos)}var hh=(0,Ee.Z)((function e(t,n,r,i,o,a,s,u,c){(0,_e.Z)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=c})),ph=function(){function e(t,n){(0,_e.Z)(this,e),this.projectId=t,this.database=n||"(default)"}return(0,Ee.Z)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),vh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mh={nullValue:"NULL_VALUE"};function gh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lh(e)?4:Ah(e)?9007199254740991:10:yf()}function yh(e,t){if(e===t)return!0;var n=gh(e);if(n!==gh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dh(e).isEqual(dh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=sh(e.timestampValue),r=sh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ch(e.bytesValue).isEqual(ch(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uh(e.geoPointValue.latitude)===uh(t.geoPointValue.latitude)&&uh(e.geoPointValue.longitude)===uh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uh(e.integerValue)===uh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=uh(e.doubleValue),r=uh(t.doubleValue);return n===r?gd(n)===gd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jf(e.arrayValue.values||[],t.arrayValue.values||[],yh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gd(n)!==Gd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yh(n[i],r[i])))return!1;return!0}(e,t);default:return yf()}}function bh(e,t){return void 0!==(e.values||[]).find((function(e){return yh(e,t)}))}function wh(e,t){if(e===t)return 0;var n=gh(e),r=gh(t);if(n!==r)return Nf(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=uh(e.integerValue||e.doubleValue),r=uh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kh(e.timestampValue,t.timestampValue);case 4:return kh(dh(e),dh(t));case 5:return Nf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ch(e),r=ch(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Nf(n[i],r[i]);if(0!==o)return o}return Nf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Nf(uh(e.latitude),uh(t.latitude));return 0!==n?n:Nf(uh(e.longitude),uh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=wh(n[i],r[i]);if(o)return o}return Nf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===vh.mapValue&&t===vh.mapValue)return 0;if(e===vh.mapValue)return 1;if(t===vh.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Nf(r[a],o[a]);if(0!==s)return s;var u=wh(n[r[a]],i[o[a]]);if(0!==u)return u}return Nf(r.length,o.length)}(e.mapValue,t.mapValue);default:throw yf()}}function kh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Nf(e,t);var n=sh(e),r=sh(t),i=Nf(n.seconds,r.seconds);return 0!==i?i:Nf(n.nanos,r.nanos)}function xh(e){return Sh(e)}function Sh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=sh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ch(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=(0,Xt.Z)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var o=t.value;r?r=!1:n+=",",n+=Sh(o)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,o=(0,Xt.Z)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;i?i=!1:r+=",",r+="".concat(a,":").concat(Sh(e.fields[a]))}}catch(s){o.e(s)}finally{o.f()}return r+"}"}(e.mapValue):yf();var t,n}function _h(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Eh(e){return!!e&&"integerValue"in e}function Ch(e){return!!e&&"arrayValue"in e}function Ih(e){return!!e&&"nullValue"in e}function Oh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zh(e){return!!e&&"mapValue"in e}function Th(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Kd(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Th(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Th(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ah(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ph(e){return"nullValue"in e?mh:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?_h(ph.empty(),Vf.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:yf()}function Rh(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?_h(ph.empty(),Vf.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?vh:yf()}function Nh(e,t){var n=wh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function jh(e,t){var n=wh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Lh=function(){function e(t){(0,_e.Z)(this,e),this.value=t}return(0,Ee.Z)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Zh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Th(t)}},{key:"setAll",value:function(e){var t=this,n=zf.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Th(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return yh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Kd(t,(function(t,n){return e[t]=n}));var r,i=(0,Xt.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;delete e[o]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(Th(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Dh(e){var t=[];return Kd(e.fields,(function(e,n){var r=new zf([e]);if(Zh(n)){var i=Dh(n.mapValue).fields;if(0===i.length)t.push(r);else{var o,a=(0,Xt.Z)(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.push(r.child(s))}}catch(u){a.e(u)}finally{a.f()}}}else t.push(r)})),new rh(t)}var Mh=function(){function e(t,n,r,i,o,a,s){(0,_e.Z)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}return(0,Ee.Z)(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Mf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Lh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Lh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Mf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Mf.min(),Mf.min(),Mf.min(),Lh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Mf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Mf.min(),Mf.min(),Lh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Mf.min(),Mf.min(),Lh.empty(),2)}}]),e}(),Fh=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.position=t,this.inclusive=n}));function Bh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Vf.comparator(Vf.fromName(a.referenceValue),n.key):wh(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Uh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yh(e.position[n],t.position[n]))return!1;return!0}var zh=(0,Ee.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";(0,_e.Z)(this,e),this.field=t,this.dir=n}));function Vh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Hh=(0,Ee.Z)((function e(){(0,_e.Z)(this,e)})),Wh=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i){var o;return(0,_e.Z)(this,n),(o=t.call(this)).field=e,o.op=r,o.value=i,o}return(0,Ee.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wh(t,this.value)):null!==t&&gh(this.value)===gh(t)&&this.matchesComparison(wh(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yf()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new tp(e,t,r):"array-contains"===t?new op(e,r):"in"===t?new ap(e,r):"not-in"===t?new sp(e,r):"array-contains-any"===t?new up(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new np(e,n):new rp(e,n)}}]),n}(Hh),$h=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return(0,Ee.Z)(n,[{key:"matches",value:function(e){return qh(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=(0,Xt.Z)(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Hh);function qh(e){return"and"===e.op}function Gh(e){return"or"===e.op}function Kh(e){return Qh(e)&&qh(e)}function Qh(e){var t,n=(0,Xt.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof $h)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Jh(e){if(e instanceof Wh)return e.field.canonicalString()+e.op.toString()+xh(e.value);if(Kh(e))return e.filters.map((function(e){return Jh(e)})).join(",");var t=e.filters.map((function(e){return Jh(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Yh(e,t){return e instanceof Wh?function(e,t){return t instanceof Wh&&e.op===t.op&&e.field.isEqual(t.field)&&yh(e.value,t.value)}(e,t):e instanceof $h?function(e,t){return t instanceof $h&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Yh(n,t.filters[r])}),!0)}(e,t):void yf()}function Xh(e,t){var n=e.filters.concat(t);return $h.create(n,e.op)}function ep(e){return e instanceof Wh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(xh(e.value))}(e):e instanceof $h?function(e){return e.op.toString()+" {"+e.getFilters().map(ep).join(" ,")+"}"}(e):"Filter"}var tp=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i){var o;return(0,_e.Z)(this,n),(o=t.call(this,e,r,i)).key=Vf.fromName(i.referenceValue),o}return(0,Ee.Z)(n,[{key:"matches",value:function(e){var t=Vf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Wh),np=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this,e,"in",r)).keys=ip("in",r),i}return(0,Ee.Z)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wh),rp=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this,e,"not-in",r)).keys=ip("not-in",r),i}return(0,Ee.Z)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wh);function ip(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vf.fromName(e.referenceValue)}))}var op=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){return(0,_e.Z)(this,n),t.call(this,e,"array-contains",r)}return(0,Ee.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ch(t)&&bh(t.arrayValue,this.value)}}]),n}(Wh),ap=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){return(0,_e.Z)(this,n),t.call(this,e,"in",r)}return(0,Ee.Z)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&bh(this.value.arrayValue,t)}}]),n}(Wh),sp=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){return(0,_e.Z)(this,n),t.call(this,e,"not-in",r)}return(0,Ee.Z)(n,[{key:"matches",value:function(e){if(bh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!bh(this.value.arrayValue,t)}}]),n}(Wh),up=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){return(0,_e.Z)(this,n),t.call(this,e,"array-contains-any",r)}return(0,Ee.Z)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ch(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return bh(t.value.arrayValue,e)}))}}]),n}(Wh),cp=(0,Ee.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,_e.Z)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.dt=null}));function lp(e){return new cp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fp(e){var t=wf(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Jh(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),md(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return xh(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return xh(e)})).join(",")),t.dt=n}return t.dt}function dp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Vh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Yh(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Uh(e.startAt,t.startAt)&&Uh(e.endAt,t.endAt)}function hp(e){return Vf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function pp(e,t){return e.filters.filter((function(e){return e instanceof Wh&&e.field.isEqual(t)}))}function vp(e,t,n){var r,i=mh,o=!0,a=(0,Xt.Z)(pp(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=mh,c=!0;switch(s.op){case"<":case"<=":u=Ph(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=mh}Nh({value:i,inclusive:o},{value:u,inclusive:c})<0&&(i=u,o=c)}}catch(d){a.e(d)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Nh({value:i,inclusive:o},{value:f,inclusive:n.inclusive})<0&&(i=f,o=n.inclusive);break}return{value:i,inclusive:o}}function mp(e,t,n){var r,i=vh,o=!0,a=(0,Xt.Z)(pp(e,t));try{for(a.s();!(r=a.n()).done;){var s=r.value,u=vh,c=!0;switch(s.op){case">=":case">":u=Rh(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=vh}jh({value:i,inclusive:o},{value:u,inclusive:c})>0&&(i=u,o=c)}}catch(d){a.e(d)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];jh({value:i,inclusive:o},{value:f,inclusive:n.inclusive})>0&&(i=f,o=n.inclusive);break}return{value:i,inclusive:o}}var gp=(0,Ee.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,_e.Z)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}));function yp(e,t,n,r,i,o,a,s){return new gp(e,t,n,r,i,o,a,s)}function bp(e){return new gp(e)}function wp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kp(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function xp(e){var t,n=(0,Xt.Z)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Sp(e){return null!==e.collectionGroup}function _p(e){var t=wf(e);if(null===t.wt){t.wt=[];var n=xp(t),r=kp(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new zh(n)),t.wt.push(new zh(zf.keyField(),"asc"));else{var i,o=!1,a=(0,Xt.Z)(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var s=i.value;t.wt.push(s),s.field.isKeyField()&&(o=!0)}}catch(c){a.e(c)}finally{a.f()}if(!o){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new zh(zf.keyField(),u))}}}return t.wt}function Ep(e){var t=wf(e);if(!t._t)if("F"===t.limitType)t._t=lp(t.path,t.collectionGroup,_p(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=(0,Xt.Z)(_p(t));try{for(i.s();!(n=i.n()).done;){var o=n.value,a="desc"===o.dir?"asc":"desc";r.push(new zh(o.field,a))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Fh(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Fh(t.startAt.position,t.startAt.inclusive):null;t._t=lp(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Cp(e,t){t.getFirstInequalityField(),xp(e);var n=e.filters.concat([t]);return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ip(e,t,n){return new gp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Op(e,t){return dp(Ep(e),Ep(t))&&e.limitType===t.limitType}function Zp(e){return"".concat(fp(Ep(e)),"|lt:").concat(e.limitType)}function Tp(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return ep(e)})).join(", "),"]")),md(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return xh(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return xh(e)})).join(",")),"Target(".concat(t,")")}(Ep(e)),"; limitType=").concat(e.limitType,")")}function Ap(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=(0,Xt.Z)(_p(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(o){r.e(o)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=(0,Xt.Z)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Bh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_p(e),t))&&!(e.endAt&&!function(e,t,n){var r=Bh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_p(e),t))}(e,t)}function Pp(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Rp(e){return function(t,n){var r,i=!1,o=(0,Xt.Z)(_p(e));try{for(o.s();!(r=o.n()).done;){var a=r.value,s=Np(a,t,n);if(0!==s)return s;i=i||a.field.isKeyField()}}catch(u){o.e(u)}finally{o.f()}return 0}}function Np(e,t,n){var r=e.field.isKeyField()?Vf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wh(r,i):yf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yf()}}var jp=function(){function e(t,n){(0,_e.Z)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return(0,Ee.Z)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,o=(0,Xt.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=(0,i.Z)(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){o.e(c)}finally{o.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Kd(this.inner,(function(t,n){var r,o=(0,Xt.Z)(n);try{for(o.s();!(r=o.n()).done;){var a=(0,i.Z)(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){o.e(c)}finally{o.f()}}))}},{key:"isEmpty",value:function(){return Qd(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Lp=new Jd(Vf.comparator);function Dp(){return Lp}var Mp=new Jd(Vf.comparator);function Fp(){for(var e=Mp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.insert(a.key,a)}return e}function Bp(e){var t=Mp;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Up(){return Vp()}function zp(){return Vp()}function Vp(){return new jp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hp=new Jd(Vf.comparator),Wp=new eh(Vf.comparator);function $p(){for(var e=Wp,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];e=e.add(a)}return e}var qp=new eh(Nf);function Gp(){return qp}function Kp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(t)?"-0":t}}function Qp(e){return{integerValue:""+e}}function Jp(e,t){return yd(t)?Qp(t):Kp(e,t)}var Yp=(0,Ee.Z)((function e(){(0,_e.Z)(this,e),this._=void 0}));function Xp(e,t,n){return e instanceof nv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&lh(t)&&(t=fh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rv?iv(e,t):e instanceof ov?av(e,t):function(e,t){var n=tv(e,t),r=uv(n)+uv(e.gt);return Eh(n)&&Eh(e.gt)?Qp(r):Kp(e.serializer,r)}(e,t)}function ev(e,t,n){return e instanceof rv?iv(e,t):e instanceof ov?av(e,t):n}function tv(e,t){return e instanceof sv?Eh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var nv=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n)}(Yp),rv=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,Ee.Z)(n)}(Yp);function iv(e,t){var n,r=cv(t),i=(0,Xt.Z)(e.elements);try{var o=function(){var e=n.value;r.some((function(t){return yh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var ov=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this)).elements=e,r}return(0,Ee.Z)(n)}(Yp);function av(e,t){var n,r=cv(t),i=(0,Xt.Z)(e.elements);try{var o=function(){var e=n.value;r=r.filter((function(t){return!yh(t,e)}))};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var sv=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return(0,Ee.Z)(n)}(Yp);function uv(e){return uh(e.integerValue||e.doubleValue)}function cv(e){return Ch(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var lv=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.field=t,this.transform=n}));var fv=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.version=t,this.transformResults=n})),dv=function(){function e(t,n){(0,_e.Z)(this,e),this.updateTime=t,this.exists=n}return(0,Ee.Z)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function hv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var pv=(0,Ee.Z)((function e(){(0,_e.Z)(this,e)}));function vv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Iv(e.key,dv.none()):new wv(e.key,e.data,dv.none());var n,r=e.data,i=Lh.empty(),o=new eh(zf.comparator),a=(0,Xt.Z)(t.fields);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(!o.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),o=o.add(s)}}}catch(c){a.e(c)}finally{a.f()}return new kv(e.key,i,new rh(o.toArray()),dv.none())}function mv(e,t,n){e instanceof wv?function(e,t,n){var r=e.value.clone(),i=Sv(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kv?function(e,t,n){if(hv(e.precondition,t)){var r=Sv(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(xv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function gv(e,t,n,r){return e instanceof wv?function(e,t,n,r){if(!hv(e.precondition,t))return n;var i=e.value.clone(),o=_v(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof kv?function(e,t,n,r){if(!hv(e.precondition,t))return n;var i=_v(e.fieldTransforms,r,t),o=t.data;return o.setAll(xv(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return hv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yv(e,t){var n,r=null,i=(0,Xt.Z)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.field),s=tv(o.transform,a||null);null!=s&&(null===r&&(r=Lh.empty()),r.set(o.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function bv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rv&&t instanceof rv||e instanceof ov&&t instanceof ov?jf(e.elements,t.elements,yh):e instanceof sv&&t instanceof sv?yh(e.gt,t.gt):e instanceof nv&&t instanceof nv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var wv=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(0,_e.Z)(this,n),(o=t.call(this)).key=e,o.value=r,o.precondition=i,o.fieldTransforms=a,o.type=0,o}return(0,Ee.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pv),kv=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o){var a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return(0,_e.Z)(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=o,a.fieldTransforms=s,a.type=1,a}return(0,Ee.Z)(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(pv);function xv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Sv(e,t,n){var r=new Map;bf(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,ev(a,s,n[i]))}return r}function _v(e,t,n){var r,i=new Map,o=(0,Xt.Z)(e);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.transform,u=n.data.field(a.field);i.set(a.field,Xp(s,u,t))}}catch(c){o.e(c)}finally{o.f()}return i}var Ev,Cv,Iv=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return(0,Ee.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pv),Ov=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return(0,Ee.Z)(n,[{key:"getFieldMask",value:function(){return null}}]),n}(pv),Zv=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return(0,Ee.Z)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=(0,Xt.Z)(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=gv(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var o,a=(0,Xt.Z)(this.mutations);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.key.isEqual(e.key)&&(t=gv(s,e,t,this.localWriteTime))}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=zp();return this.mutations.forEach((function(i){var o=e.get(i.key),a=o.overlayedDocument,s=n.applyToLocalView(a,o.mutatedFields),u=vv(a,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Mf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),$p())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&jf(this.mutations,e.mutations,(function(e,t){return bv(e,t)}))&&jf(this.baseMutations,e.baseMutations,(function(e,t){return bv(e,t)}))}}]),e}(),Tv=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return(0,Ee.Z)(e,null,[{key:"from",value:function(t,n,r){bf(t.mutations.length===r.length);for(var i=Hp,o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),Av=function(){function e(t,n){(0,_e.Z)(this,e),this.largestBatchId=t,this.mutation=n}return(0,Ee.Z)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Pv=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.count=t,this.unchangedNames=n}));function Rv(e){switch(e){default:return yf();case kf.CANCELLED:case kf.UNKNOWN:case kf.DEADLINE_EXCEEDED:case kf.RESOURCE_EXHAUSTED:case kf.INTERNAL:case kf.UNAVAILABLE:case kf.UNAUTHENTICATED:return!1;case kf.INVALID_ARGUMENT:case kf.NOT_FOUND:case kf.ALREADY_EXISTS:case kf.PERMISSION_DENIED:case kf.FAILED_PRECONDITION:case kf.ABORTED:case kf.OUT_OF_RANGE:case kf.UNIMPLEMENTED:case kf.DATA_LOSS:return!0}}function Nv(e){if(void 0===e)return vf("GRPC error has no .code"),kf.UNKNOWN;switch(e){case Ev.OK:return kf.OK;case Ev.CANCELLED:return kf.CANCELLED;case Ev.UNKNOWN:return kf.UNKNOWN;case Ev.DEADLINE_EXCEEDED:return kf.DEADLINE_EXCEEDED;case Ev.RESOURCE_EXHAUSTED:return kf.RESOURCE_EXHAUSTED;case Ev.INTERNAL:return kf.INTERNAL;case Ev.UNAVAILABLE:return kf.UNAVAILABLE;case Ev.UNAUTHENTICATED:return kf.UNAUTHENTICATED;case Ev.INVALID_ARGUMENT:return kf.INVALID_ARGUMENT;case Ev.NOT_FOUND:return kf.NOT_FOUND;case Ev.ALREADY_EXISTS:return kf.ALREADY_EXISTS;case Ev.PERMISSION_DENIED:return kf.PERMISSION_DENIED;case Ev.FAILED_PRECONDITION:return kf.FAILED_PRECONDITION;case Ev.ABORTED:return kf.ABORTED;case Ev.OUT_OF_RANGE:return kf.OUT_OF_RANGE;case Ev.UNIMPLEMENTED:return kf.UNIMPLEMENTED;case Ev.DATA_LOSS:return kf.DATA_LOSS;default:return yf()}}(Cv=Ev||(Ev={}))[Cv.OK=0]="OK",Cv[Cv.CANCELLED=1]="CANCELLED",Cv[Cv.UNKNOWN=2]="UNKNOWN",Cv[Cv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cv[Cv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cv[Cv.NOT_FOUND=5]="NOT_FOUND",Cv[Cv.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cv[Cv.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cv[Cv.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cv[Cv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cv[Cv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cv[Cv.ABORTED=10]="ABORTED",Cv[Cv.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cv[Cv.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cv[Cv.INTERNAL=13]="INTERNAL",Cv[Cv.UNAVAILABLE=14]="UNAVAILABLE",Cv[Cv.DATA_LOSS=15]="DATA_LOSS";var jv=function(){function e(){(0,_e.Z)(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return(0,Ee.Z)(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Lv}},{key:"getOrCreateInstance",value:function(){return null===Lv&&(Lv=new e),Lv}}]),e}(),Lv=null;function Dv(){return new TextEncoder}var Mv=new uf([4294967295,4294967295],0);function Fv(e){var t=Dv().encode(e),n=new sf;return n.update(t),new Uint8Array(n.digest())}function Bv(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new uf([n,r],0),new uf([i,o],0)]}var Uv=function(){function e(t,n,r){if((0,_e.Z)(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zv("Invalid padding: ".concat(n));if(r<0)throw new zv("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new zv("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new zv("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=uf.fromNumber(this.It)}return(0,Ee.Z)(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(uf.fromNumber(n)));return 1===r.compare(Mv)&&(r=new uf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=Bv(Fv(e)),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=0;a<this.hashCount;a++){var s=this.Et(r,o,a);if(!this.At(s))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=Bv(Fv(e)),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=0;a<this.hashCount;a++){var s=this.Et(r,o,a);this.Rt(s)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,o=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return o.insert(e)})),o}}]),e}(),zv=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return(0,Ee.Z)(n)}((0,Da.Z)(Error)),Vv=function(){function e(t,n,r,i,o){(0,_e.Z)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}return(0,Ee.Z)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Hv.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Mf.min(),i,new Jd(Nf),Dp(),$p())}}]),e}(),Hv=function(){function e(t,n,r,i,o){(0,_e.Z)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}return(0,Ee.Z)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,$p(),$p(),$p())}}]),e}(),Wv=(0,Ee.Z)((function e(t,n,r,i){(0,_e.Z)(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),$v=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.targetId=t,this.Vt=n})),qv=(0,Ee.Z)((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oh.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,_e.Z)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gv=function(){function e(){(0,_e.Z)(this,e),this.St=0,this.Dt=Jv(),this.Ct=oh.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return(0,Ee.Z)(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=$p(),t=$p(),n=$p();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yf()}})),new Hv(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Jv()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Kv=function(){function e(t){(0,_e.Z)(this,e),this.Gt=t,this.Qt=new Map,this.jt=Dp(),this.zt=Qv(),this.Wt=new Jd(Nf)}return(0,Ee.Z)(e,[{key:"Ht",value:function(e){var t,n=(0,Xt.Z)(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(s){n.e(s)}finally{n.f()}var i,o=(0,Xt.Z)(e.removedTargetIds);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.Yt(a,e.key,e.bt)}}catch(s){o.e(s)}finally{o.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:yf()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var o=i.target;if(hp(o))if(0===r){var a=new Vf(o.path);this.Yt(n,a,Mh.newNoDocument(a,Mf.min()))}else bf(1===r);else{var s=this.ie(n);if(s!==r){var u=this.re(e,s);if(0!==u){this.ee(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=jv.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,a,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(o=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var o,a,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,d=r.hashCount,h=void 0===d?0:d;try{o=ch(c).toUint8Array()}catch(e){if(e instanceof ih)return mf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{a=new Uv(o,f,h)}catch(e){return mf(e instanceof zv?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===a.It?1:i!==t-this.oe(e.targetId,a)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var o=n.Gt.ue(),a="projects/".concat(o.projectId,"/databases/").concat(o.database,"/documents/").concat(r.path.canonicalString());t.vt(a)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var o=t.se(i);if(o){if(r.current&&hp(o.target)){var a=new Vf(o.target.path);null!==t.jt.get(a)||t.ae(i,a)||t.Yt(i,a,Mh.newNoDocument(a,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=$p();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Vv(e,n,this.Wt,this.jt,r);return this.jt=Dp(),this.zt=Qv(),this.Wt=new Jd(Nf),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Gv,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new eh(Nf),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||pf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Gv),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Qv(){return new Jd(Vf.comparator)}function Jv(){return new Jd(Vf.comparator)}var Yv={asc:"ASCENDING",desc:"DESCENDING"},Xv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},em={and:"AND",or:"OR"},tm=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.databaseId=t,this.useProto3Json=n}));function nm(e,t){return e.useProto3Json||md(t)?t:{value:t}}function rm(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function im(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function om(e,t){return rm(e,t.toTimestamp())}function am(e){return bf(!!e),Mf.fromTimestamp(function(e){var t=sh(e);return new Df(t.seconds,t.nanos)}(e))}function sm(e,t){return function(e){return new Bf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function um(e){var t=Bf.fromString(e);return bf(Tm(t)),t}function cm(e,t){return sm(e.databaseId,t.path)}function lm(e,t){var n=um(t);if(n.get(1)!==e.databaseId.projectId)throw new xf(kf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xf(kf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vf(pm(n))}function fm(e,t){return sm(e.databaseId,t)}function dm(e){var t=um(e);return 4===t.length?Bf.emptyPath():pm(t)}function hm(e){return new Bf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pm(e){return bf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vm(e,t,n){return{name:cm(e,t),fields:n.value.mapValue.fields}}function mm(e,t,n){var r=lm(e,t.name),i=am(t.updateTime),o=t.createTime?am(t.createTime):Mf.min(),a=new Lh({mapValue:{fields:t.fields}}),s=Mh.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function gm(e,t){var n;if(t instanceof wv)n={update:vm(e,t.key,t.value)};else if(t instanceof Iv)n={delete:cm(e,t.key)};else if(t instanceof kv)n={update:vm(e,t.key,t.data),updateMask:Zm(t.fieldMask)};else{if(!(t instanceof Ov))return yf();n={verify:cm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof nv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ov)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof sv)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw yf()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:om(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yf()}(e,t.precondition)),n}function ym(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?dv.updateTime(am(e.updateTime)):void 0!==e.exists?dv.exists(e.exists):dv.none()}(t.currentDocument):dv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)bf("REQUEST_TIME"===t.setToServerValue),n=new nv;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new rv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ov(i)}else"increment"in t?n=new sv(e,t.increment):yf();var o=zf.fromServerFormat(t.fieldPath);return new lv(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=lm(e,t.update.name),o=new Lh({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new rh(t.map((function(e){return zf.fromServerFormat(e)})))}(t.updateMask);return new kv(i,o,a,n,r)}return new wv(i,o,n,r)}if(t.delete){var s=lm(e,t.delete);return new Iv(s,n)}if(t.verify){var u=lm(e,t.verify);return new Ov(u,n)}return yf()}function bm(e,t){return{documents:[fm(e,t.path)]}}function wm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Om($h.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Cm(e.field),direction:Sm(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a,s=nm(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function km(e){var t=dm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){bf(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=function(e){var t=xm(e);return t instanceof $h&&Kh(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new zh(Im(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return md(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Fh(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Fh(n,t)}(n.endAt)),yp(t,i,s,a,u,"F",c,l)}function xm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Im(e.unaryFilter.field);return Wh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Im(e.unaryFilter.field);return Wh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Im(e.unaryFilter.field);return Wh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Im(e.unaryFilter.field);return Wh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yf()}}(e):void 0!==e.fieldFilter?function(e){return Wh.create(Im(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $h.create(e.compositeFilter.filters.map((function(e){return xm(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yf()}}(e.compositeFilter.op))}(e):yf()}function Sm(e){return Yv[e]}function _m(e){return Xv[e]}function Em(e){return em[e]}function Cm(e){return{fieldPath:e.canonicalString()}}function Im(e){return zf.fromServerFormat(e.fieldPath)}function Om(e){return e instanceof Wh?function(e){if("=="===e.op){if(Oh(e.value))return{unaryFilter:{field:Cm(e.field),op:"IS_NAN"}};if(Ih(e.value))return{unaryFilter:{field:Cm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oh(e.value))return{unaryFilter:{field:Cm(e.field),op:"IS_NOT_NAN"}};if(Ih(e.value))return{unaryFilter:{field:Cm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cm(e.field),op:_m(e.op),value:e.value}}}(e):e instanceof $h?function(e){var t=e.getFilters().map((function(e){return Om(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Em(e.op),filters:t}}}(e):yf()}function Zm(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Tm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Am=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mf.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:oh.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;(0,_e.Z)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=u}return(0,Ee.Z)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Pm=(0,Ee.Z)((function e(t){(0,_e.Z)(this,e),this.fe=t}));function Rm(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Nm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:cm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:rm(e,t.version.toTimestamp()),createTime:rm(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jm(t.version)};else{if(!t.isUnknownDocument())return yf();r.unknownDocument={path:n.path.toArray(),version:jm(t.version)}}return r}function Nm(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jm(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lm(e){var t=new Df(e.seconds,e.nanoseconds);return Mf.fromTimestamp(t)}function Dm(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ym(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ym(e.fe,t)})),s=Df.fromMillis(t.localWriteTimeMs);return new Zv(t.batchId,s,n,a)}function Mm(e){var t,n,r=Lm(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lm(e.lastLimboFreeSnapshotVersion):Mf.min();return void 0!==e.query.documents?(bf(1===(n=e.query).documents.length),t=Ep(bp(dm(n.documents[0])))):t=function(e){return Ep(km(e))}(e.query),new Am(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,oh.fromBase64String(e.resumeToken))}function Fm(e,t){var n,r=jm(t.snapshotVersion),i=jm(t.lastLimboFreeSnapshotVersion);n=hp(t.target)?bm(e.fe,t.target):wm(e.fe,t.target);var o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:fp(t.target),readTime:r,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Bm(e){var t=km({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ip(t,t.limit,"L"):t}function Um(e,t){return new Av(t.largestBatchId,ym(e.fe,t.overlayMutation))}function zm(e,t){var n=t.path.lastSegment();return[e,bd(t.path.popLast()),n]}function Vm(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jm(r.readTime),documentKey:bd(r.documentKey.path),largestBatchId:r.largestBatchId}}var Hm=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return Wm(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lm(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Wm(e).put({bundleId:(n=t).id,createTime:jm(am(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return $m(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Bm(t.bundledQuery),readTime:Lm(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return $m(e).put(function(e){return{name:e.name,readTime:jm(am(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Wm(e){return qd(e,"bundles")}function $m(e){return qd(e,"namedQueries")}var qm=function(){function e(t,n){(0,_e.Z)(this,e),this.serializer=t,this.userId=n}return(0,Ee.Z)(e,[{key:"getOverlay",value:function(e,t){var n=this;return Gm(e).get(zm(this.userId,t)).next((function(e){return e?Um(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Up();return rd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,o){var a=new Av(t,o);i.push(r.we(e,a))})),rd.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(bd(e.getCollectionPath()))}));var o=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);o.push(Gm(e).J("collectionPathOverlayIndex",i))})),rd.waitFor(o)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Up(),o=bd(t),a=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Gm(e).j("collectionPathOverlayIndex",a).next((function(e){var t,n=(0,Xt.Z)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,a=Um(r.serializer,o);i.set(a.getKey(),a)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,o=this,a=Up(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gm(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Um(o.serializer,t);a.size()<r||s.largestBatchId===i?(a.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return a}))}},{key:"we",value:function(e,t){return Gm(e).put(function(e,t,n){var r=zm(t,n.mutation.key),o=(0,i.Z)(r,3);o[0];return{userId:t,collectionPath:o[1],documentId:o[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:gm(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Gm(e){return qd(e,"documentOverlays")}var Km=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(uh(e.integerValue));else if("doubleValue"in e){var n=uh(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),gd(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ch(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Ah(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):yf()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var o=i[r];this.Te(o,t),this.me(n[o],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=(0,Xt.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.me(o,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Vf.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function Qm(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Jm(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Qm(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Km.Ve=new Km;var Ym=function(){function e(){(0,_e.Z)(this,e),this.buffer=new Uint8Array(1024),this.position=0}return(0,Ee.Z)(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=(0,Xt.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var o=r.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=(0,Xt.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var o=r.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}}catch(a){n.e(a)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=Jm(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=Jm(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Xm=function(){function e(t){(0,_e.Z)(this,e),this.je=t}return(0,Ee.Z)(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),eg=function(){function e(t){(0,_e.Z)(this,e),this.je=t}return(0,Ee.Z)(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),tg=function(){function e(){(0,_e.Z)(this,e),this.je=new Ym,this.ze=new Xm(this.je),this.We=new eg(this.je)}return(0,Ee.Z)(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),ng=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return(0,Ee.Z)(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function rg(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ig(e.arrayValue,t.arrayValue))?n:0!==(n=ig(e.directionalValue,t.directionalValue))?n:Vf.comparator(e.documentKey,t.documentKey)}function ig(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var og=function(){function e(t){(0,_e.Z)(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=(0,Xt.Z)(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(o){r.e(o)}finally{r.f()}}return(0,Ee.Z)(e,[{key:"tn",value:function(e){bf(e.collectionGroup===this.collectionId);var t=Wf(e);if(void 0!==t&&!this.en(t))return!1;for(var n=$f(e),r=new Set,i=0,o=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var a=n[i];if(!this.nn(this.Ze,a)||!this.sn(this.Ye[o++],a))return!1}++i}for(;i<n.length;++i){var s=n[i];if(o>=this.Ye.length||!this.sn(this.Ye[o++],s))return!1}return!0}},{key:"en",value:function(e){var t,n=(0,Xt.Z)(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ag(e){var t,n;if(bf(e instanceof Wh||e instanceof $h),e instanceof Wh){if(e instanceof ap){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Wh.create(e.field,"==",t)})))||[];return $h.create(r,"or")}return e}var i=e.filters.map((function(e){return ag(e)}));return $h.create(i,e.op)}function sg(e){if(0===e.getFilters().length)return[];var t=fg(ag(e));return bf(lg(t)),ug(t)||cg(t)?[t]:t.getFilters()}function ug(e){return e instanceof Wh}function cg(e){return e instanceof $h&&Kh(e)}function lg(e){return ug(e)||cg(e)||function(e){if(e instanceof $h&&Gh(e)){var t,n=(0,Xt.Z)(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ug(r)&&!cg(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function fg(e){if(bf(e instanceof Wh||e instanceof $h),e instanceof Wh)return e;if(1===e.filters.length)return fg(e.filters[0]);var t=e.filters.map((function(e){return fg(e)})),n=$h.create(t,e.op);return lg(n=pg(n))?n:(bf(n instanceof $h),bf(qh(n)),bf(n.filters.length>1),n.filters.reduce((function(e,t){return dg(e,t)})))}function dg(e,t){var n;return bf(e instanceof Wh||e instanceof $h),bf(t instanceof Wh||t instanceof $h),n=e instanceof Wh?t instanceof Wh?function(e,t){return $h.create([e,t],"and")}(e,t):hg(e,t):t instanceof Wh?hg(t,e):function(e,t){if(bf(e.filters.length>0&&t.filters.length>0),qh(e)&&qh(t))return Xh(e,t.getFilters());var n=Gh(e)?e:t,r=Gh(e)?t:e,i=n.filters.map((function(e){return dg(e,r)}));return $h.create(i,"or")}(e,t),pg(n)}function hg(e,t){if(qh(t))return Xh(t,e.getFilters());var n=t.filters.map((function(t){return dg(e,t)}));return $h.create(n,"or")}function pg(e){if(bf(e instanceof Wh||e instanceof $h),e instanceof Wh)return e;var t=e.getFilters();if(1===t.length)return pg(t[0]);if(Qh(e))return e;var n=t.map((function(e){return pg(e)})),r=[];return n.forEach((function(t){t instanceof Wh?r.push(t):t instanceof $h&&(t.op===e.op?r.push.apply(r,(0,be.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:$h.create(r,e.op)}var vg=function(){function e(){(0,_e.Z)(this,e),this.rn=new mg}return(0,Ee.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),rd.resolve()}},{key:"getCollectionParents",value:function(e,t){return rd.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return rd.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return rd.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return rd.resolve(null)}},{key:"getIndexType",value:function(e,t){return rd.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return rd.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return rd.resolve(null)}},{key:"getMinOffset",value:function(e,t){return rd.resolve(Jf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return rd.resolve(Jf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return rd.resolve()}},{key:"updateIndexEntries",value:function(e,t){return rd.resolve()}}]),e}(),mg=function(){function e(){(0,_e.Z)(this,e),this.index={}}return(0,Ee.Z)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new eh(Bf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new eh(Bf.comparator)).toArray()}}]),e}(),gg=new Uint8Array(0),yg=function(){function e(t,n){(0,_e.Z)(this,e),this.user=t,this.databaseId=n,this.on=new mg,this.un=new jp((function(e){return fp(e)}),(function(e,t){return dp(e,t)})),this.uid=t.uid||""}return(0,Ee.Z)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var o={collectionId:r,parent:bd(i)};return bg(e).put(o)}return rd.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Lf(t),""],!1,!0);return bg(e).j(r).next((function(e){var r,i=(0,Xt.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.collectionId!==t)break;n.push(xd(o.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=kg(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var o=r.add(i);if(t.indexState){var a=xg(e);return o.next((function(e){a.put(Vm(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=kg(e),r=xg(e),i=wg(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=wg(e),i=!0,o=new Map;return rd.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),o.set(t,e)}))})).next((function(){if(i){var e=$p(),a=[];return rd.forEach(o,(function(i,o){var s;pf("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(fp(t)));var u=function(e,t){var n=Wf(t);if(void 0===n)return null;var r,i=(0,Xt.Z)(pp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var o=r.value;switch(o.op){case"array-contains-any":return o.value.arrayValue.values||[];case"array-contains":return[o.value]}}}catch(a){i.e(a)}finally{i.f()}return null}(o,i),c=function(e,t){var n,r=new Map,i=(0,Xt.Z)($f(t));try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=(0,Xt.Z)(pp(e,a.fieldPath));try{for(s.s();!(o=s.n()).done;){var u=o.value;switch(u.op){case"==":case"in":r.set(a.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(a.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(o,i),l=function(e,t){var n,r=[],i=!0,o=(0,Xt.Z)($f(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?vp(e,a.fieldPath,e.startAt):mp(e,a.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new Fh(r,i)}(o,i),f=function(e,t){var n,r=[],i=!0,o=(0,Xt.Z)($f(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=0===a.kind?mp(e,a.fieldPath,e.endAt):vp(e,a.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){o.e(u)}finally{o.f()}return new Fh(r,i)}(o,i),d=n.hn(i,o,l),h=n.hn(i,o,f),p=n.ln(i,o,c),v=n.fn(i.indexId,u,d,l.inclusive,h,f.inclusive,p);return rd.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Vf.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),a.push(n))}))}))}))})).next((function(){return a}))}return rd.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:sg($h.create(e.filters,"and")).map((function(t){return lp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,o,a){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(){var u=t?s.dn(t[d/c]):gg,f=s.wn(e,u,n[d%c],r),h=s._n(e,u,i[d%c],o),p=a.map((function(t){return s.wn(e,u,t,!0)}));l.push.apply(l,(0,be.Z)(s.createRange(f,h,p)))},d=0;d<u;++d)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new ng(e,Vf.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new ng(e,Vf.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new og(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=(0,Xt.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.tn(o)&&(!r||o.fields.length>r.fields.length)&&(r=o)}}catch(a){i.e(a)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return rd.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new eh(zf.comparator),r=!1,i=(0,Xt.Z)(e.filters);try{for(i.s();!(t=i.n()).done;){var o,a=t.value,s=(0,Xt.Z)(a.getFlattenedFilters());try{for(s.s();!(o=s.n()).done;){var u=o.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(d){s.e(d)}finally{s.f()}}}catch(d){i.e(d)}finally{i.f()}var c,l=(0,Xt.Z)(e.orderBy);try{for(l.s();!(c=l.n()).done;){var f=c.value;f.field.isKeyField()||(n=n.add(f.field))}}catch(d){l.e(d)}finally{l.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new tg,i=(0,Xt.Z)($f(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=t.data.field(o.fieldPath);if(null==a)return null;var s=r.He(o.kind);Km.Ve._e(a,s)}}catch(u){i.e(u)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new tg;return Km.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new tg;return Km.Ve._e(_h(this.databaseId,t),n.He(function(e){var t=$f(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new tg);var i,o=0,a=(0,Xt.Z)($f(e));try{for(a.s();!(i=a.n()).done;){var s,u=i.value,c=n[o++],l=(0,Xt.Z)(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.yn(t,u.fieldPath)&&Ch(c))r=this.pn(r,u,c);else{var d=f.He(u.kind);Km.Ve._e(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){a.e(h)}finally{a.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=(0,be.Z)(e),o=[],a=(0,Xt.Z)(n.arrayValue.values||[]);try{for(a.s();!(r=a.n()).done;){var s,u=r.value,c=(0,Xt.Z)(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new tg;f.seed(l.Qe()),Km.Ve._e(u,f.He(t.kind)),o.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}return o}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Wh&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=kg(e),o=xg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return rd.forEach(e,(function(e){return o.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Gf(t.sequenceNumber,new Jf(Lm(t.readTime),new Vf(xd(t.documentKey)),t.largestBatchId)):Gf.empty(),r=e.fields.map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return new qf(zf.fromServerFormat(n),r)}));return new Hf(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Nf(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=kg(e),o=xg(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return rd.forEach(t,(function(t){return o.put(Vm(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return rd.forEach(t,(function(t,i){var o=r.get(t.collectionGroup);return(o?rd.resolve(o):n.getFieldIndexes(e,t.collectionGroup)).next((function(o){return r.set(t.collectionGroup,o),rd.forEach(o,(function(r){return n.En(e,t,r).next((function(t){var o=n.An(i,r);return t.isEqual(o)?rd.resolve():n.vn(e,i,r,t,o)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return wg(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return wg(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=wg(e),i=new eh(rg);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new ng(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new eh(rg),r=this.mn(t,e);if(null==r)return n;var i=Wf(t);if(null!=i){var o=e.data.field(i.fieldPath);if(Ch(o)){var a,s=(0,Xt.Z)(o.arrayValue.values||[]);try{for(s.s();!(a=s.n()).done;){var u=a.value;n=n.add(new ng(t.indexId,e.key,this.dn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new ng(t.indexId,e.key,gg,r));return n}},{key:"vn",value:function(e,t,n,r,i){var o=this;pf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var o=e.getIterator(),a=t.getIterator(),s=nh(o),u=nh(a);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=nh(a)):l?(i(s),s=nh(o)):(s=nh(o),u=nh(a))}}(r,i,rg,(function(r){a.push(o.Rn(e,t,n,r))}),(function(r){a.push(o.Pn(e,t,n,r))})),rd.waitFor(a)}},{key:"Tn",value:function(e){var t=1;return xg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return rg(e,t)})).filter((function(e,t,n){return!t||0!==rg(e,n[t-1])}));var r=[];r.push(e);var i,o=(0,Xt.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=rg(a,e),u=rg(a,t);if(0===s)r[0]=e.Je();else if(s>0&&u<0)r.push(a),r.push(a.Je());else if(u>0)break}}catch(h){o.e(h)}finally{o.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,gg,[]],d=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,gg,[]];c.push(IDBKeyRange.bound(f,d))}return c}},{key:"bn",value:function(e,t){return rg(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Sg)}},{key:"getMinOffset",value:function(e,t){var n=this;return rd.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||yf()}))})).next(Sg)}}]),e}();function bg(e){return qd(e,"collectionParents")}function wg(e){return qd(e,"indexEntries")}function kg(e){return qd(e,"indexConfiguration")}function xg(e){return qd(e,"indexState")}function Sg(e){bf(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Yf(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Jf(t.readTime,t.documentKey,n)}var _g={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Eg=function(){function e(t,n,r){(0,_e.Z)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return(0,Ee.Z)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Cg(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){bf(1===s)})));var c,l=[],f=(0,Xt.Z)(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=Ed(t,d.key.path,n.batchId);o.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return rd.waitFor(o).next((function(){return l}))}function Ig(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw yf();t=e.noDocument}return JSON.stringify(t).length}Eg.DEFAULT_COLLECTION_PERCENTILE=10,Eg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Eg.DEFAULT=new Eg(41943040,Eg.DEFAULT_COLLECTION_PERCENTILE,Eg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Eg.DISABLED=new Eg(-1,0,0);var Og=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return(0,Ee.Z)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tg(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,o=Ag(e),a=Tg(e);return a.add({}).next((function(s){bf("number"==typeof s);var u,c=new Zv(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return gm(e.fe,t)})),i=n.mutations.map((function(t){return gm(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],d=new eh((function(e,t){return Nf(e.canonicalString(),t.canonicalString())})),h=(0,Xt.Z)(r);try{for(h.s();!(u=h.n()).done;){var p=u.value,v=Ed(i.userId,p.key.path,s);d=d.add(p.key.path.popLast()),f.push(a.put(l)),f.push(o.put(v,Cd))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[s]=c.keys()})),rd.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Tg(e).get(t).next((function(e){return e?(bf(e.userId===n.userId),Dm(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?rd.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Tg(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(bf(t.batchId>=r),o=Dm(n.serializer,t)),i.done()})).next((function(){return o}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Tg(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tg(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Dm(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=_d(this.userId,t.path),o=IDBKeyRange.lowerBound(r),a=[];return Ag(e).X({range:o},(function(r,o,s){var u=(0,i.Z)(r,3),c=u[0],l=u[1],f=u[2],d=xd(l);if(c===n.userId&&t.path.isEqual(d))return Tg(e).get(f).next((function(e){if(!e)throw yf();bf(e.userId===n.userId),a.push(Dm(n.serializer,e))}));s.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new eh(Nf),o=[];return t.forEach((function(t){var a=_d(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=Ag(e).X({range:s},(function(e,o,a){var s=(0,i.Z)(e,3),u=s[0],c=s[1],l=s[2],f=xd(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));o.push(u)})),rd.waitFor(o).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,o=r.length+1,a=_d(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new eh(Nf);return Ag(e).X({range:s},(function(e,t,a){var s=(0,i.Z)(e,3),c=s[0],l=s[1],f=s[2],d=xd(l);c===n.userId&&r.isPrefixOf(d)?d.length===o&&(u=u.add(f)):a.done()})).next((function(){return n.Dn(e,u)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Tg(e).get(t).next((function(e){if(null===e)throw yf();bf(e.userId===n.userId),r.push(Dm(n.serializer,e))})))})),rd.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Cg(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),rd.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return rd.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ag(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var o=xd(e[1]);i.push(o)}else r.done()})).next((function(){bf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Zg(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return Pg(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return bf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Zg(e,t,n){var r=_d(t,n.path),o=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return Ag(e).X({range:a,Y:!0},(function(e,n,r){var a=(0,i.Z)(e,3),u=a[0],c=a[1];a[2];u===t&&c===o&&(s=!0),r.done()})).next((function(){return s}))}function Tg(e){return qd(e,"mutations")}function Ag(e){return qd(e,"documentMutations")}function Pg(e){return qd(e,"mutationQueues")}var Rg=function(){function e(t){(0,_e.Z)(this,e),this.Nn=t}return(0,Ee.Z)(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),Ng=function(){function e(t,n){(0,_e.Z)(this,e),this.referenceDelegate=t,this.serializer=n}return(0,Ee.Z)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new Rg(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Mf.fromTimestamp(new Df(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return jg(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return bf(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return jg(e).X((function(a,s){var u=Mm(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return rd.waitFor(o)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return jg(e).X((function(e,n){var r=Mm(n);t(r)}))}},{key:"$n",value:function(e){return Lg(e).get("targetGlobalKey").next((function(e){return bf(null!==e),e}))}},{key:"On",value:function(e,t){return Lg(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return jg(e).put(Fm(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=fp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jg(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var o=Mm(n);dp(t,o.target)&&(i=o,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],o=Dg(e);return t.forEach((function(t){var a=bd(t.path);i.push(o.put({targetId:n,path:a})),i.push(r.referenceDelegate.addReference(e,n,t))})),rd.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Dg(e);return rd.forEach(t,(function(t){var o=bd(t.path);return rd.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Dg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Dg(e),i=$p();return r.X({range:n,Y:!0},(function(e,t,n){var r=xd(e[1]),o=new Vf(r);i=i.add(o)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=bd(t.path),r=IDBKeyRange.bound([n],[Lf(n)],!1,!0),o=0;return Dg(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,i.Z)(e,2),a=r[0];r[1];0!==a&&(o++,n.done())})).next((function(){return o>0}))}},{key:"le",value:function(e,t){return jg(e).get(t).next((function(e){return e?Mm(e):null}))}}]),e}();function jg(e){return qd(e,"targets")}function Lg(e){return qd(e,"targetGlobal")}function Dg(e){return qd(e,"targetDocuments")}function Mg(e,t){var n=(0,i.Z)(e,2),r=n[0],o=n[1],a=(0,i.Z)(t,2),s=a[0],u=a[1],c=Nf(r,s);return 0===c?Nf(o,u):c}var Fg=function(){function e(t){(0,_e.Z)(this,e),this.Ln=t,this.buffer=new eh(Mg),this.qn=0}return(0,Ee.Z)(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Mg(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Bg=function(){function e(t,n,r){(0,_e.Z)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return(0,Ee.Z)(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var n=this;pf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.Gn=null,e.prev=1,e.next=4,n.localStore.collectGarbage(n.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ud(e.t0)){e.next=12;break}pf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,td(e.t0);case 14:return e.next=16,n.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ug=function(){function e(t,n){(0,_e.Z)(this,e),this.jn=t,this.params=n}return(0,Ee.Z)(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return rd.resolve(vd.ct);var r=new Fg(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(pf("LruGarbageCollector","Garbage collection skipped; disabled"),rd.resolve(_g)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(pf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),_g):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(pf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),hf()<=Ba.in.DEBUG&&pf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),rd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function zg(e,t){return new Ug(e,t)}var Vg=function(){function e(t,n){(0,_e.Z)(this,e),this.db=t,this.garbageCollector=zg(this,n)}return(0,Ee.Z)(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Hg(e,n)}},{key:"removeReference",value:function(e,t,n){return Hg(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Hg(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return Pg(e).Z((function(r){return Zg(e,r,t).next((function(e){return e&&(n=!0),rd.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.Yn(e,(function(a,s){if(s<=t){var u=n.Xn(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a,Mf.min()),Dg(e).delete([0,bd(a.path)])}))}));i.push(u)}})).next((function(){return rd.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Hg(e,t)}},{key:"Yn",value:function(e,t){var n,r=Dg(e),o=vd.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=(0,i.Z)(e,2),s=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===s?(o!==vd.ct&&t(new Vf(xd(n)),o),o=c,n=u):o=vd.ct})).next((function(){o!==vd.ct&&t(new Vf(xd(n)),o)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Hg(e,t){return Dg(e).put(function(e,t){return{targetId:0,path:bd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Wg=function(){function e(){(0,_e.Z)(this,e),this.changes=new jp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return(0,Ee.Z)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Mh.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rd.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),$g=function(){function e(t){(0,_e.Z)(this,e),this.serializer=t}return(0,Ee.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Qg(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Qg(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Nm(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Mh.newInvalidDocument(t);return Qg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jg(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:Mh.newInvalidDocument(t)};return Qg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Jg(t))},(function(e,i){r={document:n.ts(t,i),size:Ig(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Dp();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=Dp(),i=new Jd(Vf.comparator);return this.ns(e,t,(function(e,t){var o=n.ts(e,t);r=r.insert(e,o),i=i.insert(e,Ig(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return rd.resolve();var r=new eh(Xg);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Jg(r.first()),Jg(r.last())),o=r.getIterator(),a=o.getNext();return Qg(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Vf.fromSegments([].concat((0,be.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));a&&Xg(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.G(Jg(a)):r.done()})).next((function(){for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Nm(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qg(e).j(IDBKeyRange.bound(a,s,!0)).next((function(e){var n,o=Dp(),a=(0,Xt.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,u=i.ts(Vf.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(Ap(t,u)||r.has(u.key))&&(o=o.insert(u.key,u))}}catch(c){a.e(c)}finally{a.f()}return o}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,o=Dp(),a=Yg(t,n),s=Yg(t,Jf.max());return Qg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(function(e,t,n){var a=i.ts(Vf.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(o=o.insert(a.key,a)).size===r&&n.done()})).next((function(){return o}))}},{key:"newChangeBuffer",value:function(e){return new Gg(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Kg(e).get("remoteDocumentGlobalKey").next((function(e){return bf(!!e),e}))}},{key:"Zn",value:function(e,t){return Kg(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=mm(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Vf.fromSegments(t.noDocument.path),i=Lm(t.noDocument.readTime);n=Mh.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return yf();var o=Vf.fromSegments(t.unknownDocument.path),a=Lm(t.unknownDocument.version);n=Mh.newUnknownDocument(o,a)}return t.readTime&&n.setReadTime(function(e){var t=new Df(e[0],e[1]);return Mf.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Mf.min()))return n}return Mh.newInvalidDocument(e)}}]),e}();function qg(e){return new $g(e)}var Gg=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new jp((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return(0,Ee.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new eh((function(e,t){return Nf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.us.get(o);if(n.push(t.os.removeEntry(e,o,s.readTime)),a.isValidDocument()){var u=Rm(t.os.serializer,a);i=i.add(o.path.popLast());var c=Ig(u);r+=c-s.size,n.push(t.os.addEntry(e,o,u))}else if(r-=s.size,t.trackRemovals){var l=Rm(t.os.serializer,a.convertToNoDocument(Mf.min()));n.push(t.os.addEntry(e,o,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),rd.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Wg);function Kg(e){return qd(e,"remoteDocumentGlobal")}function Qg(e){return qd(e,"remoteDocumentsV14")}function Jg(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Yg(e,t){var n=t.documentKey.path.toArray();return[e,Nm(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Xg(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,o=0;o<n.length-2&&o<r.length-2;++o)if(i=Nf(n[o],r[o]))return i;return(i=Nf(n.length,r.length))||((i=Nf(n[n.length-2],r[r.length-2]))||Nf(n[n.length-1],r[r.length-1]))}var ey=(0,Ee.Z)((function e(t,n){(0,_e.Z)(this,e),this.overlayedDocument=t,this.mutatedFields=n})),ty=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return(0,Ee.Z)(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&gv(r.mutation,e,rh.empty(),Df.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,$p()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$p(),i=Up();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Fp();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Up();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,$p())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Dp(),o=Vp(),a=Vp();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof kv)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),gv(a.mutation,t,a.mutation.getFieldMask(),Df.now())):o.set(t.key,rh.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return o.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new ey(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Vp(),i=new Jd((function(e,t){return e-t})),o=$p();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,o=(0,Xt.Z)(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var o=t.get(n);if(null!==o){var a=r.get(n)||rh.empty();a=e.applyToLocalView(o,a),r.set(n,a);var s=(i.get(e.batchId)||$p()).add(n);i=i.insert(e.batchId,s)}}))};for(o.s();!(n=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}})).next((function(){for(var a=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=zp();c.forEach((function(e){if(!o.has(e)){var n=vv(t.get(e),r.get(e));null!==n&&l.set(e,n),o=o.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return rd.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Vf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(o){var a=r-o.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-o.size):rd.resolve(Up()),s=-1,u=o;return a.next((function(t){return rd.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),o.get(t)?rd.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,o)})).next((function(){return i.computeViews(e,u,t,$p())})).next((function(e){return{batchId:s,changes:Bp(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Vf(t)).next((function(e){var t=Fp();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,o=Fp();return this.indexManager.getCollectionParents(e,i).next((function(a){return rd.forEach(a,(function(a){var s=function(e,t){return new gp(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return r=o,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Mh.newInvalidDocument(r)))}));var n=Fp();return e.forEach((function(e,i){var o=r.get(e);void 0!==o&&gv(o.mutation,i,rh.empty(),Df.now()),Ap(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ny=function(){function e(t){(0,_e.Z)(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return(0,Ee.Z)(e,[{key:"getBundleMetadata",value:function(e,t){return rd.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:am(n.createTime)}),rd.resolve()}},{key:"getNamedQuery",value:function(e,t){return rd.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Bm(e.bundledQuery),readTime:am(e.readTime)}}(t)),rd.resolve()}}]),e}(),ry=function(){function e(){(0,_e.Z)(this,e),this.overlays=new Jd(Vf.comparator),this.ls=new Map}return(0,Ee.Z)(e,[{key:"getOverlay",value:function(e,t){return rd.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Up();return rd.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),rd.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),rd.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Up(),i=t.length+1,o=new Vf(t.child("")),a=this.overlays.getIteratorFrom(o);a.hasNext();){var s=a.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return rd.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Jd((function(e,t){return e-t})),o=this.overlays.getIterator();o.hasNext();){var a=o.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var s=i.get(a.largestBatchId);null===s&&(s=Up(),i=i.insert(a.largestBatchId,s)),s.set(a.getKey(),a)}}for(var u=Up(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return rd.resolve(u)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Av(t,n));var o=this.ls.get(t);void 0===o&&(o=$p(),this.ls.set(t,o)),this.ls.set(t,o.add(n.key))}}]),e}(),iy=function(){function e(){(0,_e.Z)(this,e),this.fs=new eh(oy.ds),this.ws=new eh(oy._s)}return(0,Ee.Z)(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new oy(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new oy(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Vf(new Bf([])),r=new oy(n,e),i=new oy(n,e+1),o=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),o.push(e.key)})),o}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Vf(new Bf([])),n=new oy(t,e),r=new oy(t,e+1),i=$p();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new oy(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),oy=function(){function e(t,n){(0,_e.Z)(this,e),this.key=t,this.As=n}return(0,Ee.Z)(e,null,[{key:"ds",value:function(e,t){return Vf.comparator(e.key,t.key)||Nf(e.As,t.As)}},{key:"_s",value:function(e,t){return Nf(e.As,t.As)||Vf.comparator(e.key,t.key)}}]),e}(),ay=function(){function e(t,n){(0,_e.Z)(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new eh(oy.ds)}return(0,Ee.Z)(e,[{key:"checkEmpty",value:function(e){return rd.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var o=new Zv(i,t,n,r);this.mutationQueue.push(o);var a,s=(0,Xt.Z)(r);try{for(s.s();!(a=s.n()).done;){var u=a.value;this.Rs=this.Rs.add(new oy(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return rd.resolve(o)}},{key:"lookupMutationBatch",value:function(e,t){return rd.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return rd.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return rd.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return rd.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new oy(t,0),i=new oy(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);o.push(t)})),rd.resolve(o)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new eh(Nf);return t.forEach((function(e){var t=new oy(e,0),i=new oy(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),rd.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vf.isDocumentKey(i)||(i=i.child(""));var o=new oy(new Vf(i),0),a=new eh(Nf);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),o),rd.resolve(this.Vs(a))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;bf(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return rd.forEach(t.mutations,(function(i){var o=new oy(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new oy(t,0),r=this.Rs.firstAfterOrEqual(n);return rd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,rd.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),sy=function(){function e(t){(0,_e.Z)(this,e),this.Ds=t,this.docs=new Jd(Vf.comparator),this.size=0}return(0,Ee.Z)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return rd.resolve(n?n.document.mutableCopy():Mh.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Dp();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Mh.newInvalidDocument(e))})),rd.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Dp(),o=t.path,a=new Vf(o.child("")),s=this.docs.getIteratorFrom(a);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Yf(Qf(l),n)<=0||(r.has(l.key)||Ap(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return rd.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){yf()}},{key:"Cs",value:function(e,t){return rd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new uy(this)}},{key:"getSize",value:function(e){return rd.resolve(this.size)}}]),e}(),uy=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this)).os=e,r}return(0,Ee.Z)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),rd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Wg),cy=function(){function e(t){(0,_e.Z)(this,e),this.persistence=t,this.xs=new jp((function(e){return fp(e)}),dp),this.lastRemoteSnapshotVersion=Mf.min(),this.highestTargetId=0,this.Ns=0,this.ks=new iy,this.targetCount=0,this.Ms=Rg.kn()}return(0,Ee.Z)(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),rd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return rd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return rd.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),rd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),rd.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new Rg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,rd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),rd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,rd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,o=[];return this.xs.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.xs.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),rd.waitFor(o).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return rd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return rd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),rd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),rd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),rd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return rd.resolve(n)}},{key:"containsKey",value:function(e,t){return rd.resolve(this.ks.containsKey(t))}}]),e}(),ly=function(){function e(t,n){var r=this;(0,_e.Z)(this,e),this.$s={},this.overlays={},this.Os=new vd(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new cy(this),this.indexManager=new vg,this.remoteDocumentCache=new sy((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new Pm(n),this.qs=new ny(this.serializer)}return(0,Ee.Z)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ry,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new ay(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;pf("MemoryPersistence","Starting transaction:",e);var i=new fy(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return rd.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),fy=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return(0,Ee.Z)(n)}(ed),dy=function(){function e(t){(0,_e.Z)(this,e),this.persistence=t,this.Qs=new iy,this.js=null}return(0,Ee.Z)(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw yf()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),rd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),rd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),rd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rd.forEach(this.Ws,(function(r){var i=Vf.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Mf.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return rd.or([function(){return rd.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),hy=function(){function e(t){(0,_e.Z)(this,e),this.serializer=t}return(0,Ee.Z)(e,[{key:"O",value:function(e,t,n,r){var i=this,o=new id("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sd,{unique:!0}),e.createObjectStore("documentMutations")}(e),py(e),function(e){e.createObjectStore("remoteDocuments")}(e));var a=rd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),py(e)),a=a.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mf.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return rd.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Ys(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Zs(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.ti(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.ei(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(a=a.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Md});t.createIndex("collectionPathOverlayIndex",Fd,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Bd,{unique:!1})}(e)}))),n<13&&r>=13&&(a=a.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Id});t.createIndex("documentKeyIndex",Od),t.createIndex("collectionGroupIndex",Zd)}(e)})).next((function(){return i.ni(e,o)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(a=a.next((function(){return i.si(e,o)}))),n<15&&r>=15&&(a=a.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Nd}).createIndex("sequenceNumberIndex",jd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ld}).createIndex("documentKeyIndex",Dd,{unique:!1})}(e)}))),a}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Ig(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return rd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return rd.forEach(r,(function(r){bf(r.userId===n.userId);var i=Dm(t.serializer,r);return Cg(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var o=new Bf(n),a=function(e){return[0,bd(e)]}(o);r.push(t.get(a).next((function(n){return n?rd.resolve():function(n){return t.put({targetId:0,path:bd(n),sequenceNumber:e.highestListenSequenceNumber})}(o)})))})).next((function(){return rd.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Rd});var n=t.store("collectionParents"),r=new mg,o=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:bd(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new Bf(e);return o(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=(0,i.Z)(e,3),r=(n[0],n[1]),a=(n[2],xd(r));return o(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Mm(r),o=Fm(t.serializer,i);return n.put(o)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,o=t.store("remoteDocumentsV14"),a=(i=n,i.document?new Vf(Bf.fromString(i.document.name).popFirst(5)):i.noDocument?Vf.fromSegments(i.noDocument.path):i.unknownDocument?Vf.fromSegments(i.unknownDocument.path):yf()).path.toArray(),s={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(o.put(s))})).next((function(){return rd.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=qg(this.serializer),o=new ly(dy.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:$p();Dm(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),rd.forEach(r,(function(e,r){var a=new lf(r),s=qm.de(n.serializer,a),u=o.getIndexManager(a),c=Og.de(a,n.serializer,u,o.referenceDelegate);return new ty(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new $d(t,vd.ct),e).next()}))}))}}]),e}();function py(e){e.createObjectStore("targetDocuments",{keyPath:Ad}).createIndex("documentTargetsIndex",Pd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Td,{unique:!0}),e.createObjectStore("targetGlobal")}var vy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",my=function(){function e(t,n,r,i,o,a,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if((0,_e.Z)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=o,this.window=a,this.document=s,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new xf(kf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vg(this,i),this.di=n+"main",this.serializer=new Pm(u),this.wi=new od(this.di,this.ui,new hy(this.serializer)),this.Bs=new Ng(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qg(this.serializer),this.qs=new Hm,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&vf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return(0,Ee.Z)(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new xf(kf.FAILED_PRECONDITION,vy);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new vd(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var n=this;return this.fi=function(){var i=(0,r.Z)((0,t.Z)().mark((function r(i){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.started){t.next=2;break}return t.abrupt("return",e(i));case 2:case"end":return t.stop()}}),r)})));return function(e){return i.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===r.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n.started,!e.t0){e.next=4;break}return e.next=4,n.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return yy(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(ud(t))return pf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return pf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return gy(e).get("owner").next((function(e){return rd.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return yy(e).delete(this.clientId)}},{key:"bi",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qd(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return rd.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(n=e.sent,this._i){r=(0,Xt.Z)(n);try{for(r.s();!(i=r.n()).done;)o=i.value,this._i.removeItem(this.Di(o.clientId))}catch(t){r.e(t)}finally{r.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?rd.resolve(!0):gy(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new xf(kf.FAILED_PRECONDITION,vy);return!1}}return!(!t.networkEnabled||!t.inForeground)||yy(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&pf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var t=new $d(e,vd.ct);return n.Ai(t).next((function(){return n.Pi(t)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return yy(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return Og.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new yg(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return qm.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;pf("IndexedDbPersistence","Starting transaction:",e);var i,o,a="readonly"===t?"readonly":"readwrite",s=15===(i=this.ui)?Wd:14===i?Hd:13===i?Vd:12===i?zd:11===i?Ud:void yf();return this.wi.runTransaction(e,a,s,(function(i){return o=new $d(i,r.Os?r.Os.next():vd.ct),"readwrite-primary"===t?r.Ti(o).next((function(e){return!!e||r.Ei(o)})).next((function(t){if(!t)throw vf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new xf(kf.FAILED_PRECONDITION,Xf);return n(o)})).next((function(e){return r.vi(o).next((function(){return e}))})):r.Oi(o).next((function(){return n(o)}))})).then((function(e){return o.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return gy(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new xf(kf.FAILED_PRECONDITION,vy)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gy(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=gy(e);return n.get("owner").next((function(e){return t.Ri(e)?(pf("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):rd.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(vf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;(0,Ua.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return pf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return vf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(zE){vf("Failed to set zombie client id.",zE)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(zE){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return od.D()}}]),e}();function gy(e){return qd(e,"owner")}function yy(e){return qd(e,"clientMetadata")}function by(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var wy=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return(0,Ee.Z)(e,null,[{key:"Li",value:function(t,n){var r,i=$p(),o=$p(),a=(0,Xt.Z)(n.docChanges);try{for(a.s();!(r=a.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}}}catch(u){a.e(u)}finally{a.f()}return new e(t,n.fromCache,i,o)}}]),e}(),ky=function(){function e(){(0,_e.Z)(this,e),this.qi=!1}return(0,Ee.Z)(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(o){return o||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(wp(t))return rd.resolve(null);var r=Ep(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ip(t,null,"F"),r=Ep(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var o=$p.apply(void 0,(0,be.Z)(i));return n.Ui.getDocuments(e,o).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var a=n.ji(t,i);return n.zi(t,a,o,r.readTime)?n.Ki(e,Ip(t,null,"F")):n.Wi(e,a,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return wp(t)||r.isEqual(Mf.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(o){var a=i.ji(t,o);return i.zi(t,a,n,r)?i.Qi(e,t):(hf()<=Ba.in.DEBUG&&pf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tp(t)),i.Wi(e,a,t,Kf(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new eh(Rp(e));return t.forEach((function(t,r){Ap(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return hf()<=Ba.in.DEBUG&&pf("QueryEngine","Using full collection scan to execute query:",Tp(t)),this.Ui.getDocumentsMatchingQuery(e,t,Jf.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),xy=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Jd(Nf),this.Yi=new jp((function(e){return fp(e)}),dp),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return(0,Ee.Z)(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ty(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Sy(e,t,n,r){return new xy(e,t,n,r)}function _y(e,t){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wf(n),e.next=3,i.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return i.mutationQueue.getAllMutationBatches(e).next((function(n){return t=n,i.tr(r),i.mutationQueue.getAllMutationBatches(e)})).next((function(n){var r,o=[],a=[],s=$p(),u=(0,Xt.Z)(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;o.push(c.batchId);var l,f=(0,Xt.Z)(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;s=s.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var h,p=(0,Xt.Z)(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;a.push(v.batchId);var m,g=(0,Xt.Z)(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return i.localDocuments.getDocuments(e,s).next((function(e){return{er:e,removedBatchIds:o,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}function Cy(e,t){var n=wf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=rd.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);bf(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=$p(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Iy(e){var t=wf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function Oy(e,t){var n=wf(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var a=[];t.targetChanges.forEach((function(o,s){var u=i.get(s);if(u){a.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,s).next((function(){return n.Bs.addMatchingKeys(e,o.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(oh.EMPTY_BYTE_STRING,Mf.min()).withLastLimboFreeSnapshotVersion(Mf.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,o)&&a.push(n.Bs.updateTargetData(e,c))}}));var s=Dp(),u=$p();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Zy(e,o,t.documentUpdates).next((function(e){s=e.nr,u=e.sr}))),!r.isEqual(Mf.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return rd.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function Zy(e,t,n){var r=$p(),i=$p();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Dp();return n.forEach((function(n,o){var a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Mf.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):pf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function Ty(e,t){var n=wf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Ay(e,t){var n=wf(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,rd.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Am(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function Py(e,t,n){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=wf(n),a=o.Ji.get(r),s=i?"readwrite":"readwrite-primary",e.prev=1,e.t0=i,e.t0){e.next=6;break}return e.next=6,o.persistence.runTransaction("Release target",s,(function(e){return o.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ud(e.t1)){e.next=12;break}throw e.t1;case 12:pf("LocalStore","Failed to update sequence numbers for target ".concat(r,": ").concat(e.t1));case 13:o.Ji=o.Ji.remove(r),o.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Ry.apply(this,arguments)}function Ny(e,t,n){var r=wf(e),i=Mf.min(),o=$p();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=wf(e),i=r.Yi.get(n);return void 0!==i?rd.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ep(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Mf.min(),n?o:$p())})).next((function(e){return Dy(r,Pp(t),e),{documents:e,ir:o}}))}))}function jy(e,t){var n=wf(e),r=wf(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function Ly(e,t){var n=wf(e),r=n.Xi.get(t)||Mf.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Kf(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Dy(n,t,e),e}))}function Dy(e,t,n){var r=e.Xi.get(t)||Mf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function My(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Fy(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function By(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Uy=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return(0,Ee.Z)(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&((a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new xf(o.error.code,o.error.message))),a?new e(t,n,o.state,i):(vf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),zy=function(){function e(t,n,r){(0,_e.Z)(this,e),this.targetId=t,this.state=n,this.error=r}return(0,Ee.Z)(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new xf(i.error.code,i.error.message))),o?new e(t,i.state,r):(vf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Vy=function(){function e(t,n){(0,_e.Z)(this,e),this.clientId=t,this.activeTargetIds=n}return(0,Ee.Z)(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Gp(),a=0;i&&a<r.activeTargetIds.length;++a)i=yd(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(vf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Hy=function(){function e(t,n){(0,_e.Z)(this,e),this.clientId=t,this.onlineState=n}return(0,Ee.Z)(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(vf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Wy=function(){function e(){(0,_e.Z)(this,e),this.activeTargetIds=Gp()}return(0,Ee.Z)(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),$y=function(){function e(t,n,r,i,o){(0,_e.Z)(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Jd(Nf),this.started=!1,this.yr=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=My(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Wy),this.Tr=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return(0,Ee.Z)(e,[{key:"start",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,u,c,l,f,d,h=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:n=e.sent,r=(0,Xt.Z)(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=14;break}if((o=i.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(My(this.persistenceKey,o)))&&(s=Vy.ar(o,a))&&(this.gr=this.gr.insert(s.clientId,s));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(c=this.br(u))&&this.Vr(c),l=(0,Xt.Z)(this.yr);try{for(l.s();!(f=l.n()).done;)d=f.value,this.mr(d)}catch(t){l.e(t)}finally{l.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(By(this.persistenceKey,e));if(n){var r=zy.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(By(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return pf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){pf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){pf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var n=this,i=e;if(i.storageArea===this.storage){if(pf("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void vf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,r.Z)((0,t.Z)().mark((function e(){var r,o,a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.started){e.next=43;break}if(null===i.key){e.next=41;break}if(!n.Tr.test(i.key)){e.next=11;break}if(null!=i.newValue){e.next=6;break}return r=n.Or(i.key),e.abrupt("return",n.Fr(r,null));case 6:if(!(o=n.Br(i.key,i.newValue))){e.next=9;break}return e.abrupt("return",n.Fr(o.clientId,o));case 9:e.next=41;break;case 11:if(!n.Er.test(i.key)){e.next=18;break}if(null===i.newValue){e.next=16;break}if(!(a=n.Lr(i.key,i.newValue))){e.next=16;break}return e.abrupt("return",n.qr(a));case 16:e.next=41;break;case 18:if(!n.Ar.test(i.key)){e.next=25;break}if(null===i.newValue){e.next=23;break}if(!(s=n.Ur(i.key,i.newValue))){e.next=23;break}return e.abrupt("return",n.Kr(s));case 23:e.next=41;break;case 25:if(i.key!==n.vr){e.next=32;break}if(null===i.newValue){e.next=30;break}if(!(u=n.br(i.newValue))){e.next=30;break}return e.abrupt("return",n.Vr(u));case 30:e.next=41;break;case 32:if(i.key!==n.Ir){e.next=37;break}c=function(e){var t=vd.ct;if(null!=e)try{var n=JSON.parse(e);bf("number"==typeof n),t=n}catch(e){vf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(i.newValue),c!==vd.ct&&n.sequenceNumberHandler(c),e.next=41;break;case 37:if(i.key!==n.Rr){e.next=41;break}return l=n.Gr(i.newValue),e.next=41,Promise.all(l.map((function(e){return n.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:n.yr.push(i);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new Uy(this.currentUser,e,t,n),i=Fy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=Fy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=By(this.persistenceKey,e),i=new zy(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return Vy.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Uy.ar(new lf(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return zy.ar(r,t)}},{key:"br",value:function(e){return Hy.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(n.batchId,n.state,n.error));case 2:pf("SharedClientState","Ignoring mutation for non-active user ".concat(n.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.Wr(a,s).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Gp();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),qy=function(){function e(){(0,_e.Z)(this,e),this.Hr=new Wy,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return(0,Ee.Z)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Wy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Gy=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ky=function(){function e(){var t=this;(0,_e.Z)(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return(0,Ee.Z)(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){pf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=(0,Xt.Z)(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){pf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=(0,Xt.Z)(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Qy=null;function Jy(){return null===Qy?Qy=268435456+Math.round(2147483648*Math.random()):Qy++,"0x"+Qy.toString(16)}var Yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Xy=function(){function e(t){(0,_e.Z)(this,e),this.ro=t.ro,this.oo=t.oo}return(0,Ee.Z)(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),eb="WebChannelConnection",tb=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return(0,Ee.Z)(n,[{key:"Ao",value:function(e,t,n,r){var i=Jy();return new Promise((function(o,a){var s=new af;s.setWithCredentials(!0),s.listenOnce(ef.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Xl.NO_ERROR:var t=s.getResponseJson();pf(eb,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Xl.TIMEOUT:pf(eb,"RPC '".concat(e,"' ").concat(i," timed out")),a(new xf(kf.DEADLINE_EXCEEDED,"Request time out"));break;case Xl.HTTP_ERROR:var n=s.getStatus();if(pf(eb,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(kf).indexOf(t)>=0?t:kf.UNKNOWN}(u.status);a(new xf(c,u.message))}else a(new xf(kf.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new xf(kf.UNAVAILABLE,"Connection failed."));break;default:yf()}}finally{pf(eb,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);pf(eb,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Jy(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Jl(),a=Yl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new rf({})),this.Eo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");pf(eb,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=o.createWebChannel(c,s),f=!1,d=!1,h=new Xy({ro:function(t){d?pf(eb,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(pf(eb,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),pf(eb,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,of.EventType.OPEN,(function(){d||pf(eb,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,of.EventType.CLOSE,(function(){d||(d=!0,pf(eb,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.wo())})),p(l,of.EventType.ERROR,(function(t){d||(d=!0,mf(eb,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.wo(new xf(kf.UNAVAILABLE,"The operation could not be completed")))})),p(l,of.EventType.MESSAGE,(function(t){var n;if(!d){var i=t.data[0];bf(!!i);var o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){pf(eb,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);var s=a.status,u=function(e){var t=Ev[e];if(void 0!==t)return Nv(t)}(s),c=a.message;void 0===u&&(u=kf.INTERNAL,c="Unknown error status: "+s+" with message "+a.message),d=!0,h.wo(new xf(u,c)),l.close()}else pf(eb,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),p(a,tf.STAT_EVENT,(function(t){t.stat===nf.PROXY?pf(eb,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===nf.NOPROXY&&pf(eb,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.fo()}),0),h}}]),n}(function(){function e(t){(0,_e.Z)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return(0,Ee.Z)(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var o=Jy(),a=this.To(e,t);pf("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);var s={};return this.Eo(s,r,i),this.Ao(e,a,s,n).then((function(t){return pf("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t}),(function(t){throw mf("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ff,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Yy[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function nb(){return"undefined"!=typeof window?window:null}function rb(){return"undefined"!=typeof document?document:null}function ib(e){return new tm(e,!0)}var ob=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;(0,_e.Z)(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return(0,Ee.Z)(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&pf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),ab=function(){function e(t,n,r,i,o,a,s,u){(0,_e.Z)(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ob(t,n)}return(0,Ee.Z)(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==n?this.qo.reset():r&&r.code===kf.RESOURCE_EXHAUSTED?(vf(r.toString()),vf("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):r&&r.code===kf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=n,e.next=9,this.listener.ao(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,i.Z)(t,2),o=r[0],a=r[1];e.Fo===n&&e.Zo(o,a)}),(function(n){t((function(){var t=new xf(kf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No((0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),n)}))))}},{key:"tu",value:function(e){return pf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(pf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),sb=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o,a,s){var u;return(0,_e.Z)(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o,s)).serializer=a,u}return(0,Ee.Z)(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(bf(void 0===t||"string"==typeof t),oh.fromBase64String(t||"")):(bf(void 0===t||t instanceof Uint8Array),oh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){var t=void 0===e.code?kf.UNKNOWN:Nv(e.code);return new xf(t,e.message||"")}(a);n=new qv(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=lm(e,u.document.name),l=am(u.document.updateTime),f=u.document.createTime?am(u.document.createTime):Mf.min(),d=new Lh({mapValue:{fields:u.document.fields}}),h=Mh.newFoundDocument(c,l,f,d),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Wv(p,v,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=lm(e,m.document),y=m.readTime?am(m.readTime):Mf.min(),b=Mh.newNoDocument(g,y),w=m.removedTargetIds||[];n=new Wv([],w,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var x=lm(e,k.document),S=k.removedTargetIds||[];n=new Wv([],S,x,null)}else{if(!("filter"in t))return yf();t.filter;var _=t.filter;_.targetId;var E=_.count,C=void 0===E?0:E,I=_.unchangedNames,O=new Pv(C,I),Z=_.targetId;n=new $v(Z,O)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Mf.min():t.readTime?am(t.readTime):Mf.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=hm(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=hp(r)?{documents:bm(e,r)}:{query:wm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=im(e,t.resumeToken);var i=nm(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Mf.min())>0){n.readTime=rm(e,t.snapshotVersion.toTimestamp());var o=nm(e,t.expectedCount);null!==o&&(n.expectedCount=o)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=hm(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(ab),ub=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o,a,s){var u;return(0,_e.Z)(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o,s)).serializer=a,u.ru=!1,u}return(0,Ee.Z)(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,(0,ja.Z)((0,La.Z)(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(bf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(bf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?am(e.updateTime):am(t);return n.isEqual(Mf.min())&&(n=am(t)),new fv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=am(e.commitTime);return this.listener.cu(n,t)}return bf(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=hm(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return gm(t.serializer,e)}))};this.Wo(n)}}]),n}(ab),cb=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o){var a;return(0,_e.Z)(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.connection=i,a.serializer=o,a.lu=!1,a}return(0,Ee.Z)(n,[{key:"fu",value:function(){if(this.lu)throw new xf(kf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var a=(0,i.Z)(o,2),s=a[0],u=a[1];return r.connection.Io(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new xf(kf.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var o=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=(0,i.Z)(a,2),u=s[0],c=s[1];return o.connection.vo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===kf.UNAUTHENTICATED&&(o.authCredentials.invalidateToken(),o.appCheckCredentials.invalidateToken()),e):new xf(kf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return(0,Ee.Z)((function e(){(0,_e.Z)(this,e)}))}());var lb=function(){function e(t,n){(0,_e.Z)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return(0,Ee.Z)(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(vf(t),this.mu=!1):pf("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),fb=(0,Ee.Z)((function e(n,i,o,a,s){var u=this;(0,_e.Z)(this,e),this.localStore=n,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr((function(e){o.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=xb(u),!e.t0){e.next=5;break}return pf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=wf(n)).vu.add(4),e.next=4,pb(r);case 4:return r.bu.set("Unknown"),r.vu.delete(4),e.next=8,db(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(u);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new lb(o,a)}));function db(e){return hb.apply(this,arguments)}function hb(){return hb=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!xb(n)){e.next=18;break}r=(0,Xt.Z)(n.Ru),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=10;break}return o=i.value,e.next=8,o(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),hb.apply(this,arguments)}function pb(e){return vb.apply(this,arguments)}function vb(){return vb=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,Xt.Z)(n.Ru),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return o=i.value,e.next=7,o(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),vb.apply(this,arguments)}function mb(e,t){var n=wf(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),kb(n)?wb(n):Jb(n).Ko()&&yb(n,t))}function gb(e,t){var n=wf(e),r=Jb(n);n.Au.delete(t),r.Ko()&&bb(n,t),0===n.Au.size&&(r.Ko()?r.jo():xb(n)&&n.bu.set("Unknown"))}function yb(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mf.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Jb(e).su(t)}function bb(e,t){e.Vu.qt(t),Jb(e).iu(t)}function wb(e){e.Vu=new Kv({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Jb(e).start(),e.bu.gu()}function kb(e){return xb(e)&&!Jb(e).Uo()&&e.Au.size>0}function xb(e){return 0===wf(e).vu.size}function Sb(e){e.Vu=void 0}function _b(e){return Eb.apply(this,arguments)}function Eb(){return Eb=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.Au.forEach((function(e,t){yb(n,e)}));case 1:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function Cb(e,t){return Ib.apply(this,arguments)}function Ib(){return Ib=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sb(n),kb(n)?(n.bu.Iu(r),wb(n)):n.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Ib.apply(this,arguments)}function Ob(e,t,n){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,r.Z)((0,t.Z)().mark((function e(n,i,o){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.bu.set("Online"),!(i instanceof qv&&2===i.state&&i.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.cause,o=(0,Xt.Z)(r.targetIds),e.prev=2,o.s();case 4:if((a=o.n()).done){e.next=14;break}if(s=a.value,e.t0=n.Au.has(s),!e.t0){e.next=12;break}return e.next=10,n.remoteSyncer.rejectListen(s,i);case 10:n.Au.delete(s),n.Vu.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),o.e(e.t1);case 19:return e.prev=19,o.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(n,i);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),pf("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),e.t0),e.next=11,Tb(n,e.t0);case 11:case 22:e.next=29;break;case 13:if(i instanceof Wv?n.Vu.Ht(i):i instanceof $v?n.Vu.ne(i):n.Vu.Xt(i),o.isEqual(Mf.min())){e.next=29;break}return e.prev=14,e.next=17,Iy(n.localStore);case 17:if(a=e.sent,e.t1=o.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(oh.EMPTY_BYTE_STRING,r.snapshotVersion)),bb(e,t);var i=new Am(r.target,t,n,r.sequenceNumber);yb(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(n,o);case 24:return e.prev=24,e.t2=e.catch(14),pf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Tb(n,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Zb.apply(this,arguments)}function Tb(e,t,n){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,r.Z)((0,t.Z)().mark((function e(n,i,o){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ud(i)){e.next=2;break}throw i;case 2:return n.vu.add(1),e.next=5,pb(n);case 5:n.bu.set("Offline"),o||(o=function(){return Iy(n.localStore)}),n.asyncQueue.enqueueRetryable((0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf("RemoteStore","Retrying IndexedDB access"),e.next=3,o();case 3:return n.vu.delete(1),e.next=6,db(n);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ab.apply(this,arguments)}function Pb(e,t){return t().catch((function(n){return Tb(e,n,t)}))}function Rb(e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=wf(n),i=Yb(r),o=r.Eu.length>0?r.Eu[r.Eu.length-1].batchId:-1;case 2:if(!jb(r)){e.next=19;break}return e.prev=3,e.next=6,Ty(r.localStore,o);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===r.Eu.length&&i.jo(),e.abrupt("break",19);case 10:o=a.batchId,Lb(r,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Tb(r,e.t0);case 17:e.next=2;break;case 19:Db(r)&&Mb(r);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Nb.apply(this,arguments)}function jb(e){return xb(e)&&e.Eu.length<10}function Lb(e,t){e.Eu.push(t);var n=Yb(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Db(e){return xb(e)&&!Yb(e).Uo()&&e.Eu.length>0}function Mb(e){Yb(e).start()}function Fb(e){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yb(n).hu();case 1:case"end":return e.stop()}}),e)}))),Bb.apply(this,arguments)}function Ub(e){return zb.apply(this,arguments)}function zb(){return zb=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Yb(n),i=(0,Xt.Z)(n.Eu);try{for(i.s();!(o=i.n()).done;)a=o.value,r.uu(a.mutations)}catch(t){i.e(t)}finally{i.f()}case 3:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}function Vb(e,t,n){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.Eu.shift(),a=Tv.from(o,r,i),e.next=3,Pb(n,(function(){return n.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Rb(n);case 5:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Wb(e,t){return $b.apply(this,arguments)}function $b(){return $b=(0,r.Z)((0,t.Z)().mark((function e(n,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i&&Yb(n).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Rv(o=r.code)||o===kf.ABORTED){e.next=7;break}return i=n.Eu.shift(),Yb(n).Qo(),e.next=5,Pb(n,(function(){return n.remoteSyncer.rejectFailedWrite(i.batchId,r)}));case 5:return e.next=7,Rb(n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n,i);case 4:Db(n)&&Mb(n);case 5:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function qb(e,t){return Gb.apply(this,arguments)}function Gb(){return Gb=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=wf(n)).asyncQueue.verifyOperationInProgress(),pf("RemoteStore","RemoteStore received new credentials"),o=xb(i),i.vu.add(3),e.next=6,pb(i);case 6:return o&&i.bu.set("Unknown"),e.next=9,i.remoteSyncer.handleCredentialChange(r);case 9:return i.vu.delete(3),e.next=12,db(i);case 12:case"end":return e.stop()}}),e)}))),Gb.apply(this,arguments)}function Kb(e,t){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wf(n),!r){e.next=7;break}return i.vu.delete(2),e.next=5,db(i);case 5:e.next=13;break;case 7:if(e.t0=r,e.t0){e.next=13;break}return i.vu.add(2),e.next=12,pb(i);case 12:i.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Qb.apply(this,arguments)}function Jb(e){return e.Su||(e.Su=function(e,t,n){var r=wf(e);return r.fu(),new sb(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:_b.bind(null,e),ao:Cb.bind(null,e),nu:Ob.bind(null,e)}),e.Ru.push(function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}e.Su.Qo(),kb(e)?wb(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:Sb(e);case 7:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),e.Su}function Yb(e){return e.Du||(e.Du=function(e,t,n){var r=wf(e);return r.fu(),new ub(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Fb.bind(null,e),ao:Wb.bind(null,e),au:Ub.bind(null,e),cu:Vb.bind(null,e)}),e.Ru.push(function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=6;break}return e.Du.Qo(),t.next=4,Rb(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(pf("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())),e.Du}var Xb=function(){function e(t,n,r,i,o){(0,_e.Z)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return(0,Ee.Z)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xf(kf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a}}]),e}();function ew(e,t){if(vf("AsyncQueue","".concat(t,": ").concat(e)),ud(e))return new xf(kf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var tw=function(){function e(t){(0,_e.Z)(this,e),this.comparator=t?function(e,n){return t(e,n)||Vf.comparator(e.key,n.key)}:function(e,t){return Vf.comparator(e.key,t.key)},this.keyedMap=Fp(),this.sortedSet=new Jd(this.comparator)}return(0,Ee.Z)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),nw=function(){function e(){(0,_e.Z)(this,e),this.Cu=new Jd(Vf.comparator)}return(0,Ee.Z)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):yf():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),rw=function(){function e(t,n,r,i,o,a,s,u,c){(0,_e.Z)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return(0,Ee.Z)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,o){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,tw.emptySet(n),a,r,i,!0,!1,o)}}]),e}(),iw=(0,Ee.Z)((function e(){(0,_e.Z)(this,e),this.Nu=void 0,this.listeners=[]})),ow=(0,Ee.Z)((function e(){(0,_e.Z)(this,e),this.queries=new jp((function(e){return Zp(e)}),Op),this.onlineState="Unknown",this.ku=new Set}));function aw(e,t){return sw.apply(this,arguments)}function sw(){return sw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wf(n),o=r.query,a=!1,(s=i.queries.get(o))||(a=!0,s=new iw),!a){e.next=13;break}return e.prev=3,e.next=6,i.onListen(o);case 6:s.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ew(e.t0,"Initialization of query '".concat(Tp(r.query),"' failed")),e.abrupt("return",void r.onError(u));case 13:i.queries.set(o,s),s.listeners.push(r),r.Mu(i.onlineState),s.Nu&&r.$u(s.Nu)&&dw(i);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),sw.apply(this,arguments)}function uw(e,t){return cw.apply(this,arguments)}function cw(){return cw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wf(n),o=r.query,a=!1,(s=i.queries.get(o))&&(u=s.listeners.indexOf(r))>=0&&(s.listeners.splice(u,1),a=0===s.listeners.length),!a){e.next=6;break}return e.abrupt("return",(i.queries.delete(o),i.onUnlisten(o)));case 6:case"end":return e.stop()}}),e)}))),cw.apply(this,arguments)}function lw(e,t){var n,r=wf(e),i=!1,o=(0,Xt.Z)(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.query,u=r.queries.get(s);if(u){var c,l=(0,Xt.Z)(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(a)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Nu=a}}}catch(f){o.e(f)}finally{o.f()}i&&dw(r)}function fw(e,t,n){var r=wf(e),i=r.queries.get(t);if(i){var o,a=(0,Xt.Z)(i.listeners);try{for(a.s();!(o=a.n()).done;){o.value.onError(n)}}catch(s){a.e(s)}finally{a.f()}}r.queries.delete(t)}function dw(e){e.ku.forEach((function(e){e.next()}))}var hw=function(){function e(t,n,r){(0,_e.Z)(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return(0,Ee.Z)(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=(0,Xt.Z)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new rw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var o=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),o=!0):this.qu(e,this.onlineState)&&(this.Uu(e),o=!0),this.Bu=e,o}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=rw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}();var pw=(0,Ee.Z)((function e(t){(0,_e.Z)(this,e),this.key=t})),vw=(0,Ee.Z)((function e(t){(0,_e.Z)(this,e),this.key=t})),mw=function(){function e(t,n){(0,_e.Z)(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=$p(),this.mutatedKeys=$p(),this.tc=Rp(t),this.ec=new tw(this.tc)}return(0,Ee.Z)(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new nw,i=t?t.ec:this.ec,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ap(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.tc(f,u)>0||c&&n.tc(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var l="F"===this.query.limitType?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ec:a,ic:r,zi:s,mutatedKeys:o}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var o=e.ic.xu();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yf()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var a=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,u=s!==this.Xu;return this.Xu=s,0!==o.length||u?{snapshot:new rw(this.query,e.ec,i,o,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:a}:{cc:a}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=$p(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new vw(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new pw(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=$p();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return rw.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),gw=(0,Ee.Z)((function e(t,n,r){(0,_e.Z)(this,e),this.query=t,this.targetId=n,this.view=r})),yw=(0,Ee.Z)((function e(t){(0,_e.Z)(this,e),this.key=t,this.fc=!1})),bw=function(){function e(t,n,r,i,o,a){(0,_e.Z)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.dc={},this.wc=new jp((function(e){return Zp(e)}),Op),this._c=new Map,this.mc=new Set,this.gc=new Jd(Vf.comparator),this.yc=new Map,this.Ic=new iy,this.Tc={},this.Ec=new Map,this.Ac=Rg.Mn(),this.onlineState="Unknown",this.vc=void 0}return(0,Ee.Z)(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function ww(e,t){return kw.apply(this,arguments)}function kw(){return kw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fk(n),!(s=i.wc.get(r))){e.next=6;break}o=s.targetId,i.sharedClientState.addLocalQueryTarget(o),a=s.view.lc(),e.next=15;break;case 6:return e.next=8,Ay(i.localStore,Ep(r));case 8:return u=e.sent,c=i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.targetId,e.next=13,xw(i,r,o,"current"===c,u.resumeToken);case 13:a=e.sent,i.isPrimaryClient&&mb(i.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),kw.apply(this,arguments)}function xw(e,t,n,r,i){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,r.Z)((0,t.Z)().mark((function e(n,i,o,a,s){var u,c,l,f,d,h;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.Rc=function(e,i,o){return function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.view.sc(i),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,Ny(n.localStore,r.query,!1).then((function(e){var t=e.documents;return r.view.sc(t,a)}));case 5:a=e.sent;case 6:return s=o&&o.targetChanges.get(r.targetId),u=r.view.applyChanges(a,n.isPrimaryClient,s),e.abrupt("return",(Uw(n,r.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(n,e,i,o)},e.next=3,Ny(n.localStore,i,!0);case 3:return u=e.sent,c=new mw(i,u.ir),l=c.sc(u.documents),f=Hv.createSynthesizedTargetChangeForCurrentChange(o,a&&"Offline"!==n.onlineState,s),d=c.applyChanges(l,n.isPrimaryClient,f),Uw(n,o,d.cc),h=new gw(i,o,c),e.abrupt("return",(n.wc.set(i,h),n._c.has(o)?n._c.get(o).push(i):n._c.set(o,[i]),d.snapshot));case 11:case"end":return e.stop()}}),e)}))),Sw.apply(this,arguments)}function _w(e,t){return Ew.apply(this,arguments)}function Ew(){return Ew=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wf(n),o=i.wc.get(r),!((a=i._c.get(o.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i._c.set(o.targetId,a.filter((function(e){return!Op(e,r)}))),void i.wc.delete(r)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(o.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(o.targetId),e.t0){e.next=9;break}return e.next=9,Py(i.localStore,o.targetId,!1).then((function(){i.sharedClientState.clearQueryState(o.targetId),gb(i.remoteStore,o.targetId),Fw(i,o.targetId)})).catch(td);case 9:e.next=14;break;case 11:return Fw(i,o.targetId),e.next=14,Py(i.localStore,o.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ew.apply(this,arguments)}function Cw(e,t,n){return Iw.apply(this,arguments)}function Iw(){return Iw=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=dk(n),e.prev=1,e.next=4,function(e,t){var n,r,i=wf(e),o=Df.now(),a=t.reduce((function(e,t){return e.add(t.key)}),$p());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Dp(),u=$p();return i.Zi.getEntries(e,a).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var a,s=[],u=(0,Xt.Z)(t);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=yv(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new kv(c.key,l,Dh(l.value.mapValue),dv.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,o,s,t)})).next((function(t){r=t;var o=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,o)}))})).then((function(){return{batchId:r.batchId,changes:Bp(n)}}))}(o.localStore,r);case 4:return a=e.sent,o.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Jd(Nf)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(o,a.batchId,i),e.next=9,Hw(o,a.changes);case 9:return e.next=11,Rb(o.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=ew(e.t0,"Failed to persist write"),i.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Iw.apply(this,arguments)}function Ow(e,t){return Zw.apply(this,arguments)}function Zw(){return Zw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wf(n),e.prev=1,e.next=4,Oy(i.localStore,r);case 4:return o=e.sent,r.targetChanges.forEach((function(e,t){var n=i.yc.get(t);n&&(bf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?bf(n.fc):e.removedDocuments.size>0&&(bf(n.fc),n.fc=!1))})),e.next=8,Hw(i,o,r);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,td(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Zw.apply(this,arguments)}function Tw(e,t,n){var r=wf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=wf(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,o=(0,Xt.Z)(n.listeners);try{for(o.s();!(i=o.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(a){o.e(a)}finally{o.f()}})),r&&dw(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Aw(e,t,n){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=wf(n)).sharedClientState.updateQueryState(r,"rejected",i),a=o.yc.get(r),!(s=a&&a.key)){e.next=14;break}return u=(u=new Jd(Vf.comparator)).insert(s,Mh.newNoDocument(s,Mf.min())),c=$p().add(s),l=new Vv(Mf.min(),new Map,new Jd(Nf),u,c),e.next=9,Ow(o,l);case 9:o.gc=o.gc.remove(s),o.yc.delete(r),Vw(o),e.next=16;break;case 14:return e.next=16,Py(o.localStore,r,!1).then((function(){return Fw(o,r,i)})).catch(td);case 16:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}function Rw(e,t){return Nw.apply(this,arguments)}function Nw(){return Nw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wf(n),o=r.batch.batchId,e.prev=1,e.next=4,Cy(i.localStore,r);case 4:return a=e.sent,Mw(i,o,null),Dw(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),e.next=10,Hw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,td(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Nw.apply(this,arguments)}function jw(e,t,n){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=wf(n),e.prev=1,e.next=4,function(e,t){var n=wf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return bf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(o.localStore,r);case 4:return a=e.sent,Mw(o,r,i),Dw(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),e.next=10,Hw(o,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,td(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Lw.apply(this,arguments)}function Dw(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function Mw(e,t,n){var r=wf(e),i=r.Tc[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Fw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=(0,Xt.Z)(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var o=r.value;e.wc.delete(o),n&&e.dc.Pc(o,n)}}catch(a){i.e(a)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||Bw(e,t)}))}function Bw(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(gb(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),Vw(e))}function Uw(e,t,n){var r,i=(0,Xt.Z)(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o instanceof pw?(e.Ic.addReference(o.key,t),zw(e,o)):o instanceof vw?(pf("SyncEngine","Document no longer in limbo: "+o.key),e.Ic.removeReference(o.key,t),e.Ic.containsKey(o.key)||Bw(e,o.key)):yf()}}catch(a){i.e(a)}finally{i.f()}}function zw(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(pf("SyncEngine","New document in limbo: "+n),e.mc.add(r),Vw(e))}function Vw(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Vf(Bf.fromString(t)),r=e.Ac.next();e.yc.set(r,new yw(n)),e.gc=e.gc.insert(n,r),mb(e.remoteStore,new Am(Ep(bp(n.path)),r,"TargetPurposeLimboResolution",vd.ct))}}function Hw(e,t,n){return Ww.apply(this,arguments)}function Ww(){return Ww=(0,r.Z)((0,t.Z)().mark((function e(n,i,o){var a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=wf(n),s=[],u=[],c=[],e.t0=a.wc.isEmpty(),e.t0){e.next=9;break}return a.wc.forEach((function(e,t){c.push(a.Rc(t,i,o).then((function(e){if((e||o)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);var n=wy.Li(t.targetId,e);u.push(n)}})))})),e.next=6,Promise.all(c);case 6:return a.dc.nu(s),e.next=9,function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wf(n),e.prev=1,e.next=4,i.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return rd.forEach(r,(function(t){return rd.forEach(t.Fi,(function(n){return i.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return rd.forEach(t.Bi,(function(n){return i.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ud(e.t0)){e.next=10;break}throw e.t0;case 10:pf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:o=(0,Xt.Z)(r);try{for(o.s();!(a=o.n()).done;)s=a.value,u=s.targetId,s.fromCache||(c=i.Ji.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),i.Ji=i.Ji.insert(u,f))}catch(t){o.e(t)}finally{o.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,u);case 9:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function $w(e,t){return qw.apply(this,arguments)}function qw(){return qw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=wf(n)).currentUser.isEqual(r)){e.next=11;break}return pf("SyncEngine","User change. New user:",r.toKey()),e.next=5,_y(i.localStore,r);case 5:return o=e.sent,i.currentUser=r,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new xf(kf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(i),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),e.next=11,Hw(i,o.er);case 11:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function Gw(e,t){var n=wf(e),r=n.yc.get(t);if(r&&r.fc)return $p().add(r.key);var i=$p(),o=n._c.get(t);if(!o)return i;var a,s=(0,Xt.Z)(o);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=n.wc.get(u);i=i.unionWith(c.view.nc)}}catch(l){s.e(l)}finally{s.f()}return i}function Kw(e,t){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wf(n),e.next=3,Ny(i.localStore,r.query,!0);case 3:return o=e.sent,a=r.view.hc(o),e.abrupt("return",(i.isPrimaryClient&&Uw(i,r.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)}))),Qw.apply(this,arguments)}function Jw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wf(n),e.abrupt("return",Ly(i.localStore,r).then((function(e){return Hw(i,e)})));case 2:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Xw(e,t,n,r){return ek.apply(this,arguments)}function ek(){return ek=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wf(n),e.next=3,function(e,t){var n=wf(e),r=wf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):rd.resolve(null)}))}))}(a.localStore,r);case 3:if(null===(s=e.sent)){e.next=15;break}if("pending"!==i){e.next=10;break}return e.next=8,Rb(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===i||"rejected"===i?(Mw(a,r,o||null),Dw(a,r),function(e,t){wf(wf(e).mutationQueue).Cn(t)}(a.localStore,r)):yf();case 11:return e.next=13,Hw(a,s);case 13:e.next=16;break;case 15:pf("SyncEngine","Cannot apply mutation batch with id: "+r);case 16:case"end":return e.stop()}}),e)}))),ek.apply(this,arguments)}function tk(e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fk(i=wf(n)),dk(i),!0!==r||!0===i.vc){e.next=13;break}return o=i.sharedClientState.getAllActiveQueryTargets(),e.next=5,rk(i,o.toArray());case 5:return a=e.sent,i.vc=!0,e.next=9,Kb(i.remoteStore,!0);case 9:s=(0,Xt.Z)(a);try{for(s.s();!(u=s.n()).done;)c=u.value,mb(i.remoteStore,c)}catch(t){s.e(t)}finally{s.f()}e.next=25;break;case 13:if(!1!==r||!1===i.vc){e.next=25;break}return l=[],f=Promise.resolve(),i._c.forEach((function(e,t){i.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return Fw(i,t),Py(i.localStore,t,!0)})),gb(i.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,rk(i,l);case 21:return function(e){var t=wf(e);t.yc.forEach((function(e,n){gb(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Jd(Vf.comparator)}(i),i.vc=!1,e.next=25,Kb(i.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),nk.apply(this,arguments)}function rk(e,t,n){return ik.apply(this,arguments)}function ik(){return ik=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s,u,c,l,f,d,h,p,v,m,g,y;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=wf(n),a=[],s=[],u=(0,Xt.Z)(r),e.prev=2,u.s();case 4:if((c=u.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(d=o._c.get(l))||0===d.length){e.next=34;break}return e.next=11,Ay(o.localStore,Ep(d[0]));case 11:f=e.sent,h=(0,Xt.Z)(d),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=24;break}return v=p.value,m=o.wc.get(v),e.next=20,Kw(o,m);case 20:(g=e.sent).snapshot&&s.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,jy(o.localStore,l);case 36:return y=e.sent,e.next=39,Ay(o.localStore,y);case 39:return f=e.sent,e.next=42,xw(o,ok(y),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(o.dc.nu(s),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),ik.apply(this,arguments)}function ok(e){return yp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ak(e){var t=wf(e);return wf(wf(t.localStore).persistence).$i()}function sk(e,t,n,r){return uk.apply(this,arguments)}function uk(){return uk=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=wf(n)).vc){e.next=3;break}return e.abrupt("return",void pf("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((s=a._c.get(r))&&s.length>0)){e.next=20;break}e.t0=i,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Ly(a.localStore,Pp(s[0]));case 10:return u=e.sent,c=Vv.createSynthesizedRemoteEventForCurrentChange(r,"current"===i,oh.EMPTY_BYTE_STRING),e.next=14,Hw(a,u,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,Py(a.localStore,r,!0);case 17:return Fw(a,r,o),e.abrupt("break",20);case 19:yf();case 20:case"end":return e.stop()}}),e)}))),uk.apply(this,arguments)}function ck(e,t,n){return lk.apply(this,arguments)}function lk(){return lk=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s,u,c,l,f,d,h;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=fk(n)).vc){e.next=45;break}a=(0,Xt.Z)(r),e.prev=3,a.s();case 5:if((s=a.n()).done){e.next=21;break}if(u=s.value,!o._c.has(u)){e.next=10;break}return pf("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,jy(o.localStore,u);case 12:return c=e.sent,e.next=15,Ay(o.localStore,c);case 15:return l=e.sent,e.next=18,xw(o,ok(c),l.targetId,!1,l.resumeToken);case 18:mb(o.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=(0,Xt.Z)(i),e.prev=30,h=(0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.value,e.t0=o._c.has(n),!e.t0){e.next=5;break}return e.next=5,Py(o.localStore,n,!1).then((function(){gb(o.remoteStore,n),Fw(o,n)})).catch(td);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((d=f.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),lk.apply(this,arguments)}function fk(e){var t=wf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Aw.bind(null,t),t.dc.nu=lw.bind(null,t.eventManager),t.dc.Pc=fw.bind(null,t.eventManager),t}function dk(e){var t=wf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jw.bind(null,t),t}var hk=function(){function e(){(0,_e.Z)(this,e),this.synchronizeTabs=!1}return(0,Ee.Z)(e,[{key:"initialize",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=ib(n.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(n),this.persistence=this.createPersistence(n),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(n),this.gcScheduler=this.createGarbageCollectionScheduler(n,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(n,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Sy(this.persistence,new ky,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new ly(dy.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new qy}},{key:"terminate",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pk=function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(e,t,r){var o;return(0,_e.Z)(this,i),(o=n.call(this)).Vc=e,o.cacheSizeBytes=t,o.forceOwnership=r,o.synchronizeTabs=!1,o}return(0,Ee.Z)(i,[{key:"initialize",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ja.Z)((0,La.Z)(i.prototype),"initialize",this).call(this,n);case 2:return e.next=4,this.Vc.initialize(this,n);case 4:return e.next=6,dk(this.Vc.syncEngine);case 6:return e.next=8,Rb(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Sy(this.persistence,new ky,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Bg(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new pd(t,this.persistence);return new hd(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=by(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Eg.withCacheSize(this.cacheSizeBytes):Eg.DEFAULT;return new my(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,nb(),rb(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new qy}}]),i}(hk),vk=function(e){(0,xe.Z)(i,e);var n=(0,Se.Z)(i);function i(e,t){var r;return(0,_e.Z)(this,i),(r=n.call(this,e,t,!1)).Vc=e,r.cacheSizeBytes=t,r.synchronizeTabs=!0,r}return(0,Ee.Z)(i,[{key:"initialize",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var o,a=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ja.Z)((0,La.Z)(i.prototype),"initialize",this).call(this,n);case 2:if(o=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof $y,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:Xw.bind(null,o),zr:sk.bind(null,o),Wr:ck.bind(null,o),$i:ak.bind(null,o),Qr:Jw.bind(null,o)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tk(a.Vc.syncEngine,n);case 2:a.gcScheduler&&(n&&!a.gcScheduler.started?a.gcScheduler.start():n||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(n&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():n||a.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=nb();if(!$y.D(t))throw new xf(kf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=by(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new $y(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),i}(pk),mk=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"initialize",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Tw(i.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$w.bind(null,this.syncEngine),e.next=12,Kb(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ow}},{key:"createDatastore",value:function(e){var t,n=ib(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new tb(t));return function(e,t,n,r){return new cb(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Tw(a.syncEngine,e,0)},o=Ky.D()?new Ky:new Gy,new fb(t,n,r,i,o)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,o,a){var s=new bw(e,t,n,r,i,o);return a&&(s.vc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wf(n),pf("RemoteStore","RemoteStore shutting down."),r.vu.add(5),e.next=5,pb(r);case 5:r.Pu.shutdown(),r.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var gk=function(){function e(t){(0,_e.Z)(this,e),this.observer=t,this.muted=!1}return(0,Ee.Z)(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):vf("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),yk=function(){function e(n,i,o,a){var s=this;(0,_e.Z)(this,e),this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=a,this.user=lf.UNAUTHENTICATED,this.clientId=Rf.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(o,function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pf("FirestoreClient","Received user=",n.uid),e.next=3,s.authCredentialListener(n);case 3:s.user=n;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(o,(function(e){return pf("FirestoreClient","Received new app check token=",e),s.appCheckCredentialListener(e,s.user)}))}return(0,Ee.Z)(e,[{key:"getConfiguration",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new xf(kf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Sf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,r.Z)((0,t.Z)().mark((function r(){var i;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=e._onlineComponents,!t.t0){t.next=5;break}return t.next=5,e._onlineComponents.terminate();case 5:if(t.t1=e._offlineComponents,!t.t1){t.next=9;break}return t.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve(),t.next=18;break;case 14:t.prev=14,t.t2=t.catch(0),i=ew(t.t2,"Failed to shutdown persistence"),n.reject(i);case 18:case"end":return t.stop()}}),r,null,[[0,14]])})))),n.promise}}]),e}();function bk(e,t){return wk.apply(this,arguments)}function wk(){return wk=(0,r.Z)((0,t.Z)().mark((function e(n,i){var o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),pf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,n.getConfiguration();case 3:return o=e.sent,e.next=6,i.initialize(o);case 6:a=o.initialUser,n.setCredentialChangeListener(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(n),e.t0){e.next=5;break}return e.next=4,_y(i.localStore,n);case 4:a=n;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener((function(){return n.terminate()})),n._offlineComponents=i;case 8:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function kk(e,t){return xk.apply(this,arguments)}function xk(){return xk=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.asyncQueue.verifyOperationInProgress(),e.next=3,_k(n);case 3:return i=e.sent,pf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.getConfiguration();case 7:return o=e.sent,e.next=10,r.initialize(i,o);case 10:n.setCredentialChangeListener((function(e){return qb(r.remoteStore,e)})),n.setAppCheckTokenChangeListener((function(e,t){return qb(r.remoteStore,t)})),n._onlineComponents=r;case 13:case"end":return e.stop()}}),e)}))),xk.apply(this,arguments)}function Sk(e){return"FirebaseError"===e.name?e.code===kf.FAILED_PRECONDITION||e.code===kf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function _k(e){return Ek.apply(this,arguments)}function Ek(){return Ek=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n._offlineComponents){e.next=21;break}if(!n._uninitializedComponentsProvider){e.next=18;break}return pf("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,bk(n,n._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Sk(r=e.t0)){e.next=13;break}throw r;case 13:return mf("Error using user provided cache. Falling back to memory cache: "+r),e.next=16,bk(n,new hk);case 16:e.next=21;break;case 18:return pf("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,bk(n,new hk);case 21:return e.abrupt("return",n._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Ek.apply(this,arguments)}function Ck(e){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n._onlineComponents,e.t0){e.next=11;break}if(!n._uninitializedComponentsProvider){e.next=8;break}return pf("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,kk(n,n._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return pf("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,kk(n,new mk);case 11:return e.abrupt("return",n._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Ik.apply(this,arguments)}function Ok(e){return _k(e).then((function(e){return e.persistence}))}function Zk(e){return _k(e).then((function(e){return e.localStore}))}function Tk(e){return Ck(e).then((function(e){return e.remoteStore}))}function Ak(e){return Ck(e).then((function(e){return e.syncEngine}))}function Pk(e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ck(n);case 2:return r=e.sent,i=r.eventManager,e.abrupt("return",(i.onListen=ww.bind(null,r.syncEngine),i.onUnlisten=_w.bind(null,r.syncEngine),i));case 5:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Nk(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new Sf;return e.asyncQueue.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n,r,i){var o=new gk({next:function(o){t.enqueueAndForget((function(){return uw(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new xf(kf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new xf(kf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new hw(bp(n.path),o,{includeMetadataChanges:!0,Ku:!0});return aw(e,a)},t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=e.asyncQueue,t.t3=n,t.t4=i,t.t5=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 9:case"end":return t.stop()}}),r)})))),o.promise}function jk(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=new Sf;return e.asyncQueue.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n,r,i){var o=new gk({next:function(n){t.enqueueAndForget((function(){return uw(e,a)})),n.fromCache&&"server"===r.source?i.reject(new xf(kf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new hw(n,o,{includeMetadataChanges:!0,Ku:!0});return aw(e,a)},t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=e.asyncQueue,t.t3=n,t.t4=i,t.t5=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3,t.t4,t.t5));case 9:case"end":return t.stop()}}),r)})))),o.promise}function Lk(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var Dk=new Map;function Mk(e,t,n){if(!n)throw new xf(kf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Fk(e){if(!Vf.isDocumentKey(e))throw new xf(kf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bk(e){if(Vf.isDocumentKey(e))throw new xf(kf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Uk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":yf()}function zk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xf(kf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Uk(e);throw new xf(kf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Vk(e,t){if(t<=0)throw new xf(kf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Hk=function(){function e(t){var n,r;if((0,_e.Z)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new xf(kf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xf(kf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new xf(kf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lk(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new xf(kf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new xf(kf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new xf(kf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return(0,Ee.Z)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Wk=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hk({}),this._settingsFrozen=!1}return(0,Ee.Z)(e,[{key:"app",get:function(){if(!this._app)throw new xf(kf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new xf(kf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ef;switch(e.type){case"firstParty":return new Zf(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new xf(kf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Dk.get(e);t&&(pf("ComponentProvider","Removing Datastore"),Dk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function $k(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(e=zk(e,Wk))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&mf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=lf.MOCK_USER;else{s=(0,Ua.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new xf(kf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lf(c)}e._authCredentials=new Cf(new _f(s,u))}}var qk=function(){function e(t,n,r){(0,_e.Z)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return(0,Ee.Z)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Kk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Gk=function(){function e(t,n,r){(0,_e.Z)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return(0,Ee.Z)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Kk=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i){var o;return(0,_e.Z)(this,n),(o=t.call(this,e,r,bp(i)))._path=i,o.type="collection",o}return(0,Ee.Z)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new qk(this.firestore,null,new Vf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Gk);function Qk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,Ua.m9)(e),Mk("collection","path",t),e instanceof Wk){var o=Bf.fromString.apply(Bf,[t].concat(r));return Bk(o),new Kk(e,null,o)}if(!(e instanceof qk||e instanceof Kk))throw new xf(kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Bf.fromString.apply(Bf,[t].concat(r)));return Bk(a),new Kk(e.firestore,null,a)}function Jk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,Ua.m9)(e),1===arguments.length&&(t=Rf.A()),Mk("doc","path",t),e instanceof Wk){var o=Bf.fromString.apply(Bf,[t].concat(r));return Fk(o),new qk(e,null,new Vf(o))}if(!(e instanceof qk||e instanceof Kk))throw new xf(kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Bf.fromString.apply(Bf,[t].concat(r)));return Fk(a),new qk(e.firestore,e instanceof Kk?e.converter:null,new Vf(a))}var Yk=function(){function e(){var t=this;(0,_e.Z)(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ob(this,"async_queue_retry"),this.Xc=function(){var e=rb();e&&pf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=rb();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return(0,Ee.Z)(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=rb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new Sf;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ud(e.t0)){e.next=12;break}throw e.t0;case 12:pf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return n.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Xb.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&yf()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.Gc,e.next=3,n;case 3:if(n!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=(0,Xt.Z)(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=(0,Xt.Z)(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(o){r.e(o)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function Xk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=(0,Xt.Z)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o in r&&"function"==typeof r[o])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var ex=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o){var a;return(0,_e.Z)(this,n),(a=t.call(this,e,r,i,o)).type="firestore",a._queue=new Yk,a._persistenceKey=(null==o?void 0:o.name)||"[DEFAULT]",a}return(0,Ee.Z)(n,[{key:"_terminate",value:function(){return this._firestoreClient||ix(this),this._firestoreClient.terminate()}}]),n}(Wk);function tx(e,t,n){n||(n="(default)");var r=(0,Ma.qX)(e,"firestore");if(r.isInitialized(n)){var i=r.getImmediate({identifier:n}),o=r.getOptions(n);if((0,Ua.vZ)(o,t))return i;throw new xf(kf.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new xf(kf.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xf(kf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}function nx(e,t){var n="object"==typeof e?e:(0,Ma.Mq)(),r="string"==typeof e?e:t||"(default)",i=(0,Ma.qX)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){var o=(0,Ua.P0)("firestore");o&&$k.apply(void 0,[i].concat((0,be.Z)(o)))}return i}function rx(e){return e._firestoreClient||ix(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ix(e){var t,n,r,i=e._freezeSettings(),o=function(e,t,n,r){return new hh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Lk(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new yk(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function ox(e){return function(e){return e.asyncQueue.enqueue((0,r.Z)((0,t.Z)().mark((function n(){var r,i;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ok(e);case 2:return r=t.sent,t.next=5,Tk(e);case 5:return i=t.sent,t.abrupt("return",(r.setNetworkEnabled(!0),function(e){var t=wf(e);return t.vu.delete(0),db(t)}(i)));case 7:case"end":return t.stop()}}),n)}))))}(rx(e=zk(e,ex)))}function ax(e){return function(e){return e.asyncQueue.enqueue((0,r.Z)((0,t.Z)().mark((function n(){var i,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ok(e);case 2:return i=n.sent,n.next=5,Tk(e);case 5:return o=n.sent,n.abrupt("return",(i.setNetworkEnabled(!1),function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=wf(n)).vu.add(0),e.next=4,pb(r);case 4:r.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o)));case 7:case"end":return n.stop()}}),n)}))))}(rx(e=zk(e,ex)))}var sx=function(){function e(t){(0,_e.Z)(this,e),this._byteString=t}return(0,Ee.Z)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(oh.fromBase64String(t))}catch(t){throw new xf(kf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(oh.fromUint8Array(t))}}]),e}(),ux=function(){function e(){(0,_e.Z)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new xf(kf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zf(n)}return(0,Ee.Z)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var cx=(0,Ee.Z)((function e(t){(0,_e.Z)(this,e),this._methodName=t})),lx=function(){function e(t,n){if((0,_e.Z)(this,e),!isFinite(t)||t<-90||t>90)throw new xf(kf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xf(kf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return(0,Ee.Z)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Nf(this._lat,e._lat)||Nf(this._long,e._long)}}]),e}(),fx=/^__.*__$/,dx=function(){function e(t,n,r){(0,_e.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Ee.Z)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new kv(e,this.data,this.fieldMask,t,this.fieldTransforms):new wv(e,this.data,t,this.fieldTransforms)}}]),e}(),hx=function(){function e(t,n,r){(0,_e.Z)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return(0,Ee.Z)(e,[{key:"toMutation",value:function(e,t){return new kv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function px(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yf()}}var vx=function(){function e(t,n,r,i,o,a){(0,_e.Z)(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return(0,Ee.Z)(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return Px(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(px(this.ca)&&fx.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),mx=function(){function e(t,n,r){(0,_e.Z)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ib(t)}return(0,Ee.Z)(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new vx({ca:e,methodName:t,ga:n,path:zf.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function gx(e){var t=e._freezeSettings(),n=ib(e._databaseId);return new mx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yx(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Ox("Data must be an object, but it was:",a,r);var s,u,c=Cx(r,a);if(o.merge)s=new rh(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){var l,f=[],d=(0,Xt.Z)(o.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=Zx(t,l.value,n);if(!a.contains(h))throw new xf(kf.INVALID_ARGUMENT,"Field '".concat(h,"' is specified in your field mask but missing from your input data."));Rx(f,h)||f.push(h)}}catch(p){d.e(p)}finally{d.f()}s=new rh(f),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new dx(new Lh(c),s,u)}var bx=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(cx);function wx(e,t,n){return new vx({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var kx=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this,e)).pa=r,i}return(0,Ee.Z)(n,[{key:"_toFieldTransform",value:function(e){var t=wx(this,e,!0),n=this.pa.map((function(e){return Ex(e,t)})),r=new rv(n);return new lv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(cx);function xx(e,t,n,r){var i=e.ya(1,t,n);Ox("Data must be an object, but it was:",i,r);var o=[],a=Lh.empty();Kd(r,(function(e,r){var s=Ax(t,e,n);r=(0,Ua.m9)(r);var u=i.da(s);if(r instanceof bx)o.push(s);else{var c=Ex(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new rh(o);return new hx(a,s,i.fieldTransforms)}function Sx(e,t,n,r,i,o){var a=e.ya(1,t,n),s=[Zx(t,r,n)],u=[i];if(o.length%2!=0)throw new xf(kf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<o.length;c+=2)s.push(Zx(t,o[c])),u.push(o[c+1]);for(var l=[],f=Lh.empty(),d=s.length-1;d>=0;--d)if(!Rx(l,s[d])){var h=s[d],p=u[d];p=(0,Ua.m9)(p);var v=a.da(h);if(p instanceof bx)l.push(h);else{var m=Ex(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new rh(l);return new hx(f,g,a.fieldTransforms)}function _x(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ex(n,e.ya(r?4:3,t))}function Ex(e,t){if(Ix(e=(0,Ua.m9)(e)))return Ox("Unsupported field value:",t,e),Cx(e,t);if(e instanceof cx)return function(e,t){if(!px(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,o=(0,Xt.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=Ex(n.value,t.wa(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(s){o.e(s)}finally{o.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,Ua.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Jp(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Df.fromDate(e);return{timestampValue:rm(t.serializer,n)}}if(e instanceof Df){var r=new Df(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rm(t.serializer,r)}}if(e instanceof lx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sx)return{bytesValue:im(t.serializer,e._byteString)};if(e instanceof qk){var i=t.databaseId,o=e.firestore._databaseId;if(!o.isEqual(i))throw t._a("Document reference is for database ".concat(o.projectId,"/").concat(o.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:sm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Uk(e)))}(e,t)}function Cx(e,t){var n={};return Qd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kd(e,(function(e,r){var i=Ex(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ix(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Df||e instanceof lx||e instanceof sx||e instanceof qk||e instanceof cx)}function Ox(e,t,n){if(!Ix(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Uk(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Zx(e,t,n){if((t=(0,Ua.m9)(t))instanceof ux)return t._internalPath;if("string"==typeof t)return Ax(e,t);throw Px("Field path arguments must be of type string or ",e,!1,void 0,n)}var Tx=new RegExp("[~\\*/\\[\\]]");function Ax(e,t,n){if(t.search(Tx)>=0)throw Px("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return(0,Na.Z)(ux,(0,be.Z)(t.split(".")))._internalPath}catch(r){throw Px("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Px(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new xf(kf.INVALID_ARGUMENT,s+e+u)}function Rx(e,t){return e.some((function(e){return e.isEqual(t)}))}var Nx=function(){function e(t,n,r,i,o){(0,_e.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}return(0,Ee.Z)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new qk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Lx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),jx=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n,[{key:"data",value:function(){return(0,ja.Z)((0,La.Z)(n.prototype),"data",this).call(this)}}]),n}(Nx);function Lx(e,t){return"string"==typeof t?Ax(e,t):t instanceof ux?t._internalPath:t._delegate._internalPath}function Dx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new xf(kf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mx=(0,Ee.Z)((function e(){(0,_e.Z)(this,e)})),Fx=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n)}(Mx);function Bx(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Mx&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Vx})).length,n=e.filter((function(e){return e instanceof Ux})).length;if(t>1||t>0&&n>0)throw new xf(kf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var a,s=(0,Xt.Z)(n);try{for(s.s();!(a=s.n()).done;){e=a.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var Ux=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i){var o;return(0,_e.Z)(this,n),(o=t.call(this))._field=e,o._op=r,o._value=i,o.type="where",o}return(0,Ee.Z)(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Qx(e._query,t),new Gk(e.firestore,e.converter,Cp(e._query,t))}},{key:"_parse",value:function(e){var t=gx(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new xf(kf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Kx(a,o);var u,c=[],l=(0,Xt.Z)(a);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Gx(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=Gx(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Kx(a,o),s=_x(n,"where",a,"in"===o||"not-in"===o);return Wh.create(i,o,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Fx);function zx(e,t,n){var r=t,i=Lx("where",e);return Ux._create(i,r,n)}var Vx=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return(0,Ee.Z)(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:$h.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=t.getFlattenedFilters(),o=(0,Xt.Z)(i);try{for(o.s();!(n=o.n()).done;){var a=n.value;Qx(r,a),r=Cp(r,a)}}catch(s){o.e(s)}finally{o.f()}}(e._query,t),new Gk(e.firestore,e.converter,Cp(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Mx);var Hx=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r){var i;return(0,_e.Z)(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return(0,Ee.Z)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new xf(kf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xf(kf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zh(t,n);return function(e,t){if(null===kp(e)){var n=xp(e);null!==n&&Jx(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Gk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new gp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Fx);function Wx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Lx("orderBy",e);return Hx._create(n,t)}var $x=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i){var o;return(0,_e.Z)(this,n),(o=t.call(this)).type=e,o._limit=r,o._limitType=i,o}return(0,Ee.Z)(n,[{key:"_apply",value:function(e){return new Gk(e.firestore,e.converter,Ip(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Fx);function qx(e){return Vk("limit",e),$x._create("limit",e,"F")}function Gx(e,t,n){if("string"==typeof(n=(0,Ua.m9)(n))){if(""===n)throw new xf(kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sp(t)&&-1!==n.indexOf("/"))throw new xf(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Bf.fromString(n));if(!Vf.isDocumentKey(r))throw new xf(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return _h(e,new Vf(r))}if(n instanceof qk)return _h(e,n._key);throw new xf(kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Uk(n),"."))}function Kx(e,t){if(!Array.isArray(e)||0===e.length)throw new xf(kf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Qx(e,t){if(t.isInequality()){var n=xp(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new xf(kf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=kp(e);null!==i&&Jx(e,r,i)}var o=function(e,t){var n,r=(0,Xt.Z)(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=(0,Xt.Z)(o.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var s=i.value;if(t.indexOf(s.op)>=0)return s.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new xf(kf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new xf(kf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(o.toString(),"' filters."))}function Jx(e,t,n){if(!n.isEqual(t))throw new xf(kf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Yx=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ch(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yf()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Kd(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new lx(uh(e.latitude),uh(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=fh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dh(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=sh(e);return new Df(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Bf.fromString(e);bf(Tm(n));var r=new ph(n.get(1),n.get(3)),i=new Vf(n.popFirst(5));return r.isEqual(t)||vf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Xx(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eS=function(){function e(t,n){(0,_e.Z)(this,e),this.hasPendingWrites=t,this.fromCache=n}return(0,Ee.Z)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),tS=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o,a,s){var u;return(0,_e.Z)(this,n),(u=t.call(this,e,r,i,o,s))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return(0,Ee.Z)(n,[{key:"exists",value:function(){return(0,ja.Z)((0,La.Z)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new nS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Lx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Nx),nS=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){return(0,_e.Z)(this,n),t.apply(this,arguments)}return(0,Ee.Z)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,ja.Z)((0,La.Z)(n.prototype),"data",this).call(this,e)}}]),n}(tS),rS=function(){function e(t,n,r,i){(0,_e.Z)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new eS(i.hasPendingWrites,i.fromCache),this.query=r}return(0,Ee.Z)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new nS(n._firestore,n._userDataWriter,r.key,r,new eS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xf(kf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new nS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new nS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new eS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:iS(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function iS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yf()}}function oS(e){e=zk(e,qk);var t=zk(e.firestore,ex);return Nk(rx(t),e._key).then((function(n){return pS(t,e,n)}))}var aS=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e){var r;return(0,_e.Z)(this,n),(r=t.call(this)).firestore=e,r}return(0,Ee.Z)(n,[{key:"convertBytes",value:function(e){return new sx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new qk(this.firestore,null,t)}}]),n}(Yx);function sS(e){e=zk(e,qk);var n=zk(e.firestore,ex),i=rx(n),o=new aS(n);return function(e,n){var i=new Sf;return e.asyncQueue.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function o(){return(0,t.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=wf(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(n,r);case 3:(o=e.sent).isFoundDocument()?i.resolve(o):o.isNoDocument()?i.resolve(null):i.reject(new xf(kf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ew(e.t0,"Failed to get document '".concat(r," from cache")),i.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),o.next=3,Zk(e);case 3:return o.t1=o.sent,o.t2=n,o.t3=i,o.abrupt("return",(0,o.t0)(o.t1,o.t2,o.t3));case 7:case"end":return o.stop()}}),o)})))),i.promise}(i,e._key).then((function(t){return new tS(n,o,e._key,t,new eS(null!==t&&t.hasLocalMutations,!0),e.converter)}))}function uS(e){e=zk(e,Gk);var t=zk(e.firestore,ex),n=rx(t),r=new aS(t);return Dx(e._query),jk(n,e._query).then((function(n){return new rS(t,r,e,n)}))}function cS(e){e=zk(e,Gk);var n=zk(e.firestore,ex),i=rx(n),o=new aS(n);return function(e,n){var i=new Sf;return e.asyncQueue.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function o(){return(0,t.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ny(n,r,!0);case 3:o=e.sent,a=new mw(r,o.ir),s=a.sc(o.documents),u=a.applyChanges(s,!1),i.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=ew(e.t0,"Failed to execute query '".concat(r," against cache")),i.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),o.next=3,Zk(e);case 3:return o.t1=o.sent,o.t2=n,o.t3=i,o.abrupt("return",(0,o.t0)(o.t1,o.t2,o.t3));case 7:case"end":return o.stop()}}),o)})))),i.promise}(i,e._query).then((function(t){return new rS(n,o,e,t)}))}function lS(e,t,n){e=zk(e,qk);var r=zk(e.firestore,ex),i=Xx(e.converter,t,n);return hS(r,[yx(gx(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,dv.none())])}function fS(e,t,n){e=zk(e,qk);for(var r=zk(e.firestore,ex),i=gx(r),o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return hS(r,[("string"==typeof(t=(0,Ua.m9)(t))||t instanceof ux?Sx(i,"updateDoc",e._key,t,n,a):xx(i,"updateDoc",e._key,t)).toMutation(e._key,dv.exists(!0))])}function dS(e,t){var n=zk(e.firestore,ex),r=Jk(e),i=Xx(e.converter,t);return hS(n,[yx(gx(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,dv.exists(!1))]).then((function(){return r}))}function hS(e,n){return function(e,n){var i=new Sf;return e.asyncQueue.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function r(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Cw,t.next=3,Ak(e);case 3:return t.t1=t.sent,t.t2=n,t.t3=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t3));case 7:case"end":return t.stop()}}),r)})))),i.promise}(rx(e),n)}function pS(e,t,n){var r=n.docs.get(t._key),i=new aS(e);return new tS(e,i,t._key,r,new eS(n.hasPendingWrites,n.fromCache),t.converter)}var vS=function(){function e(t){var n;(0,_e.Z)(this,e),this.kind="persistent",(null==t?void 0:t.tabManager)?(t.tabManager._initialize(t),n=t.tabManager):(n=function(e){return new gS(null==e?void 0:e.forceOwnership)}(void 0),n._initialize(t)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}return(0,Ee.Z)(e,[{key:"toJSON",value:function(){return{kind:this.kind}}}]),e}();function mS(e){return new vS(e)}var gS=function(){function e(t){(0,_e.Z)(this,e),this.forceOwnership=t,this.kind="persistentSingleTab"}return(0,Ee.Z)(e,[{key:"toJSON",value:function(){return{kind:this.kind}}},{key:"_initialize",value:function(e){this._onlineComponentProvider=new mk,this._offlineComponentProvider=new pk(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}]),e}(),yS=function(){function e(){(0,_e.Z)(this,e),this.kind="PersistentMultipleTab"}return(0,Ee.Z)(e,[{key:"toJSON",value:function(){return{kind:this.kind}}},{key:"_initialize",value:function(e){this._onlineComponentProvider=new mk,this._offlineComponentProvider=new vk(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}]),e}();function bS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new kx("arrayUnion",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ff=e}(Ma.Jn),(0,Ma.Xd)(new Fa.wA("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,o=e.getProvider("app").getImmediate(),a=new ex(new If(e.getProvider("auth-internal")),new Af(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xf(kf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ph(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),(0,Ma.KN)(cf,"3.12.2",e),(0,Ma.KN)(cf,"3.12.2","esm2017")}();var wS=function(e){return e.ADMINISTRATOR="administrator",e.AIDE="aide",e.GUARDIAN="guardian",e.PARENT="parent",e.PROCTOR="proctor",e.RELATIVE="relative",e.STUDENT="student",e.TEACHER="teacher",e.PRINCIPAL="principal",e.SPONSOR="sponsor",e.COORDINATOR="coordinator",e}({}),kS=n(8876),xS=(0,wo.fo)("Filesystem",{web:function(){return n.e(540).then(n.bind(n,7540)).then((function(e){return new e.FilesystemWeb}))}}),SS=(0,wo.fo)("Toast",{web:function(){return n.e(944).then(n.bind(n,4944)).then((function(e){return new e.ToastWeb}))}}),_S="function"===typeof atob,ES="function"===typeof btoa,CS="function"===typeof Buffer,IS=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")),OS=function(e){var t={};return e.forEach((function(e,n){return t[e]=n})),t}(IS),ZS=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,TS=String.fromCharCode.bind(String),AS=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")}),PS=function(e){for(var t,n,r,i,o="",a=e.length%3,s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");o+=IS[(t=n<<16|r<<8|i)>>18&63]+IS[t>>12&63]+IS[t>>6&63]+IS[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},RS=ES?function(e){return btoa(e)}:CS?function(e){return Buffer.from(e,"binary").toString("base64")}:PS,NS=function(e){if(e=e.replace(/\s+/g,""),!ZS.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,n,r,i="",o=0;o<e.length;)t=OS[e.charAt(o++)]<<18|OS[e.charAt(o++)]<<12|(n=OS[e.charAt(o++)])<<6|(r=OS[e.charAt(o++)]),i+=64===n?TS(t>>16&255):64===r?TS(t>>16&255,t>>8&255):TS(t>>16&255,t>>8&255,255&t);return i},jS=_S?function(e){return atob(AS(e))}:CS?function(e){return Buffer.from(e,"base64").toString("binary")}:NS,LS=n(57),DS=n.n(LS);var MS=n(7490),FS=n.n(MS);function BS(e,t){var n,r=[],i=(0,Xt.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;o&&"."!==o&&(".."===o?r.length&&".."!==r[r.length-1]?r.pop():t&&r.push(".."):r.push(o))}}catch(a){i.e(a)}finally{i.f()}return r}function US(e){for(var t=e.length-1,n=0;n<=t&&!e[n];n++);for(var r=t;r>=0&&!e[r];r--);return 0===n&&r===t?e:n>r?[]:e.slice(n,r+1)}var zS=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;function VS(e){var t;return(null===(t=zS.exec(e))||void 0===t?void 0:t.slice(1))||[]}function HS(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?n<0||arguments.length<=n?void 0:arguments[n]:FS().cwd();if("string"!==typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e="".concat(r,"/").concat(e),t="/"===r[0])}return(t?"/":"")+(e=BS(e.split("/"),!t).join("/"))||"."}function WS(e){var t=$S(e),n=e&&"/"===e[e.length-1];return(e=BS(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function $S(e){return"/"===e.charAt(0)}var qS=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,GS=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/;function KS(e){var t,n,r,i=qS.exec(e),o=((null===i||void 0===i?void 0:i[1])||"")+((null===i||void 0===i?void 0:i[2])||""),a=(null===i||void 0===i?void 0:i[3])||"",s=GS.exec(a);return[o,null!==(t=null===s||void 0===s?void 0:s[1])&&void 0!==t?t:"",null!==(n=null===s||void 0===s?void 0:s[2])&&void 0!==n?n:"",null!==(r=null===s||void 0===s?void 0:s[3])&&void 0!==r?r:""]}function QS(e){var t,n=qS.exec(e),r=(null===n||void 0===n?void 0:n[1])||"",i=!!r&&":"!==r[1];return{device:r,isUnc:i,isAbsolute:i||!(null===n||void 0===n||!n[2]),tail:null!==(t=null===n||void 0===n?void 0:n[3])&&void 0!==t?t:""}}function JS(e){return"\\\\".concat(e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\"))}function YS(){for(var e="",t="",n=!1,r=!1,i=arguments.length-1;i>=-1;i--){var o=void 0;if(i>=0?o=i<0||arguments.length<=i?void 0:arguments[i]:e?(o=FS().env["=".concat(e)])&&o.substr(0,3).toLowerCase()==="".concat(e.toLowerCase(),"\\")||(o="".concat(e,"\\")):o=FS().cwd(),"string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");if(o){var a=QS(o),s=a.device;r=a.isUnc;var u=a.isAbsolute,c=a.tail;if((!s||!e||s.toLowerCase()===e.toLowerCase())&&(e||(e=s),n||(t="".concat(c,"\\").concat(t),n=u),e&&n))break}}return r&&(e=JS(e)),e+(n?"\\":"")+(t=BS(t.split(/[\\\/]+/),!n).join("\\"))||"."}function XS(e){var t=QS(e),n=t.isUnc,r=t.isAbsolute,i=t.device,o=t.tail,a=/[\\\/]$/.test(o);return(o=BS(o.split(/[\\\/]+/),!r).join("\\"))||r||(o="."),o&&a&&(o+="\\"),n&&(i=JS(i)),i+(r?"\\":"")+o}var e_="win32"===FS().platform,t_=e_?YS:HS,n_=e_?function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");a&&e.push(a)}var s=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(s=s.replace(/^[\\\/]{2,}/,"\\")),XS(s)}:function(){for(var e="",t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if("string"!==typeof a)throw new TypeError("Arguments to path.join must be strings");a&&(e+=e?"/".concat(a):a)}return WS(e)},r_=e_?function(e,t){e=YS(e),t=YS(t);for(var n=e.toLowerCase(),r=t.toLowerCase(),i=US(t.split("\\")),o=US(n.split("\\")),a=US(r.split("\\")),s=Math.min(o.length,a.length),u=s,c=0;c<s;c++)if(o[c]!==a[c]){u=c;break}if(0==u)return t;for(var l=[],f=u;f<o.length;f++)l.push("..");return(l=l.concat(i.slice(u))).join("\\")}:function(e,t){e=HS(e).substr(1),t=HS(t).substr(1);for(var n=US(e.split("/")),r=US(t.split("/")),i=Math.min(n.length,r.length),o=i,a=0;a<i;a++)if(n[a]!==r[a]){o=a;break}for(var s=[],u=o;u<n.length;u++)s.push("..");return(s=s.concat(r.slice(o))).join("/")},i_=e_?function(e){var t=KS(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."}:function(e){var t=VS(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},o_=e_?function(e){return KS(e)[3]}:function(e){return VS(e)[3]},a_=function(){function e(t){(0,_e.Z)(this,e),(0,we.Z)(this,"type",void 0),(0,we.Z)(this,"mode",void 0),(0,we.Z)(this,"size",void 0),(0,we.Z)(this,"ino",1),(0,we.Z)(this,"mtimeMs",void 0),(0,we.Z)(this,"ctimeMs",void 0),(0,we.Z)(this,"uid",1),(0,we.Z)(this,"gid",1),(0,we.Z)(this,"dev",1),(0,we.Z)(this,"uri",void 0),this.type=t.type,this.size=t.size,this.mtimeMs=t.mtime,this.ctimeMs=t.ctime||t.mtime,this.uri=t.uri,"file"===t.type?this.mode=438:this.mode=511}return(0,Ee.Z)(e,[{key:"isFile",value:function(){return"file"===this.type}},{key:"isDirectory",value:function(){return"directory"===this.type}},{key:"isSymbolicLink",value:function(){return"symlink"===this.type}}]),e}(),s_=function(){function e(t){(0,_e.Z)(this,e),(0,we.Z)(this,"type",void 0),(0,we.Z)(this,"mode",void 0),(0,we.Z)(this,"size",void 0),(0,we.Z)(this,"ino",BigInt(1)),(0,we.Z)(this,"mtimeMs",void 0),(0,we.Z)(this,"ctimeMs",void 0),(0,we.Z)(this,"uid",BigInt(1)),(0,we.Z)(this,"gid",BigInt(1)),(0,we.Z)(this,"dev",BigInt(1)),(0,we.Z)(this,"uri",void 0),this.type=t.type,this.size=BigInt(t.size),this.mtimeMs=BigInt(t.mtime),this.ctimeMs=BigInt(t.ctime||t.mtime),this.uri=t.uri,"file"===t.type?this.mode=BigInt(438):this.mode=BigInt(511)}return(0,Ee.Z)(e,[{key:"isFile",value:function(){return"file"===this.type}},{key:"isDirectory",value:function(){return"directory"===this.type}},{key:"isSymbolicLink",value:function(){return"symlink"===this.type}}]),e}();function u_(e){return function(t){(0,xe.Z)(r,t);var n=(0,Se.Z)(r);function r(t){var i;return(0,_e.Z)(this,r),i=n.call(this,t),(0,we.Z)((0,ke.Z)(i),"code",e),i.message?i.message=e+": "+i.message:i.message=e,i}return(0,Ee.Z)(r)}((0,Da.Z)(Error))}var c_=u_("EEXIST"),l_=u_("ENOENT"),f_=u_("ENOTDIR"),d_=u_("ENOTEMPTY"),h_=(u_("ETIMEDOUT"),u_("EISDIR")),p_=u_("EPERM");function v_(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;)t+=String.fromCharCode(n[i++]);return RS(t)}function m_(e){for(var t=jS(e),n=t.length,r=new Uint8Array(n),i=0;i<n;)r[i]=t.charCodeAt(i++);return r.buffer}function g_(e){try{return e===RS(jS(e))}catch(t){return!1}}function y_(e){return!e||g_(e)?e:RS(e)}function b_(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=e.length,i=0;i<r;)n[i]=e.charCodeAt(i++);return t}function w_(e,t){return t_(e)===t_(t)}var k_=function(e,n){var i=n.rootDir,o=void 0===i?"/":i,a=n.directory,s=n.base64Alway,u=void 0!==s&&s,c=n.watcher,l=void 0===c||c?function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map((function(e){e(n)})),(r=e.get("*"))&&r.slice().map((function(e){e(t,n)}))}}}():void 0;function f(){return f=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]&&i[0],e.prev=1,e.next=4,L("/");case 4:if(r=e.sent,!n){e.next=10;break}if(!1!==r.isDirectory()){e.next=10;break}return e.next=9,Z("/");case 9:throw new Error("ROOT_IS_NOT_DIR");case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,y("",{recursive:!0});case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),f.apply(this,arguments)}function d(){return d=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Promise,e.next=3,x("").then((function(e){return e.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(n);case 2:if(!e.sent){e.next=7;break}return e.next=5,w(n,{recursive:!0});case 5:e.next=9;break;case 7:return e.next=9,Z(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 3:return e.t1=e.sent,e.next=6,e.t0.all.call(e.t0,e.t1).catch((function(){}));case 6:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function h(e){return n_("./",o,e)}function p(e){return r_(h(""),h(e))}function v(e,t){return r_(p(e),p(t))}function m(e,t){return w_(p(e),p(t))}function g(e,t){return function(e,t){e=t_(e),t=t_(t);var n=e.split("/"),r=t.split("/");return!1===w_(e,t)&&n.every((function(e,t){return e===r[t]}))}(p(e),p(t))}function y(e,t){return b.apply(this,arguments)}function b(){return b=(0,r.Z)((0,t.Z)().mark((function n(r,i){var o,s,u,c;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(i||{}).recursive,s=void 0!==o&&o,t.next=3,L(r).catch((function(){return null}));case 3:if(null===(u=t.sent)||void 0===u||!u.isFile()){t.next=6;break}throw new c_(r);case 6:if(null===u||void 0===u||!u.isDirectory()||!s){t.next=8;break}return t.abrupt("return");case 8:if(!1!==s){t.next=15;break}return c=i_(r),t.next=12,L(c);case 12:if(!1!==t.sent.isDirectory()){t.next=15;break}throw new f_(c);case 15:return t.next=17,e.mkdir({path:h(r),directory:a,recursive:s}).catch((function(){}));case 17:null===l||void 0===l||l.emit("create:dir",p(r));case 18:case"end":return t.stop()}}),n)}))),b.apply(this,arguments)}function w(e,t){return k.apply(this,arguments)}function k(){return k=(0,r.Z)((0,t.Z)().mark((function n(r,i){var o,s;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(i||{}).recursive,s=void 0!==o&&o,t.next=3,L(r);case 3:if(!1!==t.sent.isDirectory()){t.next=6;break}throw new l_(r);case 6:if(t.t0=!1===s,!t.t0){t.next=12;break}return t.next=10,x(r);case 10:t.t1=t.sent.length,t.t0=t.t1>0;case 12:if(!t.t0){t.next=14;break}throw new d_(r);case 14:return t.next=16,e.rmdir({path:h(r),directory:a,recursive:s}).catch((function(){}));case 16:null===l||void 0===l||l.emit("remove:dir",p(r));case 17:case"end":return t.stop()}}),n)}))),k.apply(this,arguments)}function x(e){return S.apply(this,arguments)}function S(){return S=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(r);case 2:if(!t.sent.isDirectory()){t.next=14;break}return t.prev=3,t.next=6,e.readdir({path:h(r),directory:a}).then((function(e){return e.files}));case 6:return t.abrupt("return",t.sent);case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return",[]);case 12:t.next=15;break;case 14:throw new f_(r);case 15:case"end":return t.stop()}}),n,null,[[3,9]])}))),S.apply(this,arguments)}function _(e,t,n){return E.apply(this,arguments)}function E(){return E=(0,r.Z)((0,t.Z)().mark((function n(r,i,o){var s,c,f;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=("string"===typeof o?{encoding:o}:o||{encoding:"utf8"}).encoding,c=("string"===typeof o?{}:o||{}).recursive,f=void 0!==c&&c,t.t0=!1===f,!t.t0){t.next=8;break}return t.next=6,M(i_(r));case 6:t.t1=t.sent,t.t0=!1===t.t1;case 8:if(!t.t0){t.next=10;break}throw new l_(i_(r));case 10:if(!f){t.next=13;break}return t.next=13,y(i_(r),{recursive:!0});case 13:return t.next=15,A(r);case 15:if(!t.sent){t.next=17;break}throw new h_(r);case 17:if(!(i instanceof Blob)){t.next=21;break}return t.next=20,i.arrayBuffer();case 20:i=t.sent;case 21:return(i instanceof Uint8Array||i instanceof Uint16Array)&&(i=i.buffer),i instanceof ArrayBuffer&&(i=v_(i),s="base64"),u&&"base64"!==s&&(i=RS(i),s="base64"),t.next=26,e.writeFile({path:h(r),directory:a,encoding:"base64"===s||"buffer"===s?void 0:s,data:i}).catch((function(){}));case 26:null===l||void 0===l||l.emit("write:file",p(r));case 27:case"end":return t.stop()}}),n)}))),E.apply(this,arguments)}function C(){return C=(0,r.Z)((0,t.Z)().mark((function n(r,i,o){var s,c,f;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=("string"===typeof o?{encoding:o}:o||{encoding:"utf8"}).encoding,c=("string"===typeof o?{}:o||{}).recursive,f=void 0!==c&&c,t.t0=!1===f,!t.t0){t.next=8;break}return t.next=6,M(i_(r));case 6:t.t1=t.sent,t.t0=!1===t.t1;case 8:if(!t.t0){t.next=10;break}throw new l_(i_(r));case 10:if(!f){t.next=13;break}return t.next=13,y(i_(r),{recursive:!0});case 13:return t.next=15,A(r);case 15:if(!t.sent){t.next=17;break}throw new h_(r);case 17:if(!(i instanceof Blob)){t.next=21;break}return t.next=20,i.arrayBuffer();case 20:i=t.sent;case 21:return(i instanceof Uint8Array||i instanceof Uint16Array)&&(i=i.buffer),i instanceof ArrayBuffer&&(i=v_(i),s="base64"),u&&"base64"!==s&&(i=RS(i),s="base64"),t.next=26,e.appendFile({path:h(r),directory:a,encoding:"base64"===s||"buffer"===s?void 0:s,data:i}).catch((function(){}));case 26:null===l||void 0===l||l.emit("write:file",p(r));case 27:case"end":return t.stop()}}),n)}))),C.apply(this,arguments)}function I(e){return O.apply(this,arguments)}function O(){return O=(0,r.Z)((0,t.Z)().mark((function n(r){var i,o,s,c,l,f,d,p=arguments;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=("string"===typeof(i=p.length>1&&void 0!==p[1]?p[1]:"buffer")?{encoding:i}:i||{}).encoding,s=void 0===o?"buffer":o,t.next=4,L(r);case 4:if(!t.sent.isDirectory()){t.next=7;break}throw new h_(r);case 7:if(t.prev=7,!u){t.next=18;break}return t.next=11,e.readFile({path:h(r),directory:a});case 11:if(c=t.sent,l=c.data,"buffer"!==s){t.next=15;break}return t.abrupt("return",m_(l));case 15:if("base64"!==s){t.next=17;break}return t.abrupt("return",l);case 17:return t.abrupt("return",(n=l)&&g_(n)?jS(n):n);case 18:return t.next=20,e.readFile({path:h(r),directory:a,encoding:"buffer"===s||"base64"===s?void 0:s});case 20:if(f=t.sent,d=f.data,"buffer"!==s){t.next=24;break}return t.abrupt("return",b_(d));case 24:if("base64"!==s){t.next=26;break}return t.abrupt("return",y_(d));case 26:return t.abrupt("return",d);case 29:throw t.prev=29,t.t0=t.catch(7),new l_(r);case 32:case"end":return t.stop()}var n}),n,null,[[7,29]])}))),O.apply(this,arguments)}function Z(e){return T.apply(this,arguments)}function T(){return T=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(r);case 2:if(!t.sent.isDirectory()){t.next=5;break}throw new p_(r);case 5:return t.next=7,e.deleteFile({path:h(r),directory:a}).catch((function(){}));case 7:null===l||void 0===l||l.emit("remove:file",p(r));case 8:case"end":return t.stop()}}),n)}))),T.apply(this,arguments)}function A(e){return P.apply(this,arguments)}function P(){return P=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(n);case 3:if(!e.sent.isDirectory()){e.next=5;break}return e.abrupt("return",!0);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),P.apply(this,arguments)}function R(){return R=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(n);case 3:if(!e.sent.isFile()){e.next=5;break}return e.abrupt("return",!0);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),R.apply(this,arguments)}function N(){return(N=(0,r.Z)((0,t.Z)().mark((function n(r,i){var o,s;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(r);case 2:return o=t.sent,t.next=5,L(i_(i));case 5:if(t.t0=t.sent.isDirectory(),!1!==t.t0){t.next=8;break}throw new f_(i_(i));case 8:return t.next=10,A(i);case 10:if(!(s=t.sent)||!o.isFile()){t.next=13;break}throw new h_(i);case 13:if(!o.isDirectory()||!s){t.next=15;break}throw new c_(i);case 15:return t.next=17,e.rename({from:h(r),to:h(i),directory:a,toDirectory:a}).catch((function(){}));case 17:l&&L(i).then((function(e){e.isDirectory()?(null===l||void 0===l||l.emit("remove:dir",p(r)),null===l||void 0===l||l.emit("create:dir",p(i)),null===l||void 0===l||l.emit("move:dir",{from:p(r),to:p(i)})):(null===l||void 0===l||l.emit("remove:file",p(r)),null===l||void 0===l||l.emit("write:file",p(i)),null===l||void 0===l||l.emit("move:file",{from:p(r),to:p(i)}))}));case 18:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function j(){return(j=(0,r.Z)((0,t.Z)().mark((function n(r,i){var o,s;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(r);case 2:return o=t.sent,t.next=5,L(i_(i));case 5:if(t.t0=t.sent.isDirectory(),!1!==t.t0){t.next=8;break}throw new f_(i_(i));case 8:return t.next=10,A(i);case 10:if(!(s=t.sent)||!o.isFile()){t.next=13;break}throw new h_(i);case 13:if(!o.isDirectory()||!s){t.next=15;break}throw new c_(i);case 15:return t.next=17,e.copy({from:h(r),to:h(i),directory:a,toDirectory:a}).catch((function(){}));case 17:l&&L(i).then((function(e){e.isDirectory()?null===l||void 0===l||l.emit("create:dir",p(i)):null===l||void 0===l||l.emit("write:file",p(i))}));case 18:case"end":return t.stop()}}),n)})))).apply(this,arguments)}function L(e,t){return D.apply(this,arguments)}function D(){return D=(0,r.Z)((0,t.Z)().mark((function n(r,i){var o,s,u;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(i||{}).bigint,s=void 0!==o&&o,t.prev=1,t.next=4,e.stat({path:h(r),directory:a});case 4:if(u=t.sent,".lnk"===o_(r)&&(u.type="symlink"),!s){t.next=10;break}return t.abrupt("return",new s_(u));case 10:return t.abrupt("return",new a_(u));case 11:t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(1),new l_(r);case 16:case"end":return t.stop()}}),n,null,[[1,13]])}))),D.apply(this,arguments)}function M(e){return F.apply(this,arguments)}function F(){return F=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(n);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),F.apply(this,arguments)}function B(){return(B=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n,{method:"HEAD"});case 2:if(200!==(r=e.sent).status){e.next=7;break}return e.abrupt("return",Number(r.headers.get("content-length")||0));case 7:throw new Error("ENOENT");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return U=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=decodeURIComponent,t.next=4,e.getUri({path:h(r),directory:a});case 4:return t.t1=t.sent.uri,t.abrupt("return",(0,t.t0)(t.t1).replace(new RegExp("^[a-z]+:\\/\\/","iy"),""));case 8:throw t.prev=8,t.t2=t.catch(0),new Error("ENOENT");case 11:case"end":return t.stop()}}),n,null,[[0,8]])}))),U.apply(this,arguments)}function z(e,t){return null===l||void 0===l||l.on(e,t),function(){null===l||void 0===l||l.off(e,t)}}var V={init:function(){return f.apply(this,arguments)},clear:function(){return d.apply(this,arguments)},relatively:p,relative:v,isEqual:m,isParentDir:g,replaceParentDir:function(e,t,n){return g(t,e)?p(n_(p(n),v(t,e))):e},mkdir:y,rmdir:w,readdir:x,writeFile:_,readFile:I,unlink:Z,rename:function(e,t){return N.apply(this,arguments)},copy:function(e,t){return j.apply(this,arguments)},stat:L,exists:M,isDirectory:A,isFile:function(e){return R.apply(this,arguments)},lstat:function(e,t){var n=(t||{}).bigint;return L(e,{bigint:void 0!==n&&n})},symlink:function(e,t){return _("".concat(e,".lnk"),t)},readlink:function(e){return I(e,"utf8")},backFile:function(e){return B.apply(this,arguments)},du:function(e){return L(e).then((function(e){var t=e.size;return Number(t)}))},getUri:function(e){return U.apply(this,arguments)},appendFile:function(e,t,n){return C.apply(this,arguments)},on:z,watch:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.mode,i=void 0===r?void 0:r,o=n.type,a=void 0===o?"*":o,s=n.miniOpts,u=void 0===s?{}:s,c=n.immediate,l=void 0!==c&&c,f=n.exists,d=n.dir,h=n.exclude;u=(0,Ra.Z)({dot:!0},u);var p=function(n,r){var o=d;if("function"===typeof o&&(o=o()),null!==o&&(!o||!1!==g(o,r))){var a=e;"function"===typeof a&&(a=a()),"string"===typeof a&&(a=[a]);var s=h;"function"===typeof s&&(s=s()),s&&s.some((function(e){return DS()(r,e,u)}))||(i?a.some((function(e){return"absolute"===i?m(e,r):"relative"===i?g(e,r):"abstract"===i&&(m(e,r)||g(e,r))}))&&t({path:r,action:n}):a.every((function(e){return DS()(r,e,u)}))&&t({path:r,action:n}))}},v=[];if("file"!==a&&"*"!==a||(void 0!==f&&!0!==f||v.push(z("write:file",(function(e){return p("write:file",e)}))),void 0!==f&&!1!==f||v.push(z("remove:file",(function(e){return p("remove:file",e)})))),"dir"!==a&&"*"!==a||(void 0!==f&&!0!==f||v.push(z("create:dir",(function(e){return p("create:dir",e)}))),void 0!==f&&!1!==f||v.push(z("remove:dir",(function(e){return p("remove:dir",e)})))),"file"!==a&&"dir"!==a&&v.push(z(a,(function(e){return p(a,e)}))),l){var y=e;"function"===typeof y&&(y=y()),"string"===typeof y&&(y=[y]);var b=y[0];"file"!==a&&"*"!==a||t(void 0===f||!0===f?{path:b,action:"write:file"}:{path:b,action:"remove:file"}),"dir"===a&&t(void 0===f||!0===f?{path:b,action:"create:dir"}:{path:b,action:"remove:dir"}),"file"!==a&&"dir"!==a&&t({path:b,action:a})}return function(){v.forEach((function(e){e()}))}}};return(0,Ra.Z)((0,Ra.Z)({},V),{},{promises:V})},x_=n(658),S_=n.n(x_);function __(e){return function(t){(0,xe.Z)(r,t);var n=(0,Se.Z)(r);function r(t,i){var o;return(0,_e.Z)(this,r),o=n.call(this,t),(0,we.Z)((0,ke.Z)(o),"code",e),o.message=i||o.message,o.message?o.message=e+": "+o.message:o.message=e,o}return(0,Ee.Z)(r)}((0,Da.Z)(Error))}__("EEXIST"),__("ENOENT");var E_=__("ENOTDIR");__("ENOTEMPTY"),__("ETIMEDOUT"),__("EISDIR"),__("EPERM");function C_(e){return t_(e)+(e.endsWith("/")?"/":"")}function I_(e,t){var n=t.filepaths,r=t.ignores,i=e.endsWith("/"),o=C_(e),a=n.some((function(e){return null==e||"."===e||""===e||(i?C_(e).startsWith(o):C_(e)===o)})),s=r.every((function(e){return null==e||"."===e||""===e||(i?C_(e).startsWith(o):C_(e)!==o)}));return a&&s}function O_(e){var t=[],n=[];return e.forEach((function(e){e.startsWith("!")?n.push(e.slice(1)):t.push(e)})),{filepaths:t,ignores:n}}function Z_(e){return"promises"in e===!1?{promises:e}:e}function T_(){return T_=(0,r.Z)((0,t.Z)().mark((function e(n){var i,o,a,s,u,c,l,f,d,h,p,v,m,g;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.fs,o=n.extractTo,a=n.filepaths,s=void 0===a?["."]:a,u=n.filter,c=void 0===u?function(){return!0}:u,l=n.onProgress,f=n.data,d=n.path,h=Z_(i),!d){e.next=6;break}return e.next=5,h.promises.readFile(d);case 5:f=e.sent;case 6:return f instanceof Uint8Array&&(f=f.buffer),e.next=9,S_().loadAsync(f);case 9:return p=e.sent,v=Object.keys(p).length,e.prev=11,e.next=14,h.promises.stat(o);case 14:if(!1!==e.sent.isDirectory()){e.next=17;break}throw new E_(o,"Can't unzip to a file.");case 17:e.next=27;break;case 19:if(e.prev=19,e.t0=e.catch(11),"ENOENT"===e.t0.code){e.next=25;break}throw e.t0;case 25:return e.next=27,h.promises.mkdir(o,{recursive:!0});case 27:return m=O_(s),g=Object.values(p.files).filter((function(e){var t=e.name;return I_(t,m)&&c(t)})).map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n_(o,n.name),l&&l({filename:n.name,isDirectory:n.dir,loaded:r+1,total:v}),!n.dir){e.next=4;break}return e.abrupt("return",h.promises.mkdir(i,{recursive:!0}));case 4:return a=i_(i),e.prev=5,e.next=8,h.promises.stat(a);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),e.next=14,h.promises.mkdir(a,{recursive:!0});case 14:return e.t1=h.promises,e.t2=i,e.next=18,n.async("uint8array");case 18:return e.t3=e.sent,e.abrupt("return",e.t1.writeFile.call(e.t1,e.t2,e.t3));case 20:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=31,Promise.all(g);case 31:case"end":return e.stop()}}),e,null,[[11,19]])}))),T_.apply(this,arguments)}var A_=function(e){return T_.apply(this,arguments)};var P_=function(){function e(t,n,r,i,o,a,s,u,c,l,f){(0,_e.Z)(this,e),this._lessonData=void 0,this.course=void 0,this.chapter=void 0,this.lesson=void 0,this.curriculum=new Map,this.allLessons=new Map,this.data=void 0,this.currentProblem=void 0,this.totalProblems=void 0,this.currentCourseId=void 0,this.currentChapterId=void 0,this.currentLessonId=void 0,this.assignments=[],this.featuredLessons=[],this.prevCourse=void 0,this.prevChapter=void 0,this.course=t,this.chapter=n,this.lesson=r,this.data=i,this.currentProblem=o,this.totalProblems=a,this.currentCourseId=s,this.currentChapterId=u,this.currentLessonId=c,this.prevCourse=l,this.prevChapter=f}return(0,Ee.Z)(e,[{key:"clear",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.course=null,this.chapter=null,this.lesson=null,this.curriculum.clear(),this.allLessons.clear();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCourseJsons",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<n.length)){e.next=7;break}return e.next=4,this.loadSingleCourseJson(n[r],{});case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadSingleCourseJson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,i){var o,a,s,u=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.curriculum.get(n)){e.next=2;break}return e.abrupt("return",this.curriculum);case 2:return e.next=4,fetch("courses/"+n+"/course.json");case 4:return o=e.sent,e.next=7,o.json();case 7:if(a=e.sent,s=HI.toCourse(a),console.log("playedLessons",i),i[n+"_"+qo]||n==xo.PUZZLE){e.next=17;break}return s.chapters.forEach(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.course=s,i.lessons.forEach(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.isUnlock=r.id==n+"_"+qo,r.chapter=i,u.allLessons.set(r.id,r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.curriculum.set(n,s),console.log(this.curriculum,this.allLessons),e.abrupt("return",this.curriculum);case 17:return s.chapters.forEach(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.course=s,e.next=3,u.unlockingLessonsByChapterWise(i,n,r);case 3:r=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.curriculum.set(n,s),console.log(this.curriculum,this.allLessons),e.abrupt("return",this.curriculum);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unlockingLessonsByChapterWise",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r!==xo.PUZZLE){e.next=7;break}for(o=i.lessons,a=0;a<o.length;a++)o[a].isUnlock=!0,o[a].chapter=i,this.allLessons.set(o[a].id,o[a]);return i.lessons=o,e.abrupt("return",i);case 7:for(s=i.lessons,u=0;u<s.length;u++)n[s[u].id]&&s.length>u+1||u-1>=0&&n[null===(c=s[u-1])||void 0===c?void 0:c.id]?(s[u].isUnlock=!0,s[u].chapter=i,this.allLessons.set(s[u].id,s[u]),console.log(s[u].id,"is played so unlocking this lesson",s[u].isUnlock,null===(l=n[s[u].id])||void 0===l?void 0:l._metaData.lessonId),n[s[u].id]&&s.length>u+1&&(s[u].type!=$o||s[u].type===$o&&n[s[u].id].score>70?(s[u+1].isUnlock=!0,s[u+1].chapter=i,this.allLessons.set(s[u+1].id,s[u+1]),console.log(s[u].name,"is played so unlocking next lesson",s[u+1].name,s[u+1].isUnlock)):(s[u+1].isUnlock=!1,s[u+1].chapter=i,this.allLessons.set(s[u+1].id,s[u+1]),console.log(s[u].name,"is played but challenge score not > 70",s[u+1].name,s[u+1].isUnlock),u++))):0===u?(s[u].isUnlock=!0,s[u].chapter=i,this.allLessons.set(s[u].id,s[u])):(s[u].isUnlock=!1,s[u].chapter=i,this.allLessons.set(s[u].id,s[u]));return i.lessons=s,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"unlockNextLesson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("unlockNextLesson method called",n,r),o=this.allLessons.get(r),console.log("before playedLesson?.chapter",o,null===o||void 0===o?void 0:o.chapter),null===o||void 0===o||o.chapter.lessons.forEach((function(e,t,n){r===e.id&&(n[t].isUnlock=!0,console.log(n.length,t+1,n.length>t+1),n.length>t+1&&(console.log(e.type!=$o||null===e.type||void 0===e.type,e.type===$o&&i>70,e.type!=$o||e.type===$o&&i>70),(e.type!=$o||null===e.type||void 0===e.type||e.type===$o&&i>70)&&(n[t+1].isUnlock=!0,console.log("after playedLesson?.chapter",o,null===o||void 0===o?void 0:o.chapter))))}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"allChapterForSubject",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u.length>1&&void 0!==u[1]?u[1]:{},void 0!=(null===(r=this.curriculum.get(n))||void 0===r?void 0:r.chapters)){e.next=6;break}return e.next=4,this.loadSingleCourseJson(n,o);case 4:return s=e.sent,e.abrupt("return",(null===(a=s.get(n))||void 0===a?void 0:a.chapters)||[]);case 6:return e.abrupt("return",(null===(i=this.curriculum.get(n))||void 0===i?void 0:i.chapters)||[]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"allLessonForSubject",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u,c,l,f,d,h,p,v=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=v.length>1&&void 0!==v[1]?v[1]:{},a=this.curriculum||void 0,s=[],void 0!=(null===(r=a.get(n))||void 0===r?void 0:r.chapters)){e.next=7;break}return e.next=6,this.loadSingleCourseJson(n,o);case 6:a=e.sent;case 7:u=(null===(i=a.get(n))||void 0===i?void 0:i.chapters)||[],c=(0,Xt.Z)(u);try{for(c.s();!(l=c.n()).done;){f=l.value,d=(0,Xt.Z)(f.lessons);try{for(d.s();!(h=d.n()).done;)p=h.value,s.push(p)}catch(t){d.e(t)}finally{d.f()}}}catch(t){c.e(t)}finally{c.f()}return e.abrupt("return",s||[]);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"nextProblem",value:function(){this.currentProblem<this.totalProblems&&(this.currentProblem++,this.data=[this._lessonData.rows[this.currentProblem-1]])}},{key:"prevProblem",value:function(){this.currentProblem>1&&(this.currentProblem--,this.data=[this._lessonData.rows[this.currentProblem-1]])}},{key:"getAssignments",value:function(){return[]}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e(null,null,null,[],-1,-1,null,null,null,null,null)),e.instance}},{key:"i",get:function(){return e.getInstance()}}]),e}();P_.instance=void 0;var R_=function(){function e(){(0,_e.Z)(this,e),this.preQuizMap={},this.classes={},this.lessonMap={}}return(0,Ee.Z)(e,[{key:"getCoursesForParentsStudent",value:function(e){throw new Error("Method not implemented.")}},{key:"getCoursesForClassStudent",value:function(e){throw new Error("Method not implemented.")}},{key:"getLessonWithCocosLessonId",value:function(e){throw new Error("Method not implemented.")}},{key:"getLesson",value:function(e){throw new Error("Method not implemented.")}},{key:"getLessonsForChapter",value:function(e){throw new Error("Method not implemented.")}},{key:"getDifferentGradesForCourse",value:function(e){throw new Error("Method not implemented.")}},{key:"getAssignmentById",value:function(e){throw new Error("Method not implemented.")}},{key:"liveQuizListener",value:function(e,t){throw new Error("Method not implemented.")}},{key:"updateLiveQuiz",value:function(e,t,n,r,i){throw new Error("Method not implemented.")}},{key:"joinLiveQuiz",value:function(e,t){throw new Error("Method not implemented.")}},{key:"updateRewardsForStudent",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getUserByDocId",value:function(e){throw new Error("Method not implemented.")}},{key:"updateRewardAsSeen",value:function(e){throw new Error("Method not implemented.")}},{key:"getLeaderboardStudentResultFromB2CCollection",value:function(e){throw new Error("Method not implemented.")}},{key:"getRewardsById",value:function(e){throw new Error("Method not implemented.")}},{key:"getBadgeById",value:function(e){throw new Error("Method not implemented.")}},{key:"getStickerById",value:function(e){throw new Error("Method not implemented.")}},{key:"getAvatarInfo",value:function(){throw new Error("Method not implemented.")}},{key:"updateTcAccept",value:function(e,t){throw new Error("Method not implemented.")}},{key:"deleteAllUserData",value:function(){throw new Error("Method not implemented.")}},{key:"getCoursesByGrade",value:function(e){throw new Error("Method not implemented.")}},{key:"getAllCourses",value:function(){throw new Error("Method not implemented.")}},{key:"getSchoolById",value:function(e){throw new Error("Method not implemented.")}},{key:"getLeaderboardResults",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getAllLessonsForCourse",value:function(e){throw new Error("Method not implemented.")}},{key:"getLiveQuizLessons",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getLiveQuizRoomDoc",value:function(e){throw new Error("Method not implemented.")}},{key:"getLessonFromCourse",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getDataByInviteCode",value:function(e){throw new Error("Method not implemented.")}},{key:"linkStudent",value:function(e){throw new Error("Method not implemented.")}},{key:"getStudentResult",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getStudentResultInMap",value:function(e){throw new Error("Method not implemented.")}},{key:"getClassById",value:function(e){throw new Error("Method not implemented.")}},{key:"isStudentLinked",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getPendingAssignments",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getSchoolsForUser",value:function(e){throw new Error("Method not implemented.")}},{key:"isUserTeacher",value:function(e){throw new Error("Method not implemented.")}},{key:"getClassesForSchool",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getStudentsForClass",value:function(e){throw new Error("Method not implemented.")}},{key:"currentMode",get:function(){throw new Error("Method not implemented.")},set:function(e){throw new Error("Method not implemented.")}},{key:"getSubject",value:function(e){throw new Error("Method not implemented.")}},{key:"getCourse",value:function(e){throw new Error("Method not implemented.")}},{key:"deleteProfile",value:function(e){throw new Error("Method not implemented.")}},{key:"updateStudent",value:function(e,t,n,r,i,o,a,s,u){throw new Error("Method not implemented.")}},{key:"getLessonResultsForStudent",value:function(e){throw new Error("Method not implemented.")}},{key:"updateResult",value:function(e,t,n,r,i,o,a,s){throw new Error("Method not implemented.")}},{key:"getLanguageWithId",value:function(e){throw new Error("Method not implemented.")}},{key:"getAllCurriculums",value:function(){throw new Error("Method not implemented.")}},{key:"getAllGrades",value:function(){throw new Error("Method not implemented.")}},{key:"getAllLanguages",value:function(){throw new Error("Method not implemented.")}},{key:"getParentStudentProfiles",value:function(){throw new Error("Method not implemented.")}},{key:"updateSoundFlag",value:function(e,t){throw new Error("Method not implemented.")}},{key:"updateMusicFlag",value:function(e,t){throw new Error("Method not implemented.")}},{key:"updateLanguage",value:function(e,t){throw new Error("Method not implemented.")}},{key:"currentStudent",get:function(){throw new Error("Method not implemented.")},set:function(e){throw new Error("Method not implemented.")}},{key:"currentClass",get:function(){throw new Error("Method not implemented.")},set:function(e){throw new Error("Method not implemented.")}},{key:"currentSchool",get:function(){throw new Error("Method not implemented.")},set:function(e){throw new Error("Method not implemented.")}},{key:"createProfile",value:function(e,t,n,r,i,o,a,s){throw new Error("Method not implemented.")}},{key:"getHeaders",value:function(){var e;if(ko.i.endpointUrl)try{var t=new URL(ko.i.endpointUrl);e=t.host+t.pathname}catch(n){console.log("\ud83d\ude80 ~ file: OneRosterApi.ts:53 ~ OneRosterApi ~ getHeaders ~ error:",JSON.stringify(n))}return{"auth-token":ko.i.authToken,"ipc-host":e}}},{key:"getClassesForUser",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in getClassesForUser"),e.abrupt("return",[]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getResultsForStudentForClass",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isPreQuizDone",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xo.PUZZLE!==n){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,this.getPreQuiz(n,r,i);case 4:return o=e.sent,e.abrupt("return",!!o);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getPreQuiz",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getResultsForStudentsForClassInLessonMap",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLineItemForClassForLessonId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"putLineItem",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"putResult",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"getClassForUserForSubject",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],!(this.classes[n]&&this.classes[n].length>0)){e.next=5;break}i=this.classes[n],e.next=9;break;case 5:return e.next=7,this.getClassesForUser(n);case 7:i=e.sent,this.classes[n]=i;case 9:return o=i.find((function(e,t,n){return e.classCode===r})),e.abrupt("return",null!==o&&void 0!==o?o:i[0]);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePreQuiz",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw!(a.length>4&&void 0!==a[4])||a[4],new Error("Method not implemented.");case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getChapterForPreQuizScore",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>2&&void 0!==l[2]?l[2]:void 0){e.next=6;break}return s=P_.getInstance(),e.next=5,s.allChapterForSubject(n);case 5:a=e.sent;case 6:return r>100&&(r=100),u=r*a.length/100-1,c=function(e){return!!(e%1)},c(u)&&(u=Math.round(u)),console.log("getChapterForPreQuizScore",r,u,null===(i=a[Math.min(u,a.length-1)])||void 0===i?void 0:i.id),e.abrupt("return",null!==(o=a[Math.min(u,a.length-1)])&&void 0!==o?o:a[1]);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCourseFromLesson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.i||(e.i=new e),e.i}}]),e}();R_.i=void 0;var N_=n(1002),j_=n(2963),L_=n(3878),D_=n(9199),M_=n(181),F_=n(5267);function B_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B_(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z_={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},V_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_e.Z)(this,e),this.init(t,n)}return(0,Ee.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||z_,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,U_(U_({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),H_=new V_,W_=function(){function e(){(0,_e.Z)(this,e),this.observers={}}return(0,Ee.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function $_(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function q_(e){return null==e?"":""+e}function G_(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var o="string"!==typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function K_(e,t,n){var r=G_(e,t,Object);r.obj[r.k]=n}function Q_(e,t){var n=G_(e,t),r=n.obj,i=n.k;if(r)return r[i]}function J_(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):J_(e[r],t[r],n):e[r]=t[r]);return e}function Y_(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var X_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function eE(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return X_[e]})):e}var tE="undefined"!==typeof window&&window.navigator&&"undefined"===typeof window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,nE=[" ",",","?","!",";"];function rE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"===typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),u=i[s];void 0===u&&r.length>o+a;)a++,u=i[s=r.slice(o,o+a).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(s)){if("string"===typeof u)return u;if(s&&"string"===typeof u[s])return u[s]}var c=r.slice(o+a).join(n);return c?rE(u,c,n):void 0}i=i[r[o]]}return i}}function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iE(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,La.Z)(e);if(t){var i=(0,La.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,j_.Z)(this,n)}}var sE=function(e){(0,xe.Z)(n,e);var t=aE(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,_e.Z)(this,n),r=t.call(this),tE&&W_.call((0,ke.Z)(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return(0,Ee.Z)(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!==typeof n&&(a=a.concat(n)),n&&"string"===typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=Q_(this.data,a);return s||!o||"string"!==typeof n?s:rE(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),K_(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=Q_(this.data,a)||{};r?J_(s,n,i):s=oE(oE({},s),n),K_(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?oE(oE({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(W_),uE={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function cE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cE(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,La.Z)(e);if(t){var i=(0,La.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,j_.Z)(this,n)}}var dE={},hE=function(e){(0,xe.Z)(n,e);var t=fE(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,_e.Z)(this,n),r=t.call(this),tE&&W_.call((0,ke.Z)(r)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,(0,ke.Z)(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=H_.create("translator"),r}return(0,Ee.Z)(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=nE.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r);if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,r){var i=this;if("object"!==(0,N_.Z)(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===(0,N_.Z)(t)&&(t=lE({},t)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),u=s.key,c=s.namespaces,l=c[c.length-1],f=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&"cimode"===f.toLowerCase()){if(d){var h=t.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(l).concat(h).concat(u),usedKey:u,exactUsedKey:u,usedLng:f,usedNS:l}:"".concat(l).concat(h).concat(u)}return o?{res:u,usedKey:u,exactUsedKey:u,usedLng:f,usedNS:l}:u}var p=this.resolve(e,t),v=p&&p.res,m=p&&p.usedKey||u,g=p&&p.exactUsedKey||u,y=Object.prototype.toString.apply(v),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&v&&("string"!==typeof v&&"boolean"!==typeof v&&"number"!==typeof v)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!==typeof b||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,v,lE(lE({},t),{},{ns:c})):"key '".concat(u," (").concat(this.language,")' returned an object instead of string.");return o?(p.res=k,p):k}if(a){var x="[object Array]"===y,S=x?[]:{},_=x?g:m;for(var E in v)if(Object.prototype.hasOwnProperty.call(v,E)){var C="".concat(_).concat(a).concat(E);S[E]=this.translate(C,lE(lE({},t),{joinArrays:!1,ns:c})),S[E]===C&&(S[E]=v[E])}v=S}}else if(w&&"string"===typeof b&&"[object Array]"===y)(v=v.join(b))&&(v=this.extendTranslation(v,e,t,r));else{var I=!1,O=!1,Z=void 0!==t.count&&"string"!==typeof t.count,T=n.hasDefaultValue(t),A=Z?this.pluralResolver.getSuffix(f,t.count,t):"",P=t["defaultValue".concat(A)]||t.defaultValue;!this.isValidLookup(v)&&T&&(I=!0,v=P),this.isValidLookup(v)||(O=!0,v=u);var R=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:v,N=T&&P!==v&&this.options.updateMissing;if(O||I||N){if(this.logger.log(N?"updateKey":"missingKey",f,l,u,N?P:v),a){var j=this.resolve(u,lE(lE({},t),{},{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var L=[],D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&D&&D[0])for(var M=0;M<D.length;M++)L.push(D[M]);else"all"===this.options.saveMissingTo?L=this.languageUtils.toResolveHierarchy(t.lng||this.language):L.push(t.lng||this.language);var F=function(e,n,r){var o=T&&r!==v?r:R;i.options.missingKeyHandler?i.options.missingKeyHandler(e,l,n,o,N,t):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(e,l,n,o,N,t),i.emit("missingKey",e,l,n,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Z?L.forEach((function(e){i.pluralResolver.getSuffixes(e,t).forEach((function(n){F([e],u+n,t["defaultValue".concat(n)]||P)}))})):F(L,u,P))}v=this.extendTranslation(v,e,t,p,r),O&&v===u&&this.options.appendNamespaceToMissingKey&&(v="".concat(l,":").concat(u)),(O||I)&&this.options.parseMissingKeyHandler&&(v="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(u):u,I?v:void 0):this.options.parseMissingKeyHandler(v))}return o?(p.res=v,p):v}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,lE(lE({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(lE(lE({},n),{interpolation:lE(lE({},this.options.interpolation),n.interpolation)}));var a,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=lE(lE({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var f=n.postProcess||this.options.postProcess,d="string"===typeof f?[f]:f;return void 0!==e&&null!==e&&d&&d.length&&!1!==n.applyPostProcessor&&(e=uE.handle(d,e,t,this.options&&this.options.postProcessPassResolved?lE({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,s),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var f=void 0!==s.count&&"string"!==typeof s.count,d=f&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!dE["".concat(p[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(dE["".concat(p[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,u=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,c,n,e,s);else{var l;f&&(l=a.pluralResolver.getSuffix(n,s.count,s));var p="".concat(a.options.pluralSeparator,"zero");if(f&&(u.push(c+l),d&&u.push(c+p)),h){var v="".concat(c).concat(a.options.contextSeparator).concat(s.context);u.push(v),f&&(u.push(v+l),d&&u.push(v+p))}}for(;o=u.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),n}(W_);function pE(e){return e.charAt(0).toUpperCase()+e.slice(1)}var vE=function(){function e(t){(0,_e.Z)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=H_.create("languageUtils")}return(0,Ee.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=pE(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=pE(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=pE(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"===typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),mE=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],gE={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},yE=["v1","v2","v3"],bE={zero:0,one:1,two:2,few:3,many:4,other:5};var wE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_e.Z)(this,e),this.languageUtils=t,this.options=n,this.logger=H_.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){var e={};return mE.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:gE[t.fc]}}))})),e}()}return(0,Ee.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return bE[e]-bE[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!yE.includes(this.options.compatibilityJSON)}}]),e}();function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kE(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=function(e,t,n){var r=Q_(e,n);return void 0!==r?r:Q_(t,n)}(e,t,n);return!o&&i&&"string"===typeof n&&void 0===(o=rE(e,n,r))&&(o=rE(t,n,r)),o}var _E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_e.Z)(this,e),this.logger=H_.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,Ee.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:eE,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?Y_(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?Y_(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?Y_(t.nestingPrefix):t.nestingPrefixEscaped||Y_("$t("),this.nestingSuffix=t.nestingSuffix?Y_(t.nestingSuffix):t.nestingSuffixEscaped||Y_(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var i=SE(t,u,e,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(i,void 0,n,xE(xE(xE({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(SE(t,u,a,s.options.keySeparator,s.options.ignoreJSONStructure),c,n,xE(xE(xE({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var f=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=l(n)))if("function"===typeof f){var u=f(e,i,r);o="string"===typeof u?u:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(d){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"===typeof o||s.useRawValueToEscape||(o=q_(o));var c=t.safeValue(o);if(e=e.replace(i[0],c),d?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),o="{".concat(r[1]);e=r[0];var a=(o=this.interpolate(o,i)).match(/'/g),s=o.match(/"/g);(a&&a.length%2===0&&!s||s.length%2!==0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i=xE(xE({},t),i))}catch(u){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),u),"".concat(e).concat(n).concat(o)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var u=[];(i=(i=xE({},a)).replace&&"string"!==typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=t(s.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=q_(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce((function(e,t){return o.format(e,t,a.lng,xE(xE({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IE(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if("currency"===t&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if("relativetime"===t&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{i.split(";").forEach((function(e){if(e){var t=function(e){return(0,L_.Z)(e)||(0,D_.Z)(e)||(0,M_.Z)(e)||(0,F_.Z)()}(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}}return{formatName:t,formatOptions:n}}function OE(e){var t={};return function(n,r,i){var o=r+JSON.stringify(i),a=t[o];return a||(a=e(r,i),t[o]=a),a(n)}}var ZE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,_e.Z)(this,e),this.logger=H_.create("formatter"),this.options=t,this.formats={number:OE((function(e,t){var n=new Intl.NumberFormat(e,CE({},t));return function(e){return n.format(e)}})),currency:OE((function(e,t){var n=new Intl.NumberFormat(e,CE(CE({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:OE((function(e,t){var n=new Intl.DateTimeFormat(e,CE({},t));return function(e){return n.format(e)}})),relativetime:OE((function(e,t){var n=new Intl.RelativeTimeFormat(e,CE({},t));return function(e){return n.format(e,t.range||"day")}})),list:OE((function(e,t){var n=new Intl.ListFormat(e,CE({},t));return function(e){return n.format(e)}}))},this.init(t)}return(0,Ee.Z)(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=OE(t)}},{key:"format",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.split(this.formatSeparator).reduce((function(e,t){var o=IE(t),a=o.formatName,s=o.formatOptions;if(r.formats[a]){var u=e;try{var c=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=c.locale||c.lng||i.locale||i.lng||n;u=r.formats[a](e,l,CE(CE(CE({},s),i),c))}catch(f){r.logger.warn(f)}return u}return r.logger.warn("there was no format function for ".concat(a)),e}),e);return o}}]),e}();function TE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TE(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,La.Z)(e);if(t){var i=(0,La.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,j_.Z)(this,n)}}var RE=function(e){(0,xe.Z)(n,e);var t=PE(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,_e.Z)(this,n),o=t.call(this),tE&&W_.call((0,ke.Z)(o)),o.backend=e,o.store=r,o.services=i,o.languageUtils=i.languageUtils,o.options=a,o.logger=H_.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,a.backend,a),o}return(0,Ee.Z)(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o={},a={},s={},u={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?void 0===a[s]&&(a[s]=!0):(i.state[s]=1,r=!1,void 0===a[s]&&(a[s]=!0),void 0===o[s]&&(o[s]=!0),void 0===u[t]&&(u[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,r){var i=G_(e,t,Object),o=i.obj,a=i.k;o[a]=o[a]||[],r&&(o[a]=o[a].concat(n)),r||o[a].push(n)}(n.loaded,[i],o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:o,callback:a});else{this.readingCalls++;var s=function(s,u){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}s&&u&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,u)},u=this.backend[n].bind(this.backend);if(2!==u.length)return u(e,t,s);try{var c=u(e,t);c&&"function"===typeof c.then?c.then((function(e){return s(null,e)})).catch(s):s(null,c)}catch(l){s(l)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){var s=AE(AE({},o),{},{isUpdate:i}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var c;(c=5===u.length?u(e,t,n,r,s):u(e,t,n,r))&&"function"===typeof c.then?c.then((function(e){return a(null,e)})).catch(a):a(null,c)}catch(l){a(l)}else u(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(W_);function NE(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,N_.Z)(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===(0,N_.Z)(e[2])||"object"===(0,N_.Z)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function jE(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function LE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LE(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ME(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,La.Z)(e);if(t){var i=(0,La.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,j_.Z)(this,n)}}function FE(){}var BE=function(e){(0,xe.Z)(n,e);var t=ME(n);function n(){var e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if((0,_e.Z)(this,n),e=t.call(this),tE&&W_.call((0,ke.Z)(e)),e.options=jE(i),e.services={},e.logger=H_,e.modules={external:[]},r=(0,ke.Z)(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"===typeof r[e]&&(r[e]=r[e].bind(r))})),o&&!e.isInitialized&&!i.isClone){if(!e.options.initImmediate)return e.init(i,o),(0,j_.Z)(e,(0,ke.Z)(e));setTimeout((function(){e.init(i,o)}),0)}return e}return(0,Ee.Z)(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=NE();function i(e){return e?"function"===typeof e?new e:e:null}if(this.options=DE(DE(DE({},r),this.options),jE(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=DE(DE({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?H_.init(i(this.modules.logger),this.options):H_.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!==typeof Intl&&(o=ZE);var a=new vE(this.options);this.store=new sE(this.options.resources,this.options);var s=this.services;s.logger=H_,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new wE(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new _E(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new RE(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new hE(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=FE),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=$_(),l=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FE,r="string"===typeof e?e:this.language;if("function"===typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};if(r)o(r);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)}));this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=$_();return e||(e=this.languages),t||(t=this.options.ns),n||(n=FE),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&uE.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=$_();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"===typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var r=this,i=function e(t,i){var o;if("object"!==(0,N_.Z)(i)){for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];o=r.options.overloadTranslationOptionHandler([t,i].concat(s))}else o=DE({},i);o.lng=o.lng||e.lng,o.lngs=o.lngs||e.lngs,o.ns=o.ns||e.ns,o.keyPrefix=o.keyPrefix||n||e.keyPrefix;var c,l=r.options.keySeparator||".";return c=o.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(o.keyPrefix).concat(l).concat(e)})):o.keyPrefix?"".concat(o.keyPrefix).concat(l).concat(t):t,r.t(c,o)};return"string"===typeof e?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=$_();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=$_();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new vE(NE());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FE,i=DE(DE(DE({},this.options),t),{isClone:!0}),o=new n(i);void 0===t.debug&&void 0===t.prefix||(o.logger=o.logger.clone(t));return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=DE({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new hE(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(W_);(0,we.Z)(BE,"createInstance",(function(){return new BE(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var UE=BE.createInstance();UE.createInstance=BE.createInstance;UE.createInstance,UE.dir,UE.init,UE.loadResources,UE.reloadResources,UE.use,UE.changeLanguage,UE.getFixedT;var zE=UE.t;UE.exists,UE.setDefaultNamespace,UE.hasLoadedNamespace,UE.loadNamespaces,UE.loadLanguages,n(6637);Object.create(null);function VE(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var HE={};function WE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&HE[t[0]]||("string"===typeof t[0]&&(HE[t[0]]=new Date),VE.apply(void 0,t))}var $E=function(e,t){return function(){if(e.isInitialized)t();else{e.on("initialized",(function n(){setTimeout((function(){e.off("initialized",n)}),0),t()}))}}};function qE(e,t,n){e.loadNamespaces(t,$E(e,n))}function GE(e,t,n,r){"string"===typeof n&&(n=[n]),n.forEach((function(t){e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,$E(e,r))}var KE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,QE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},JE=function(e){return QE[e]};function YE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YE(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eC={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(KE,JE)}};var tC;var nC={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};eC=XE(XE({},eC),e)}(e.options.react),function(e){tC=e}(e)}};var rC=(0,s.createContext)(),iC=function(){function e(){(0,_e.Z)(this,e),this.usedNamespaces={}}return(0,Ee.Z)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oC(Object(n),!0).forEach((function(t){(0,we.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,s.useContext)(rC)||{},o=r.i18n,a=r.defaultNS,u=n||o||tC;if(u&&!u.reportNamespaces&&(u.reportNamespaces=new iC),!u){WE("You will need to pass in an i18next instance by using initReactI18next");var c=function(e,t){return"string"===typeof t?t:t&&"object"===(0,N_.Z)(t)&&"string"===typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e},l=[c,{},!1];return l.t=c,l.i18n={},l.ready=!1,l}u.options.react&&void 0!==u.options.react.wait&&WE("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=aC(aC(aC({},eC),u.options.react),t),d=f.useSuspense,h=f.keyPrefix,p=e||a||u.options&&u.options.defaultNS;p="string"===typeof p?[p]:p||["translation"],u.reportNamespaces.addUsedNamespaces&&u.reportNamespaces.addUsedNamespaces(p);var v=(u.isInitialized||u.initializedStoreOnce)&&p.every((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:function(t,r){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||!(t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages))||!(!a(r,e)||i&&!a(o,e)))}(e,t,n):(WE("i18n.languages were undefined or empty",t.languages),!0)}(e,u,f)}));function m(){return u.getFixedT(t.lng||null,"fallback"===f.nsMode?p:p[0],h)}var g=(0,s.useState)(m),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=p.join();t.lng&&(k="".concat(t.lng).concat(k));var x=function(e,t){var n=(0,s.useRef)();return(0,s.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current}(k),S=(0,s.useRef)(!0);(0,s.useEffect)((function(){var e=f.bindI18n,n=f.bindI18nStore;function r(){S.current&&w(m)}return S.current=!0,v||d||(t.lng?GE(u,t.lng,p,(function(){S.current&&w(m)})):qE(u,p,(function(){S.current&&w(m)}))),v&&x&&x!==k&&S.current&&w(m),e&&u&&u.on(e,r),n&&u&&u.store.on(n,r),function(){S.current=!1,e&&u&&e.split(" ").forEach((function(e){return u.off(e,r)})),n&&u&&n.split(" ").forEach((function(e){return u.store.off(e,r)}))}}),[u,k]);var _=(0,s.useRef)(!0);(0,s.useEffect)((function(){S.current&&!_.current&&w(m),_.current=!1}),[u,h]);var E=[b,u,v];if(E.t=b,E.i18n=u,E.ready=v,v)return E;if(!v&&!d)return E;throw new Promise((function(e){t.lng?GE(u,t.lng,p,(function(){return e()})):qE(u,p,(function(){return e()}))}))}function uC(e){return uC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uC(e)}var cC=[],lC=cC.forEach,fC=cC.slice;function dC(e){return lC.call(fC.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function hC(){return"function"===typeof XMLHttpRequest||"object"===("undefined"===typeof XMLHttpRequest?"undefined":uC(XMLHttpRequest))}var pC,vC,mC,gC=n.p+"static/media/getFetch.40f37ddea2378391108f.cjs",yC=n.t(gC);function bC(e){return bC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bC(e)}"function"===typeof fetch&&(pC="undefined"!==typeof global&&global.fetch?global.fetch:"undefined"!==typeof window&&window.fetch?window.fetch:fetch),hC()&&("undefined"!==typeof global&&global.XMLHttpRequest?vC=global.XMLHttpRequest:"undefined"!==typeof window&&window.XMLHttpRequest&&(vC=window.XMLHttpRequest)),"function"===typeof ActiveXObject&&("undefined"!==typeof global&&global.ActiveXObject?mC=global.ActiveXObject:"undefined"!==typeof window&&window.ActiveXObject&&(mC=window.ActiveXObject)),pC||!yC||vC||mC||(pC=gC||yC),"function"!==typeof pC&&(pC=void 0);var wC=function(e,t){if(t&&"object"===bC(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},kC=function(e,t,n){pC(e,t).then((function(e){if(!e.ok)return n(e.statusText||"Error",{status:e.status});e.text().then((function(t){n(null,{status:e.status,data:t})})).catch(n)})).catch(n)},xC=!1,SC=function(e,t,n,r){return"function"===typeof n&&(r=n,n=void 0),r=r||function(){},pC&&0!==t.indexOf("file:")?function(e,t,n,r){e.queryStringParams&&(t=wC(t,e.queryStringParams));var i=dC({},"function"===typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json");var o="function"===typeof e.requestOptions?e.requestOptions(n):e.requestOptions,a=dC({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},xC?{}:o);try{kC(t,a,r)}catch(s){if(!o||0===Object.keys(o).length||!s.message||s.message.indexOf("not implemented")<0)return r(s);try{Object.keys(o).forEach((function(e){delete a[e]})),kC(t,a,r),xC=!0}catch(u){r(u)}}}(e,t,n,r):hC()||"function"===typeof ActiveXObject?function(e,t,n,r){n&&"object"===bC(n)&&(n=wC("",n).slice(1)),e.queryStringParams&&(t=wC(t,e.queryStringParams));try{var i;(i=vC?new vC:new mC("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"===typeof o?o():o)for(var a in o)i.setRequestHeader(a,o[a]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(s){console&&console.log(s)}}(e,t,n,r):void r(new Error("No fetch and no xhr implementation found!"))};function _C(e){return _C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_C(e)}function EC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CC(r.key),r)}}function CC(e){var t=function(e,t){if("object"!==_C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_C(t)?t:String(t)}var IC=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return(t=CC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},parseLoadPayload:function(e,t){},request:SC,reloadInterval:"undefined"===typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},OC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=dC(n,this.options||{},IC()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,i){var o,a=this,s=this.options.loadPath;"function"===typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"===typeof e.then}(o=s)?o:Promise.resolve(o)).then((function(o){if(!o)return i(null,{});var s=a.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,i,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var i=this,o="string"===typeof n?[n]:n,a="string"===typeof r?[r]:r,s=this.options.parseLoadPayload(o,a);this.options.request(this.options,e,s,(function(o,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+o.message,!0);if(o)return t(o,!1);var s,u;try{s="string"===typeof a.data?i.options.parse(a.data,n,r):a.data}catch(c){u="failed parsing "+e+" to json"}if(u)return t(u,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,i){var o=this;if(this.options.addPath){"string"===typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,r),s=0,u=[],c=[];e.forEach((function(n){var r=o.options.addPath;"function"===typeof o.options.addPath&&(r=o.options.addPath(n,t));var l=o.services.interpolator.interpolate(r,{lng:n,ns:t});o.options.request(o.options,l,a,(function(t,n){s+=1,u.push(t),c.push(n),s===e.length&&"function"===typeof i&&i(u,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var a=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,o){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&i.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),r,o)}))}))}))}}}],n&&EC(t.prototype,n),r&&EC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();OC.type="backend";var ZC=OC,TC=[],AC=TC.forEach,PC=TC.slice;var RC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,NC=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=encodeURIComponent(t),o="".concat(e,"=").concat(i);if(r.maxAge>0){var a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(r.domain){if(!RC.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!RC.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),i)},jC=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},LC={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!==typeof document){var n=jC(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!==typeof document&&NC(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},DC={name:"querystring",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1).split("&"),i=0;i<r.length;i++){var o=r[i].indexOf("=");if(o>0)r[i].substring(0,o)===e.lookupQuerystring&&(t=r[i].substring(o+1))}}return t}},MC=null,FC=function(){if(null!==MC)return MC;try{MC="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){MC=!1}return MC},BC={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&FC()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&FC()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},UC=null,zC=function(){if(null!==UC)return UC;try{UC="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){UC=!1}return UC},VC={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&zC()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&zC()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},HC={name:"navigator",lookup:function(e){var t=[];if("undefined"!==typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},WC={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!==typeof document?document.documentElement:null);return n&&"function"===typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},$C={name:"path",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"===typeof e.lookupFromPathIndex){if("string"!==typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},qC={name:"subdomain",lookup:function(e){var t="number"===typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!==typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};var GC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,_e.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,Ee.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=function(e){return AC.call(PC.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(LC),this.addDetector(DC),this.addDetector(BC),this.addDetector(VC),this.addDetector(HC),this.addDetector(WC),this.addDetector($C),this.addDetector(qC)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"===typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();GC.type="languageDetector",UE.use(ZC).use(GC).use(nC).init({fallbackLng:"en",debug:!0,backend:{loadPath:na+"/locales/{{lng}}/{{ns}}.json"},interpolation:{escapeValue:!1}});var KC,QC,JC=UE;!function(e){e[e.Min=1]="Min",e[e.Low=2]="Low",e[e.Default=3]="Default",e[e.High=4]="High",e[e.Max=5]="Max"}(KC||(KC={})),function(e){e[e.Secret=-1]="Secret",e[e.Private=0]="Private",e[e.Public=1]="Public"}(QC||(QC={}));var YC,XC,eI=(0,wo.fo)("FirebaseMessaging",{web:function(){return Promise.all([n.e(869),n.e(294)]).then(n.bind(n,6294)).then((function(e){return new e.FirebaseMessagingWeb}))}}),tI=(0,wo.fo)("FirebaseAnalytics",{web:function(){return n.e(846).then(n.bind(n,8846)).then((function(e){return new e.FirebaseAnalyticsWeb}))}});!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(YC||(YC={})),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(XC||(XC={}));var nI,rI,iI,oI=(0,wo.fo)("Keyboard");!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.UPDATE_NOT_AVAILABLE=1]="UPDATE_NOT_AVAILABLE",e[e.UPDATE_AVAILABLE=2]="UPDATE_AVAILABLE",e[e.UPDATE_IN_PROGRESS=3]="UPDATE_IN_PROGRESS"}(nI||(nI={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PENDING=1]="PENDING",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.INSTALLING=3]="INSTALLING",e[e.INSTALLED=4]="INSTALLED",e[e.FAILED=5]="FAILED",e[e.CANCELED=6]="CANCELED",e[e.DOWNLOADED=11]="DOWNLOADED"}(rI||(rI={})),function(e){e[e.OK=0]="OK",e[e.CANCELED=1]="CANCELED",e[e.FAILED=2]="FAILED",e[e.NOT_AVAILABLE=3]="NOT_AVAILABLE",e[e.NOT_ALLOWED=4]="NOT_ALLOWED",e[e.INFO_MISSING=5]="INFO_MISSING"}(iI||(iI={}));var aI,sI=(0,wo.fo)("AppUpdate",{web:function(){return n.e(863).then(n.bind(n,8863)).then((function(e){return new e.AppUpdateWeb}))}});!function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"}(aI||(aI={}));var uI=(0,wo.fo)("LocalNotifications",{web:function(){return n.e(992).then(n.bind(n,7992)).then((function(e){return new e.LocalNotificationsWeb}))}}),cI=(0,wo.fo)("RateApp",{web:function(){return n.e(433).then(n.bind(n,9433)).then((function(e){return new e.RateAppWeb}))}}),lI="type.googleapis.com/google.protobuf.Int64Value",fI="type.googleapis.com/google.protobuf.UInt64Value";function dI(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function hI(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return hI(e)}));if("function"===typeof e||"object"===typeof e)return dI(e,(function(e){return hI(e)}));throw new Error("Data cannot be encoded in JSON: "+e)}function pI(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case lI:case fI:var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return pI(e)})):"function"===typeof e||"object"===typeof e?dI(e,(function(e){return pI(e)})):e}var vI="functions",mI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},gI=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i){var o;return(0,_e.Z)(this,n),(o=t.call(this,"".concat(vI,"/").concat(e),r||"")).details=i,o}return(0,Ee.Z)(n)}(Ua.ZR);function yI(e,t){var n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{var o=t&&t.error;if(o){var a=o.status;if("string"===typeof a){if(!mI[a])return new gI("internal","internal");n=mI[a],r=a}var s=o.message;"string"===typeof s&&(r=s),void 0!==(i=o.details)&&(i=pI(i))}}catch(u){}return"ok"===n?null:new gI(n,r,i)}var bI=function(){function e(t,n,r){var i=this;(0,_e.Z)(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return(0,Ee.Z)(e,[{key:"getAuthToken",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=14;break}if(!n){e.next=7;break}return e.next=4,this.appCheck.getLimitedUseToken();case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,this.appCheck.getToken();case 9:e.t0=e.sent;case 10:if(!(r=e.t0).error){e.next=13;break}return e.abrupt("return",null);case 13:return e.abrupt("return",r.token);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return r=e.sent,e.next=5,this.getMessagingToken();case 5:return i=e.sent,e.next=8,this.getAppCheckToken(n);case 8:return o=e.sent,e.abrupt("return",{authToken:r,messagingToken:i,appCheckToken:o});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),wI="us-central1";function kI(e){var t=null;return{promise:new Promise((function(n,r){t=setTimeout((function(){r(new gI("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:function(){t&&clearTimeout(t)}}}var xI=function(){function e(t,n,r,i){var o=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wI,s=arguments.length>5?arguments[5]:void 0;(0,_e.Z)(this,e),this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new bI(n,r,i),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return Promise.resolve(e())}}));try{var u=new URL(a);this.customDomain=u.origin,this.region=wI}catch(c){this.customDomain=null,this.region=a}}return(0,Ee.Z)(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();function SI(e,t,n){return function(r){return function(e,t,n,r){var i=e._url(t);return CI(e,i,n,r)}(e,t,r,n||{})}}function _I(e,t,n,r){return EI.apply(this,arguments)}function EI(){return EI=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i["Content-Type"]="application/json",e.prev=1,e.next=4,o(n,{method:"POST",body:JSON.stringify(r),headers:i});case 4:a=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:0,json:null});case 10:return s=null,e.prev=11,e.next=14,a.json();case 14:s=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:return e.abrupt("return",{status:a.status,json:s});case 20:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])}))),EI.apply(this,arguments)}function CI(e,t,n,r){return II.apply(this,arguments)}function II(){return II=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s,u,c,l,f,d,h,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hI(i),a={data:i},s={},e.next=5,n.contextProvider.getContext(o.limitedUseAppCheckTokens);case 5:return(u=e.sent).authToken&&(s.Authorization="Bearer "+u.authToken),u.messagingToken&&(s["Firebase-Instance-ID-Token"]=u.messagingToken),null!==u.appCheckToken&&(s["X-Firebase-AppCheck"]=u.appCheckToken),c=o.timeout||7e4,l=kI(c),e.next=13,Promise.race([_I(r,a,s,n.fetchImpl),l.promise,n.cancelAllRequests]);case 13:if(f=e.sent,l.cancel(),f){e.next=17;break}throw new gI("cancelled","Firebase Functions instance was deleted.");case 17:if(!(d=yI(f.status,f.json))){e.next=20;break}throw d;case 20:if(f.json){e.next=22;break}throw new gI("internal","Response is not valid JSON object.");case 22:if("undefined"===typeof(h=f.json.data)&&(h=f.json.result),"undefined"!==typeof h){e.next=26;break}throw new gI("internal","Response is missing data field.");case 26:return p=pI(h),e.abrupt("return",{data:p});case 28:case"end":return e.stop()}}),e)}))),II.apply(this,arguments)}var OI,ZI,TI="@firebase/functions",AI="0.10.0";function PI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,Ma.Mq)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wI,n=(0,Ma.qX)((0,Ua.m9)(e),vI).getImmediate({identifier:t}),r=(0,Ua.P0)("functions");return r&&RI.apply(void 0,[n].concat((0,be.Z)(r))),n}function RI(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}((0,Ua.m9)(e),t,n)}function NI(e,t,n){return SI((0,Ua.m9)(e),t,n)}OI=fetch.bind(self),(0,Ma.Xd)(new Fa.wA(vI,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("messaging-internal"),a=e.getProvider("app-check-internal");return new xI(r,i,o,a,n,OI)}),"PUBLIC").setMultipleInstances(!0)),(0,Ma.KN)(TI,AI,ZI),(0,Ma.KN)(TI,AI,"esm2017");var jI,LI=function(e){return e.ASSIGNMENT="Assignment",e.AVATAR="Avatar",e.BADGE="Badge",e.CLASS="Class",e.CONNECTION="Connection",e.COURSE="Course",e.CURRICULUM="Curriculum",e.GRADE="Grade",e.LANGUAGE="Language",e.LESSON="Lesson",e.SCHOOL="School",e.SUBJECT="Subject",e.TOPIC="Topic",e.USER="User",e.STUDENT_PROFILE="StudentProfile",e.RESULT="Result",e.REWARDS="Rewards",e.LEADERBOARD="Leaderboard",e.CLASS_CONNECTION="ClassConnection",e.SCHOOL_CONNECTION="SchoolConnection",e.LIVE_QUIZ_ROOM="LiveQuizRoom",e.STICKER="Sticker",e}({}),DI="assignmentCompletedIds";!function(e){e[e.Static=0]="Static",e[e.Default=1]="Default",e[e.Remote=2]="Remote"}(jI||(jI={}));var MI,FI=(0,wo.fo)("FirebaseRemoteConfig",{web:function(){return Promise.all([n.e(869),n.e(706)]).then(n.bind(n,1706)).then((function(e){return new e.FirebaseRemoteConfigWeb}))}}),BI=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,null,[{key:"getString",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FI.getString({key:n});case 3:return r=e.sent,i=r.value,e.abrupt("return",null==i?zI[n]:i);case 8:return e.prev=8,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: RemoteConfig.ts:9 ~ RemoteConfig ~ getString ~ error:",JSON.stringify(e.t0)),e.abrupt("return",zI[n]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNumber",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FI.getNumber({key:n});case 3:return r=e.sent,i=r.value,e.abrupt("return",null==i?zI[n]:i);case 8:return e.prev=8,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: RemoteConfig.ts:27 ~ RemoteConfig ~ getNumber ~ error:",JSON.stringify(e.t0)),e.abrupt("return",zI[n]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getJSON",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FI.getString({key:n});case 3:return r=e.sent,i=r.value,e.abrupt("return",JSON.parse(i)||zI[n]);case 8:return e.prev=8,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: RemoteConfig.ts:39 ~ RemoteConfig ~ getJSON ~ error:",e.t0),e.abrupt("return",zI[n]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getBoolean",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FI.getBoolean({key:n});case 3:return r=e.sent,i=r.value,console.log("\ud83d\ude80 ~ file: RemoteConfig.ts:53 ~ RemoteConfig ~ getBoolean ~ value:",n,i,i||zI[n]),e.abrupt("return",null==i?zI[n]:i);case 9:return e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: RemoteConfig.ts:50 ~ RemoteConfig ~ getBoolean ~ error:",JSON.stringify(e.t0)),e.abrupt("return",zI[n]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),UI=function(e){return e.CAN_HOT_UPDATE="can_hot_update",e.BUNDLE_ZIP_URLS="bundle_zip_urls",e.CAN_SHOW_AVATAR="can_show_avatar",e.CAN_UPDATED_AVATAR_SUGGESTION_URL="can_updated_avatar_suggestion_url",e}({}),zI=(MI={},(0,we.Z)(MI,UI.CAN_HOT_UPDATE,!1),(0,we.Z)(MI,UI.BUNDLE_ZIP_URLS,["https://cdn.jsdelivr.net/gh/chimple/chimple-zips@main/","https://cuba-stage-zip-bundle.web.app/","https://raw.githubusercontent.com/chimple/chimple-zips/main/"]),(0,we.Z)(MI,UI.CAN_SHOW_AVATAR,!1),MI),VI=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,null,[{key:"getCurrentClass",value:function(){var e=nO.getI().apiHandler;if(e.currentClass)return e.currentClass;var t=localStorage.getItem(Ho);if(t){var n=JSON.parse(t);return n.school&&(n.school=function(e){var t;return t=e,Jk(nx(),t._key.path.segments.at(-2),t._key.path.segments.at(-1))}(n.school)),e.currentClass=n,n}}},{key:"getCurrentSchool",value:function(){var e=nO.getI().apiHandler;if(e.currentSchool)return e.currentSchool;var t=localStorage.getItem(zo);if(t){var n=JSON.parse(t);return e.currentSchool=n,n}}},{key:"getCurrMode",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=nO.getI().apiHandler,r=nO.getI().authHandler,!n.currentMode){e.next=4;break}return e.abrupt("return",n.currentMode);case 4:if(i=localStorage.getItem(Vo),console.log(i),i){e.next=22;break}return e.next=9,r.getCurrentUser();case 9:if(o=e.sent){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.next=14,n.getSchoolsForUser(o);case 14:if((a=e.sent)&&!(a.length<1)){e.next=20;break}return n.currentMode=sa.PARENT,e.abrupt("return",sa.PARENT);case 20:return n.currentMode=sa.SCHOOL,e.abrupt("return",sa.SCHOOL);case 22:return s=sa[i],n.currentMode=s,e.abrupt("return",s);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();VI.setCurrentClass=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nO.getI().apiHandler.currentClass=n,localStorage.setItem(Ho,JSON.stringify({name:n.name,image:n.image,classCode:n.classCode,school:n.school,courses:n.courses,description:n.description,parents:n.parents,students:n.students,teachers:n.teachers,principal:n.principal,coordinator:n.coordinator}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),VI.setCurrentSchool=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nO.getI().apiHandler.currentSchool=n,localStorage.setItem(zo,JSON.stringify({name:n.name,image:n.image,courses:n.courses,teachers:n.teachers,principal:n.principal,coordinator:n.coordinator,updatedAt:n.updatedAt,role:n.role,createdAt:n.createdAt,docId:n.docId}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),VI.setCurrMode=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nO.getI().apiHandler.currentMode=n,localStorage.setItem(Vo,n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var HI=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,null,[{key:"convertCourses",value:function(t){var n=this;return t.forEach((function(t){t.chapters.forEach((function(e){e.lessons=n.convertDoc(e.lessons)})),t.curriculum=e.getRef(t.curriculum),t.grade=e.getRef(t.grade),t.subject=e.getRef(t.subject)})),t}},{key:"getNextLessonFromGivenChapter",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r,i,o,a){var s,u,c,l,f,d,h,p,v,m,g,y,b,w,k,x;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=nO.getI().apiHandler,c=a,l=(null===(s=e.getCurrentStudent())||void 0===s?void 0:s.docId)||"",console.log("currentChapter",c),c){t.next=6;break}return t.abrupt("return",void 0);case 6:return c.lessons=e.convertDoc(c.lessons),t.next=9,u.getLessonsForChapter(c);case 9:d=t.sent,h=0;case 11:if(!(h<d.length-1)){t.next=21;break}if(p=d[h],console.log("Checking lesson at index ".concat(h,":"),p),console.log("currentlesson id:",p.id),p.id!==o){t.next=18;break}return f=h,t.abrupt("break",21);case 18:h++,t.next=11;break;case 21:if(console.log("currentLessonIndex",f),!(f<c.lessons.length-1)){t.next=47;break}return v=c.lessons[f+1],m=v.id,g={},t.next=28,u.getStudentResult(l);case 28:if(y=t.sent,g=null===y||void 0===y?void 0:y.lessons){t.next=32;break}return t.abrupt("return",void 0);case 32:if(!g||!g[m]){t.next=40;break}if(f+=1,v=c.lessons[f+1]){t.next=37;break}return t.abrupt("break",40);case 37:m=v.id,t.next=32;break;case 40:if(!v){t.next=47;break}return t.next=43,u.getLesson(v.id);case 43:if(b=t.sent,console.log("lessonObj",b),!b){t.next=47;break}return t.abrupt("return",b);case 47:if(!((w=r.findIndex((function(e){return e.id===i}))+1)<r.length)){t.next=54;break}if(k=r[w],!((x=k.lessons[0])instanceof Za)){t.next=53;break}return t.abrupt("return",x);case 53:return t.abrupt("return",void 0);case 54:case"end":return t.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}()},{key:"convertDoc",value:function(t){var n,r=[],i=(0,Xt.Z)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e.getRef(o);r.push(a)}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"getRef",value:function(e){return Jk(nx(),e._key.path.segments.at(-2),e._key.path.segments.at(-1))}},{key:"getCurrentStudent",value:function(){var t=nO.getI().apiHandler;if(t.currentStudent)return t.currentStudent;var n=localStorage.getItem(ca);if(n){var r=JSON.parse(n);return r.users&&(r.users=e.convertDoc(r.users)),r.courses&&(r.courses=e.convertDoc(r.courses)),r.grade&&(r.grade=e.getRef(r.grade)),r.language&&(r.language=e.getRef(r.language)),r.board&&(r.board=e.getRef(r.board)),t.currentStudent=r,this.logCurrentPageEvents(r),r}}},{key:"getCurrentSound",value:function(){var e=nO.getI().authHandler.currentUser;if(null!==e&&void 0!==e&&e.sfxOff)return e.sfxOff;var t=localStorage.getItem(Jo);return t?(console.log(t),e&&nO.getI().apiHandler.updateSoundFlag(e,"0"===t?0:1),"0"===t?0:1):0}},{key:"getCurrentMusic",value:function(){var e=nO.getI().authHandler.currentUser;if(null!==e&&void 0!==e&&e.musicOff)return e.musicOff;var t=localStorage.getItem(Yo);return t?(console.log("currentMISIC",t),e&&nO.getI().apiHandler.updateMusicFlag(e,"0"===t?0:1),"0"===t?0:1):0}},{key:"getGUIDRef",value:function(e){return{href:null===e||void 0===e?void 0:e.href,sourcedId:null===e||void 0===e?void 0:e.sourcedId,type:null===e||void 0===e?void 0:e.type}}},{key:"downloadZipBundle",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,o,a,s=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,wo.dV.isNativePlatform()){e.next=3;break}return e.abrupt("return",!0);case 3:i=0;case 4:if(!(i<n.length)){e.next=14;break}return o=n.slice(i,i+10),e.next=8,Promise.all(o.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,u,c,l,f,d,h,p,v,m,g,y,b;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=!0,console.log("downloading Directory.External",kS.tP.External,"Directory.Library"),o=k_(xS,{rootDir:"/",directory:kS.tP.External,base64Alway:!1}),a=(null!==(r=localStorage.getItem("gameUrl"))&&void 0!==r?r:"http://localhost/_capacitor_file_/storage/emulated/0/Android/data/org.chimple.bahama/files/")+n+"/config.json",console.log("checking path..","path",a),e.next=8,fetch(a);case 8:if(u=e.sent,c=u.ok,console.log("fetching path",a),console.log("isexists",c),!c){e.next=14;break}return e.abrupt("return",!0);case 14:return console.log("before local lesson Bundle http url:assets/"+n+"/config.json"),e.next=17,fetch("assets/"+n+"/config.json");case 17:if(l=e.sent,console.log("after local lesson Bundle fetch url:assets/"+n+"/config.json",l.ok,l.json,l),!l.ok){e.next=21;break}return e.abrupt("return",!0);case 21:return console.log("fs",o),e.next=24,BI.getJSON(UI.BUNDLE_ZIP_URLS);case 24:if((f=e.sent)&&!(f.length<1)){e.next=27;break}return e.abrupt("return",!1);case 27:h=0;case 28:if(!(h<3)){e.next=61;break}p=(0,Xt.Z)(f),e.prev=30,p.s();case 32:if((v=p.n()).done){e.next=50;break}return m=v.value,g=m+n+".zip",e.prev=35,e.next=38,wo.kv.get({url:g,responseType:"blob"});case 38:if(d=e.sent,console.log("\ud83d\ude80 ~ file: util.ts:219 ~ downloadZipBundle ~ zip:",d.status),s.storeLessonIdToLocalStorage(n,ya),!d||!d.data||200!==d.status){e.next=43;break}return e.abrupt("break",50);case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(35),console.log("\ud83d\ude80 ~ file: util.ts:216 ~ downloadZipBundle ~ error:",e.t0);case 48:e.next=32;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(30),p.e(e.t1);case 55:return e.prev=55,p.f(),e.finish(55);case 58:h++,e.next=28;break;case 61:if(d&&d.data&&200===d.status||(i=!1),!(d instanceof Object)){e.next=71;break}return console.log("unzipping "),y=Uint8Array.from(atob(d.data),(function(e){return e.charCodeAt(0)})),e.next=67,A_({fs:o,extractTo:n,filepaths:["."],filter:function(e){return!1===e.startsWith("dist/")},onProgress:function(e){return console.log("event unzipping ",e.total,e.filename,e.isDirectory,e.loaded)},data:y});case 67:console.log("Unzip done"),s.storeLessonIdToLocalStorage(n,ya),b=new CustomEvent(Sa,{detail:{lessonId:n}}),window.dispatchEvent(b);case 71:return e.abrupt("return",i);case 74:return e.prev=74,e.t2=e.catch(0),console.error("Error during lesson download: ",e.t2),e.abrupt("return",!1);case 78:case"end":return e.stop()}}),e,null,[[0,74],[30,52,55,58],[35,45]])})));return function(t){return e.apply(this,arguments)}}()));case 8:if(e.sent.every((function(e){return!0===e}))){e.next=11;break}return e.abrupt("return",!1);case 11:i+=10,e.next=4;break;case 14:return a=new CustomEvent(_a),window.dispatchEvent(a),e.abrupt("return",!0);case 19:return e.prev=19,e.t0=e.catch(0),console.error("Error during lesson download: ",e.t0),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDownloadedLesson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=(0,Xt.Z)(n),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=13;break}return o=i.value,a="".concat(o),e.next=9,xS.rmdir({path:a,directory:kS.tP.External,recursive:!0});case 9:console.log("Lesson deleted successfully:",o),this.removeLessonIdFromLocalStorage(o,ya);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(0),console.error("Error deleting lesson:",e.t1);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,this,[[0,23],[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"checkDownloadedLessonsFromLocal",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem(ba),r=n?parseInt(n):(new Date).getTime(),n&&!((new Date).getTime()-r>36e5)){e.next=22;break}if(e.prev=3,wo.dV.isNativePlatform()){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,xS.readdir({path:"",directory:kS.tP.External});case 8:for(i=e.sent,o=[],a=0;a<i.files.length;a++)console.log("Processing folder:",i.files[a].name),o.push(i.files[a].name);localStorage.setItem(ya,JSON.stringify([])),console.log("local ids",o),this.storeLessonIdToLocalStorage(o,ya),r=(new Date).getTime(),localStorage.setItem(ba,r.toString()),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(3),console.error("Error listing folders:",e.t0),e.abrupt("return",null);case 22:return e.abrupt("return",r);case 23:case"end":return e.stop()}}),e,this,[[3,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"isChapterDowloaded",value:function(e){var t,n=JSON.parse(localStorage.getItem(wa)||"[]"),r=JSON.parse(localStorage.getItem(ya)||"[]"),i=[];t=e.lessons.map((function(e){return e.id}));for(var o=0;o<t.length;o++){var a=t[o];if(!n.hasOwnProperty(a))break;var s=n[a];i.push(s)}if(i.length>0&&i.length===t.length){var u=i.every((function(e){return r.includes(e)}));return console.log("allLessonIdPresent",u),!u}return!0}},{key:"toCourse",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"courseToJson",value:function(e){return JSON.stringify(e)}},{key:"launchCocosGame",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.cc){e.next=2;break}return e.abrupt("return");case 2:return n=window._CCSettings,r=n.launchScene,i=window.cc.assetManager.bundles.find((function(e){return e.getSceneInfo(r)})),e.next=7,new Promise((function(e,t){i.loadScene(r,null,null,(function(n,i){if(n)t(n);else{if(window.cc.director.runSceneImmediate(i),window.cc.sys.isBrowser){var o=document.getElementById("GameCanvas");o&&(o.style.visibility="",o.style.display="");var a=document.getElementById("Cocos2dGameContainer");a&&(a.style.display="");var s=document.getElementById("GameDiv");s&&(s.style.backgroundImage=""),console.log("Success to load scene: "+r)}e(i)}}))}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"killCocosGame",value:function(){if(window.cc){console.log("pausing the game"),window.cc.game.pause(),window.cc.audioEngine.stopAll();var e=document.getElementById("GameCanvas");e&&(e.style.visibility="none",e.style.display="none");var t=document.getElementById("Cocos2dGameContainer");t&&(t.style.display="none")}}},{key:"getLastPlayedLessonIndex",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r,i){var o,a,s,u,c,l,f,d,h,p,v,m,g,y=arguments;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=y.length>2&&void 0!==y[2]?y[2]:[],s=y.length>3&&void 0!==y[3]?y[3]:{},u=localStorage.getItem("".concat(ko.i.sourcedId,"-currentLessonLevel")),c={},u&&(c=JSON.parse(u)),!(l=c[r])){t.next=10;break}if(!((f=i.findIndex((function(e){return e.id===l})))>=0)){t.next=10;break}return t.abrupt("return",f);case 10:if(r!==xo.PUZZLE){t.next=15;break}if(!(Object.keys(s).length<=0)){t.next=13;break}return t.abrupt("return",0);case 13:return d=e.getLastPlayedLessonIndexForLessons(i,s),t.abrupt("return",d<=0?-1:d);case 15:if(h=R_.getInstance(),p=s[r+"_"+qo]){t.next=19;break}return t.abrupt("return",-1);case 19:return t.next=21,h.getChapterForPreQuizScore(r,null!==(o=p.score)&&void 0!==o?o:0,a);case 21:return v=t.sent,m=e.getLastPlayedLessonIndexForLessons(v.lessons,s),g=i.findIndex((function(e){return e.id===v.lessons[m].id})),t.abrupt("return",g<0?0:g);case 25:case"end":return t.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getLastPlayedLessonIndexForLessons",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r=0;r<e.length;r++)t[e[r].id]&&(n=r);return n}},{key:"getPort",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o=arguments;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:0,e.port||(e.port=(0,wo.fo)("Port")),t.prev=2,t.next=5,e.port.getPort();case 5:return i=t.sent,t.abrupt("return",i.port);case 9:if(t.prev=9,t.t0=t.catch(2),console.log("\ud83d\ude80 ~ file: util.ts:218 ~ Util ~ getPort ~ error:",JSON.stringify(t.t0),"errorIndex",r),!(r>120)){t.next=14;break}return t.abrupt("return",0);case 14:return t.next=16,new Promise((function(e){return setTimeout(e,500)}));case 16:return t.next=18,e.getPort(++r);case 18:return t.abrupt("return",t.sent);case 19:case"end":return t.stop()}}),n,null,[[2,9]])})));return function(){return n.apply(this,arguments)}}()},{key:"getCourseByGrade",value:function(e){var t=localStorage.getItem("".concat(ko.i.sourcedId,"-selectedGrade")),n={};return t?(n=JSON.parse(t),console.log("else (selectedGrade) {",n)):(n={en:So.GRADE1,maths:So.GRADE1},console.log("in util if (!selectedGrade) {",n)),e}},{key:"showLog",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("android"===wo.dV.getPlatform()){e.next=2;break}return e.abrupt("return");case 2:return"string"!==typeof n&&(n=JSON.stringify(n)),console.log("\ud83d\ude80 ~ file: util.ts:303 ~ showLog ~ msg:",n),e.next=6,SS.show({text:n,duration:"long"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logEvent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tI.setUserId({userId:r.user_id});case 3:return e.next=5,tI.setScreenName({screenName:window.location.pathname,nameOverride:window.location.pathname});case 5:return console.log("FirebaseAnalytics.setUserId({",tI),e.next=8,tI.logEvent({name:n,params:r});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error logging event to firebase analytics ",n,":",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserProperties",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tI.setUserProperty({name:"parent user_id",value:n.docId});case 3:return e.next=5,tI.setUserProperty({name:"name",value:n.name});case 5:return e.next=7,tI.setUserProperty({name:"age",value:(null===(r=n.age)||void 0===r?void 0:r.toLocaleString())||""});case 7:return e.next=9,tI.setUserProperty({name:"gender",value:(null===(i=n.gender)||void 0===i?void 0:i.toLocaleString())||""});case 9:return e.next=11,tI.setUserProperty({name:"user_type",value:n.role});case 11:return e.next=13,tI.setUserProperty({name:"username",value:n.username});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("Set User Properties Error ",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"logCurrentPageEvents",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tI.setUserId({userId:r.docId});case 2:return t.next=4,e.setUserProperties(r);case 4:return t.next=6,tI.setScreenName({screenName:window.location.pathname,nameOverride:window.location.pathname});case 6:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},{key:"setPathToBackButton",value:function(e,t){new URLSearchParams(window.location.search).get(Po)?t.replace("".concat(e,"?").concat(Po,"=true")):t.replace(e)}},{key:"randomBetween",value:function(e,t){return Math.floor(Math.random()*(t-e)+e)}},{key:"isEmail",value:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}},{key:"subscribeToClassTopic",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="".concat(n,"-assignments"),o="".concat(r,"-assignments"),wo.dV.isNativePlatform()){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,eI.subscribeToTopic({topic:i});case 6:return e.next=8,eI.subscribeToTopic({topic:o});case 8:a=localStorage.getItem(da),s=[],a&&(s=null!==(u=JSON.parse(a))&&void 0!==u?u:[]),s.push(i,o),localStorage.setItem(da,JSON.stringify(s));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unSubscribeToTopic",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wo.dV.isNativePlatform()){e.next=2;break}return e.abrupt("return");case 2:return r=localStorage.getItem(da),i=[],r&&(i=null!==(o=JSON.parse(r))&&void 0!==o?o:[]),e.next=7,eI.unsubscribeFromTopic({topic:n});case 7:a=i.filter((function(e){return e!==n})),localStorage.setItem(da,JSON.stringify(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToClassTopicForAllStudents",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wo.dV.isNativePlatform()){e.next=2;break}return e.abrupt("return");case 2:if((r=n.users)&&!(r.length<1)){e.next=5;break}return e.abrupt("return");case 5:i=nO.getI().apiHandler,o=(0,Xt.Z)(r),e.prev=7,o.s();case 9:if((a=o.n()).done){e.next=16;break}if((s=a.value).id){e.next=13;break}return e.abrupt("continue",14);case 13:i.getStudentResult(s.id).then((function(e){if(e&&e.classes&&e.classes.length>0&&e.classes.length===e.schools.length)for(var t=0;t<e.classes.length;t++){var n=e.classes[t],r=e.schools[t];u.isClassTokenSubscribed(n)||u.subscribeToClassTopic(n,r)}}));case 14:e.next=9;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),o.e(e.t0);case 21:return e.prev=21,o.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[7,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isClassTokenSubscribed",value:function(e){var t,n=localStorage.getItem(da),r=[];n&&(r=null!==(t=JSON.parse(n))&&void 0!==t?t:[]);var i=r.find((function(t){return t.startsWith(e)}));return!!i}},{key:"unSubscribeToClassTopicForAllStudents",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=localStorage.getItem(da),r=[],n&&(r=null!==(i=JSON.parse(n))&&void 0!==i?i:[]),o=(0,Xt.Z)(r);try{for(o.s();!(a=o.n()).done;)s=a.value,this.unSubscribeToTopic(s)}catch(t){o.e(t)}finally{o.f()}case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wo.dV.isNativePlatform()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,eI.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isTextFieldFocus",value:function(e,t){wo.dV.isNativePlatform()&&(oI.addListener("keyboardWillShow",(function(n){console.log("info",JSON.stringify(n)),t(!0),setTimeout((function(){var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),50)})),oI.addListener("keyboardWillHide",(function(){t(!1)})))}},{key:"startFlexibleUpdate",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(wo.dV.isNativePlatform()){t.next=2;break}return t.abrupt("return");case 2:if(t.prev=2,r=e.canCheckUpdate("lastUpdateChecked"),console.log("\ud83d\ude80 ~ file: util.ts:473 ~ startFlexibleUpdate ~ canCheckUpdate:",r),r){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,sI.getAppUpdateInfo();case 9:if(i=t.sent,console.log("\ud83d\ude80 ~ file: util.ts:471 ~ startFlexibleUpdate ~ result:",JSON.stringify(i)),i.updateAvailability===nI.UPDATE_AVAILABLE){t.next=13;break}return t.abrupt("return");case 13:if(!i.flexibleUpdateAllowed){t.next=23;break}return t.next=16,sI.startFlexibleUpdate();case 16:if(o=t.sent,console.log("\ud83d\ude80 ~ file: util.ts:482 ~ startFlexibleUpdate ~ appUpdateResult:",JSON.stringify(o)),o.code!==iI.OK){t.next=23;break}return console.log("\ud83d\ude80 ~ file: util.ts:487 ~ startFlexibleUpdate ~ appUpdateResult.code:",o.code),t.next=22,sI.completeFlexibleUpdate();case 22:console.log("\ud83d\ude80 ~ file: util.ts:492 ~ startFlexibleUpdate ~ completeFlexibleUpdate:");case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(2),console.log("\ud83d\ude80 ~ file: util.ts:482 ~ startFlexibleUpdate ~ error:",JSON.stringify(t.t0));case 28:case"end":return t.stop()}}),n,null,[[2,25]])})));return function(){return n.apply(this,arguments)}}()},{key:"notificationListener",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(i){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(wo.dV.isNativePlatform()){n.next=2;break}return n.abrupt("return");case 2:if(n.prev=2,eI.addListener("notificationReceived",function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){var o,a,s,u;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.notification,console.log("notificationReceived",JSON.stringify(o)),t.prev=2,t.next=5,uI.schedule({notifications:[{id:e.notificationsCount++,body:null!==(a=o.body)&&void 0!==a?a:"",title:null!==(s=o.title)&&void 0!==s?s:"Chimple",attachments:o.image?[{id:o.image,url:o.image}]:void 0,extra:o.data}]});case 5:u=t.sent,uI.addListener("localNotificationActionPerformed",(function(e){console.log("Local Notification Action Performed",e);var t=e.notification.extra;i(t)})),console.log("\ud83d\ude80 ~ file: util.ts:622 ~ res:",JSON.stringify(u.notifications)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("\ud83d\ude80 ~ file: util.ts:630 ~ error:",JSON.stringify(t.t0));case 13:case"end":return t.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()),e.canCheckUpdate("lastPermissionChecked")){n.next=7;break}return n.abrupt("return");case 7:return n.next=9,eI.checkPermissions();case 9:if("granted"!==n.sent.receive){n.next=12;break}return n.abrupt("return");case 12:return n.next=14,eI.requestPermissions();case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(2),console.log("\ud83d\ude80 ~ file: util.ts:514 ~ checkNotificationPermissionsAndType ~ error:",JSON.stringify(n.t0));case 19:case"end":return n.stop()}}),n,null,[[2,16]])})));return function(e){return n.apply(this,arguments)}}()},{key:"canCheckUpdate",value:function(e){var t,n=localStorage.getItem(e),r=new Date;if(n&&(t=new Date(n)),!t)return localStorage.setItem(e,r.toString()),!0;var i=!function(e){return new Date-e<36e5}(t);return i&&localStorage.setItem(e,r.toString()),i}},{key:"listenToNetwork",value:function(){var e=nx();navigator.onLine?ox(e):ax(e),window.addEventListener("online",(function(t){console.log("\ud83d\ude80 ~ file: util.ts:677 ~ window.addEventListener ~ e:",t),ox(e)})),window.addEventListener("offline",(function(t){console.log("\ud83d\ude80 ~ file: util.ts:681 ~ window.addEventListener ~ e:",t),ax(e)}))}},{key:"showInAppReview",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cI.requestReview();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: util.ts:694 ~ showInAppReview ~ error:",JSON.stringify(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"migrate",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o,a,s,u,c,l,f,d,h,p;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(wo.dV.isNativePlatform()&&!localStorage.getItem(va)){t.next=2;break}return t.abrupt("return",{migrated:!1});case 2:return t.next=4,xS.getUri({directory:kS.tP.Data,path:""});case 4:return r=t.sent,i=r.uri.replace("/files","/databases/")+"jsb.sqlite",console.log("\ud83d\ude80 ~ file: util.ts:714 ~ migrate ~ filePath:",i),o=wo.dV.convertFileSrc(i),t.next=10,fetch(o);case 10:if(a=t.sent,s=a.ok,console.log("\ud83d\ude80 ~ file: util.ts:717 ~ migrate ~ isExists:",s),s){t.next=15;break}return t.abrupt("return",{migrated:!1});case 15:return e.port||(e.port=(0,wo.fo)("Port")),t.prev=16,t.next=19,e.port.getMigrateUsers();case 19:return u=t.sent,c=PI(),l=NI(c,"MigrateUsers"),t.next=24,l({users:u.users});case 24:if(f=t.sent,console.log("\ud83d\ude80 ~ file: util.ts:734 ~ migrate ~ result:",JSON.stringify(f)),!(d=f.data).migrated){t.next=34;break}return h=nx(),p=d.studentIds.map((function(e){return Jk(h,LI.USER,e)})),t.next=32,xS.deleteFile({path:i});case 32:return localStorage.setItem(va,"true"),t.abrupt("return",{migrated:!0,newStudents:p});case 34:t.next=40;break;case 36:return t.prev=36,t.t0=t.catch(16),console.log("\ud83d\ude80 ~ file: util.ts:707 ~ migrate ~ error:",t.t0),t.abrupt("return",{migrated:!1});case 40:case"end":return t.stop()}}),n,null,[[16,36]])})));return function(){return n.apply(this,arguments)}}()},{key:"getCanShowAvatar",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o,a;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,VI.getCurrMode();case 3:if(t.sent!==sa.SCHOOL){t.next=6;break}return t.abrupt("return",!0);case 6:return t.next=8,e.getCurrentStudent();case 8:if(r=t.sent){t.next=12;break}return console.error("Student is undefined or null"),t.abrupt("return",!1);case 12:return i=nO.getI().apiHandler,t.next=15,i.getStudentResult(r.docId);case 15:if(!((o=t.sent)&&o.classes&&o.classes.length>0)){t.next=18;break}return t.abrupt("return",!0);case 18:return t.next=20,BI.getBoolean(UI.CAN_SHOW_AVATAR);case 20:return a=t.sent,console.log("getCanShowAvatar() return canShowAvatarValue;",a),t.abrupt("return",a);case 25:return t.prev=25,t.t0=t.catch(0),console.error("Error in getCanShowAvatar:",t.t0),t.abrupt("return",!1);case 29:case"end":return t.stop()}}),n,null,[[0,25]])})));return function(){return n.apply(this,arguments)}}()},{key:"migrateLocalJsonFile",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("Migrate existing Json File "),n){e.next=5;break}return console.log("new avatar newFileURL is undefined ",n),e.abrupt("return");case 5:return e.next=7,fetch(n);case 7:return a=e.sent,e.next=10,a.json();case 10:return s=e.sent,console.log("newAvatarSuggesstionJson ",s),e.next=14,fetch(r);case 14:return u=e.sent,e.next=17,u.json();case 17:if(c=e.sent,console.log("newAvatarSuggesstionJson.data",c),console.log("oldFileJson.version >= newFileJson.version",c.version,s.version,c.version>=s.version),!(c.version>=s.version)){e.next=23;break}return console.log("No need to migrate. Current version is up to date."),e.abrupt("return");case 23:return e.next=25,xS.writeFile({path:i,directory:kS.tP.Data,data:JSON.stringify(s),encoding:kS.ez.UTF8,recursive:!0});case 25:l=e.sent,console.log("const res = await Filesystem.writeFile({ slice",l.uri),localStorage.setItem(o,l.uri),e.next=34;break;case 30:throw e.prev=30,e.t0=e.catch(0),console.error("Json File Migration failed ",e.t0),e.t0;case 34:case"end":return e.stop()}}),e,null,[[0,30]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getCurrentWeekNumber",value:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1;t<0&&(t=6);var n=e.getDate()+t-1;return Math.floor(n/7)+1}},{key:"getCurrentMonthForLeaderboard",value:function(){var e=new Date;return e.getDate()<3&&e.setMonth(e.getMonth()-1),e.getMonth()+1}},{key:"getCurrentYearForLeaderboard",value:function(){var e=new Date;return e.getDate()<3&&e.setMonth(e.getMonth()-1),e.getFullYear()}},{key:"getStudentFromServer",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("getStudentInfo called"),r=nO.getI().apiHandler,t.next=4,e.getCurrentStudent();case 4:if(i=t.sent,console.log("Util.getCurrentStudent() ",i),i){t.next=8;break}return t.abrupt("return");case 8:return console.log("Util.getCurrentStudent().docId ",i.docId),t.next=11,r.getUserByDocId(i.docId);case 11:if(o=t.sent,console.log("api.getUserByDocId(currentStudent.docId); ",o),!o){t.next=16;break}return t.next=16,e.setCurrentStudent(o);case 16:case"end":return t.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"unlockWeeklySticker",value:function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var i,o,a,s,u,c,l,f,d,h,p;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,i=e.getCurrentStudent()){n.next=4;break}return n.abrupt("return",!1);case 4:return o=nO.getI().apiHandler,a=new Date,n.next=8,o.getRewardsById(a.getFullYear().toString());case 8:if(s=n.sent){n.next=11;break}return n.abrupt("return",!1);case 11:if(u=e.getCurrentWeekNumber(),c=s.weeklySticker,console.log("const weeklyData = rewardsDoc.weeklySticker;",s.weeklySticker),c[u.toString()].forEach(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("weeklyData[currentWeek.toString()].forEach((value) => {",n),l=n;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.rewards||(f={badges:[],bonus:[],sticker:[]},i.rewards=f),i.rewards.sticker||(i.rewards.sticker=[]),l){n.next=19;break}return n.abrupt("return",!1);case 19:for(d=!0,h=0;h<i.rewards.sticker.length;h++)p=i.rewards.sticker[h],console.log("const element = currentUser.rewards.sticker[i];",p),p.id===l.id&&(d=!1);return d&&i.rewards.sticker.push({id:l.id,seen:!1}),console.log("currentUser.rewards?.sticker.push({",i.rewards),n.next=25,o.updateRewardsForStudent(i.docId,i.rewards);case 25:return n.abrupt("return",!0);case 28:return n.prev=28,n.t0=n.catch(0),console.log("unlockWeeklySticker() error ",n.t0),n.abrupt("return",!1);case 32:case"end":return n.stop()}}),n,null,[[0,28]])})));return function(){return n.apply(this,arguments)}}()},{key:"getAllUnlockedRewards",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getAllUnlockedRewards() called"),e.next=3,this.getStudentFromServer();case 3:if(n=nO.getI().apiHandler,(i=this.getCurrentStudent())&&i.rewards){e.next=7;break}return e.abrupt("return");case 7:return o=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,Xt.Z)(n),e.prev=1,s.s();case 3:if((u=s.n()).done){e.next=12;break}if((c=u.value).seen){e.next=10;break}return e.next=8,i(c.id);case 8:(l=e.sent)&&(console.log("Reward added: ",c,l),a.push({id:c.id,type:r,image:l.image||l.thumbnail,name:l.name||l.title,leaderboardRewardList:o}));case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),s.e(e.t0);case 17:return e.prev=17,s.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,14,17,20]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),a=[],e.next=11,o(i.rewards.badges||[],xa.BADGE,(function(e){return n.getBadgeById(e)}),Zo.BADGES);case 11:return e.next=13,o(i.rewards.bonus||[],xa.BONUS,(function(e){return n.getLesson(e)}),Zo.BONUS);case 13:return e.next=15,o(i.rewards.sticker||[],xa.STICKER,(function(e){return n.getStickerById(e)}),Zo.STICKER);case 15:return console.log("getAllUnlockedRewards() called ",a),e.abrupt("return",a);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();HI.port=void 0,HI.setCurrentSound=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=nO.getI().authHandler,(i=r.currentUser)&&nO.getI().apiHandler.updateSoundFlag(i,n),localStorage.setItem(Jo,n.toString());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),HI.setCurrentMusic=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=nO.getI().authHandler,(i=r.currentUser)&&nO.getI().apiHandler.updateMusicFlag(i,n),localStorage.setItem(Yo,n.toString());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),HI.storeLessonIdToLocalStorage=function(e,t){var n=JSON.parse(localStorage.getItem(t)||"[]"),r=[].concat((0,be.Z)(Array.isArray(n)?n:[]),(0,be.Z)(Array.isArray(e)?e:[e]));localStorage.setItem(t,JSON.stringify(r))},HI.getStoredLessonIds=function(){return JSON.parse(localStorage.getItem(ya)||JSON.stringify([]))},HI.removeLessonIdFromLocalStorage=function(e,t){var n,r=JSON.parse(localStorage.getItem(t)||"[]");n=Array.isArray(e)?e:[e];var i=Array.isArray(r)?r.filter((function(e){return!n.includes(e)})):[];localStorage.setItem(t,JSON.stringify(i))},HI.onAppStateChange=function(e){var t=e.isActive,n=new URL(window.location.toString());t&&(wo.dV.isNativePlatform()&&"true"===n.searchParams.get(Po)&&n.pathname!==Do.GAME&&n.pathname!==Do.LOGIN&&n.pathname!==Do.EDIT_STUDENT?(n.pathname!==Do.DISPLAY_SUBJECTS&&n.pathname!==Do.DISPLAY_CHAPTERS||n.searchParams.set("isReload","true"),n.searchParams.delete(Po),window.history.replaceState(window.history.state,"",n.toString()),window.location.reload()):(n.searchParams.set("isReload","true"),n.searchParams.delete(Po),window.history.replaceState(window.history.state,"",n.toString())))},HI.setCurrentStudent=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u,c,l,f,d,h,p,v,m,g,y=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=y.length>1&&void 0!==y[1]?y[1]:void 0,h=!(y.length>2&&void 0!==y[2])||y[2],p=!(y.length>3&&void 0!==y[3])||y[3],console.log("setCurrentStudent called",n),(v=nO.getI().apiHandler).currentStudent=n,localStorage.setItem(ca,JSON.stringify({age:null!==(r=n.age)&&void 0!==r?r:null,avatar:null!==(i=n.avatar)&&void 0!==i?i:null,board:null!==(o=n.board)&&void 0!==o?o:null,courses:n.courses,createdAt:n.createdAt,updatedAt:n.updatedAt,gender:null!==(a=n.gender)&&void 0!==a?a:null,grade:null!==(s=n.grade)&&void 0!==s?s:null,image:null!==(u=n.image)&&void 0!==u?u:null,language:null!==(c=n.language)&&void 0!==c?c:null,name:n.name,role:n.role,uid:n.uid,rewards:n.rewards,username:n.username,users:n.users,docId:n.docId})),d||null===(l=n.language)||void 0===l||!l.id){e.next=12;break}return e.next=10,v.getLanguageWithId(n.language.id);case 10:(m=e.sent)&&(d=m.code);case 12:if(g=null!==(f=d)&&void 0!==f?f:Mo.ENGLISH,h&&localStorage.setItem(Wo,g),!p){e.next=17;break}return e.next=17,JC.changeLanguage(g);case 17:return e.next=19,tI.setUserId({userId:null===n||void 0===n?void 0:n.docId});case 19:return e.next=21,HI.setUserProperties(n);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),HI.notificationsCount=0;var WI=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o,a,s,u,c,l,f,d,h,p,v,m,g){var y,b=arguments.length>16&&void 0!==arguments[16]?arguments[16]:0,w=arguments.length>17&&void 0!==arguments[17]?arguments[17]:0,k=arguments.length>18&&void 0!==arguments[18]&&arguments[18],x=arguments.length>19?arguments[19]:void 0;return(0,_e.Z)(this,n),(y=t.call(this,v,m,g))._username=void 0,y._usernamePhone=void 0,y._usernameMail=void 0,y._users=void 0,y._name=void 0,y._role=void 0,y._uid=void 0,y._courses=void 0,y._age=void 0,y._image=void 0,y._gender=void 0,y._board=void 0,y._grade=void 0,y._language=void 0,y._avatar=void 0,y._sfxOff=void 0,y._musicOff=void 0,y._tcAccept=void 0,y._rewards=void 0,y._username=e,HI.isEmail(e)?y._usernameMail=e:y._usernamePhone=e,y._users=r,y._name=i,y._role=o,y._uid=a,y._courses=s,y._age=u,y._image=c,y._gender=l,y._board=f,y._grade=d,y._language=h,y._avatar=p,y._sfxOff=b,y._musicOff=w,y._tcAccept=k,y._rewards=x,y}return(0,Ee.Z)(n,[{key:"username",get:function(){return this._username},set:function(e){this._username=e}},{key:"usernamePhone",get:function(){return this._usernamePhone},set:function(e){this._usernamePhone=e}},{key:"usernameMail",get:function(){return this._usernameMail},set:function(e){this._usernameMail=e}},{key:"users",get:function(){return this._users},set:function(e){this._users=e}},{key:"role",get:function(){return this._role},set:function(e){this._role=e}},{key:"uid",get:function(){return this._uid},set:function(e){this._uid=e}},{key:"courses",get:function(){return this._courses},set:function(e){this._courses=e}},{key:"age",get:function(){return this._age},set:function(e){this._age=e}},{key:"image",get:function(){return this._image},set:function(e){this._image=e}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"gender",get:function(){return this._gender},set:function(e){this._gender=e}},{key:"board",get:function(){return this._board},set:function(e){this._board=e}},{key:"grade",get:function(){return this._grade},set:function(e){this._grade=e}},{key:"language",get:function(){return this._language},set:function(e){this._language=e}},{key:"sfxOff",get:function(){return this._sfxOff},set:function(e){this._sfxOff=e}},{key:"musicOff",get:function(){return this._musicOff},set:function(e){this._musicOff=e}},{key:"avatar",get:function(){return this._avatar},set:function(e){this._avatar=e}},{key:"tcAccept",get:function(){return this._tcAccept},set:function(e){this._tcAccept=e}},{key:"rewards",get:function(){return this._rewards},set:function(e){this._rewards=e}},{key:"toJson",value:function(){var e,t,n,r,i,o,a,s,u;return{age:null!==(e=this.age)&&void 0!==e?e:null,avatar:null!==(t=this.avatar)&&void 0!==t?t:null,board:null!==(n=this.board)&&void 0!==n?n:null,courses:this.courses,createdAt:this.createdAt,updatedAt:this.updatedAt,gender:null!==(r=this.gender)&&void 0!==r?r:null,grade:null!==(i=this.grade)&&void 0!==i?i:null,image:null!==(o=this.image)&&void 0!==o?o:null,language:null!==(a=this.language)&&void 0!==a?a:null,name:this.name,role:this.role,uid:this.uid,username:this.username,usernamePhone:null!==(s=this.usernamePhone)&&void 0!==s?s:null,usernameMail:null!==(u=this.usernameMail)&&void 0!==u?u:null,users:this.users,tcAccept:this.tcAccept,sfxOff:this.sfxOff,musicOff:this.musicOff}}}]),n}(Oa);WI.avatar=void 0;var $I=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o,a,s,u,c,l,f,d,h,p,v,m){var g;return(0,_e.Z)(this,n),(g=t.call(this,r,i,v))._comment=void 0,g._assignment=void 0,g._class=void 0,g._course=void 0,g._lesson=void 0,g._school=void 0,g._score=void 0,g._student=void 0,g._correctMoves=void 0,g._wrongMoves=void 0,g._timeSpent=void 0,g._isLoved=void 0,g._comment=e,g._assignment=o,g._class=a,g._course=s,g._lesson=u,g._school=c,g._score=l,g._student=p,g._correctMoves=f,g._wrongMoves=d,g._timeSpent=h,g._isLoved=m,g}return(0,Ee.Z)(n,[{key:"comment",get:function(){return this._comment},set:function(e){this._comment=e}},{key:"class",get:function(){return this._class},set:function(e){this._class=e}},{key:"course",get:function(){return this._course},set:function(e){this._course=e}},{key:"lesson",get:function(){return this._lesson},set:function(e){this._lesson=e}},{key:"school",get:function(){return this._school},set:function(e){this._school=e}},{key:"score",get:function(){return this._score},set:function(e){this._score=e}},{key:"student",get:function(){return this._student},set:function(e){this._student=e}},{key:"assignment",get:function(){return this._assignment},set:function(e){this._assignment=e}},{key:"correctMoves",get:function(){return this._correctMoves},set:function(e){this._correctMoves=e}},{key:"wrongMoves",get:function(){return this._wrongMoves},set:function(e){this._wrongMoves=e}},{key:"timeSpent",get:function(){return this._timeSpent},set:function(e){this._timeSpent=e}},{key:"isLoved",get:function(){return this._isLoved},set:function(e){this._isLoved=e}},{key:"toJson",value:function(){var e,t,n,r,i,o={comment:null!==(e=this.comment)&&void 0!==e?e:null,class:null!==(t=this.class)&&void 0!==t?t:null,course:null!==(n=this.course)&&void 0!==n?n:null,lesson:this.lesson,school:null!==(r=this.school)&&void 0!==r?r:null,score:this.score,student:this.student,assignment:null!==(i=this.assignment)&&void 0!==i?i:null,correctMoves:this.correctMoves,wrongMoves:this.wrongMoves,timeSpent:this.timeSpent,updatedAt:this.updatedAt,createdAt:this.createdAt};return null!=this.isLoved&&(o.isLoved=this.isLoved),o}}]),n}(Oa),qI=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(e,r,i,o,a,s,u,c){var l;return(0,_e.Z)(this,n),(l=t.call(this,s,u,c))._classes=void 0,l._last5Lessons=void 0,l._lastPlayedCourse=void 0,l._lessons=void 0,l._schools=void 0,l._lastPlayedCourse=e,l._classes=r,l._last5Lessons=i,l._lessons=o,l._schools=a,l}return(0,Ee.Z)(n,[{key:"classes",get:function(){return this._classes},set:function(e){this._classes=e}},{key:"last5Lessons",get:function(){return this._last5Lessons},set:function(e){this._last5Lessons=e}},{key:"lastPlayedCourse",get:function(){return this._lastPlayedCourse},set:function(e){this._lastPlayedCourse=e}},{key:"lessons",get:function(){return this._lessons},set:function(e){this._lessons=e}},{key:"schools",get:function(){return this._schools},set:function(e){this._schools=e}}]),n}(Oa),GI=function(){function e(){var n=this;(0,_e.Z)(this,e),this._db=nx(),this._currentStudent=void 0,this._currentClass=void 0,this._currentSchool=void 0,this._subjectsCache={},this._CourseCache={},this._classCache={},this._schoolCache={},this._studentResultCache={},this._schoolsCache={},this._currentMode=void 0,this._allCourses=void 0,this.updateSoundFlag=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(!e.sent){e.next=8;break}return e.next=6,fS(Jk(n._db,"User/".concat(r.uid)),{sfxOff:i,updatedAt:Df.now()});case 6:r.sfxOff=i,nO.getI().authHandler.currentUser=r;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.updateTcAccept=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(!e.sent){e.next=8;break}return e.next=6,fS(Jk(n._db,"User/".concat(r.uid)),{tcAccept:i,updatedAt:Df.now()});case 6:r.tcAccept=i,nO.getI().authHandler.currentUser=r;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.updateMusicFlag=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r,i){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(!(o=e.sent)){e.next=9;break}return e.next=6,fS(Jk(n._db,"User/".concat(r.uid)),{musicOff:i,updatedAt:Df.now()});case 6:console.log("updateMusicFlag",i),o.musicOff=i,nO.getI().authHandler.currentUser=o;case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.updateRewardsForStudent=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r,i){var o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Jk(n._db,LI.USER,r),e.next=3,oS(o);case 3:if(a=e.sent,console.log("const studentDoc = await getDoc(studentDocRef);",a),a&&a.data()){e.next=7;break}return e.abrupt("return");case 7:return s=a.data(),console.log("const student: User = studentDoc.data() as User;",s),s.docId=a.id,console.log("if (!rewards) return;",i),e.next=13,fS(o,{rewards:i});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.updateLanguage=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r,i){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(!(o=e.sent)){e.next=8;break}return o.language=Jk(n._db,"Language/".concat(i)),nO.getI().authHandler.currentUser=o,e.next=8,fS(Jk(n._db,"User/".concat(r.uid)),{language:o.language,updatedAt:Df.now()});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}return(0,Ee.Z)(e,[{key:"getCourseByUserGradeId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=[],!n){e.next=17;break}if(o=!1,a=!1,n===To||"NIAdGIaaRXi8BOl87MEu"===n?o=!0:a=!0,!o&&!a){e.next=17;break}return e.next=8,this.getCoursesByGrade(o?To:a?Ao:n);case 8:s=e.sent,console.log("----------------line 182 courses related to grades",s),(u=s.filter((function(e){var t=e.curriculum;if(t&&t.id===r)return!0}))).forEach((function(e){i.push(Jk(f._db,LI.COURSE,e.docId))})),c=[],u.forEach((function(e){var t=e.subject;t&&c.push(t.id)})),l=ra.filter((function(e){return!c.includes(e)})),console.log("Remaining subjects to add:",l),l.forEach((function(e){s.filter((function(t){var n=t.subject;if(n&&n.id===e&&"BVTIRg2Wm3zxcMPrU5Ob"===t.curriculum.id)return!0})).forEach((function(e){i.push(Jk(f._db,LI.COURSE,e.docId))}))}));case 17:return console.log("Final courses array:",i),e.abrupt("return",i);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createProfile",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s,u,c){var l,f,d,h,p,v,m,g;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(l=e.sent){e.next=5;break}throw"User is not Logged in";case 5:return f=l.username||"",e.next=8,this.getCourseByUserGradeId(u,s);case 8:return d=e.sent,h=Jk(this._db,"".concat(LI.CURRICULUM,"/").concat(s)),p=Jk(this._db,"".concat(LI.GRADE,"/").concat(u)),v=Jk(this._db,"".concat(LI.LANGUAGE,"/").concat(c)),m=new WI(f,[],n,wS.STUDENT,l.docId,d,r,a,i,h,p,v,o,Df.now(),Df.now(),null),e.next=15,dS(Qk(this._db,LI.USER),m.toJson());case 15:return g=e.sent,m.docId=g.id,e.next=19,fS(Jk(this._db,"".concat(LI.USER,"/").concat(l.docId)),{users:bS(g),updatedAt:Df.now()});case 19:return l.users||(l.users=[]),l.users.push(g),e.abrupt("return",m);case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s,u){return e.apply(this,arguments)}}()},{key:"deleteProfile",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(r=e.sent){e.next=5;break}throw"User is not Logged in";case 5:return e.next=7,Jk(this._db,"".concat(LI.USER,"/").concat(n));case 7:for(i=e.sent,o=r.users,console.log("before userList ",r,o),a=0;a<o.length;a++)s=o[a],console.log("element",s.id,i.id),s.id===i.id&&(o.splice(a,1),console.log("enter if",o));return console.log("userList ",i.id,o),u=PI(),c=NI(u,"DeleteStudentByParent"),e.next=16,c({studentId:n});case 16:e.sent,r.users=o,nO.getI().authHandler.currentUser=r;case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCurriculums",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocsFromOffline(Qk(this._db,LI.CURRICULUM));case 3:return n=e.sent,r=[],n.forEach((function(e){console.log("".concat(e.id," => ").concat(e.data()));var t=e.data();t.docId=e.id,r.push(t)})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:206 ~ FirebaseApi ~ getAllCurriculums ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllGrades",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocsFromOffline(Qk(this._db,LI.GRADE));case 3:return n=e.sent,r=[],n.forEach((function(e){console.log("".concat(e.id," => ").concat(e.data()));var t=e.data();t.docId=e.id,r.push(t)})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:228 ~ FirebaseApi ~ getAllGrades ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAvatarInfo",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/public/assets/animation/avatarSugguestions.json");case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,console.log("Avatar Sugguestion Json ",r),i="AvatarInfo",console.log("getAvatarInfo(): entred",Jk(this._db,LI.AVATAR+"/"+i)),e.next=12,this.getDocFromOffline(Jk(this._db,LI.AVATAR+"/"+i));case 12:return o=e.sent,a=o.data(),console.log("const avatarInfoData",a),e.abrupt("return",a);case 18:return e.prev=18,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:262 ~ FirebaseApi ~ getAvatarInfo ~ error:",JSON.stringify(e.t0)),e.abrupt("return");case 22:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllLanguages",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocsFromOffline(Qk(this._db,LI.LANGUAGE));case 3:return n=e.sent,r=[],n.forEach((function(e){var t=e.data();t.docId=e.id,r.push(t)})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:250 ~ FirebaseApi ~ getAllLanguages ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getParentStudentProfiles",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nO.getI().authHandler.getCurrentUser();case 3:if(n=e.sent){e.next=6;break}throw"User is not Logged in";case 6:if(n.users&&!(n.users.length<1)){e.next=8;break}return e.abrupt("return",[]);case 8:return e.next=10,Promise.all(n.users.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oS(n);case 2:if(!(r=e.sent).exists()){e.next=7;break}return(i=r.data())&&(i.docId=r.id),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return i=e.sent,o=[],i.forEach((function(e){e&&o.push(e)})),e.abrupt("return",o);case 16:return e.prev=16,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:280 ~ FirebaseApi ~ getParentStudentProfiles ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"currentMode",get:function(){return this._currentMode},set:function(e){this._currentMode=e}},{key:"getLanguageWithId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oS(Jk(this._db,"".concat(LI.LANGUAGE,"/").concat(n)));case 3:if((r=e.sent).data()){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",r.data());case 9:e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:360 ~ FirebaseApi ~ getLanguageWithId ~ error:",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"sortSubject",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.sort((function(e,t){return(e.sortIndex||Number.MAX_SAFE_INTEGER)-(t.sortIndex||Number.MAX_SAFE_INTEGER)})),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCoursesForParentsStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=[],null!==n&&void 0!==n&&n.courses&&!(n.courses.length<1)){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,Promise.all(n.courses.map((function(e){return i.getDocFromOffline(e)})));case 6:return e.sent.forEach((function(e){if(e&&e.data()){var t=e.data();t.docId=e.id,r.push(t)}})),e.abrupt("return",this.sortSubject(r));case 12:return e.prev=12,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:358 ~ FirebaseApi ~ getCoursesForParentsStudent ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLessonResultsForStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oS(Jk(this._db,"".concat(LI.STUDENT_PROFILE,"/").concat(n)));case 3:if(r=e.sent,void 0!=(i=r.data())&&void 0!=i.lessons){e.next=7;break}return e.abrupt("return");case 7:return console.log("lessonsData.lessons ",i.lessons),o=new Map(Object.entries(i.lessons)),e.abrupt("return",o);case 12:e.prev=12,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:382 ~ FirebaseApi ~ error:",JSON.stringify(e.t0));case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCoursesForClassStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],e.prev=1,null!==n&&void 0!==n&&n.courses&&!(n.courses.length<1)){e.next=4;break}return e.abrupt("return",r);case 4:return e.next=6,Promise.all(n.courses.map((function(e){return oS(Jk(i._db,e))})));case 6:return e.sent.forEach((function(e){if(e&&e.data){var t=e.data();t.docId=e.id,r.push(t)}})),e.abrupt("return",this.sortSubject(r));case 11:return e.prev=11,e.t0=e.catch(1),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:444 ~ FirebaseApi ~ getCoursesForClassStudent ~ error:",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLesson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u,c,l,f,d,h=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:void 0,i=h.length>2&&void 0!==h[2]&&h[2],o=h.length>3&&void 0!==h[3]?h[3]:void 0,e.prev=3,e.next=6,this.getDocFromOffline(Jk(this._db,"".concat(LI.LESSON,"/").concat(n)));case 6:if((a=e.sent).exists){e.next=9;break}return e.abrupt("return");case 9:if((s=a.data()).docId=a.id,u=localStorage.getItem(wa),(c=u?JSON.parse(u):{})[s.docId]=s.id,localStorage.setItem(wa,JSON.stringify(c)),!r){e.next=19;break}s.chapterTitle=r.title,e.next=27;break;case 19:if(!i){e.next=27;break}if(this._allCourses){e.next=24;break}return e.next=23,this.getAllCourses();case 23:this._allCourses=e.sent;case 24:f=null===(l=this._allCourses)||void 0===l?void 0:l.find((function(e){return e.docId===(null===o||void 0===o?void 0:o.course.id)})),d=null===f||void 0===f?void 0:f.chapters.find((function(e){return e.id===s.cocosChapterCode})),s.chapterTitle=null===d||void 0===d?void 0:d.title;case 27:return e.abrupt("return",s);case 30:e.prev=30,e.t0=e.catch(3),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:399 ~ FirebaseApi ~ getLesson ~ error:",JSON.stringify(e.t0));case 33:case"end":return e.stop()}}),e,this,[[3,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLessonsForChapter",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],e.prev=1,!(n.lessons&&n.lessons.length>0)){e.next=26;break}i=(0,Xt.Z)(n.lessons),e.prev=4,i.s();case 6:if((o=i.n()).done){e.next=18;break}if(!((a=o.value)instanceof qk)){e.next=15;break}return e.next=11,this.getLesson(a.id,n);case 11:(s=e.sent)&&r.push(s),e.next=16;break;case 15:r.push(a);case 16:e.next=6;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),i.e(e.t0);case 23:return e.prev=23,i.f(),e.finish(23);case 26:e.next=31;break;case 28:e.prev=28,e.t1=e.catch(1),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:367 ~ FirebaseApi ~ getLessonsForChapter ~ error:",JSON.stringify(e.t1));case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}}),e,this,[[1,28],[4,20,23,26]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllLessonsForCourse",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(localStorage.getItem("CourseLessons")),console.log("lessons ",r),r||(r={}),void 0==r||!r[n.courseCode]){e.next=5;break}return e.abrupt("return",r);case 5:i={},o=0;case 7:if(!(o<n.chapters.length)){e.next=36;break}if(!((a=n.chapters[o]).lessons&&a.lessons.length>0)){e.next=33;break}s=(0,Xt.Z)(a.lessons),e.prev=11,s.s();case 13:if((u=s.n()).done){e.next=25;break}if(!((c=u.value)instanceof qk)){e.next=22;break}return e.next=18,this.getLesson(c.id,a);case 18:(l=e.sent)&&(i[c.id]=l),e.next=23;break;case 22:i[c.id]=c;case 23:e.next=13;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(11),s.e(e.t0);case 30:return e.prev=30,s.f(),e.finish(30);case 33:o++,e.next=7;break;case 36:return console.log("lesMap",i),r[n.courseCode]=i,console.log("after lessons",r,JSON.stringify(r)),localStorage.setItem("CourseLessons",JSON.stringify(r)),e.abrupt("return",r);case 41:case"end":return e.stop()}}),e,this,[[11,27,30,33]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLessonFromCourse",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(i=JSON.parse(localStorage.getItem("CourseLessons")))||(i={}),void 0==i||void 0==i[n.courseCode]||!i[n.courseCode][r]){e.next=5;break}return e.abrupt("return",i[n.courseCode][r]);case 5:o={},a=0;case 7:if(!(a<n.chapters.length)){e.next=39;break}if(!((s=n.chapters[a]).lessons&&s.lessons.length>0)){e.next=36;break}u=(0,Xt.Z)(s.lessons),e.prev=11,u.s();case 13:if((c=u.n()).done){e.next=28;break}if((l=c.value).id!==r){e.next=26;break}if(!(l instanceof qk)){e.next=23;break}return e.next=19,this.getLesson(l.id,s);case 19:(f=e.sent)&&(o[l.id]=f),e.next=24;break;case 23:o[l.id]=l;case 24:return i[n.courseCode]=o,e.abrupt("return",i[n.courseCode][r]);case 26:e.next=13;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(11),u.e(e.t0);case 33:return e.prev=33,u.f(),e.finish(33);case 36:a++,e.next=7;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:523 ~ FirebaseApi ~ error:",JSON.stringify(e.t1));case 44:case"end":return e.stop()}}),e,this,[[0,41],[11,30,33,36]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getDifferentGradesForCourse",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,o,a,s=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bx(Qk(this._db,LI.COURSE),zx("subject","==",n.subject),zx("curriculum","==",n.curriculum)),e.next=3,this.getDocsFromOffline(i);case 3:return o=e.sent,a={grades:[],courses:[]},e.next=7,Promise.all(o.docs.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.data()).docId=n.id,e.next=4,s.getDocFromOffline(r.grade);case 4:if(i=e.sent,o=i.data(),!a.grades.find((function(e){return e.docId===i.id}))){e.next=9;break}return e.abrupt("return");case 9:return o.docId=i.id,a.courses.push(r),a.grades.push(o),e.abrupt("return",{grade:o,course:r});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return a.grades.sort((function(e,t){return(e.sortIndex||Number.MAX_SAFE_INTEGER)-(t.sortIndex||Number.MAX_SAFE_INTEGER)})),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateResult",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s,u,c,l,f,d){var h,p,v,m,g,y,b,w,k,x,S,_,E;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=r?Jk(this._db,LI.COURSE,r):void 0,p=l?Jk(this._db,LI.ASSIGNMENT,l):void 0,v=f?Jk(this._db,LI.CLASS,f):void 0,m=d?Jk(this._db,LI.SCHOOL,d):void 0,g=Jk(this._db,LI.LESSON,i),y=Jk(this._db,LI.USER,n.docId),b=new $I(void 0,Df.now(),Df.now(),p,v,h,g,m,o,a,s,u,y,null,c),w=Jk(Qk(this._db,LI.RESULT)),!navigator.onLine){e.next=13;break}return e.next=11,lS(w,b.toJson());case 11:e.next=14;break;case 13:lS(w,b.toJson());case 14:if(b.docId=w.id,k={date:b.updatedAt,course:b.course,score:b.score,isLoved:b.isLoved,timeSpent:b.timeSpent},console.log("playedResult",b.lesson.id,JSON.stringify(k)),void 0!==this._studentResultCache[n.docId]){e.next=24;break}return e.next=20,this.getStudentResult(n.docId);case 20:(x=e.sent)?(S=x.lastPlayedCourse,(_=new qI(S,x.classes,x.last5Lessons,x.lessons,x.schools,x.updatedAt,x.createdAt,n.docId)).lessons[b.lesson.id]=k,this._studentResultCache[n.docId]=_):((E=new qI(k.course,[],{},{},[],Df.fromDate(new Date),Df.fromDate(new Date),n.docId)).lessons[b.lesson.id]=k,this._studentResultCache[n.docId]=E),e.next=26;break;case 24:this._studentResultCache[n.docId].lastPlayedCourse=k.course,this._studentResultCache[n.docId].lessons[b.lesson.id]=k;case 26:return console.log("this._studentResultCache[student.docId] ",JSON.stringify(this._studentResultCache[n.docId])),e.abrupt("return",b);case 28:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s,u,c,l,f){return e.apply(this,arguments)}}()},{key:"updateStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a,s,u,c,l){var f,d,h,p,v,m;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCourseByUserGradeId(c,u);case 2:return f=e.sent,d=Jk(this._db,"".concat(LI.CURRICULUM,"/").concat(u)),h=Jk(this._db,"".concat(LI.GRADE,"/").concat(c)),p=Jk(this._db,"".concat(LI.LANGUAGE,"/").concat(l)),v=Df.now(),m={age:i,avatar:a,board:d,updatedAt:v,gender:o,grade:h,image:null!==s&&void 0!==s?s:null,language:p,name:r},f&&(m.courses=f,n.courses=f),e.next=11,fS(Jk(this._db,"".concat(LI.USER,"/").concat(n.docId)),m);case 11:return n.age=i,n.avatar=a,n.board=d,n.updatedAt=v,n.gender=o,n.grade=h,n.image=s,n.language=p,n.name=r,e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s,u,c){return e.apply(this,arguments)}}()},{key:"getSubject",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this._subjectsCache[n]){e.next=3;break}return e.abrupt("return",this._subjectsCache[n]);case 3:return e.next=5,this.getDocFromOffline(Jk(this._db,LI.SUBJECT,n));case 5:if((r=e.sent).exists){e.next=8;break}return e.abrupt("return");case 8:if(i=r.data()){e.next=11;break}return e.abrupt("return");case 11:return i.docId=n,this._subjectsCache[n]=i,e.abrupt("return",i);case 16:return e.prev=16,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:623 ~ FirebaseApi ~ getSubject ~ error:",JSON.stringify(e.t0)),e.abrupt("return");case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourse",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this._CourseCache[n]){e.next=3;break}return e.abrupt("return",this._CourseCache[n]);case 3:return e.next=5,this.getDocFromOffline(Jk(this._db,LI.COURSE,n));case 5:if((r=e.sent).exists){e.next=8;break}return e.abrupt("return");case 8:if(i=r.data()){e.next=11;break}return e.abrupt("return");case 11:return i.docId=n,this._CourseCache[n]=i,e.abrupt("return",i);case 16:return e.prev=16,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:623 ~ FirebaseApi ~ getSubject ~ error:",JSON.stringify(e.t0)),e.abrupt("return");case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getDataByInviteCode",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PI(),i=NI(r,"GetDataByInviteCode"),e.next=4,i({inviteCode:n});case 4:return o=e.sent,e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkStudent",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=PI(),o=NI(i,"LinkStudent"),e.next=4,o({inviteCode:n,studentId:null===(r=this._currentStudent)||void 0===r?void 0:r.docId});case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStudentResult",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]&&a[1],e.prev=1,!this._studentResultCache[n]||!r){e.next=4;break}return e.abrupt("return",this._studentResultCache[n]);case 4:return e.next=6,oS(Jk(this._db,LI.STUDENT_PROFILE,n));case 6:if(i=e.sent,console.log("studentProfileDoc",i),i.exists){e.next=10;break}return e.abrupt("return");case 10:if(o=i.data(),console.log("studentProfile",o),void 0!==o){e.next=14;break}return e.abrupt("return");case 14:return o.docId=n,o.lessons||(o.lessons={}),this._studentResultCache[n]=o,e.abrupt("return",o);case 20:e.prev=20,e.t0=e.catch(1),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:734 ~ FirebaseApi ~ error:",JSON.stringify(e.t0));case 23:case"end":return e.stop()}}),e,this,[[1,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getStudentResultInMap",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getStudentResult(n);case 3:if(r=e.sent,console.log("getStudentResultInMap lessonsData ",JSON.stringify(r)),r){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",r.lessons);case 10:e.prev=10,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:753 ~ FirebaseApi ~ error:",JSON.stringify(e.t0));case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getClassById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this._classCache[n]){e.next=3;break}return e.abrupt("return",this._classCache[n]);case 3:return e.next=5,this.getDocFromOffline(Jk(this._db,LI.CLASS,n));case 5:if((r=e.sent).exists){e.next=8;break}return e.abrupt("return");case 8:return(i=r.data()).docId=n,this._classCache[n]=i,e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:770 ~ FirebaseApi ~ getClassById ~ error:",JSON.stringify(e.t0));case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSchoolById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this._schoolCache[n]){e.next=3;break}return e.abrupt("return",this._schoolCache[n]);case 3:return e.next=5,this.getDocFromOffline(Jk(this._db,LI.SCHOOL,n));case 5:if((r=e.sent).exists){e.next=8;break}return e.abrupt("return");case 8:return(i=r.data()).docId=n,this._schoolCache[n]=i,e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:787 ~ FirebaseApi ~ getSchoolById ~ error:",JSON.stringify(e.t0));case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isStudentLinked",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]&&o[1],e.prev=1,e.next=4,this.getStudentResult(n,r);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!!i.classes&&i.classes.length>0);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPendingAssignments",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=Jk(this._db,LI.CLASS,n),o=Bx(Qk(this._db,LI.ASSIGNMENT),zx("class","==",i),Wx("createdAt","desc"),qx(50)),e.next=5,uS(o);case 5:return a=e.sent,s=[],a.docs.forEach((function(e){var t,n,i=e.data();i.docId=e.id;var o=null===(t=i.completedStudents)||void 0===t?void 0:t.find((function(e){return e===r})),a=localStorage.getItem(DI),u=JSON.parse(null!==a&&void 0!==a?a:"{}");console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:546 ~ FirebaseApi ~ queryResult.docs.forEach ~ assignmentCompletedIds:",u);var c=null===(n=u[r])||void 0===n?void 0:n.find((function(e){return e===i.docId}));console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:554 ~ FirebaseApi ~ queryResult.docs.forEach ~ doneAssignmentLocally:",c),o||c||s.push(i)})),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:533 ~ FirebaseApi ~ assignments:",s),u=(new Date).getTime(),c=s.filter((function(e){if(e&&e.type===ea&&(e.startsAt&&e.endsAt))return e.startsAt.toDate().getTime()<=u&&e.endsAt.toDate().getTime()>=u;return!0})),console.log("Filtered assignments....",c),e.abrupt("return",c);case 15:return e.prev=15,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:856 ~ FirebaseApi ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSchoolsForUser",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,o,a,s=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this._schoolsCache[n.docId]){e.next=3;break}return e.abrupt("return",this._schoolsCache[n.docId]);case 3:return i=Bx(Qk(this._db,LI.SCHOOL_CONNECTION),zx("roles","array-contains",n.docId)),e.next=6,uS(i);case 6:return o=e.sent,a=[],e.next=10,Promise.all(o.docs.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id.split("_")[1],"PT"==(i=n.id.split("_")[0])){e.next=21;break}return e.next=5,oS(Jk(s._db,LI.SCHOOL,r));case 5:if(!(o=e.sent).exists()||!o.id){e.next=21;break}(u=o.data()).docId=o.id,e.t0=i,e.next="PR"===e.t0?12:"CO"===e.t0?14:"TE"===e.t0?16:"SP"===e.t0?18:20;break;case 12:return u.role=wS.PRINCIPAL,e.abrupt("break",20);case 14:return u.role=wS.COORDINATOR,e.abrupt("break",20);case 16:return u.role=wS.TEACHER,e.abrupt("break",20);case 18:return u.role=wS.SPONSOR,e.abrupt("break",20);case 20:a.push(u);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:return this._schoolsCache[n.docId]=a,e.abrupt("return",a);case 14:return e.prev=14,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:904 ~ FirebaseApi ~ getSchoolsForUser ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isUserTeacher",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=n.role===wS.PARENT,console.log("this is the role  "+n.role),!r){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,this.getSchoolsForUser(n);case 7:if(!((i=e.sent)&&i.length>0)){e.next=10;break}return e.abrupt("return",!0);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:921 ~ FirebaseApi ~ isUserTeacher ~ error:",JSON.stringify(e.t0));case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getClassesForSchool",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,i){var o,a,s,u,c=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!(n.role===wS.TEACHER)){e.next=12;break}return a=Bx(Qk(this._db,LI.CLASS_CONNECTION),zx("roles","array-contains",i.docId),zx("school","==",Jk(this._db,LI.SCHOOL,n.docId))),e.next=7,uS(a);case 7:return s=e.sent,e.next=10,Promise.all(s.docs.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id.slice(3),e.next=3,oS(Jk(c._db,LI.CLASS,r));case 3:(i=e.sent).exists()&&i.id&&((a=i.data()).docId=i.id,o.push(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:e.next=17;break;case 12:return u=Bx(Qk(this._db,LI.CLASS),zx("school","==",Jk(this._db,LI.SCHOOL,n.docId))),e.next=15,uS(u);case 15:e.sent.docs.forEach((function(e){var t=e.data();t.docId=e.id,o.push(t)}));case 17:return e.abrupt("return",o);case 20:return e.prev=20,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:967 ~ FirebaseApi ~ getClassesForSchool ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e,this,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getStudentsForClass",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var i,o,a,s=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=[],e.next=4,oS(Jk(this._db,LI.CLASS_CONNECTION,"ST_"+n));case 4:if(o=e.sent,a=o.get("roles"),!(o.exists()&&a&&a.length>0)){e.next=9;break}return e.next=9,Promise.all(a.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getDocFromOffline(Jk(s._db,LI.USER,n));case 2:(r=e.sent).exists()&&r.id&&((o=r.data()).docId=r.id,i.push(o));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:1006 ~ FirebaseApi ~ getStudentsForClass ~ error:",e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLeaderboardResults",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f,d,h,p,v,m,g,y,b,w,k,x,S,_,E,C,I,O;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i={weekly:[],allTime:[],monthly:[]},!(void 0===n||(null===n||void 0===n?void 0:n.length)<=0)){e.next=11;break}return o=Bx(Qk(this._db,LI.LEADERBOARD+"/b2c/genericLeaderboard/"),Wx(r===_o.WEEKLY?"weeklyScore":r===_o.MONTHLY?"monthlyScore":"allTimeScore","desc"),qx(50)),e.next=6,uS(o);case 6:a=e.sent,s=(0,Xt.Z)(a.docs);try{for(s.s();!(u=s.n()).done;)c=u.value,r===_o.WEEKLY?i.weekly.push({name:c.get("name"),score:c.get("weeklyScore"),timeSpent:c.get("weeklyTimeSpent"),lessonsPlayed:c.get("weeklyLessonPlayed"),userId:c.id}):r===_o.MONTHLY?i.monthly.push({name:c.get("name"),score:c.get("monthlyScore"),timeSpent:c.get("monthlyTimeSpent"),lessonsPlayed:c.get("monthlyLessonPlayed"),userId:c.id}):i.allTime.push({name:c.get("name"),score:c.get("allTimeScore"),timeSpent:c.get("allTimeTimeSpent"),lessonsPlayed:c.get("allTimeLessonPlayed"),userId:c.id})}catch(t){s.e(t)}finally{s.f()}e.next=32;break;case 11:return e.next=13,oS(Jk(this._db,"".concat(LI.LEADERBOARD,"/").concat(n)));case 13:if((l=e.sent).data()){e.next=16;break}return e.abrupt("return");case 16:if(f=l.data()){e.next=19;break}return e.abrupt("return");case 19:for(d=[],h=[],p=[],console.log("school mode Data ",f,f.d,Object.keys(f)),v=0,m=Object.keys(f.d);v<m.length;v++)C=m[v],console.log("Object.keys(data) ",C,f.d[C]),d.push({name:f.d[C].n,score:f.d[C].w.s,timeSpent:f.d[C].w.t,lessonsPlayed:f.d[C].w.l,userId:C}),h.push({name:f.d[C].n,score:f.d[C].a.s,timeSpent:f.d[C].a.t,lessonsPlayed:f.d[C].a.l,userId:C}),p.push({name:f.d[C].n,score:null!==(g=null===(y=f.d[C])||void 0===y||null===(b=y.m)||void 0===b?void 0:b.s)&&void 0!==g?g:0,timeSpent:null!==(w=null===(k=f.d[C])||void 0===k||null===(x=k.m)||void 0===x?void 0:x.t)&&void 0!==w?w:0,lessonsPlayed:null!==(S=null===(_=f.d[C])||void 0===_||null===(E=_.m)||void 0===E?void 0:E.l)&&void 0!==S?S:0,userId:C});return I=function(e){return e.sort((function(e,t){return t.score-e.score}))},I(d),I(p),I(h),{weekly:[],allTime:[],monthly:[]},O={weekly:d,allTime:h,monthly:p},console.log("result",O),e.abrupt("return",O);case 32:return console.log("result in FirebaseAPI",i),e.abrupt("return",i);case 36:e.prev=36,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:971 ~ FirebaseApi ~ error:",JSON.stringify(e.t0));case 39:case"end":return e.stop()}}),e,this,[[0,36]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLeaderboardStudentResultFromB2CCollection",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={weekly:[],allTime:[],monthly:[]},e.next=4,oS(Jk(this._db,LI.LEADERBOARD+"/b2c/genericLeaderboard/"+n));case 4:if(i=e.sent,console.log("if (!queryResult.data()) return;",i),i.data()){e.next=8;break}return e.abrupt("return");case 8:if(o=i.data(),console.log("if (!queryResult.data()) const data ",o),o){e.next=12;break}return e.abrupt("return");case 12:return console.log("if (!data) return;",o.name),r.weekly.push({name:o.name,score:o.weeklyScore,timeSpent:o.weeklyTimeSpent,lessonsPlayed:o.weeklyLessonPlayed,userId:n}),console.log("leaderBoardList.weekly",r.weekly),r.monthly.push({name:o.name,score:o.monthlyScore,timeSpent:o.monthlyTimeSpent,lessonsPlayed:o.monthlyLessonPlayed,userId:n}),console.log("leaderBoardList.monthly",r.monthly),r.allTime.push({name:o.name,score:o.allTimeScore,timeSpent:o.allTimeTimeSpent,lessonsPlayed:o.allTimeLessonPlayed,userId:n}),console.log("leaderBoardList.allTime",r.allTime),console.log("result in FirebaseAPI",r,o),e.abrupt("return",r);case 23:e.prev=23,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:971 ~ FirebaseApi ~ error:",JSON.stringify(e.t0));case 26:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserByDocId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("getUserByDocId called"),r=Jk(this._db,LI.USER,n),e.next=5,oS(r);case 5:if(!(i=e.sent).exists()){e.next=15;break}if(o=i.data()){e.next=10;break}return e.abrupt("return");case 10:return console.log("updated studentData as User",o),a=o,console.log("updated studentData as User",a,i.id),a.docId=i.id,e.abrupt("return",a);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(0),console.error("Error fetching user:",e.t0),e.abrupt("return");case 21:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCoursesByGrade",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uS(Bx(Qk(this._db,LI.COURSE),zx("grade","==",Jk(this._db,LI.GRADE,n))));case 3:return r=e.sent,e.next=6,uS(Bx(Qk(this._db,LI.COURSE),zx("courseCode","==",xo.PUZZLE)));case 6:return i=e.sent,o=[],r.forEach((function(e){var t=e.data();t.docId=e.id,o.push(t)})),i.forEach((function(e){var t=e.data();t.docId=e.id,o.push(t)})),e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(0),console.error("Error fetching courses by grade:",e.t0),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLessonWithCocosLessonId",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocsFromOffline(Bx(Qk(this._db,LI.LESSON),zx("id","==",n)));case 3:if((r=e.sent).empty){e.next=11;break}return i=r.docs[0],(o=i.data()).docId=i.id,e.abrupt("return",o);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.error("Error fetching lesson by ID:",e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllCourses",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocsFromOffline(Qk(this._db,LI.COURSE));case 3:return n=e.sent,r=[],n.forEach((function(e){console.log(e.id," => ",e.data());var t=e.data();t.docId=e.id,r.push(t)})),e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:1132 ~ FirebaseApi ~ getAllCourses ~ error:",JSON.stringify(e.t0)),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAllUserData",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=PI(),r=NI(n,"DeleteAllUserData"),e.next=4,r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"currentStudent",get:function(){return this._currentStudent},set:function(e){this._currentStudent=e}},{key:"currentClass",get:function(){return this._currentClass},set:function(e){this._currentClass=e}},{key:"currentSchool",get:function(){return this._currentSchool},set:function(e){this._currentSchool=e}},{key:"getDocFromOffline",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,sS(n);case 3:if((r=e.sent).exists()&&r.data()){e.next=6;break}throw"not found in cache";case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,oS(n);case 12:r=e.sent;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getDocsFromOffline",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cS(n);case 3:if(!(r=e.sent).empty){e.next=6;break}throw"not found in cache";case 6:uS(n),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,uS(n);case 13:r=e.sent;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getLiveQuizLessons",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=new Date,o=Jk(this._db,LI.CLASS,n),a=Bx(Qk(this._db,LI.ASSIGNMENT),zx("class","==",o),zx("type","==",ea),zx("startsAt","<=",i),Wx("startsAt","desc")),console.log("query result:",a),s=[],e.next=8,uS(a);case 8:return u=e.sent,console.log("live quiz count",u.size),u.size>0?u.docs.forEach((function(e){if(e.get("endsAt").toDate()>i){var t,n;e.data().docId=e.id;var o=e.data();o.docId=e.id;var a=null===(t=o.completedStudents)||void 0===t?void 0:t.find((function(e){return e===r})),u=localStorage.getItem(DI),c=JSON.parse(null!==u&&void 0!==u?u:"{}");console.log("liveQuizcompletedIds:",c);var l=null===(n=c[r])||void 0===n?void 0:n.find((function(e){return e===o.docId}));console.log("doneliveQuizLocally:",l),a||l||s.push(o)}})):console.log("Live Quiz has ended. Skipping."),console.log("Live quiz lessons",s),e.abrupt("return",s);case 15:throw e.prev=15,e.t0=e.catch(0),console.error("Error fetching live quiz lessons:",e.t0),new Error("Error fetching live quiz lessons");case 19:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLiveQuizRoomDoc",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oS(Jk(this._db,"".concat(LI.LIVE_QUIZ_ROOM,"/").concat(n)));case 3:if(!(r=e.sent).exists()){e.next=9;break}return console.log("inside if.."),i=r.data(),console.log("res",i),e.abrupt("return",i);case 9:e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(0),console.error("Error fetching LiveQuizRoom data:",e.t0),e.t0;case 15:return e.abrupt("return",void 0);case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCourseFromLesson",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._allCourses){e.next=4;break}return e.next=3,this.getAllCourses();case 3:this._allCourses=e.sent;case 4:return i=null===(r=this._allCourses)||void 0===r?void 0:r.find((function(e){return e.courseCode===n.cocosSubjectCode})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"liveQuizListener",value:function(e,n){var i=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a,s,u;e=(0,Ua.m9)(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof i[l]||Xk(i[l])||(c=i[l],l++);var f,d,h,p={includeMetadataChanges:c.includeMetadataChanges};if(Xk(i[l])){var v=i[l];i[l]=null===(a=v.next)||void 0===a?void 0:a.bind(v),i[l+1]=null===(s=v.error)||void 0===s?void 0:s.bind(v),i[l+2]=null===(u=v.complete)||void 0===u?void 0:u.bind(v)}if(e instanceof qk)d=zk(e.firestore,ex),h=bp(e._key.path),f={next:function(t){i[l]&&i[l](pS(d,e,t))},error:i[l+1],complete:i[l+2]};else{var m=zk(e,Gk);d=zk(m.firestore,ex),h=m._query;var g=new aS(d);f={next:function(e){i[l]&&i[l](new rS(d,g,m,e))},error:i[l+1],complete:i[l+2]},Dx(e._query)}return function(e,n,i,o){var a=new gk(o),s=new hw(n,a,i);return e.asyncQueue.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aw,t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=s,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),n)})))),function(){a.Dc(),e.asyncQueue.enqueueAndForget((0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=uw,t.next=3,Pk(e);case 3:return t.t1=t.sent,t.t2=s,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),n)}))))}}(rx(d),h,p,f)}(Jk(this._db,LI.LIVE_QUIZ_ROOM,e),(function(e){if(e.exists()){var t=e.data();t&&(t.docId=e.id),n(t)}else n(void 0)}));return i}},{key:"updateLiveQuiz",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o,a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fS(Jk(this._db,LI.LIVE_QUIZ_ROOM,n),(0,we.Z)({},"results.".concat(r),bS({score:a,timeSpent:o,id:i})));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:1571 ~ FirebaseApi ~ error:",e.t0);case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"joinLiveQuiz",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=PI(),o=NI(i,"joinLiveQuiz"),e.next=5,o({studentId:n,assignmentId:r});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:1573 ~ FirebaseApi ~ error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getAssignmentById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oS(Jk(this._db,LI.ASSIGNMENT,n));case 3:if((r=e.sent).exists){e.next=6;break}return e.abrupt("return");case 6:return(i=r.data()).docId=n,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseApi.ts:1600 ~ FirebaseApi ~ getAssignmentById ~ error:",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getBadgeById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocFromOffline(Jk(this._db,LI.BADGE,n));case 3:if((r=e.sent).exists){e.next=6;break}return e.abrupt("return");case 6:return console.log("if (!badgeDoc.exists) return;",r.data()),(i=r.data()).docId=n,e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ FirebaseApi ~ getBadgeById ~ error:",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getStickerById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocFromOffline(Jk(this._db,LI.STICKER,n));case 3:if(r=e.sent,console.log("const stickerDoc = await this.getDocFromOffline( ",r.exists()),r.exists()){e.next=7;break}return e.abrupt("return");case 7:return console.log("if (!stickerDoc.exists) return;",r.data()),i=r.data(),console.log("const data = stickerDoc.data() as Sticker;",i),i.docId=n,e.abrupt("return",i);case 14:e.prev=14,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ FirebaseApi ~ getStickerById ~ error:",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRewardsById",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getDocFromOffline(Jk(this._db,LI.REWARDS,n));case 3:if((r=e.sent).exists){e.next=6;break}return e.abrupt("return");case 6:return(i=r.data()).docId=n,e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ FirebaseApi ~ getRewardById ~ error:",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRewardAsSeen",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=e[t].map((function(e){return(0,Ra.Z)((0,Ra.Z)({},e),{},{seen:!0})})));return e},r=Jk(this._db,LI.USER,n),e.next=4,oS(r);case 4:if((i=e.sent)&&i.data()&&i.get("rewards")){e.next=7;break}return e.abrupt("return");case 7:if((o=i.data()).docId=i.id,a=o.rewards){e.next=12;break}return e.abrupt("return");case 12:return u=s(a),o.rewards=u,HI.setCurrentStudent(o),e.next=17,fS(r,{rewards:u});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.i||(e.i=new e),e.i}}]),e}();GI.i=void 0;var KI=function(){function e(){(0,_e.Z)(this,e),this.s=void 0}return(0,Ee.Z)(e,[{key:"googleSign",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.googleSign();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.getCurrentUser();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"currentUser",set:function(e){this.s.currentUser=e}},{key:"isUserLoggedIn",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.isUserLoggedIn();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"phoneNumberSignIn",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.phoneNumberSignIn(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"proceedWithVerificationCode",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.proceedWithVerificationCode(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.s.logOut();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(t){return e.i||(e.i=new e,e.i.s=t),e.i}}]),e}();KI.i=void 0;var QI=n(2987),JI=(n(4517),(0,wo.fo)("FirebaseAuthentication",{web:function(){return n.e(760).then(n.bind(n,1760)).then((function(e){return new e.FirebaseAuthenticationWeb}))}})),YI=(0,wo.fo)("App",{web:function(){return n.e(566).then(n.bind(n,1566)).then((function(e){return new e.AppWeb}))}}),XI=function(){function e(){var n=this;(0,_e.Z)(this,e),this._currentUser=void 0,this._db=nx(),this._auth=(0,QI.v0)(),this.updateUserFcm=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.getToken();case 2:if(i=e.sent,console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:360 ~ updateUserFcm= ~ token:",i),!i){e.next=7;break}return e.next=7,fS(Jk(n._db,"".concat(LI.USER,"/").concat(r)),{fcm:i,updatedAt:Df.now()});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return(0,Ee.Z)(e,[{key:"updateUserPreferenceLanguage",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._currentUser){e.next=13;break}if(!(n=localStorage.getItem(Wo))){e.next=13;break}return e.next=5,nO.getI().apiHandler.getAllLanguages();case 5:if(i=e.sent,!(o=null===(r=i.find((function(e){return e.code===n})))||void 0===r?void 0:r.docId)){e.next=13;break}if(!(s=Jk(this._db,"".concat(LI.LANGUAGE,"/").concat(o)))||(null===(a=this._currentUser.language)||void 0===a?void 0:a.id)==(null===s||void 0===s?void 0:s.id)){e.next=13;break}return this._currentUser.language=s,e.next=13,fS(Jk(this._db,"".concat(LI.USER,"/").concat(this._currentUser.uid)),{language:this._currentUser.language,updatedAt:Df.now()});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"googleSign",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YI.removeAllListeners();case 3:return e.next=5,JI.signInWithGoogle();case 5:return r=e.sent,i=QI.hJ.credential(null===(n=r.credential)||void 0===n?void 0:n.idToken),e.next=9,(0,QI.sB)(this._auth,i);case 9:if(o=r.user,a=r.additionalUserInfo,o){e.next=13;break}return e.abrupt("return",!1);case 13:if(s=Jk(this._db,"User",o.uid),null===a||void 0===a||!a.isNewUser){e.next=19;break}return e.next=17,this._createUserDoc(o);case 17:e.next=30;break;case 19:return e.next=21,oS(s);case 21:if((u=e.sent).exists){e.next=27;break}return e.next=25,this._createUserDoc(o);case 25:e.next=30;break;case 27:this._currentUser=u.data(),this._currentUser.docId=u.id,HI.subscribeToClassTopicForAllStudents(this._currentUser);case 30:return YI.addListener("appStateChange",HI.onAppStateChange),this.updateUserFcm(o.uid),e.next=34,HI.migrate();case 34:return null!==(c=e.sent)&&void 0!==c&&c.migrated&&this._currentUser&&c.newStudents&&(this._currentUser.users||(this._currentUser.users=[]),(l=this._currentUser.users).push.apply(l,(0,be.Z)(c.newStudents))),this.updateUserPreferenceLanguage(),e.abrupt("return",!0);case 40:return e.prev=40,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:60 ~ FirebaseAuth ~ googleSign ~ error:",e.t0),e.abrupt("return",!1);case 44:case"end":return e.stop()}}),e,this,[[0,40]])})));return function(){return e.apply(this,arguments)}}()},{key:"_createUserDoc",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Jk(this._db,"User",n.uid),a=new WI(null!==(r=n.email)&&void 0!==r?r:n.phoneNumber,[],null!==(i=n.displayName)&&void 0!==i?i:"",wS.PARENT,n.uid,[],void 0,n.photoUrl,void 0,void 0,void 0,void 0,void 0,Df.now(),Df.now(),n.uid,0,0),e.next=4,lS(o,a.toJson());case 4:return this._currentUser=a,this._currentUser.docId=n.uid,HI.logEvent(fa.USER_PROFILE,{user_id:a.uid,user_name:a.name,user_username:a.username,phone_number:a.username,user_type:wS.PARENT,action_type:ua.CREATE}),e.abrupt("return",this._currentUser);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentUser",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!this._currentUser){e.next=3;break}return e.abrupt("return",this._currentUser);case 3:if(n=this._auth.currentUser,console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:153 ~ currentUser:",n),n){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,oS(Jk(this._db,"User",n.uid));case 9:return r=e.sent,this.updateUserPreferenceLanguage(),this._currentUser=r.data()||r,console.log("currentUser in if (!currentUser) {",r,this._currentUser),this._currentUser.docId=r.id,e.abrupt("return",this._currentUser);case 17:e.prev=17,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:175 ~ error:",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"currentUser",set:function(e){this._currentUser=e}},{key:"phoneNumberSignIn",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,i){var o,a,s,u,c=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("onclick phone Number",n,wo.dV.isNativePlatform()),!wo.dV.isNativePlatform()){e.next=21;break}return e.prev=3,console.log("if (Capacitor.isNativePlatform()) {",n),s=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(i,o){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=setTimeout((function(){o("Timed out waiting for SMS")}),6e4),e.next=4,JI.addListener("phoneCodeSent",function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("phoneCodeSent event ",JSON.stringify(n)),clearTimeout(a),i(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.next=6,JI.addListener("phoneVerificationFailed",function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("FirebaseAuth.ts:196 ~ phoneVerificationFailed event ",JSON.stringify(n)),o(n.message);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.next=8,JI.addListener("phoneVerificationCompleted",function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("`phoneVerificationCompleted` listener to be notified if phone verification could be finished automatically"),!n.user){e.next=19;break}return console.log("instant verification ",JSON.stringify(n)),r=n.user,console.log("res user",r),c.updateUserFcm(n.user.uid),a=Jk(c._db,"User",r.uid),console.log("userRef",a),e.next=10,oS(a);case 10:return s=e.sent,console.log("const tempUserDoc",JSON.stringify(s)),console.log("return result",JSON.stringify({user:r,isUserExist:s.exists()})),s.exists()&&s.data()&&((u=s.data()).docId=s.id,HI.subscribeToClassTopicForAllStudents(u)),e.next=16,HI.migrate();case 16:i(n),e.next=21;break;case 19:console.log("instant verification"),o(n);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.next=10,JI.signInWithPhoneNumber({phoneNumber:n});case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:231 ~ FirebaseAuth ~ phoneNumberSignin ~ error:",e.t0),e.t0;case 16:console.log("signInWithPhoneNumber exicuted ");case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,s();case 8:return a=e.sent,console.log("result = await signInWithPhoneNumber();",a),YI.addListener("appStateChange",HI.onAppStateChange),console.log("result = await signInWithPhoneNumber();",a),e.abrupt("return",a);case 15:throw e.prev=15,e.t0=e.catch(3),console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:167 ~ FirebaseAuth ~ phoneNumberSignin ~ error:",e.t0),e.t0;case 19:e.next=28;break;case 21:return e.next=23,(0,QI.$g)(this._auth,n,i);case 23:return a=e.sent,console.log("else result ",a),o=null===(u=a)||void 0===u?void 0:u.verificationId,console.log("verificationId ",o),e.abrupt("return",a);case 28:e.next=34;break;case 30:throw e.prev=30,e.t1=e.catch(0),console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:167 ~ FirebaseAuth ~ phoneNumberSignin ~ error:",e.t1),e.t1;case 34:case"end":return e.stop()}}),e,this,[[0,30],[3,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"proceedWithVerificationCode",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("verificationCode",r),r&&n&&!(r.length<6)){e.next=4;break}return e.abrupt("return");case 4:return console.log("result.verificationId!,",JSON.stringify(n.verificationId),JSON.stringify(r)),i=QI.RO.credential(n.verificationId,r),e.next=8,(0,QI.v0)();case 8:return o=e.sent,console.log("credential",JSON.stringify(o),JSON.stringify(i)),e.next=12,(0,QI.sB)(o,i);case 12:return a=e.sent,e.next=15,JI.getCurrentUser();case 15:if(s=e.sent,console.log("line ni 316 before FirebaseAuthentication.getCurrentUser()",JSON.stringify(s.user)),console.log("line ni 320 before JSON.stringify(auth.currentUser)",JSON.stringify(o.currentUser)),console.log("signInWithCredential Success!",JSON.stringify(i)),a.user){e.next=21;break}throw Error("Verification Failed");case 21:return u=a.user,console.log("res user",u),this.updateUserFcm(a.user.uid),c=Jk(this._db,"User",u.uid),console.log("userRef",c),e.next=28,oS(c);case 28:return l=e.sent,console.log("const tempUserDoc",JSON.stringify(l)),console.log("return result",JSON.stringify({user:u,isUserExist:l.exists()})),l.exists()&&l.data()&&((f=l.data()).docId=l.id,HI.subscribeToClassTopicForAllStudents(f)),e.next=34,HI.migrate();case 34:return e.abrupt("return",{user:u,isUserExist:l.exists()});case 37:throw e.prev=37,e.t0=e.catch(0),console.log("signInWithCredential Failure!",e.t0),e.t0;case 41:case"end":return e.stop()}}),e,this,[[0,37]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createPhoneAuthUser",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}return e.abrupt("return",!1);case 3:return r=Jk(this._db,"User",n.uid),console.log("userRef",r),e.next=7,oS(r);case 7:if(i=e.sent,console.log("tempUserDoc",i,i.exists(),!i.exists()),i.exists()){e.next=16;break}return e.next=12,this._createUserDoc(n);case 12:o=e.sent,console.log("created user",o),e.next=19;break;case 16:this._currentUser=i.data(),this._currentUser.docId=i.id,HI.subscribeToClassTopicForAllStudents(this._currentUser);case 19:return e.next=21,HI.migrate();case 21:return null!==(a=e.sent)&&void 0!==a&&a.migrated&&this._currentUser&&a.newStudents&&(this._currentUser.users||(this._currentUser.users=[]),(s=this._currentUser.users).push.apply(s,(0,be.Z)(a.newStudents))),this.updateUserPreferenceLanguage(),this.updateUserFcm(n.uid),e.abrupt("return",!0);case 28:return e.prev=28,e.t0=e.catch(0),console.log("User Creation Failed!",e.t0),e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e,this,[[0,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isUserLoggedIn",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("isUserLoggedIn entred"),e.next=3,this.getCurrentUser();case 3:if(n=e.sent,console.log("isUserLoggedIn user",n,!!n),!n){e.next=7;break}return e.abrupt("return",!0);case 7:if(console.log("isUserLoggedIn !user && Capacitor.isNativePlatform()",!n,!n&&wo.dV.isNativePlatform()),r=localStorage.getItem(la),console.log("res...",r),r){e.next=12;break}return e.abrupt("return",!1);case 12:i=0;case 13:if(!(i<1e3)){e.next=28;break}return e.next=16,new Promise((function(e){return setTimeout(e,100)}));case 16:return e.next=18,this.getCurrentUser();case 18:if(o=e.sent,console.log("\ud83d\ude80 ~ file: FirebaseAuth.ts:146 ~ FirebaseAuth ~ isUserLoggedIn ~ user:",o),!o){e.next=25;break}return e.next=23,tI.setUserId({userId:o.uid});case 23:return HI.setUserProperties(o),e.abrupt("return",!0);case 25:i++,e.next=13;break;case 28:if(localStorage.removeItem(la),n){e.next=31;break}return e.abrupt("return",!1);case 31:return e.abrupt("return",!1);case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JI.signOut();case 2:return e.next=4,this._auth.signOut();case 4:this._currentUser=void 0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.i||(e.i=new e),e.i}}]),e}();XI.i=void 0;var eO=function(){function e(){(0,_e.Z)(this,e)}return(0,Ee.Z)(e,[{key:"logOut",value:function(){throw new Error("Method not implemented.")}},{key:"isUserLoggedIn",value:function(){throw new Error("Method not implemented.")}},{key:"currentUser",set:function(e){throw new Error("Method not implemented.")}},{key:"googleSign",value:function(){throw new Error("Method not implemented.")}},{key:"phoneNumberSignIn",value:function(e,t){throw new Error("Method not implemented.")}},{key:"proceedWithVerificationCode",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getCurrentUser",value:function(){throw new Error("Method not implemented.")}}],[{key:"getInstance",value:function(){return e.i||(e.i=new e),e.i}}]),e}();eO.i=void 0;var tO=function(e){return e[e.ONEROSTER=0]="ONEROSTER",e[e.FIREBASE=1]="FIREBASE",e}({}),nO=function(){function e(){(0,_e.Z)(this,e),this._apiHandler=void 0,this._authHandler=void 0,this._mode=void 0}return(0,Ee.Z)(e,[{key:"initializeOneroster",value:function(){this._apiHandler=Aa.getInstance(R_.getInstance()),this._authHandler=KI.getInstance(eO.getInstance())}},{key:"initializeFireBase",value:function(){this._apiHandler=Aa.getInstance(GI.getInstance()),this._authHandler=KI.getInstance(XI.getInstance())}},{key:"apiHandler",get:function(){return this._apiHandler}},{key:"authHandler",get:function(){return this._authHandler}},{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e}}],[{key:"getInstance",value:function(t){switch(e.instance||(e.instance=new e,e.instance.mode=t),t){case tO.FIREBASE:this.instance.initializeFireBase();break;case tO.ONEROSTER:this.instance.initializeOneroster();break;default:this.instance.initializeFireBase()}return e.instance}},{key:"getI",value:function(){return e.instance}}]),e}();nO.instance=void 0;var rO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},iO=s.createContext&&s.createContext(rO),oO=function(){return oO=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oO.apply(this,arguments)},aO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function sO(e){return e&&e.map((function(e,t){return s.createElement(e.tag,oO({key:t},e.attr),sO(e.child))}))}function uO(e){return function(t){return s.createElement(cO,oO({attr:oO({},e.attr)},t),sO(e.child))}}function cO(e){var t=function(t){var n,r=e.attr,i=e.size,o=e.title,a=aO(e,["attr","size","title"]),u=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),s.createElement("svg",oO({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:oO(oO({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&s.createElement("title",null,o),e.children)};return void 0!==iO?s.createElement(iO.Consumer,null,(function(e){return t(e)})):t(rO)}function lO(e){return uO({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}},{tag:"path",attr:{d:"M679.7 201c-73.1 0-136.5 40.8-167.7 100.4C480.8 241.8 417.4 201 344.3 201c-104 0-188.3 82.6-188.3 184.5 0 201.2 356 429.3 356 429.3s356-228.1 356-429.3C868 283.6 783.7 201 679.7 201z"}}]})(e)}var fO=function(e){var t=e.isLoved,n=e.hasChapterTitle;return(0,Ca.jsx)("div",{className:"lovedicon",children:t&&(0,Ca.jsx)("div",{className:"fav-icon ".concat(n?"with-chapter-title":""),children:(0,Ca.jsx)(lO,{className:"fav-icon-image",id:"fav-icon-image"})})})};var dO=function(e){var n=(0,s.useState)(),o=(0,i.Z)(n,2),a=o[0],u=o[1];function c(){return(c=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wo.dV.isNativePlatform()){e.next=2;break}return e.abrupt("return",n);case 2:return e.prev=2,e.next=5,xS.readFile({path:pa+"/"+n.replaceAll("/","-"),directory:kS.tP.Cache});case 5:return r=e.sent,e.abrupt("return","data:image/png;base64,"+r.data);case 9:return e.prev=9,e.t0=e.catch(2),e.prev=11,e.next=14,wo.kv.get({url:n,responseType:"blob"});case 14:return i=e.sent,e.next=17,i.data;case 17:return o=e.sent,e.next=20,xS.writeFile({path:pa+"/"+n.replaceAll("/","-"),data:o,directory:kS.tP.Cache});case 20:return e.abrupt("return","data:image/png;base64,"+o);case 23:return e.prev=23,e.t1=e.catch(11),console.log("\ud83d\ude80 ~ file: util.ts:698 ~ getCachedImage ~ error:",JSON.stringify(e.t1)),e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,null,[[2,9],[11,23]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){e.src&&function(e){return c.apply(this,arguments)}(e.src).then((function(e){u(e)})).catch((function(t){console.log("\ud83d\ude80 ~ file: CachedImage.tsx:14 ~ useEffect ~ error:",JSON.stringify(t)),u(e.src)}))}),[e]),a?(0,Ca.jsx)("img",(0,Ra.Z)((0,Ra.Z)({loading:"lazy"},e),{},{src:a,alt:a})):(0,Ca.jsx)("div",{})},hO=function(e){var t=e.localSrc,n=e.defaultSrc,r=e.webSrc,o=e.imageWidth,a=void 0===o?"100%":o,u=e.imageHeight,c=void 0===u?"100%":u,l=e.webImageWidth,f=void 0===l?"100%":l,d=e.webImageHeight,h=void 0===d?"100%":d,p=function(e){return e[e.Local=0]="Local",e[e.Web=1]="Web",e[e.Default=2]="Default",e}({}),v=(0,s.useState)(p.Local),m=(0,i.Z)(v,2),g=m[0],y=m[1];return(0,Ca.jsx)("div",{children:g===p.Local?(0,Ca.jsx)("img",{style:{width:a,height:c,display:"none"},src:t,alt:"",onLoad:function(e){e.currentTarget.style.display="block"},onError:function(){y(p.Web)}}):void 0!==r&&(null!==r&&void 0!==r?r:n)&&g===p.Web?(0,Ca.jsx)(dO,{style:{width:f,height:h},src:r,alt:"",onError:function(){y(p.Default)}}):(0,Ca.jsx)("img",{style:{width:a,height:c},src:n,alt:""})})};function pO(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=pO(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var vO=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=pO(e))&&(r&&(r+=" "),r+=t);return r};function mO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}var gO=0;var yO=u["useId".toString()];function bO(e){if(void 0!==yO){var t=yO();return null!=e?e:t}return function(e){var t=s.useState(e),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=e||r;return s.useEffect((function(){null==r&&o("mui-".concat(gO+=1))}),[r]),a}(e)}function wO(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function kO(e){if("string"!==typeof e)throw new Error(wO(7));return e.charAt(0).toUpperCase()+e.slice(1)}var xO=kO;function SO(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function _O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){SO(t,e)}))}}),t)}function EO(e){return e&&e.ownerDocument||document}var CO="undefined"!==typeof window?s.useLayoutEffect:s.useEffect;function IO(e){var t=s.useRef(e);return CO((function(){t.current=e})),s.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}function OO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var ZO=s.forwardRef((function(e,t){var n=e.children,r=e.container,o=e.disablePortal,a=void 0!==o&&o,u=s.useState(null),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=_O(s.isValidElement(n)?n.ref:null,t);if(CO((function(){a||f(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,a]),CO((function(){if(l&&!a)return SO(t,l),function(){SO(t,null)}}),[t,l,a]),a){if(s.isValidElement(n)){var h={ref:d};return s.cloneElement(n,h)}return(0,Ca.jsx)(s.Fragment,{children:n})}return(0,Ca.jsx)(s.Fragment,{children:l?xt.createPortal(n,l):l})}));var TO=ZO;function AO(e){return EO(e).defaultView||window}function PO(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function RO(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function NO(e){return parseInt(AO(e).getComputedStyle(e).paddingRight,10)||0}function jO(e,t,n,r,i){var o=[t,n].concat((0,be.Z)(r));[].forEach.call(e.children,(function(e){var t=-1===o.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&RO(e,i)}))}function LO(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function DO(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=EO(e);return t.body===e?AO(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=PO(EO(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(NO(r)+i,"px");var o=EO(r).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(NO(e)+i,"px")}))}var a;if(r.parentNode instanceof DocumentFragment)a=EO(r).body;else{var s=r.parentElement,u=AO(r);a="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===u.getComputedStyle(s).overflowY?s:r}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var MO=function(){function e(){(0,_e.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,Ee.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&RO(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);jO(t,e.mount,e.modalRef,r,!0);var i=LO(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=LO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=DO(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=LO(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&RO(e.modalRef,t),jO(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var o=i.modals[i.modals.length-1];o.modalRef&&RO(o.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),FO=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function BO(e){var t=[],n=[];return Array.from(e.querySelectorAll(FO)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function UO(){return!0}var zO=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,a=e.disableRestoreFocus,u=void 0!==a&&a,c=e.getTabbable,l=void 0===c?BO:c,f=e.isEnabled,d=void 0===f?UO:f,h=e.open,p=s.useRef(!1),v=s.useRef(null),m=s.useRef(null),g=s.useRef(null),y=s.useRef(null),b=s.useRef(!1),w=s.useRef(null),k=_O(t.ref,w),x=s.useRef(null);s.useEffect((function(){h&&w.current&&(b.current=!r)}),[r,h]),s.useEffect((function(){if(h&&w.current){var e=EO(w.current);return w.current.contains(e.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex","-1"),b.current&&w.current.focus()),function(){u||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[h]),s.useEffect((function(){if(h&&w.current){var e=EO(w.current),t=function(t){var n=w.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(w.current)),r.length>0){var i,a,s=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),u=r[0],c=r[r.length-1];"string"!==typeof u&&"string"!==typeof c&&(s?c.focus():u.focus())}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===w.current&&t.shiftKey&&(p.current=!0,m.current&&m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&t(null)}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,o,u,d,h,l]);var S=function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0};return(0,Ca.jsxs)(s.Fragment,{children:[(0,Ca.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:v,"data-testid":"sentinelStart"}),s.cloneElement(t,{ref:k,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0,y.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,Ca.jsx)("div",{tabIndex:h?0:-1,onFocus:S,ref:m,"data-testid":"sentinelEnd"})]})},VO=function(e){return e},HO=function(){var e=VO;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=VO}}}(),WO={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function $O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=WO[t];return r?"".concat(n,"-").concat(r):"".concat(HO.generate(e),"-").concat(t)}function qO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=$O(e,t,n)})),r}function GO(e){return $O("MuiModal",e)}qO("MuiModal",["root","hidden","backdrop"]);function KO(e){return"string"===typeof e}function QO(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t}function JO(e){var t=e.getSlotProps,n=e.additionalProps,r=e.externalSlotProps,i=e.externalForwardedProps,o=e.className;if(!t){var a=vO(null==i?void 0:i.className,null==r?void 0:r.className,o,null==n?void 0:n.className),s=f({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),u=f({},n,i,r);return a.length>0&&(u.className=a),Object.keys(s).length>0&&(u.style=s),{props:u,internalRef:void 0}}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n}(f({},i,r)),l=QO(r),d=QO(i),h=t(c),p=vO(null==h?void 0:h.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),v=f({},null==h?void 0:h.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),m=f({},h,n,d,l);return p.length>0&&(m.className=p),Object.keys(v).length>0&&(m.style=v),{props:m,internalRef:h.ref}}function YO(e,t){return"function"===typeof e?e(t):e}var XO=["elementType","externalSlotProps","ownerState"];function eZ(e){var t,n=e.elementType,r=e.externalSlotProps,i=e.ownerState,o=z(e,XO),a=YO(r,i),s=JO(f({},o,{externalSlotProps:a})),u=function(e,t,n){return void 0===e||KO(e)?t:f({},t,{ownerState:f({},t.ownerState,n)})}(n,f({},s.props,{ref:_O(s.internalRef,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref)}),i);return u}var tZ={disableDefaultClasses:!1},nZ=s.createContext(tZ);var rZ=["children","closeAfterTransition","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],iZ=function(e){var t=e.open,n=e.exited;return mO({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},function(e){var t=s.useContext(nZ).disableDefaultClasses;return function(n){return t?"":e(n)}}(GO))};var oZ=new MO,aZ=s.forwardRef((function(e,t){var n,r,o=e.children,a=e.closeAfterTransition,u=void 0!==a&&a,c=e.container,l=e.disableAutoFocus,d=void 0!==l&&l,h=e.disableEnforceFocus,p=void 0!==h&&h,v=e.disableEscapeKeyDown,m=void 0!==v&&v,g=e.disablePortal,y=void 0!==g&&g,b=e.disableRestoreFocus,w=void 0!==b&&b,k=e.disableScrollLock,x=void 0!==k&&k,S=e.hideBackdrop,_=void 0!==S&&S,E=e.keepMounted,C=void 0!==E&&E,I=e.manager,O=void 0===I?oZ:I,Z=e.onBackdropClick,T=e.onClose,A=e.onKeyDown,P=e.open,R=e.onTransitionEnter,N=e.onTransitionExited,j=e.slotProps,L=void 0===j?{}:j,D=e.slots,M=void 0===D?{}:D,F=z(e,rZ),B=O,U=s.useState(!P),V=(0,i.Z)(U,2),H=V[0],W=V[1],$=s.useRef({}),q=s.useRef(null),G=s.useRef(null),K=_O(G,t),Q=function(e){return!!e&&e.props.hasOwnProperty("in")}(o),J=null==(n=e["aria-hidden"])||n,Y=function(){return $.current.modalRef=G.current,$.current.mountNode=q.current,$.current},X=function(){B.mount(Y(),{disableScrollLock:x}),G.current&&(G.current.scrollTop=0)},ee=IO((function(){var e=function(e){return"function"===typeof e?e():e}(c)||EO(q.current).body;B.add(Y(),e),G.current&&X()})),te=s.useCallback((function(){return B.isTopModal(Y())}),[B]),ne=IO((function(e){q.current=e,e&&G.current&&(P&&te()?X():RO(G.current,J))})),re=s.useCallback((function(){B.remove(Y(),J)}),[B,J]);s.useEffect((function(){return function(){re()}}),[re]),s.useEffect((function(){P?ee():Q&&u||re()}),[P,re,Q,u,ee]);var ie=f({},e,{closeAfterTransition:u,disableAutoFocus:d,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:y,disableRestoreFocus:w,disableScrollLock:x,exited:H,hideBackdrop:_,keepMounted:C}),oe=iZ(ie),ae={};void 0===o.props.tabIndex&&(ae.tabIndex="-1"),Q&&(ae.onEnter=OO((function(){W(!1),R&&R()}),o.props.onEnter),ae.onExited=OO((function(){W(!0),N&&N(),u&&re()}),o.props.onExited));var se=null!=(r=M.root)?r:"div",ue=eZ({elementType:se,externalSlotProps:L.root,externalForwardedProps:F,additionalProps:{ref:K,role:"presentation",onKeyDown:function(e){A&&A(e),"Escape"===e.key&&te()&&(m||(e.stopPropagation(),T&&T(e,"escapeKeyDown")))}},className:oe.root,ownerState:ie}),ce=M.backdrop,le=eZ({elementType:ce,externalSlotProps:L.backdrop,additionalProps:{"aria-hidden":!0,onClick:function(e){e.target===e.currentTarget&&(Z&&Z(e),T&&T(e,"backdropClick"))},open:P},className:oe.backdrop,ownerState:ie});return C||P||Q&&!H?(0,Ca.jsx)(TO,{ref:ne,container:c,disablePortal:y,children:(0,Ca.jsxs)(se,f({},ue,{children:[!_&&ce?(0,Ca.jsx)(ce,f({},le)):null,(0,Ca.jsx)(zO,{disableEnforceFocus:p,disableAutoFocus:d,disableRestoreFocus:w,isEnabled:te,open:P,children:s.cloneElement(o,ae)})]}))}):null})),sZ=aZ;function uZ(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var cZ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lZ=uZ((function(e){return cZ.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var fZ=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),dZ=Math.abs,hZ=String.fromCharCode,pZ=Object.assign;function vZ(e){return e.trim()}function mZ(e,t,n){return e.replace(t,n)}function gZ(e,t){return e.indexOf(t)}function yZ(e,t){return 0|e.charCodeAt(t)}function bZ(e,t,n){return e.slice(t,n)}function wZ(e){return e.length}function kZ(e){return e.length}function xZ(e,t){return t.push(e),e}var SZ=1,_Z=1,EZ=0,CZ=0,IZ=0,OZ="";function ZZ(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:SZ,column:_Z,length:a,return:""}}function TZ(e,t){return pZ(ZZ("",null,null,"",null,null,0),e,{length:-e.length},t)}function AZ(){return IZ=CZ>0?yZ(OZ,--CZ):0,_Z--,10===IZ&&(_Z=1,SZ--),IZ}function PZ(){return IZ=CZ<EZ?yZ(OZ,CZ++):0,_Z++,10===IZ&&(_Z=1,SZ++),IZ}function RZ(){return yZ(OZ,CZ)}function NZ(){return CZ}function jZ(e,t){return bZ(OZ,e,t)}function LZ(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DZ(e){return SZ=_Z=1,EZ=wZ(OZ=e),CZ=0,[]}function MZ(e){return OZ="",e}function FZ(e){return vZ(jZ(CZ-1,zZ(91===e?e+2:40===e?e+1:e)))}function BZ(e){for(;(IZ=RZ())&&IZ<33;)PZ();return LZ(e)>2||LZ(IZ)>3?"":" "}function UZ(e,t){for(;--t&&PZ()&&!(IZ<48||IZ>102||IZ>57&&IZ<65||IZ>70&&IZ<97););return jZ(e,NZ()+(t<6&&32==RZ()&&32==PZ()))}function zZ(e){for(;PZ();)switch(IZ){case e:return CZ;case 34:case 39:34!==e&&39!==e&&zZ(IZ);break;case 40:41===e&&zZ(e);break;case 92:PZ()}return CZ}function VZ(e,t){for(;PZ()&&e+IZ!==57&&(e+IZ!==84||47!==RZ()););return"/*"+jZ(t,CZ-1)+"*"+hZ(47===e?e:PZ())}function HZ(e){for(;!LZ(RZ());)PZ();return jZ(e,CZ)}var WZ="-ms-",$Z="-moz-",qZ="-webkit-",GZ="comm",KZ="rule",QZ="decl",JZ="@keyframes";function YZ(e,t){for(var n="",r=kZ(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function XZ(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case QZ:return e.return=e.return||e.value;case GZ:return"";case JZ:return e.return=e.value+"{"+YZ(e.children,r)+"}";case KZ:e.value=e.props.join(",")}return wZ(n=YZ(e.children,r))?e.return=e.value+"{"+n+"}":""}function eT(e){return MZ(tT("",null,null,null,[""],e=DZ(e),0,[0],e))}function tT(e,t,n,r,i,o,a,s,u){for(var c=0,l=0,f=a,d=0,h=0,p=0,v=1,m=1,g=1,y=0,b="",w=i,k=o,x=r,S=b;m;)switch(p=y,y=PZ()){case 40:if(108!=p&&58==yZ(S,f-1)){-1!=gZ(S+=mZ(FZ(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:S+=FZ(y);break;case 9:case 10:case 13:case 32:S+=BZ(p);break;case 92:S+=UZ(NZ()-1,7);continue;case 47:switch(RZ()){case 42:case 47:xZ(rT(VZ(PZ(),NZ()),t,n),u);break;default:S+="/"}break;case 123*v:s[c++]=wZ(S)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:-1==g&&(S=mZ(S,/\f/g,"")),h>0&&wZ(S)-f&&xZ(h>32?iT(S+";",r,n,f-1):iT(mZ(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(xZ(x=nT(S,t,n,c,l,i,s,b,w=[],k=[],f),o),123===y)if(0===l)tT(S,t,x,x,w,o,f,s,k);else switch(99===d&&110===yZ(S,3)?100:d){case 100:case 108:case 109:case 115:tT(e,x,x,r&&xZ(nT(e,x,x,0,0,i,s,b,i,w=[],f),k),i,k,f,s,r?w:k);break;default:tT(S,x,x,x,[""],k,0,s,k)}}c=l=h=0,v=g=1,b=S="",f=a;break;case 58:f=1+wZ(S),h=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==AZ())continue;switch(S+=hZ(y),y*v){case 38:g=l>0?1:(S+="\f",-1);break;case 44:s[c++]=(wZ(S)-1)*g,g=1;break;case 64:45===RZ()&&(S+=FZ(PZ())),d=RZ(),l=f=wZ(b=S+=HZ(NZ())),y++;break;case 45:45===p&&2==wZ(S)&&(v=0)}}return o}function nT(e,t,n,r,i,o,a,s,u,c,l){for(var f=i-1,d=0===i?o:[""],h=kZ(d),p=0,v=0,m=0;p<r;++p)for(var g=0,y=bZ(e,f+1,f=dZ(v=a[p])),b=e;g<h;++g)(b=vZ(v>0?d[g]+" "+y:mZ(y,/&\f/g,d[g])))&&(u[m++]=b);return ZZ(e,t,n,0===i?KZ:s,u,c,l)}function rT(e,t,n){return ZZ(e,t,n,GZ,hZ(IZ),bZ(e,2,-2),0)}function iT(e,t,n,r){return ZZ(e,t,n,QZ,bZ(e,0,r),bZ(e,r+1,-1),r)}var oT=function(e,t,n){for(var r=0,i=0;r=i,i=RZ(),38===r&&12===i&&(t[n]=1),!LZ(i);)PZ();return jZ(e,CZ)},aT=function(e,t){return MZ(function(e,t){var n=-1,r=44;do{switch(LZ(r)){case 0:38===r&&12===RZ()&&(t[n]=1),e[n]+=oT(CZ-1,t,n);break;case 2:e[n]+=FZ(r);break;case 4:if(44===r){e[++n]=58===RZ()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=hZ(r)}}while(r=PZ());return e}(DZ(e),t))},sT=new WeakMap,uT=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||sT.get(n))&&!r){sT.set(e,!0);for(var i=[],o=aT(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},cT=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function lT(e,t){switch(function(e,t){return 45^yZ(e,0)?(((t<<2^yZ(e,0))<<2^yZ(e,1))<<2^yZ(e,2))<<2^yZ(e,3):0}(e,t)){case 5103:return qZ+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qZ+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qZ+e+$Z+e+WZ+e+e;case 6828:case 4268:return qZ+e+WZ+e+e;case 6165:return qZ+e+WZ+"flex-"+e+e;case 5187:return qZ+e+mZ(e,/(\w+).+(:[^]+)/,qZ+"box-$1$2"+WZ+"flex-$1$2")+e;case 5443:return qZ+e+WZ+"flex-item-"+mZ(e,/flex-|-self/,"")+e;case 4675:return qZ+e+WZ+"flex-line-pack"+mZ(e,/align-content|flex-|-self/,"")+e;case 5548:return qZ+e+WZ+mZ(e,"shrink","negative")+e;case 5292:return qZ+e+WZ+mZ(e,"basis","preferred-size")+e;case 6060:return qZ+"box-"+mZ(e,"-grow","")+qZ+e+WZ+mZ(e,"grow","positive")+e;case 4554:return qZ+mZ(e,/([^-])(transform)/g,"$1"+qZ+"$2")+e;case 6187:return mZ(mZ(mZ(e,/(zoom-|grab)/,qZ+"$1"),/(image-set)/,qZ+"$1"),e,"")+e;case 5495:case 3959:return mZ(e,/(image-set\([^]*)/,qZ+"$1$`$1");case 4968:return mZ(mZ(e,/(.+:)(flex-)?(.*)/,qZ+"box-pack:$3"+WZ+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qZ+e+e;case 4095:case 3583:case 4068:case 2532:return mZ(e,/(.+)-inline(.+)/,qZ+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wZ(e)-1-t>6)switch(yZ(e,t+1)){case 109:if(45!==yZ(e,t+4))break;case 102:return mZ(e,/(.+:)(.+)-([^]+)/,"$1"+qZ+"$2-$3$1"+$Z+(108==yZ(e,t+3)?"$3":"$2-$3"))+e;case 115:return~gZ(e,"stretch")?lT(mZ(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==yZ(e,t+1))break;case 6444:switch(yZ(e,wZ(e)-3-(~gZ(e,"!important")&&10))){case 107:return mZ(e,":",":"+qZ)+e;case 101:return mZ(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qZ+(45===yZ(e,14)?"inline-":"")+"box$3$1"+qZ+"$2$3$1"+WZ+"$2box$3")+e}break;case 5936:switch(yZ(e,t+11)){case 114:return qZ+e+WZ+mZ(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qZ+e+WZ+mZ(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qZ+e+WZ+mZ(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qZ+e+WZ+e+e}return e}var fT=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case QZ:e.return=lT(e.value,e.length);break;case JZ:return YZ([TZ(e,{value:mZ(e.value,"@","@"+qZ)})],r);case KZ:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return YZ([TZ(e,{props:[mZ(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return YZ([TZ(e,{props:[mZ(t,/:(plac\w+)/,":"+qZ+"input-$1")]}),TZ(e,{props:[mZ(t,/:(plac\w+)/,":-moz-$1")]}),TZ(e,{props:[mZ(t,/:(plac\w+)/,WZ+"input-$1")]})],r)}return""}))}}],dT=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||fT;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var u,c,l=[XZ,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=kZ(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([uT,cT].concat(r,l));o=function(e,t,n,r){u=n,function(e){YZ(eT(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new fZ({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return d.sheet.hydrate(s),d};var hT={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},pT=/[A-Z]|^ms/g,vT=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mT=function(e){return 45===e.charCodeAt(1)},gT=function(e){return null!=e&&"boolean"!==typeof e},yT=uZ((function(e){return mT(e)?e:e.replace(pT,"-$&").toLowerCase()})),bT=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(vT,(function(e,t,n){return kT={name:t,styles:n,next:kT},t}))}return 1===hT[e]||mT(e)||"number"!==typeof t||0===t?t:t+"px"};function wT(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return kT={name:n.name,styles:n.styles,next:kT},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)kT={name:r.name,styles:r.styles,next:kT},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=wT(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":gT(a)&&(r+=yT(o)+":"+bT(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=wT(e,t,a);switch(o){case"animation":case"animationName":r+=yT(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)gT(a[u])&&(r+=yT(o)+":"+bT(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=kT,o=n(e);return kT=i,wT(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var kT,xT=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var ST=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";kT=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=wT(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=wT(n,t,e[a]),r&&(i+=o[a]);xT.lastIndex=0;for(var s,u="";null!==(s=xT.exec(i));)u+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:c,styles:i,next:kT}},_T=!!u.useInsertionEffect&&u.useInsertionEffect,ET=_T||function(e){return e()},CT=_T||s.useLayoutEffect,IT=s.createContext("undefined"!==typeof HTMLElement?dT({key:"css"}):null);IT.Provider;var OT=function(e){return(0,s.forwardRef)((function(t,n){var r=(0,s.useContext)(IT);return e(t,r,n)}))};var ZT=s.createContext({});var TT=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},AT=function(e,t,n){TT(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}},PT=lZ,RT=function(e){return"theme"!==e},NT=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?PT:RT},jT=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},LT=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return TT(t,n,r),ET((function(){return AT(t,n,r)})),null},DT=function e(t,n){var r,i,o=t.__emotion_real===t,a=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=jT(t,n,o),c=u||NT(a),l=!c("as");return function(){var d=arguments,h=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{0,h.push(d[0][0]);for(var p=d.length,v=1;v<p;v++)h.push(d[v],d[0][v])}var m=OT((function(e,t,n){var r=l&&e.as||a,o="",f=[],d=e;if(null==e.theme){for(var p in d={},e)d[p]=e[p];d.theme=s.useContext(ZT)}"string"===typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=ST(h.concat(f),t.registered,d);o+=t.key+"-"+v.name,void 0!==i&&(o+=" "+i);var m=l&&void 0===u?NT(r):c,g={};for(var y in e)l&&"as"===y||m(y)&&(g[y]=e[y]);return g.className=o,g.ref=n,s.createElement(s.Fragment,null,s.createElement(LT,{cache:t,serialized:v,isStringTag:"string"===typeof r}),s.createElement(r,g))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof a?a:a.displayName||a.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=a,m.__emotion_styles=h,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,f({},n,r,{shouldForwardProp:jT(m,r,!0)})).apply(void 0,h)},m}}.bind();function MT(e,t){return DT(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){DT[e]=DT(e)}));function FT(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function BT(e){if(!FT(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=BT(e[n])})),t}function UT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,Ra.Z)({},e):e;return FT(e)&&FT(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(FT(t[i])&&i in e&&FT(e[i])?r[i]=UT(e[i],t[i],n):n.clone?r[i]=FT(t[i])?BT(t[i]):t[i]:r[i]=t[i])})),r}var zT=["values","unit","step"],VT=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return f({},e,(0,we.Z)({},t.key,t.val))}),{})};var HT={borderRadius:4},WT={xs:0,sm:600,md:900,lg:1200,xl:1536},$T={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(WT[e],"px)")}};function qT(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||$T;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===typeof t){var o=r.breakpoints||$T;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(o.values||WT).indexOf(r)){e[o.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function GT(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function KT(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function QT(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function JT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:QT(e,n)||i,t&&(r=t(r,i,e)),r}var YT=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=QT(e.theme,i)||{};return qT(e,n,(function(e){var n=JT(a,o,e);return e===n&&"string"===typeof e&&(n=JT(a,o,"".concat(t).concat("default"===e?"":kO(e)),e)),!1===r?n:(0,we.Z)({},r,n)}))};return a.propTypes={},a.filterProps=[t],a};var XT=function(e,t){return t?UT(e,t,{clone:!1}):e};var eA={m:"margin",p:"padding"},tA={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nA={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rA=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!nA[e])return[e];e=nA[e]}var t=e.split(""),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=eA[r],s=tA[o]||"";return Array.isArray(s)?s.map((function(e){return a+e})):[a+s]})),iA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],oA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],aA=[].concat(iA,oA);function sA(e,t,n,r){var i,o=null!=(i=QT(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function uA(e){return sA(e,"spacing",8)}function cA(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function lA(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=cA(t,n),e}),{})}}(rA(n),r);return qT(e,e[n],i)}function fA(e,t){var n=uA(e.theme);return Object.keys(e).map((function(r){return lA(e,t,r,n)})).reduce(XT,{})}function dA(e){return fA(e,iA)}function hA(e){return fA(e,oA)}function pA(e){return fA(e,aA)}dA.propTypes={},dA.filterProps=iA,hA.propTypes={},hA.filterProps=oA,pA.propTypes={},pA.filterProps=aA;var vA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?XT(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function mA(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var gA=YT({prop:"border",themeKey:"borders",transform:mA}),yA=YT({prop:"borderTop",themeKey:"borders",transform:mA}),bA=YT({prop:"borderRight",themeKey:"borders",transform:mA}),wA=YT({prop:"borderBottom",themeKey:"borders",transform:mA}),kA=YT({prop:"borderLeft",themeKey:"borders",transform:mA}),xA=YT({prop:"borderColor",themeKey:"palette"}),SA=YT({prop:"borderTopColor",themeKey:"palette"}),_A=YT({prop:"borderRightColor",themeKey:"palette"}),EA=YT({prop:"borderBottomColor",themeKey:"palette"}),CA=YT({prop:"borderLeftColor",themeKey:"palette"}),IA=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=sA(e.theme,"shape.borderRadius",4);return qT(e,e.borderRadius,(function(e){return{borderRadius:cA(t,e)}}))}return null};IA.propTypes={},IA.filterProps=["borderRadius"];vA(gA,yA,bA,wA,kA,xA,SA,_A,EA,CA,IA);var OA=function(e){if(void 0!==e.gap&&null!==e.gap){var t=sA(e.theme,"spacing",8);return qT(e,e.gap,(function(e){return{gap:cA(t,e)}}))}return null};OA.propTypes={},OA.filterProps=["gap"];var ZA=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=sA(e.theme,"spacing",8);return qT(e,e.columnGap,(function(e){return{columnGap:cA(t,e)}}))}return null};ZA.propTypes={},ZA.filterProps=["columnGap"];var TA=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=sA(e.theme,"spacing",8);return qT(e,e.rowGap,(function(e){return{rowGap:cA(t,e)}}))}return null};TA.propTypes={},TA.filterProps=["rowGap"];vA(OA,ZA,TA,YT({prop:"gridColumn"}),YT({prop:"gridRow"}),YT({prop:"gridAutoFlow"}),YT({prop:"gridAutoColumns"}),YT({prop:"gridAutoRows"}),YT({prop:"gridTemplateColumns"}),YT({prop:"gridTemplateRows"}),YT({prop:"gridTemplateAreas"}),YT({prop:"gridArea"}));function AA(e,t){return"grey"===t?t:e}vA(YT({prop:"color",themeKey:"palette",transform:AA}),YT({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:AA}),YT({prop:"backgroundColor",themeKey:"palette",transform:AA}));function PA(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var RA=YT({prop:"width",transform:PA}),NA=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return qT(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||WT[t]||PA(t)}}))}return null};NA.filterProps=["maxWidth"];var jA=YT({prop:"minWidth",transform:PA}),LA=YT({prop:"height",transform:PA}),DA=YT({prop:"maxHeight",transform:PA}),MA=YT({prop:"minHeight",transform:PA}),FA=(YT({prop:"size",cssProperty:"width",transform:PA}),YT({prop:"size",cssProperty:"height",transform:PA}),vA(RA,NA,jA,LA,DA,MA,YT({prop:"boxSizing"})),{border:{themeKey:"borders",transform:mA},borderTop:{themeKey:"borders",transform:mA},borderRight:{themeKey:"borders",transform:mA},borderBottom:{themeKey:"borders",transform:mA},borderLeft:{themeKey:"borders",transform:mA},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:IA},color:{themeKey:"palette",transform:AA},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:AA},backgroundColor:{themeKey:"palette",transform:AA},p:{style:hA},pt:{style:hA},pr:{style:hA},pb:{style:hA},pl:{style:hA},px:{style:hA},py:{style:hA},padding:{style:hA},paddingTop:{style:hA},paddingRight:{style:hA},paddingBottom:{style:hA},paddingLeft:{style:hA},paddingX:{style:hA},paddingY:{style:hA},paddingInline:{style:hA},paddingInlineStart:{style:hA},paddingInlineEnd:{style:hA},paddingBlock:{style:hA},paddingBlockStart:{style:hA},paddingBlockEnd:{style:hA},m:{style:dA},mt:{style:dA},mr:{style:dA},mb:{style:dA},ml:{style:dA},mx:{style:dA},my:{style:dA},margin:{style:dA},marginTop:{style:dA},marginRight:{style:dA},marginBottom:{style:dA},marginLeft:{style:dA},marginX:{style:dA},marginY:{style:dA},marginInline:{style:dA},marginInlineStart:{style:dA},marginInlineEnd:{style:dA},marginBlock:{style:dA},marginBlockStart:{style:dA},marginBlockEnd:{style:dA},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:OA},rowGap:{style:TA},columnGap:{style:ZA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:PA},maxWidth:{style:NA},minWidth:{transform:PA},height:{transform:PA},maxHeight:{transform:PA},minHeight:{transform:PA},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var BA=function(){function e(e,t,n,r){var i,o=(i={},(0,we.Z)(i,e,t),(0,we.Z)(i,"theme",n),i),a=r[e];if(!a)return(0,we.Z)({},e,t);var s=a.cssProperty,u=void 0===s?e:s,c=a.themeKey,l=a.transform,f=a.style;if(null==t)return null;if("typography"===c&&"inherit"===t)return(0,we.Z)({},e,t);var d=QT(n,c)||{};if(f)return f(o);return qT(o,t,(function(t){var n=JT(d,l,t);return t===n&&"string"===typeof t&&(n=JT(d,l,"".concat(e).concat("default"===t?"":kO(t)),t)),!1===u?n:(0,we.Z)({},u,n)}))}return function t(n){var r,i=n||{},o=i.sx,a=i.theme,s=void 0===a?{}:a;if(!o)return null;var u=null!=(r=s.unstable_sxConfig)?r:FA;function c(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=GT(s.breakpoints),o=Object.keys(i),a=i;return Object.keys(r).forEach((function(n){var i,o,c=(i=r[n],o=s,"function"===typeof i?i(o):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])a=XT(a,e(n,c,s,u));else{var l=qT({theme:s},c,(function(e){return(0,we.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?a=XT(a,l):a[n]=t({sx:c,theme:s})}else a=XT(a,e(n,c,s,u))})),KT(o,a)}return Array.isArray(o)?o.map(c):c(o)}}();BA.filterProps=["sx"];var UA=BA,zA=["breakpoints","palette","spacing","shape"];var VA=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.spacing,a=e.shape,s=void 0===a?{}:a,u=z(e,zA),c=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,o=e.step,a=void 0===o?5:o,s=z(e,zT),u=VT(n),c=Object.keys(u);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-a/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-a/100).concat(i,")")}return f({keys:c,values:u,up:l,down:d,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?d(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=uA({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(o),d=UT({breakpoints:c,direction:"ltr",components:{},palette:f({mode:"light"},i),spacing:l,shape:f({},HT,s)},u),h=arguments.length,p=new Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return(d=p.reduce((function(e,t){return UT(e,t)}),d)).unstable_sxConfig=f({},FA,null==u?void 0:u.unstable_sxConfig),d.unstable_sx=function(e){return UA({sx:e,theme:this})},d},HA=["variant"];function WA(e){return 0===e.length}function $A(e){var t=e.variant,n=z(e,HA),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?WA(r)?e[t]:kO(e[t]):"".concat(WA(r)?t:kO(t)).concat(kO(e[t].toString()))})),r}var qA=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function GA(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var KA=VA();function QA(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}function JA(e,t){var n;return f({toolbar:(n={minHeight:56},(0,we.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,we.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function YA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function XA(e){if(e.type)return e;if("#"===e.charAt(0))return XA(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(wO(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(wO(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function eP(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function tP(e){var t="hsl"===(e=XA(e)).type||"hsla"===e.type?XA(function(e){var t=(e=XA(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),eP({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function nP(e,t){return e=XA(e),t=YA(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,eP(e)}function rP(e,t){if(e=XA(e),t=YA(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return eP(e)}function iP(e,t){if(e=XA(e),t=YA(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return eP(e)}var oP={black:"#000",white:"#fff"},aP={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},sP={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},uP={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},cP={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},lP={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},fP={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},dP={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},hP=["mode","contrastThreshold","tonalOffset"],pP={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:oP.white,default:oP.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},vP={text:{primary:oP.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:oP.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function mP(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=iP(e.main,i):"dark"===t&&(e.dark=rP(e.main,o)))}function gP(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,a=void 0===o?.2:o,s=z(e,hP),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:lP[200],light:lP[50],dark:lP[400]}:{main:lP[700],light:lP[400],dark:lP[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:sP[200],light:sP[50],dark:sP[400]}:{main:sP[500],light:sP[300],dark:sP[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:uP[500],light:uP[300],dark:uP[700]}:{main:uP[700],light:uP[400],dark:uP[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:fP[400],light:fP[300],dark:fP[700]}:{main:fP[700],light:fP[500],dark:fP[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:dP[400],light:dP[300],dark:dP[700]}:{main:dP[800],light:dP[500],dark:dP[900]}}(n),p=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:cP[400],light:cP[300],dark:cP[700]}:{main:"#ed6c02",light:cP[500],dark:cP[900]}}(n);function v(e){var t=function(e,t){var n=tP(e),r=tP(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,vP.text.primary)>=i?vP.text.primary:pP.text.primary;return t}var m=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,u=e.darkShade,c=void 0===u?700:u;if(!(t=f({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(wO(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(wO(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return mP(t,"light",s,a),mP(t,"dark",c,a),t.contrastText||(t.contrastText=v(t.main)),t},g={dark:vP,light:pP};return UT(f({common:f({},oP),mode:n,primary:m({color:u,name:"primary"}),secondary:m({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:p,name:"warning"}),info:m({color:d,name:"info"}),success:m({color:h,name:"success"}),grey:aP,contrastThreshold:i,getContrastText:v,augmentColor:m,tonalOffset:a},g[n]),s)}var yP=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var bP={textTransform:"uppercase"},wP='"Roboto", "Helvetica", "Arial", sans-serif';function kP(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?wP:r,o=n.fontSize,a=void 0===o?14:o,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,d=n.fontWeightMedium,h=void 0===d?500:d,p=n.fontWeightBold,v=void 0===p?700:p,m=n.htmlFontSize,g=void 0===m?16:m,y=n.allVariants,b=n.pxToRem,w=z(n,yP);var k=a/14,x=b||function(e){return"".concat(e/g*k,"rem")},S=function(e,t,n,r,o){return f({fontFamily:i,fontWeight:e,fontSize:x(t),lineHeight:n},i===wP?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},o,y);var a},_={h1:S(u,96,1.167,-1.5),h2:S(u,60,1.2,-.5),h3:S(l,48,1.167,0),h4:S(l,34,1.235,.25),h5:S(l,24,1.334,0),h6:S(h,20,1.6,.15),subtitle1:S(l,16,1.75,.15),subtitle2:S(h,14,1.57,.1),body1:S(l,16,1.5,.15),body2:S(l,14,1.43,.15),button:S(h,14,1.75,.4,bP),caption:S(l,12,1.66,.4),overline:S(l,12,2.66,1,bP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return UT(f({htmlFontSize:g,pxToRem:x,fontFamily:i,fontSize:a,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:v},_),w,{clone:!1})}function xP(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var SP=["none",xP(0,2,1,-1,0,1,1,0,0,1,3,0),xP(0,3,1,-2,0,2,2,0,0,1,5,0),xP(0,3,3,-2,0,3,4,0,0,1,8,0),xP(0,2,4,-1,0,4,5,0,0,1,10,0),xP(0,3,5,-1,0,5,8,0,0,1,14,0),xP(0,3,5,-1,0,6,10,0,0,1,18,0),xP(0,4,5,-2,0,7,10,1,0,2,16,1),xP(0,5,5,-3,0,8,10,1,0,3,14,2),xP(0,5,6,-3,0,9,12,1,0,3,16,2),xP(0,6,6,-3,0,10,14,1,0,4,18,3),xP(0,6,7,-4,0,11,15,1,0,4,20,3),xP(0,7,8,-4,0,12,17,2,0,5,22,4),xP(0,7,8,-4,0,13,19,2,0,5,24,4),xP(0,7,9,-4,0,14,21,2,0,5,26,4),xP(0,8,9,-5,0,15,22,2,0,6,28,5),xP(0,8,10,-5,0,16,24,2,0,6,30,5),xP(0,8,11,-5,0,17,26,2,0,6,32,5),xP(0,9,11,-5,0,18,28,2,0,7,34,6),xP(0,9,12,-6,0,19,29,2,0,7,36,6),xP(0,10,13,-6,0,20,31,3,0,8,38,7),xP(0,10,13,-6,0,21,33,3,0,8,40,7),xP(0,10,14,-6,0,22,35,3,0,8,42,7),xP(0,11,14,-7,0,23,36,3,0,9,44,8),xP(0,11,15,-7,0,24,38,3,0,9,46,8)],_P=["duration","easing","delay"],EP={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},CP={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function IP(e){return"".concat(Math.round(e),"ms")}function OP(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function ZP(e){var t=f({},EP,e.easing),n=f({},CP,e.duration);return f({getAutoHeightDuration:OP,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,o=void 0===i?n.standard:i,a=r.easing,s=void 0===a?t.easeInOut:a,u=r.delay,c=void 0===u?0:u;z(r,_P);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:IP(o)," ").concat(s," ").concat("string"===typeof c?c:IP(c))})).join(",")}},e,{easing:t,duration:n})}var TP={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},AP=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function PP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,a=void 0===o?{}:o,s=e.typography,u=void 0===s?{}:s,c=z(e,AP);if(e.vars)throw new Error(wO(18));var l=gP(i),d=VA(e),h=UT(d,{mixins:JA(d.breakpoints,n),palette:l,shadows:SP.slice(),typography:kP(l,u),transitions:ZP(a),zIndex:f({},TP)});h=UT(h,c);for(var p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(h=v.reduce((function(e,t){return UT(e,t)}),h)).unstable_sxConfig=f({},FA,null==c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return UA({sx:e,theme:this})},h}var RP=PP,NP=RP(),jP="$$material",LP=function(e){return GA(e)&&"classes"!==e},DP=GA,MP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?KA:n,o=e.rootShouldForwardProp,a=void 0===o?GA:o,s=e.slotShouldForwardProp,u=void 0===s?GA:s,c=function(e){return UA(f({},e,{theme:QA(f({},e,{defaultTheme:r,themeId:t}))}))};return c.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var o=n.name,s=n.slot,l=n.skipVariantsResolver,d=n.skipSx,h=n.overridesResolver,p=z(n,qA),v=void 0!==l?l:s&&"Root"!==s||!1,m=d||!1;var g=GA;"Root"===s?g=a:s?g=u:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);var y=MT(e,f({shouldForwardProp:g,label:undefined},p)),b=function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];var l=s?s.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(f({},n,{theme:QA(f({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],d=n;o&&h&&l.push((function(e){var n=QA(f({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(o,n);if(a){var s={};return Object.entries(a).forEach((function(t){var r=(0,i.Z)(t,2),o=r[0],a=r[1];s[o]="function"===typeof a?a(f({},e,{theme:n})):a})),h(e,s)}return null})),o&&!v&&l.push((function(e){var n=QA(f({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,o,a=e.ownerState,s=void 0===a?{}:a,u=[],c=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[$A(n.props)])})),u}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=$A(e.props);r[t]=e.style})),r}(o,n),n,o)})),m||l.push(c);var p=l.length-s.length;if(Array.isArray(n)&&p>0){var g=new Array(p).fill("");(d=[].concat((0,be.Z)(n),(0,be.Z)(g))).raw=[].concat((0,be.Z)(n.raw),(0,be.Z)(g))}else"function"===typeof n&&n.__emotion_real!==n&&(d=function(e){return n(f({},e,{theme:QA(f({},e,{defaultTheme:r,themeId:t}))}))});var b=y.apply(void 0,[d].concat((0,be.Z)(l)));return e.muiName&&(b.muiName=e.muiName),b};return y.withConfig&&(b.withConfig=y.withConfig),b}}({themeId:jP,defaultTheme:NP,rootShouldForwardProp:LP}),FP=MP;function BP(e,t){var n=(0,Ra.Z)({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=(0,Ra.Z)((0,Ra.Z)({},e[r]),n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},o=t[r];n[r]={},o&&Object.keys(o)?i&&Object.keys(i)?(n[r]=(0,Ra.Z)({},o),Object.keys(i).forEach((function(e){n[r][e]=BP(i[e],o[e])}))):n[r]=o:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function UP(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?BP(t.components[n].defaultProps,r):r}var zP=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=s.useContext(ZT);return n&&(e=n,0!==Object.keys(e).length)?n:t},VP=VA();var HP=function(){return zP(arguments.length>0&&void 0!==arguments[0]?arguments[0]:VP)};function WP(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,o=HP(r);return i&&(o=o[i]||o),UP({theme:o,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:NP,themeId:jP})}var $P=!1,qP=s.createContext(null),GP="unmounted",KP="exited",QP="entering",JP="entered",YP="exiting",XP=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=KP,r.appearStatus=QP):i=JP:i=t.unmountOnExit||t.mountOnEnter?GP:KP,r.state={status:i},r.nextCallback=null,r}a(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===GP?{status:KP}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==QP&&n!==JP&&(t=QP):n!==QP&&n!==JP||(t=YP)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===QP){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:xt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===KP&&this.setState({status:GP})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[xt.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||$P?this.safeSetState({status:JP},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:QP},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:JP},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:xt.findDOMNode(this);t&&!$P?(this.props.onExit(r),this.safeSetState({status:YP},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:KP},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:KP},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:xt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===GP)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,z(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(qP.Provider,{value:null},"function"===typeof n?n(e,r):s.cloneElement(s.Children.only(n),r))},t}(s.Component);function eR(){}XP.contextType=qP,XP.propTypes={},XP.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:eR,onEntering:eR,onEntered:eR,onExit:eR,onExiting:eR,onExited:eR},XP.UNMOUNTED=GP,XP.EXITED=KP,XP.ENTERING=QP,XP.ENTERED=JP,XP.EXITING=YP;var tR=XP;function nR(){var e=HP(NP);return e[jP]||e}var rR=function(e){return e.scrollTop};function iR(e,t){var n,r,i=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var oR=_O,aR=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],sR={entering:{opacity:1},entered:{opacity:1}},uR=s.forwardRef((function(e,t){var n=nR(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},i=e.addEndListener,o=e.appear,a=void 0===o||o,u=e.children,c=e.easing,l=e.in,d=e.onEnter,h=e.onEntered,p=e.onEntering,v=e.onExit,m=e.onExited,g=e.onExiting,y=e.style,b=e.timeout,w=void 0===b?r:b,k=e.TransitionComponent,x=void 0===k?tR:k,S=z(e,aR),_=s.useRef(null),E=oR(_,u.ref,t),C=function(e){return function(t){if(e){var n=_.current;void 0===t?e(n):e(n,t)}}},I=C(p),O=C((function(e,t){rR(e);var r=iR({style:y,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),d&&d(e,t)})),Z=C(h),T=C(g),A=C((function(e){var t=iR({style:y,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),v&&v(e)})),P=C(m);return(0,Ca.jsx)(x,f({appear:a,in:l,nodeRef:_,onEnter:O,onEntered:Z,onEntering:I,onExit:A,onExited:P,onExiting:T,addEndListener:function(e){i&&i(_.current,e)},timeout:w},S,{children:function(e,t){return s.cloneElement(u,f({style:f({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},sR[e],y,u.props.style),ref:E},t))}}))})),cR=uR;function lR(e){return $O("MuiBackdrop",e)}qO("MuiBackdrop",["root","invisible"]);var fR=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],dR=FP("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return f({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),hR=s.forwardRef((function(e,t){var n,r,i,o=WP({props:e,name:"MuiBackdrop"}),a=o.children,s=o.className,u=o.component,c=void 0===u?"div":u,l=o.components,d=void 0===l?{}:l,h=o.componentsProps,p=void 0===h?{}:h,v=o.invisible,m=void 0!==v&&v,g=o.open,y=o.slotProps,b=void 0===y?{}:y,w=o.slots,k=void 0===w?{}:w,x=o.TransitionComponent,S=void 0===x?cR:x,_=o.transitionDuration,E=z(o,fR),C=f({},o,{component:c,invisible:m}),I=function(e){var t=e.classes;return mO({root:["root",e.invisible&&"invisible"]},lR,t)}(C),O=null!=(n=b.root)?n:p.root;return(0,Ca.jsx)(S,f({in:g,timeout:_},E,{children:(0,Ca.jsx)(dR,f({"aria-hidden":!0},O,{as:null!=(r=null!=(i=k.root)?i:d.Root)?r:c,className:vO(I.root,s,null==O?void 0:O.className),ownerState:f({},C,null==O?void 0:O.ownerState),classes:I,ref:t,children:a}))}))})),pR=hR,vR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","open","slotProps","slots","theme"],mR=FP("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return f({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),gR=FP(pR,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),yR=s.forwardRef((function(e,t){var n,r,o,a,u,c,l=WP({name:"MuiModal",props:e}),d=l.BackdropComponent,h=void 0===d?gR:d,p=l.BackdropProps,v=l.classes,m=l.className,g=l.closeAfterTransition,y=void 0!==g&&g,b=l.children,w=l.container,k=l.component,x=l.components,S=void 0===x?{}:x,_=l.componentsProps,E=void 0===_?{}:_,C=l.disableAutoFocus,I=void 0!==C&&C,O=l.disableEnforceFocus,Z=void 0!==O&&O,T=l.disableEscapeKeyDown,A=void 0!==T&&T,P=l.disablePortal,R=void 0!==P&&P,N=l.disableRestoreFocus,j=void 0!==N&&N,L=l.disableScrollLock,D=void 0!==L&&L,M=l.hideBackdrop,F=void 0!==M&&M,B=l.keepMounted,U=void 0!==B&&B,V=l.onBackdropClick,H=l.onClose,W=l.open,$=l.slotProps,q=l.slots,G=l.theme,K=z(l,vR),Q=s.useState(!0),J=(0,i.Z)(Q,2),Y=J[0],X=J[1],ee={container:w,closeAfterTransition:y,disableAutoFocus:I,disableEnforceFocus:Z,disableEscapeKeyDown:A,disablePortal:R,disableRestoreFocus:j,disableScrollLock:D,hideBackdrop:F,keepMounted:U,onBackdropClick:V,onClose:H,open:W},te=f({},l,ee,{exited:Y}),ne=null!=(n=null!=(r=null==q?void 0:q.root)?r:S.Root)?n:mR,re=null!=(o=null!=(a=null==q?void 0:q.backdrop)?a:S.Backdrop)?o:h,ie=null!=(u=null==$?void 0:$.root)?u:E.root,oe=null!=(c=null==$?void 0:$.backdrop)?c:E.backdrop;return(0,Ca.jsx)(sZ,f({slots:{root:ne,backdrop:re},slotProps:{root:function(){return f({},YO(ie,te),!KO(ne)&&{as:k,theme:G},{className:vO(m,null==ie?void 0:ie.className,null==v?void 0:v.root,!te.open&&te.exited&&(null==v?void 0:v.hidden))})},backdrop:function(){return f({},p,YO(oe,te),{className:vO(null==oe?void 0:oe.className,null==p?void 0:p.className,null==v?void 0:v.backdrop)})}},onTransitionEnter:function(){return X(!1)},onTransitionExited:function(){return X(!0)},ref:t},K,ee,{children:b}))})),bR=yR,wR=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function kR(e){return $O("MuiPaper",e)}qO("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var xR=["className","component","elevation","square","variant"],SR=FP("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return f({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&f({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat(nP("#fff",wR(r.elevation)),", ").concat(nP("#fff",wR(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),_R=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiPaper"}),r=n.className,i=n.component,o=void 0===i?"div":i,a=n.elevation,s=void 0===a?1:a,u=n.square,c=void 0!==u&&u,l=n.variant,d=void 0===l?"elevation":l,h=z(n,xR),p=f({},n,{component:o,elevation:s,square:c,variant:d}),v=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes;return mO({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},kR,i)}(p);return(0,Ca.jsx)(SR,f({as:o,ownerState:p,className:vO(v.root,r),ref:t},h))})),ER=_R;function CR(e){return $O("MuiDialog",e)}var IR=qO("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var OR=s.createContext({}),ZR=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],TR=FP(pR,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),AR=FP(bR,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),PR=FP("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat(xO(n.scroll))]]}})((function(e){var t=e.ownerState;return f({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),RR=FP(ER,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat(xO(n.scroll))],t["paperWidth".concat(xO(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return f({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&(0,we.Z)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)")},"&.".concat(IR.paperScrollBody),(0,we.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&(0,we.Z)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(IR.paperScrollBody),(0,we.Z)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&(0,we.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(IR.paperScrollBody),{margin:0,maxWidth:"100%"}))})),NR=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiDialog"}),r=nR(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},o=n["aria-describedby"],a=n["aria-labelledby"],u=n.BackdropComponent,c=n.BackdropProps,l=n.children,d=n.className,h=n.disableEscapeKeyDown,p=void 0!==h&&h,v=n.fullScreen,m=void 0!==v&&v,g=n.fullWidth,y=void 0!==g&&g,b=n.maxWidth,w=void 0===b?"sm":b,k=n.onBackdropClick,x=n.onClose,S=n.open,_=n.PaperComponent,E=void 0===_?ER:_,C=n.PaperProps,I=void 0===C?{}:C,O=n.scroll,Z=void 0===O?"paper":O,T=n.TransitionComponent,A=void 0===T?cR:T,P=n.transitionDuration,R=void 0===P?i:P,N=n.TransitionProps,j=z(n,ZR),L=f({},n,{disableEscapeKeyDown:p,fullScreen:m,fullWidth:y,maxWidth:w,scroll:Z}),D=function(e){var t=e.classes,n=e.scroll,r=e.maxWidth,i=e.fullWidth,o=e.fullScreen;return mO({root:["root"],container:["container","scroll".concat(xO(n))],paper:["paper","paperScroll".concat(xO(n)),"paperWidth".concat(xO(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]},CR,t)}(L),M=s.useRef(),F=bO(a),B=s.useMemo((function(){return{titleId:F}}),[F]);return(0,Ca.jsx)(AR,f({className:vO(D.root,d),closeAfterTransition:!0,components:{Backdrop:TR},componentsProps:{backdrop:f({transitionDuration:R,as:u},c)},disableEscapeKeyDown:p,onClose:x,open:S,ref:t,onClick:function(e){M.current&&(M.current=null,k&&k(e),x&&x(e,"backdropClick"))},ownerState:L},j,{children:(0,Ca.jsx)(A,f({appear:!0,in:S,timeout:R,role:"presentation"},N,{children:(0,Ca.jsx)(PR,{className:vO(D.container),onMouseDown:function(e){M.current=e.target===e.currentTarget},ownerState:L,children:(0,Ca.jsx)(RR,f({as:E,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":F},I,{className:vO(D.paper,I.className),ownerState:L,children:(0,Ca.jsx)(OR.Provider,{value:B,children:l})}))})}))}))})),jR=NR;function LR(e){return $O("MuiDialogContent",e)}qO("MuiDialogContent",["root","dividers"]);var DR=qO("MuiDialogTitle",["root"]),MR=["className","dividers"],FR=FP("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme;return f({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.ownerState.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:(0,we.Z)({},".".concat(DR.root," + &"),{paddingTop:0}))})),BR=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiDialogContent"}),r=n.className,i=n.dividers,o=void 0!==i&&i,a=z(n,MR),s=f({},n,{dividers:o}),u=function(e){var t=e.classes;return mO({root:["root",e.dividers&&"dividers"]},LR,t)}(s);return(0,Ca.jsx)(FR,f({className:vO(u.root,r),ownerState:s,ref:t},a))})),UR=["sx"],zR=function(e){var t,n,r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:FA;return Object.keys(e).forEach((function(t){i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function VR(e){var t,n=e.sx,r=z(e,UR),i=zR(r),o=i.systemProps,a=i.otherProps;return t=Array.isArray(n)?[o].concat((0,be.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return FT(e)?f({},o,e):o}:f({},o,n),f({},a,{sx:t})}function HR(e){return $O("MuiTypography",e)}qO("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var WR=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],$R=FP("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(xO(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return f({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),qR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},GR={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},KR=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiTypography"}),r=function(e){return GR[e]||e}(n.color),i=VR(f({},n,{color:r})),o=i.align,a=void 0===o?"inherit":o,s=i.className,u=i.component,c=i.gutterBottom,l=void 0!==c&&c,d=i.noWrap,h=void 0!==d&&d,p=i.paragraph,v=void 0!==p&&p,m=i.variant,g=void 0===m?"body1":m,y=i.variantMapping,b=void 0===y?qR:y,w=z(i,WR),k=f({},i,{align:a,color:r,className:s,component:u,gutterBottom:l,noWrap:h,paragraph:v,variant:g,variantMapping:b}),x=u||(v?"p":b[g]||qR[g])||"span",S=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,o=e.variant,a=e.classes;return mO({root:["root",o,"inherit"!==e.align&&"align".concat(xO(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},HR,a)}(k);return(0,Ca.jsx)($R,f({as:x,ref:t,ownerState:k,className:vO(S.root,s)},w))})),QR=KR;function JR(e){return $O("MuiDialogContentText",e)}qO("MuiDialogContentText",["root"]);var YR=["children","className"],XR=FP(QR,{shouldForwardProp:function(e){return LP(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),eN=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiDialogContentText"}),r=n.className,i=z(n,YR),o=function(e){var t=e.classes;return f({},t,mO({root:["root"]},JR,t))}(i);return(0,Ca.jsx)(XR,f({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:i,className:vO(o.root,r)},n,{classes:o}))}));function tN(e){return $O("MuiDialogActions",e)}qO("MuiDialogActions",["root","spacing"]);var nN=["className","disableSpacing"],rN=FP("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){return f({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.ownerState.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),iN=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiDialogActions"}),r=n.className,i=n.disableSpacing,o=void 0!==i&&i,a=z(n,nN),s=f({},n,{disableSpacing:o}),u=function(e){var t=e.classes;return mO({root:["root",!e.disableSpacing&&"spacing"]},tN,t)}(s);return(0,Ca.jsx)(rN,f({className:vO(u.root,r),ownerState:s,ref:t},a))})),oN=function(e){var t=e.width,n=e.height,r=e.showDialogBox,i=e.message,o=e.yesText,a=e.noText,s=e.handleClose,u=e.onYesButtonClicked,c=e.onNoButtonClicked;return(0,Ca.jsx)("div",{children:(0,Ca.jsxs)(jR,{open:r,onClose:s,sx:{"& .MuiPaper-root":{borderRadius:"6vh !important",width:"42vw !important"},"& .MuiTypography-root":{margin:"13% 0% 0% 0% !important"}},children:[(0,Ca.jsx)(BR,{style:{textAlign:"center",width:t,height:n},sx:{"&.MuiDialogContent-root":{padding:" 20px 0 24px 33px "}},children:(0,Ca.jsx)(eN,{style:{textAlign:"center",color:"var(--text-color)",fontWeight:"normal"},children:i})}),(0,Ca.jsxs)(iN,{style:{justifyContent:"space-around",margin:"3%"},children:[(0,Ca.jsx)("div",{id:"yes-button",className:"dialog-box-button-style",onClick:u,children:o}),(0,Ca.jsx)("div",{id:"no-button",className:"dialog-box-button-style",onClick:c,children:a})]})]})})};function aN(e){return uO({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M17 16v1h-17v-1h17zM13.354 8.854l-0.707-0.707-3.646 3.646v-11.793h-1v11.794l-3.647-3.648-0.708 0.708 4.854 4.853 4.854-4.853z"}}]})(e)}function sN(e){return uO({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M10.935 2.016c-0.218-0.869-0.999-1.516-1.935-1.516-0.932 0-1.71 0.643-1.931 1.516h-3.569v1h11v-1h-3.565zM9 1.5c0.382 0 0.705 0.221 0.875 0.516h-1.733c0.172-0.303 0.485-0.516 0.858-0.516zM13 4h1v10.516c0 0.827-0.673 1.5-1.5 1.5h-7c-0.827 0-1.5-0.673-1.5-1.5v-10.516h1v10.516c0 0.275 0.224 0.5 0.5 0.5h7c0.276 0 0.5-0.225 0.5-0.5v-10.516zM8 5v8h-1v-8h1zM11 5v8h-1v-8h1z"}}]})(e)}function uN(e){return uO({tag:"svg",attr:{version:"1.1",viewBox:"0 0 17 17"},child:[{tag:"g",attr:{},child:[]},{tag:"path",attr:{d:"M8.516 0c-4.687 0-8.5 3.813-8.5 8.5s3.813 8.5 8.5 8.5 8.5-3.813 8.5-8.5-3.814-8.5-8.5-8.5zM1.041 9h2.937c0.044 1.024 0.211 2.031 0.513 3h-2.603c-0.481-0.906-0.776-1.923-0.847-3zM3.978 8h-2.937c0.071-1.077 0.366-2.094 0.847-3h2.6c-0.301 0.969-0.467 1.976-0.51 3zM5.547 5h5.896c0.33 0.965 0.522 1.972 0.569 3h-7.034c0.046-1.028 0.239-2.035 0.569-3zM4.978 9h7.035c-0.049 1.028-0.241 2.035-0.572 3h-5.891c-0.331-0.965-0.524-1.972-0.572-3zM13.013 9h2.978c-0.071 1.077-0.366 2.094-0.847 3h-2.644c0.302-0.969 0.469-1.976 0.513-3zM13.013 8c-0.043-1.024-0.209-2.031-0.51-3h2.641c0.48 0.906 0.775 1.923 0.847 3h-2.978zM14.502 4h-2.354c-0.392-0.955-0.916-1.858-1.55-2.7 1.578 0.457 2.938 1.42 3.904 2.7zM9.074 1.028c0.824 0.897 1.484 1.9 1.972 2.972h-5.102c0.487-1.071 1.146-2.073 1.97-2.97 0.199-0.015 0.398-0.030 0.602-0.030 0.188 0 0.373 0.015 0.558 0.028zM6.383 1.313c-0.629 0.838-1.151 1.737-1.54 2.687h-2.314c0.955-1.267 2.297-2.224 3.854-2.687zM2.529 13h2.317c0.391 0.951 0.915 1.851 1.547 2.689-1.561-0.461-2.907-1.419-3.864-2.689zM7.926 15.97c-0.826-0.897-1.488-1.899-1.978-2.97h5.094c-0.49 1.072-1.152 2.075-1.979 2.972-0.181 0.013-0.363 0.028-0.547 0.028-0.2 0-0.395-0.015-0.59-0.030zM10.587 15.703c0.636-0.842 1.164-1.747 1.557-2.703h2.358c-0.968 1.283-2.332 2.247-3.915 2.703z"}}]})(e)}function cN(){var e=(0,s.useState)(navigator.onLine),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=Xi(),c=(0,i.Z)(u,1)[0],l=function(){a(!0)},f=function(){a(!1)},d=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c((0,Ra.Z)((0,Ra.Z)({},n),{},{message:zE(n.message),position:n.position||"bottom",buttons:n.buttons.map((function(e){return(0,Ra.Z)((0,Ra.Z)({},e),{},{text:zE(e.text)})}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){return window.addEventListener("online",l),window.addEventListener("offline",f),function(){window.removeEventListener("online",l),window.removeEventListener("offline",f)}}),[]),{online:o,presentToast:d}}var lN=function(e){var n=e.lessonId,o=e.chapter,a=e.downloadButtonLoading,u=void 0!==a&&a,c=e.onDownloadOrDelete,l=(0,s.useState)(!0),f=(0,i.Z)(l,2),d=f[0],h=f[1],p=(0,s.useState)(!1),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,s.useState)(!1),b=(0,i.Z)(y,2),w=b[0],k=b[1],x=(0,s.useState)([]),S=(0,i.Z)(x,2),_=S[0],E=(S[1],nO.getI().apiHandler),C=cN(),I=C.online,O=C.presentToast;function Z(){return(Z=(0,r.Z)((0,t.Z)().mark((function e(){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HI.getStoredLessonIds(),n&&r.includes(n)&&(h(!1),u=!1),!o){e.next=7;break}return e.next=5,HI.isChapterDowloaded(o);case 5:i=e.sent,h(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,s.useEffect)((function(){!function(){Z.apply(this,arguments)}(),k(u)}),[u]),(0,s.useEffect)((function(){var e=function(e){e.detail.lessonId===n&&(h(!1),k(!1))};return window.addEventListener(Sa,e),function(){window.removeEventListener(Sa,e)}}),[]);var T=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:if(k(!0),I){e.next=7;break}return O({message:zE("Device is offline. Cannot download ".concat(o?"Chapter":"Lesson")),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]}),k(!1),e.abrupt("return");case 7:if(r=[],!o){e.next=18;break}return e.next=11,E.getLessonsForChapter(o);case 11:i=e.sent,a=(0,Xt.Z)(i);try{for(a.s();!(s=a.n()).done;)u=s.value,_.includes(u.id)||r.push(u.id)}catch(t){a.e(t)}finally{a.f()}return e.next=16,HI.downloadZipBundle(r);case 16:e.next=22;break;case 18:if(!n){e.next=22;break}if(_.includes(n)){e.next=22;break}return e.next=22,HI.downloadZipBundle([n]);case 22:h(!1),k(!1),c&&c();case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var i,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:if(k(!0),!o){e.next=13;break}return e.next=6,E.getLessonsForChapter(o);case 6:return i=e.sent,a=[],i.forEach(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.push(n.id),_.includes(n.id)||h(!0),c&&c();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=11,HI.deleteDownloadedLesson(a);case 11:e.next=18;break;case 13:if(!n){e.next=18;break}return e.next=16,HI.deleteDownloadedLesson([n]);case 16:_.includes(n)||h(!0),c&&c();case 18:k(!1);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return wo.dV.isNativePlatform()?(0,Ca.jsxs)("div",{className:"download-or-delete-button",onClick:function(e){e.stopPropagation(),T()},children:[m&&(0,Ca.jsx)(oN,{width:"40vw",height:"30vh",message:zE("Do you want to Delete this ".concat(o?"Chapter":"Lesson")),showDialogBox:m,yesText:zE("Yes"),noText:zE("No"),handleClose:function(){g(!1)},onNoButtonClicked:function(e){e.stopPropagation(),g(!1)},onYesButtonClicked:function(e){e.stopPropagation(),g(!1),A()}}),w?(0,Ca.jsx)("div",{className:"loading-button-container",children:(0,Ca.jsx)("div",{className:"loading-button"})}):d?(0,Ca.jsx)(aN,{className:"lesson-or-chapter-delete-icon"}):(0,Ca.jsx)("div",{onClick:function(e){e.stopPropagation(),g(!m)},children:(0,Ca.jsx)(sN,{className:"lesson-or-chapter-download-icon"})})]}):null},fN=function(e){var n=e.width,o=e.height,a=e.lesson,u=e.course,c=e.isPlayed,l=e.isUnlocked,f=(e.isHome,e.showSubjectName),d=void 0!==f&&f,h=e.showText,p=void 0===h||h,v=e.showScoreCard,m=void 0===v||v,g=e.score,y=e.isLoved,b=(e.lessonData,e.startIndex,e.showChapterName),w=void 0!==b&&b,k=e.downloadButtonLoading,x=e.showDate,S=e.onDownloadOrDelete,_=me(),E=(0,s.useState)(!0),C=(0,i.Z)(E,2),I=(C[0],C[1],(0,s.useState)()),O=(0,i.Z)(I,2),Z=(O[0],O[1],(0,s.useState)()),T=(0,i.Z)(Z,2),A=T[0],P=T[1],R=cN(),N=R.online,j=R.presentToast,L=(0,s.useState)(),D=(0,i.Z)(L,2),M=D[0],F=D[1];(0,s.useEffect)((function(){U(),B()}),[a]);var B=function(){var e,t=null===(e=a.assignment)||void 0===e?void 0:e.updatedAt;if(t){var n=null===t||void 0===t?void 0:t.toDate();F(n)}},U=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=HI.getCurrentStudent()){e.next=3;break}return e.abrupt("return");case 3:return r=nO.getI().apiHandler,e.next=6,r.getCoursesForParentsStudent(n);case 6:if(i=e.sent,console.log("Student Courses ",i),o=i.find((function(e){return a.cocosSubjectCode===e.courseCode})),console.log("current Course ",o),o){e.next=17;break}return e.next=13,r.getCourseFromLesson(a);case 13:(s=e.sent)&&(console.log("current Course from all courses ",s),P(s)),e.next=18;break;case 17:P(o);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=(0,s.useState)(""),V=(0,i.Z)(z,2),H=V[0],W=V[1];return(0,s.useEffect)((function(){W(jo[Math.floor(Math.random()*jo.length)])}),[]),(0,Ca.jsxs)(Ca.Fragment,{children:[(0,Ca.jsx)("div",{className:"assigned-date-div",children:x&&a.assignment?(0,Ca.jsx)("div",{id:"lesson-card-date",children:(0,Ca.jsxs)("p",{children:[zE("Assigned")+": ",(0,Ca.jsx)("b",{children:!!M&&function(){var e=M.getDate().toString().padStart(2,"0"),t=(M.getMonth()+1).toString().padStart(2,"0"),n=M.getFullYear();return"".concat(e,"-").concat(t,"-").concat(n)}()})]})}):null}),(0,Ca.jsxs)(wi,{id:"lesson-card",style:{width:n,height:"auto"},onClick:(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,s,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=13;break}if(console.log("LessonCard course: course,",A),"cocos"!==a.pluginType){e.next=8;break}s="?courseid=".concat(a.cocosSubjectCode,"&chapterid=").concat(a.cocosChapterCode,"&lessonid=").concat(a.id),console.log("\ud83d\ude80 ~ file: LessonCard.tsx:73 ~ parmas:",s,Za.toJson(a)),_.replace(Do.GAME+s,{url:"chimple-lib/index.html"+s,lessonId:a.id,courseDocId:null!==(r=null===u||void 0===u?void 0:u.docId)&&void 0!==r?r:null===a||void 0===a||null===(i=a.assignment)||void 0===i||null===(o=i.course)||void 0===o?void 0:o.id,course:JSON.stringify(Ta.toJson(A)),lesson:JSON.stringify(Za.toJson(a)),from:_.location.pathname+"?".concat(Po,"=true")}),e.next=13;break;case 8:if(null===a||void 0===a||null===(n=a.assignment)||void 0===n||!n.docId||a.pluginType!==ea){e.next=13;break}if(N){e.next=12;break}return j({message:zE("Device is offline"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]}),e.abrupt("return");case 12:_.replace(Do.LIVE_QUIZ_JOIN+"?assignmentId=".concat(null===a||void 0===a||null===(c=a.assignment)||void 0===c?void 0:c.docId),{assignment:JSON.stringify(null===a||void 0===a?void 0:a.assignment)});case 13:case"end":return e.stop()}}),e)}))),children:[(0,Ca.jsxs)("div",{style:{display:"grid"},children:[(0,Ca.jsxs)("div",{style:{background:H,borderRadius:"7vh",width:n,height:o,display:"grid",justifyContent:"center",alignItems:"center",gridArea:"1/1"},color:H,children:[(0,Ca.jsx)("div",{id:"lesson-card-homework-icon",children:void 0!==a.assignment&&(ta in a.assignment&&a.assignment.type===ea?(0,Ca.jsx)("div",{children:(0,Ca.jsx)("img",{src:"/assets/icons/quiz_icon.svg",className:"lesson-card-homework-indicator",alt:"Quiz Icon"})}):(0,Ca.jsx)("div",{children:(0,Ca.jsx)("img",{src:"assets/icons/homework_icon.svg",className:"lesson-card-homework-indicator",alt:"Homework Icon"})}))}),d&&null!==A&&void 0!==A&&A.title?(0,Ca.jsx)("div",{id:"lesson-card-subject-name",children:(0,Ca.jsx)("p",{children:null===A||void 0===A?void 0:A.title})}):null,(0,Ca.jsx)("div",{className:"pattern",children:(0,Ca.jsx)(hO,{localSrc:"courses/sl_en1_mp/icons/ChallengePattern.png",defaultSrc:"courses/sl_en1_mp/icons/ChallengePattern.png",webSrc:"https://firebasestorage.googleapis.com/v0/b/cuba-stage.appspot.com/o/lesson_thumbnails%2FlessonCaredPattern%2FChallengePattern.png?alt=media&token=be64aec1-f70f-43c3-95de-fd4b1afe5806"})}),(0,Ca.jsxs)("div",{id:"lesson-card-image",children:[(0,Ca.jsx)(hO,{localSrc:"courses/"+a.cocosSubjectCode+"/icons/"+a.id+".webp",defaultSrc:"courses/en/icons/en38.webp",webSrc:a.thumbnail,imageWidth:"100%",imageHeight:"100%"}),l?c?m?(0,Ca.jsx)("div",{children:(0,Ca.jsx)("div",{id:"lesson-card-score",children:(0,Ca.jsx)(Ia,{score:g})})}):(0,Ca.jsx)(Ca.Fragment,{}):(0,Ca.jsx)("div",{}):(0,Ca.jsx)("div",{id:"lesson-card-status-icon",children:(0,Ca.jsx)("img",{id:"lesson-card-status-icon1",loading:"lazy",src:"assets/icons/Lock_icon.svg",alt:"assets/icons/Lock_icon.svg"})})]})]}),(0,Ca.jsx)("div",{className:"lesson-download-button-container",children:(0,Ca.jsx)(lN,{lessonId:a.id,downloadButtonLoading:k,onDownloadOrDelete:S})}),y&&(0,Ca.jsx)(fO,{isLoved:y,hasChapterTitle:!!a.chapterTitle&&w})]}),(0,Ca.jsxs)("div",{children:[p?(0,Ca.jsx)("p",{id:"lesson-card-name".concat(y?"-fav-icon":""),children:zE(null===a||void 0===a?void 0:a.title)}):null,w&&a.chapterTitle&&(0,Ca.jsx)("div",{id:"chapter-title".concat(y?"-fav-icon":""),children:a.chapterTitle})]})]})]})};function dN(e,t){if(null==e)return{};var n,r,i=z(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hN=["children","className"],pN=["className","tag","hasTrack","children"],vN=["children","className"];function mN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gN="(prefers-reduced-motion: reduce)",yN=4,bN=5,wN={CREATED:1,MOUNTED:2,IDLE:3,MOVING:yN,SCROLLING:bN,DRAGGING:6,DESTROYED:7};function kN(e){e.length=0}function xN(e,t,n){return Array.prototype.slice.call(e,t,n)}function SN(e){return e.bind.apply(e,[null].concat(xN(arguments,1)))}var _N=setTimeout,EN=function(){};function CN(e){return requestAnimationFrame(e)}function IN(e,t){return typeof t===e}function ON(e){return!RN(e)&&IN("object",e)}var ZN=Array.isArray,TN=SN(IN,"function"),AN=SN(IN,"string"),PN=SN(IN,"undefined");function RN(e){return null===e}function NN(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(t){return!1}}function jN(e){return ZN(e)?e:[e]}function LN(e,t){jN(e).forEach(t)}function DN(e,t){return e.indexOf(t)>-1}function MN(e,t){return e.push.apply(e,jN(t)),e}function FN(e,t,n){e&&LN(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function BN(e,t){FN(e,AN(t)?t.split(" "):t,!0)}function UN(e,t){LN(t,e.appendChild.bind(e))}function zN(e,t){LN(e,(function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function VN(e,t){return NN(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function HN(e,t){var n=e?xN(e.children):[];return t?n.filter((function(e){return VN(e,t)})):n}function WN(e,t){return t?HN(e,t)[0]:e.firstElementChild}var $N=Object.keys;function qN(e,t,n){return e&&(n?$N(e).reverse():$N(e)).forEach((function(n){"__proto__"!==n&&t(e[n],n)})),e}function GN(e){return xN(arguments,1).forEach((function(t){qN(t,(function(n,r){e[r]=t[r]}))})),e}function KN(e){return xN(arguments,1).forEach((function(t){qN(t,(function(t,n){ZN(t)?e[n]=t.slice():ON(t)?e[n]=KN({},ON(e[n])?e[n]:{},t):e[n]=t}))})),e}function QN(e,t){LN(t||$N(e),(function(t){delete e[t]}))}function JN(e,t){LN(e,(function(e){LN(t,(function(t){e&&e.removeAttribute(t)}))}))}function YN(e,t,n){ON(t)?qN(t,(function(t,n){YN(e,n,t)})):LN(e,(function(e){RN(n)||""===n?JN(e,t):e.setAttribute(t,String(n))}))}function XN(e,t,n){var r=document.createElement(e);return t&&(AN(t)?BN(r,t):YN(r,t)),n&&UN(n,r),r}function ej(e,t,n){if(PN(n))return getComputedStyle(e)[t];RN(n)||(e.style[t]=""+n)}function tj(e,t){ej(e,"display",t)}function nj(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function rj(e,t){return e.getAttribute(t)}function ij(e,t){return e&&e.classList.contains(t)}function oj(e){return e.getBoundingClientRect()}function aj(e){LN(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function sj(e){return WN((new DOMParser).parseFromString(e,"text/html").body)}function uj(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function cj(e,t){return e&&e.querySelector(t)}function lj(e,t){return t?xN(e.querySelectorAll(t)):[]}function fj(e,t){FN(e,t,!1)}function dj(e){return e.timeStamp}function hj(e){return AN(e)?e:e?e+"px":""}var pj="splide",vj="data-"+pj;function mj(e,t){if(!e)throw new Error("["+pj+"] "+(t||""))}var gj=Math.min,yj=Math.max,bj=Math.floor,wj=Math.ceil,kj=Math.abs;function xj(e,t,n){return kj(e-t)<n}function Sj(e,t,n,r){var i=gj(t,n),o=yj(t,n);return r?i<e&&e<o:i<=e&&e<=o}function _j(e,t,n){var r=gj(t,n),i=yj(t,n);return gj(yj(r,e),i)}function Ej(e){return+(e>0)-+(e<0)}function Cj(e,t){return LN(t,(function(t){e=e.replace("%s",""+t)})),e}function Ij(e){return e<10?"0"+e:""+e}var Oj={};function Zj(){var e=[];function t(e,t,n){LN(e,(function(e){e&&LN(t,(function(t){t.split(" ").forEach((function(t){var r=t.split(".");n(e,r[0],r[1])}))}))}))}return{bind:function(n,r,i,o){t(n,r,(function(t,n,r){var a="addEventListener"in t,s=a?t.removeEventListener.bind(t,n,i,o):t.removeListener.bind(t,i);a?t.addEventListener(n,i,o):t.addListener(i),e.push([t,n,r,i,s])}))},unbind:function(n,r,i){t(n,r,(function(t,n,r){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==r||i&&e[3]!==i)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var r;return"function"===typeof CustomEvent?r=new CustomEvent(t,{bubbles:true,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,true,!1,n),e.dispatchEvent(r),r},destroy:function(){e.forEach((function(e){e[4]()})),kN(e)}}}var Tj="mounted",Aj="ready",Pj="move",Rj="moved",Nj="click",jj="active",Lj="inactive",Dj="visible",Mj="hidden",Fj="refresh",Bj="updated",Uj="resize",zj="resized",Vj="drag",Hj="dragging",Wj="dragged",$j="scroll",qj="scrolled",Gj="destroy",Kj="arrows:mounted",Qj="arrows:updated",Jj="pagination:mounted",Yj="pagination:updated",Xj="navigation:mounted",eL="autoplay:play",tL="autoplay:playing",nL="autoplay:pause",rL="lazyload:loaded",iL="sk",oL="sh",aL="ei";function sL(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Zj();return e&&e.event.on(Gj,n.destroy),GN(n,{bus:t,on:function(e,r){n.bind(t,jN(e).join(" "),(function(e){r.apply(r,ZN(e.detail)?e.detail:[])}))},off:SN(n.unbind,t),emit:function(e){n.dispatch(t,e,xN(arguments,1))}})}function uL(e,t,n,r){var i,o,a=Date.now,s=0,u=!0,c=0;function l(){if(!u){if(s=e?gj((a()-i)/e,1):1,n&&n(s),s>=1&&(t(),i=a(),r&&++c>=r))return f();o=CN(l)}}function f(){u=!0}function d(){o&&cancelAnimationFrame(o),s=0,o=0,u=!0}return{start:function(t){t||d(),i=a()-(t?s*e:0),u=!1,o=CN(l)},rewind:function(){i=a(),s=0,n&&n(s)},pause:f,cancel:d,set:function(t){e=t},isPaused:function(){return u}}}var cL="Arrow",lL=cL+"Left",fL=cL+"Right",dL=cL+"Up",hL=cL+"Down",pL="ttb",vL={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[dL,fL],ArrowRight:[hL,lL]};var mL="role",gL="tabindex",yL="aria-",bL=yL+"controls",wL=yL+"current",kL=yL+"selected",xL=yL+"label",SL=yL+"labelledby",_L=yL+"hidden",EL=yL+"orientation",CL=yL+"roledescription",IL=yL+"live",OL=yL+"busy",ZL=yL+"atomic",TL=[mL,gL,"disabled",bL,wL,xL,SL,_L,EL,CL],AL=pj+"__",PL="is-",RL=pj,NL=AL+"track",jL=AL+"list",LL=AL+"slide",DL=LL+"--clone",ML=LL+"__container",FL=AL+"arrows",BL=AL+"arrow",UL=BL+"--prev",zL=BL+"--next",VL=AL+"pagination",HL=VL+"__page",WL=AL+"progress"+"__bar",$L=AL+"toggle",qL=AL+"sr",GL=PL+"initialized",KL=PL+"active",QL=PL+"prev",JL=PL+"next",YL=PL+"visible",XL=PL+"loading",eD=PL+"focus-in",tD=PL+"overflow",nD=[KL,YL,QL,JL,XL,eD,tD],rD={slide:LL,clone:DL,arrows:FL,arrow:BL,prev:UL,next:zL,pagination:VL,page:HL,spinner:AL+"spinner"};var iD="touchstart mousedown",oD="touchmove mousemove",aD="touchend touchcancel mouseup click";var sD="slide",uD="loop",cD="fade";function lD(e,t,n,r){var i,o=sL(e),a=o.on,s=o.emit,u=o.bind,c=e.Components,l=e.root,f=e.options,d=f.isNavigation,h=f.updateOnMove,p=f.i18n,v=f.pagination,m=f.slideFocus,g=c.Direction.resolve,y=rj(r,"style"),b=rj(r,xL),w=n>-1,k=WN(r,"."+ML);function x(){var i=e.splides.map((function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");YN(r,xL,Cj(p.slideX,(w?n:t)+1)),YN(r,bL,i),YN(r,mL,m?"button":""),m&&JN(r,CL)}function S(){i||_()}function _(){if(!i){var n=e.index;!function(){var e=E();e!==ij(r,KL)&&(FN(r,KL,e),YN(r,wL,d&&e||""),s(e?jj:Lj,C))}(),function(){var t=function(){if(e.is(cD))return E();var t=oj(c.Elements.track),n=oj(r),i=g("left",!0),o=g("right",!0);return bj(t[i])<=wj(n[i])&&bj(n[o])<=wj(t[o])}(),n=!t&&(!E()||w);e.state.is([yN,bN])||YN(r,_L,n||"");YN(lj(r,f.focusableNodes||""),gL,n?-1:""),m&&YN(r,gL,n?-1:0);t!==ij(r,YL)&&(FN(r,YL,t),s(t?Dj:Mj,C));if(!t&&document.activeElement===r){var i=c.Slides.getAt(e.index);i&&nj(i.slide)}}(),FN(r,QL,t===n-1),FN(r,JL,t===n+1)}}function E(){var r=e.index;return r===t||f.cloneStatus&&r===n}var C={index:t,slideIndex:n,slide:r,container:k,isClone:w,mount:function(){w||(r.id=l.id+"-slide"+Ij(t+1),YN(r,mL,v?"tabpanel":"group"),YN(r,CL,p.slide),YN(r,xL,b||Cj(p.slideLabel,[t+1,e.length]))),u(r,"click",SN(s,Nj,C)),u(r,"keydown",SN(s,iL,C)),a([Rj,oL,qj],_),a(Xj,x),h&&a(Pj,S)},destroy:function(){i=!0,o.destroy(),fj(r,nD),JN(r,TL),YN(r,"style",y),YN(r,xL,b||"")},update:_,style:function(e,t,n){ej(n&&k||r,e,t)},isWithin:function(n,r){var i=kj(n-t);return w||!f.rewind&&!e.is(uD)||(i=gj(i,e.length-i)),i<=r}};return C}var fD=vj+"-interval";var dD={passive:!1,capture:!0};var hD={Spacebar:" ",Right:fL,Left:lL,Up:dL,Down:hL};function pD(e){return e=AN(e)?e:e.key,hD[e]||e}var vD="keydown";var mD=vj+"-lazy",gD=mD+"-srcset",yD="["+mD+"], ["+gD+"]";var bD=[" ","Enter"];var wD=Object.freeze({__proto__:null,Media:function(e,t,n){var r=e.state,i=n.breakpoints||{},o=n.reducedMotion||{},a=Zj(),s=[];function u(e){e&&a.destroy()}function c(e,t){var n=matchMedia(t);a.bind(n,"change",l),s.push([e,n])}function l(){var t=r.is(7),i=n.direction,o=s.reduce((function(e,t){return KN(e,t[1].matches?t[0]:{})}),{});QN(n),f(o),n.destroy?e.destroy("completely"===n.destroy):t?(u(!0),e.mount()):i!==n.direction&&e.refresh()}function f(t,i,o){KN(n,t),i&&KN(Object.getPrototypeOf(n),t),!o&&r.is(1)||e.emit(Bj,n)}return{setup:function(){var e="min"===n.mediaQuery;$N(i).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){c(i[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),c(o,gN),l()},destroy:u,reduce:function(e){matchMedia(gN).matches&&(e?KN(n,o):QN(n,$N(o)))},set:f}},Direction:function(e,t,n){return{resolve:function(e,t,r){var i="rtl"!==(r=r||n.direction)||t?r===pL?0:-1:1;return vL[e]&&vL[e][i]||e.replace(/width|left|right/i,(function(e,t){var n=vL[e.toLowerCase()][i]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var r,i,o,a=sL(e),s=a.on,u=a.bind,c=e.root,l=n.i18n,f={},d=[],h=[],p=[];function v(){r=y("."+NL),i=WN(r,"."+jL),mj(r&&i,"A track/list element is missing."),MN(d,HN(i,"."+LL+":not(."+DL+")")),qN({arrows:FL,pagination:VL,prev:UL,next:zL,bar:WL,toggle:$L},(function(e,t){f[t]=y("."+e)})),GN(f,{root:c,track:r,list:i,slides:d}),function(){var e=c.id||function(e){return""+e+Ij(Oj[e]=(Oj[e]||0)+1)}(pj),t=n.role;c.id=e,r.id=r.id||e+"-track",i.id=i.id||e+"-list",!rj(c,mL)&&"SECTION"!==c.tagName&&t&&YN(c,mL,t);YN(c,CL,l.carousel),YN(i,mL,"presentation")}(),g()}function m(e){var t=TL.concat("style");kN(d),fj(c,h),fj(r,p),JN([r,i],t),JN(c,e?t:["style",CL])}function g(){fj(c,h),fj(r,p),h=b(RL),p=b(NL),BN(c,h),BN(r,p),YN(c,xL,n.label),YN(c,SL,n.labelledby)}function y(e){var t=cj(c,e);return t&&function(e,t){if(TN(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!VN(n,t);)n=n.parentElement;return n}(t,"."+RL)===c?t:void 0}function b(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===RL&&KL]}return GN(f,{setup:v,mount:function(){s(Fj,m),s(Fj,v),s(Bj,g),u(document,iD+" keydown",(function(e){o="keydown"===e.type}),{capture:!0}),u(c,"focusin",(function(){FN(c,eD,!!o)}))},destroy:m})},Slides:function(e,t,n){var r=sL(e),i=r.on,o=r.emit,a=r.bind,s=t.Elements,u=s.slides,c=s.list,l=[];function f(){u.forEach((function(e,t){h(e,t,-1)}))}function d(){v((function(e){e.destroy()})),kN(l)}function h(t,n,r){var i=lD(e,n,r,t);i.mount(),l.push(i),l.sort((function(e,t){return e.index-t.index}))}function p(e){return e?m((function(e){return!e.isClone})):l}function v(e,t){p(t).forEach(e)}function m(e){return l.filter(TN(e)?e:function(t){return AN(e)?VN(t.slide,e):DN(jN(e),t.index)})}return{mount:function(){f(),i(Fj,d),i(Fj,f)},destroy:d,update:function(){v((function(e){e.update()}))},register:h,get:p,getIn:function(e){var r=t.Controller,i=r.toIndex(e),o=r.hasFocus()?1:n.perPage;return m((function(e){return Sj(e.index,i,i+o-1)}))},getAt:function(e){return m(e)[0]},add:function(e,t){LN(e,(function(e){if(AN(e)&&(e=sj(e)),NN(e)){var r=u[t];r?zN(e,r):UN(c,e),BN(e,n.classes.slide),function(e,t){var n=lj(e,"img"),r=n.length;r?n.forEach((function(e){a(e,"load error",(function(){--r||t()}))})):t()}(e,SN(o,Uj))}})),o(Fj)},remove:function(e){aj(m(e).map((function(e){return e.slide}))),o(Fj)},forEach:v,filter:m,style:function(e,t,n){v((function(r){r.style(e,t,n)}))},getLength:function(e){return e?u.length:l.length},isEnough:function(){return l.length>n.perPage}}},Layout:function(e,t,n){var r,i,o,a=sL(e),s=a.on,u=a.bind,c=a.emit,l=t.Slides,f=t.Direction.resolve,d=t.Elements,h=d.root,p=d.track,v=d.list,m=l.getAt,g=l.style;function y(){r=n.direction===pL,ej(h,"maxWidth",hj(n.width)),ej(p,f("paddingLeft"),w(!1)),ej(p,f("paddingRight"),w(!0)),b(!0)}function b(e){var t=oj(h);(e||i.width!==t.width||i.height!==t.height)&&(ej(p,"height",function(){var e="";r&&(mj(e=k(),"height or heightRatio is missing."),e="calc("+e+" - "+w(!1)+" - "+w(!0)+")");return e}()),g(f("marginRight"),hj(n.gap)),g("width",n.autoWidth?null:hj(n.fixedWidth)||(r?"":x())),g("height",hj(n.fixedHeight)||(r?n.autoHeight?null:x():k()),!0),i=t,c(zj),o!==(o=O())&&(FN(h,tD,o),c("overflow",o)))}function w(e){var t=n.padding,r=f(e?"right":"left");return t&&hj(t[r]||(ON(t)?0:t))||"0px"}function k(){return hj(n.height||oj(v).width*n.heightRatio)}function x(){var e=hj(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function S(){return oj(v)[f("width")]}function _(e,t){var n=m(e||0);return n?oj(n.slide)[f("width")]+(t?0:I()):0}function E(e,t){var n=m(e);if(n){var r=oj(n.slide)[f("right")],i=oj(v)[f("left")];return kj(r-i)+(t?0:I())}return 0}function C(t){return E(e.length-1)-E(0)+_(0,t)}function I(){var e=m(0);return e&&parseFloat(ej(e.slide,f("marginRight")))||0}function O(){return e.is(cD)||C(!0)>S()}return{mount:function(){y(),u(window,"resize load",function(e,t){var n=uL(t||0,e,null,1);return function(){n.isPaused()&&n.start()}}(SN(c,Uj))),s([Bj,Fj],y),s(Uj,b)},resize:b,listSize:S,slideSize:_,sliderSize:C,totalSize:E,getPadding:function(e){return parseFloat(ej(p,f("padding"+(e?"Right":"Left"))))||0},isOverflow:O}},Clones:function(e,t,n){var r,i=sL(e),o=i.on,a=t.Elements,s=t.Slides,u=t.Direction.resolve,c=[];function l(){o(Fj,f),o([Bj,Uj],h),(r=p())&&(!function(t){var r=s.get().slice(),i=r.length;if(i){for(;r.length<t;)MN(r,r);MN(r.slice(-t),r.slice(0,t)).forEach((function(o,u){var l=u<t,f=function(t,r){var i=t.cloneNode(!0);return BN(i,n.classes.clone),i.id=e.root.id+"-clone"+Ij(r+1),i}(o.slide,u);l?zN(f,r[0].slide):UN(a.list,f),MN(c,f),s.register(f,u-t+(l?0:i),o.index)}))}}(r),t.Layout.resize(!0))}function f(){d(),l()}function d(){aj(c),kN(c),i.destroy()}function h(){var e=p();r!==e&&(r<e||!e)&&i.emit(Fj)}function p(){var r=n.clones;if(e.is(uD)){if(PN(r)){var i=n[u("fixedWidth")]&&t.Layout.slideSize(0);r=i&&wj(oj(a.track)[u("width")]/i)||n[u("autoWidth")]&&e.length||2*n.perPage}}else r=0;return r}return{mount:l,destroy:d}},Move:function(e,t,n){var r,i=sL(e),o=i.on,a=i.emit,s=e.state.set,u=t.Layout,c=u.slideSize,l=u.getPadding,f=u.totalSize,d=u.listSize,h=u.sliderSize,p=t.Direction,v=p.resolve,m=p.orient,g=t.Elements,y=g.list,b=g.track;function w(){t.Controller.isBusy()||(t.Scroll.cancel(),k(e.index),t.Slides.update())}function k(e){x(C(e,!0))}function x(n,r){if(!e.is(cD)){var i=r?n:function(n){if(e.is(uD)){var r=E(n),i=r>t.Controller.getEnd();(r<0||i)&&(n=S(n,i))}return n}(n);ej(y,"transform","translate"+v("X")+"("+i+"px)"),n!==i&&a(oL)}}function S(e,t){var n=e-O(t),r=h();return e-=m(r*(wj(kj(n)/r)||1))*(t?1:-1)}function _(){x(I(),!0),r.cancel()}function E(e){for(var n=t.Slides.get(),r=0,i=1/0,o=0;o<n.length;o++){var a=n[o].index,s=kj(C(a,!0)-e);if(!(s<=i))break;i=s,r=a}return r}function C(t,r){var i=m(f(t-1)-function(e){var t=n.focus;return"center"===t?(d()-c(e,!0))/2:+t*c(e)||0}(t));return r?function(t){n.trimSpace&&e.is(sD)&&(t=_j(t,0,m(h(!0)-d())));return t}(i):i}function I(){var e=v("left");return oj(y)[e]-oj(b)[e]+m(l(!1))}function O(e){return C(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){r=t.Transition,o([Tj,zj,Bj,Fj],w)},move:function(e,t,n,i){e!==t&&function(e){var t=m(S(I(),e));return e?t>=0:t<=y[v("scrollWidth")]-oj(b)[v("width")]}(e>n)&&(_(),x(S(I(),e>n),!0)),s(yN),a(Pj,t,n,e),r.start(t,(function(){s(3),a(Rj,t,n,e),i&&i()}))},jump:k,translate:x,shift:S,cancel:_,toIndex:E,toPosition:C,getPosition:I,getLimit:O,exceededLimit:function(e,t){t=PN(t)?I():t;var n=!0!==e&&m(t)<m(O(!1)),r=!1!==e&&m(t)>m(O(!0));return n||r},reposition:w}},Controller:function(e,t,n){var r,i,o,a,s=sL(e),u=s.on,c=s.emit,l=t.Move,f=l.getPosition,d=l.getLimit,h=l.toPosition,p=t.Slides,v=p.isEnough,m=p.getLength,g=n.omitEnd,y=e.is(uD),b=e.is(sD),w=SN(C,!1),k=SN(C,!0),x=n.start||0,S=x;function _(){i=m(!0),o=n.perMove,a=n.perPage,r=Z();var e=_j(x,0,g?r:i-1);e!==x&&(x=e,l.reposition())}function E(){r!==Z()&&c(aL)}function C(e,t){var n=o||(R()?1:a),i=I(x+n*(e?-1:1),x,!(o||R()));return-1===i&&b&&!xj(f(),d(!e),1)?e?0:r:t?i:O(i)}function I(t,s,u){if(v()||R()){var c=function(t){if(b&&"move"===n.trimSpace&&t!==x)for(var r=f();r===h(t,!0)&&Sj(t,0,e.length-1,!n.rewind);)t<x?--t:++t;return t}(t);c!==t&&(s=t,t=c,u=!1),t<0||t>r?t=o||!Sj(0,t,s,!0)&&!Sj(r,s,t,!0)?y?u?t<0?-(i%a||a):i:t:n.rewind?t<0?r:0:-1:T(A(t)):u&&t!==s&&(t=T(A(s)+(t<s?-1:1)))}else t=-1;return t}function O(e){return y?(e+i)%i||0:e}function Z(){for(var e=i-(R()||y&&o?1:a);g&&e-- >0;)if(h(i-1,!0)!==h(e,!0)){e++;break}return _j(e,0,i-1)}function T(e){return _j(R()?e:a*e,0,r)}function A(e){return R()?gj(e,r):bj((e>=r?i-1:e)/a)}function P(e){e!==x&&(S=x,x=e)}function R(){return!PN(n.focus)||n.isNavigation}function N(){return e.state.is([yN,bN])&&!!n.waitForTransition}return{mount:function(){_(),u([Bj,Fj,aL],_),u(zj,E)},go:function(e,t,n){if(!N()){var i=function(e){var t=x;if(AN(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],i=n[1],o=n[2];"+"===i||"-"===i?t=I(x+ +(""+i+(+o||1)),x):">"===i?t=o?T(+o):w(!0):"<"===i&&(t=k(!0))}else t=y?e:_j(e,0,r);return t}(e),o=O(i);o>-1&&(t||o!==x)&&(P(o),l.move(i,o,S,n))}},scroll:function(e,n,i,o){t.Scroll.scroll(e,n,i,(function(){var e=O(l.toIndex(f()));P(g?gj(e,r):e),o&&o()}))},getNext:w,getPrev:k,getAdjacent:C,getEnd:Z,setIndex:P,getIndex:function(e){return e?S:x},toIndex:T,toPage:A,toDest:function(e){var t=l.toIndex(e);return b?_j(t,0,r):t},hasFocus:R,isBusy:N}},Arrows:function(e,t,n){var r,i,o=sL(e),a=o.on,s=o.bind,u=o.emit,c=n.classes,l=n.i18n,f=t.Elements,d=t.Controller,h=f.arrows,p=f.track,v=h,m=f.prev,g=f.next,y={};function b(){!function(){var e=n.arrows;!e||m&&g||(v=h||XN("div",c.arrows),m=S(!0),g=S(!1),r=!0,UN(v,[m,g]),!h&&zN(v,p));m&&g&&(GN(y,{prev:m,next:g}),tj(v,e?"":"none"),BN(v,i=FL+"--"+n.direction),e&&(a([Tj,Rj,Fj,qj,aL],_),s(g,"click",SN(x,">")),s(m,"click",SN(x,"<")),_(),YN([m,g],bL,p.id),u(Kj,m,g)))}(),a(Bj,w)}function w(){k(),b()}function k(){o.destroy(),fj(v,i),r?(aj(h?[m,g]:v),m=g=null):JN([m,g],TL)}function x(e){d.go(e,!0)}function S(e){return sj('<button class="'+c.arrow+" "+(e?c.prev:c.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function _(){if(m&&g){var t=e.index,n=d.getPrev(),r=d.getNext(),i=n>-1&&t<n?l.last:l.prev,o=r>-1&&t>r?l.first:l.next;m.disabled=n<0,g.disabled=r<0,YN(m,xL,i),YN(g,xL,o),u(Qj,m,g,n,r)}}return{arrows:y,mount:b,destroy:k,update:_}},Autoplay:function(e,t,n){var r,i,o=sL(e),a=o.on,s=o.bind,u=o.emit,c=uL(n.interval,e.go.bind(e,">"),(function(e){var t=f.bar;t&&ej(t,"width",100*e+"%"),u(tL,e)})),l=c.isPaused,f=t.Elements,d=t.Elements,h=d.root,p=d.toggle,v=n.autoplay,m="pause"===v;function g(){l()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),i=r=m=!1,w(),u(eL))}function y(e){void 0===e&&(e=!0),m=!!e,w(),l()||(c.pause(),u(nL))}function b(){m||(r||i?y(!1):g())}function w(){p&&(FN(p,KL,!m),YN(p,xL,n.i18n[m?"play":"pause"]))}function k(e){var r=t.Slides.getAt(e);c.set(r&&+rj(r.slide,fD)||n.interval)}return{mount:function(){v&&(!function(){n.pauseOnHover&&s(h,"mouseenter mouseleave",(function(e){r="mouseenter"===e.type,b()}));n.pauseOnFocus&&s(h,"focusin focusout",(function(e){i="focusin"===e.type,b()}));p&&s(p,"click",(function(){m?g():y(!0)}));a([Pj,$j,Fj],c.rewind),a(Pj,k)}(),p&&YN(p,bL,f.track.id),m||g(),w())},destroy:c.cancel,play:g,pause:y,isPaused:l}},Cover:function(e,t,n){var r=sL(e).on;function i(e){t.Slides.forEach((function(t){var n=WN(t.container||t.slide,"img");n&&n.src&&o(e,n,t)}))}function o(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),tj(t,e?"none":"")}return{mount:function(){n.cover&&(r(rL,SN(o,!0)),r([Tj,Bj,Fj],SN(i,!0)))},destroy:SN(i,!1)}},Scroll:function(e,t,n){var r,i,o=sL(e),a=o.on,s=o.emit,u=e.state.set,c=t.Move,l=c.getPosition,f=c.getLimit,d=c.exceededLimit,h=c.translate,p=e.is(sD),v=1;function m(e,n,o,a,f){var h=l();if(b(),o&&(!p||!d())){var m=t.Layout.sliderSize(),w=Ej(e)*m*bj(kj(e)/m)||0;e=c.toPosition(t.Controller.toDest(e%m))+w}var k=xj(h,e,1);v=1,n=k?0:n||yj(kj(e-h)/1.5,800),i=a,r=uL(n,g,SN(y,h,e,f),1),u(bN),s($j),r.start()}function g(){u(3),i&&i(),s(qj)}function y(e,t,r,o){var a=l(),s=e+(t-e)*function(e){var t=n.easingFunc;return t?t(e):1-Math.pow(1-e,4)}(o),u=(s-a)*v;h(a+u),p&&!r&&d()&&(v*=.6,kj(u)<10&&m(f(d(!0)),600,!1,i,!0))}function b(){r&&r.cancel()}function w(){r&&!r.isPaused()&&(b(),g())}return{mount:function(){a(Pj,b),a([Bj,Fj],w)},destroy:b,scroll:m,cancel:w}},Drag:function(e,t,n){var r,i,o,a,s,u,c,l,f=sL(e),d=f.on,h=f.emit,p=f.bind,v=f.unbind,m=e.state,g=t.Move,y=t.Scroll,b=t.Controller,w=t.Elements.track,k=t.Media.reduce,x=t.Direction,S=x.resolve,_=x.orient,E=g.getPosition,C=g.exceededLimit,I=!1;function O(){var e=n.drag;F(!e),a="free"===e}function Z(e){if(u=!1,!c){var t=M(e);!function(e){var t=n.noDrag;return!VN(e,"."+HL+", ."+BL)&&(!t||!VN(e,t))}(e.target)||!t&&e.button||(b.isBusy()?uj(e,!0):(l=t?w:window,s=m.is([yN,bN]),o=null,p(l,oD,T,dD),p(l,aD,A,dD),g.cancel(),y.cancel(),R(e)))}}function T(t){if(m.is(6)||(m.set(6),h(Vj)),t.cancelable)if(s){g.translate(r+N(t)/(I&&e.is(sD)?5:1));var i=j(t)>200,o=I!==(I=C());(i||o)&&R(t),u=!0,h(Hj),uj(t)}else(function(e){return kj(N(e))>kj(N(e,!0))})(t)&&(s=function(e){var t=n.dragMinThreshold,r=ON(t),i=r&&t.mouse||0,o=(r?t.touch:+t)||10;return kj(N(e))>(M(e)?o:i)}(t),uj(t))}function A(r){m.is(6)&&(m.set(3),h(Wj)),s&&(!function(r){var i=function(t){if(e.is(uD)||!I){var n=j(t);if(n&&n<200)return N(t)/n}return 0}(r),o=function(e){return E()+Ej(e)*gj(kj(e)*(n.flickPower||600),a?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(i),s=n.rewind&&n.rewindByDrag;k(!1),a?b.scroll(o,0,n.snap):e.is(cD)?b.go(_(Ej(i))<0?s?"<":"-":s?">":"+"):e.is(sD)&&I&&s?b.go(C(!0)?">":"<"):b.go(b.toDest(o),!0);k(!0)}(r),uj(r)),v(l,oD,T),v(l,aD,A),s=!1}function P(e){!c&&u&&uj(e,!0)}function R(e){o=i,i=e,r=E()}function N(e,t){return D(e,t)-D(L(e),t)}function j(e){return dj(e)-dj(L(e))}function L(e){return i===e&&o||i}function D(e,t){return(M(e)?e.changedTouches[0]:e)["page"+S(t?"Y":"X")]}function M(e){return"undefined"!==typeof TouchEvent&&e instanceof TouchEvent}function F(e){c=e}return{mount:function(){p(w,oD,EN,dD),p(w,aD,EN,dD),p(w,iD,Z,dD),p(w,"click",P,{capture:!0}),p(w,"dragstart",uj),d([Tj,Bj],O)},disable:F,isDragging:function(){return s}}},Keyboard:function(e,t,n){var r,i,o=sL(e),a=o.on,s=o.bind,u=o.unbind,c=e.root,l=t.Direction.resolve;function f(){var e=n.keyboard;e&&(r="global"===e?window:c,s(r,vD,p))}function d(){u(r,vD)}function h(){var e=i;i=!0,_N((function(){i=e}))}function p(t){if(!i){var n=pD(t);n===l(lL)?e.go("<"):n===l(fL)&&e.go(">")}}return{mount:function(){f(),a(Bj,d),a(Bj,f),a(Pj,h)},destroy:d,disable:function(e){i=e}}},LazyLoad:function(e,t,n){var r=sL(e),i=r.on,o=r.off,a=r.bind,s=r.emit,u="sequential"===n.lazyLoad,c=[Rj,qj],l=[];function f(){kN(l),t.Slides.forEach((function(e){lj(e.slide,yD).forEach((function(t){var r=rj(t,mD),i=rj(t,gD);if(r!==t.src||i!==t.srcset){var o=n.classes.spinner,a=t.parentElement,s=WN(a,"."+o)||XN("span",o,a);l.push([t,e,s]),t.src||tj(t,"none")}}))})),u?v():(o(c),i(c,d),d())}function d(){(l=l.filter((function(t){var r=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,r)||h(t)}))).length||o(c)}function h(e){var t=e[0];BN(e[1].slide,XL),a(t,"load error",SN(p,e)),YN(t,"src",rj(t,mD)),YN(t,"srcset",rj(t,gD)),JN(t,mD),JN(t,gD)}function p(e,t){var n=e[0],r=e[1];fj(r.slide,XL),"error"!==t.type&&(aj(e[2]),tj(n,""),s(rL,n,r),s(Uj)),u&&v()}function v(){l.length&&h(l.shift())}return{mount:function(){n.lazyLoad&&(f(),i(Fj,f))},destroy:SN(kN,l),check:d}},Pagination:function(e,t,n){var r,i,o=sL(e),a=o.on,s=o.emit,u=o.bind,c=t.Slides,l=t.Elements,f=t.Controller,d=f.hasFocus,h=f.getIndex,p=f.go,v=t.Direction.resolve,m=l.pagination,g=[];function y(){r&&(aj(m?xN(r.children):r),fj(r,i),kN(g),r=null),o.destroy()}function b(e){p(">"+e,!0)}function w(e,t){var n=g.length,r=pD(t),i=k(),o=-1;r===v(fL,!1,i)?o=++e%n:r===v(lL,!1,i)?o=(--e+n)%n:"Home"===r?o=0:"End"===r&&(o=n-1);var a=g[o];a&&(nj(a.button),p(">"+o),uj(t,!0))}function k(){return n.paginationDirection||n.direction}function x(e){return g[f.toPage(e)]}function S(){var e=x(h(!0)),t=x(h());if(e){var n=e.button;fj(n,KL),JN(n,kL),YN(n,gL,-1)}if(t){var i=t.button;BN(i,KL),YN(i,kL,!0),YN(i,gL,"")}s(Yj,{list:r,items:g},e,t)}return{items:g,mount:function t(){y(),a([Bj,Fj,aL],t);var o=n.pagination;m&&tj(m,o?"":"none"),o&&(a([Pj,$j,qj],S),function(){var t=e.length,o=n.classes,a=n.i18n,s=n.perPage,h=d()?f.getEnd()+1:wj(t/s);BN(r=m||XN("ul",o.pagination,l.track.parentElement),i=VL+"--"+k()),YN(r,mL,"tablist"),YN(r,xL,a.select),YN(r,EL,k()===pL?"vertical":"");for(var p=0;p<h;p++){var v=XN("li",null,r),y=XN("button",{class:o.page,type:"button"},v),x=c.getIn(p).map((function(e){return e.slide.id})),S=!d()&&s>1?a.pageX:a.slideX;u(y,"click",SN(b,p)),n.paginationKeyboard&&u(y,"keydown",SN(w,p)),YN(v,mL,"presentation"),YN(y,mL,"tab"),YN(y,bL,x.join(" ")),YN(y,xL,Cj(S,p+1)),YN(y,gL,-1),g.push({li:v,button:y,page:p})}}(),S(),s(Jj,{list:r,items:g},x(e.index)))},destroy:y,getAt:x,update:S}},Sync:function(e,t,n){var r=n.isNavigation,i=n.slideFocus,o=[];function a(){e.splides.forEach((function(t){t.isParent||(u(e,t.splide),u(t.splide,e))})),r&&function(){var t=sL(e),n=t.on;n(Nj,l),n(iL,f),n([Tj,Bj],c),o.push(t),t.emit(Xj,e.splides)}()}function s(){o.forEach((function(e){e.destroy()})),kN(o)}function u(e,t){var n=sL(e);n.on(Pj,(function(e,n,r){t.go(t.is(uD)?r:e)})),o.push(n)}function c(){YN(t.Elements.list,EL,n.direction===pL?"vertical":"")}function l(t){e.go(t.index)}function f(e,t){DN(bD,pD(t))&&(l(e),uj(t))}return{setup:SN(t.Media.set,{slideFocus:PN(i)?r:i},!0),mount:a,destroy:s,remount:function(){s(),a()}}},Wheel:function(e,t,n){var r=sL(e).bind,i=0;function o(r){if(r.cancelable){var o=r.deltaY,a=o<0,s=dj(r),u=n.wheelMinThreshold||0,c=n.wheelSleep||0;kj(o)>u&&s-i>c&&(e.go(a?"<":">"),i=s),function(r){return!n.releaseWheel||e.state.is(yN)||-1!==t.Controller.getAdjacent(r)}(a)&&uj(r)}}return{mount:function(){n.wheel&&r(t.Elements.track,"wheel",o,dD)}}},Live:function(e,t,n){var r=sL(e).on,i=t.Elements.track,o=n.live&&!n.isNavigation,a=XN("span",qL),s=uL(90,SN(u,!1));function u(e){YN(i,OL,e),e?(UN(i,a),s.start()):(aj(a),s.cancel())}function c(e){o&&YN(i,IL,e?"off":"polite")}return{mount:function(){o&&(c(!t.Autoplay.isPaused()),YN(i,ZL,!0),a.textContent="\u2026",r(eL,SN(c,!0)),r(nL,SN(c,!1)),r([Rj,qj],SN(u,!0)))},disable:c,destroy:function(){JN(i,[IL,ZL,OL]),aj(a)}}}}),kD={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:rD,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function xD(e,t,n){var r=t.Slides;function i(){r.forEach((function(e){e.style("transform","translateX(-"+100*e.index+"%)")}))}return{mount:function(){sL(e).on([Tj,Fj],i)},start:function(e,t){r.style("transition","opacity "+n.speed+"ms "+n.easing),_N(t)},cancel:EN}}function SD(e,t,n){var r,i=t.Move,o=t.Controller,a=t.Scroll,s=t.Elements.list,u=SN(ej,s,"transition");function c(){u(""),a.cancel()}return{mount:function(){sL(e).bind(s,"transitionend",(function(e){e.target===s&&r&&(c(),r())}))},start:function(t,s){var c=i.toPosition(t,!0),l=i.getPosition(),f=function(t){var r=n.rewindSpeed;if(e.is(sD)&&r){var i=o.getIndex(!0),a=o.getEnd();if(0===i&&t>=a||i>=a&&0===t)return r}return n.speed}(t);kj(c-l)>=1&&f>=1?n.useScroll?a.scroll(c,f,!1,s):(u("transform "+f+"ms "+n.easing),i.translate(c,!0),r=s):(i.jump(t),s())},cancel:c}}var _D=function(){function e(t,n){this.event=sL(),this.Components={},this.state=function(e){var t=e;return{set:function(e){t=e},is:function(e){return DN(jN(e),t)}}}(1),this.splides=[],this._o={},this._E={};var r=AN(t)?cj(document,t):t;mj(r,r+" is invalid."),this.root=r,n=KN({label:rj(r,xL)||"",labelledby:rj(r,SL)||""},kD,e.defaults,n||{});try{KN(n,JSON.parse(rj(r,vj)))}catch(i){mj(!1,"Invalid JSON")}this._o=Object.create(KN({},n))}var t,n,r,i=e.prototype;return i.mount=function(e,t){var n=this,r=this.state,i=this.Components;return mj(r.is([1,7]),"Already mounted!"),r.set(1),this._C=i,this._T=t||this._T||(this.is(cD)?xD:SD),this._E=e||this._E,qN(GN({},wD,this._E,{Transition:this._T}),(function(e,t){var r=e(n,i,n._o);i[t]=r,r.setup&&r.setup()})),qN(i,(function(e){e.mount&&e.mount()})),this.emit(Tj),BN(this.root,GL),r.set(3),this.emit(Aj),this},i.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},i.go=function(e){return this._C.Controller.go(e),this},i.on=function(e,t){return this.event.on(e,t),this},i.off=function(e){return this.event.off(e),this},i.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(xN(arguments,1))),this},i.add=function(e,t){return this._C.Slides.add(e,t),this},i.remove=function(e){return this._C.Slides.remove(e),this},i.is=function(e){return this._o.type===e},i.refresh=function(){return this.emit(Fj),this},i.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?sL(this).on(Aj,this.destroy.bind(this,e)):(qN(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(Gj),t.destroy(),e&&kN(this.splides),n.set(7)),this},t=e,n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}],n&&mN(t.prototype,n),r&&mN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ED=_D;ED.defaults={},ED.STATES=wN;var CD=[[Tj,"onMounted"],[Aj,"onReady"],[Pj,"onMove"],[Rj,"onMoved"],[Nj,"onClick"],[jj,"onActive"],[Lj,"onInactive"],[Dj,"onVisible"],[Mj,"onHidden"],[Fj,"onRefresh"],[Bj,"onUpdated"],[Uj,"onResize"],[zj,"onResized"],[Vj,"onDrag"],[Hj,"onDragging"],[Wj,"onDragged"],[$j,"onScroll"],[qj,"onScrolled"],[Gj,"onDestroy"],[Kj,"onArrowsMounted"],[Qj,"onArrowsUpdated"],[Jj,"onPaginationMounted"],[Yj,"onPaginationUpdated"],[Xj,"onNavigationMounted"],[eL,"onAutoplayPlay"],[tL,"onAutoplayPlaying"],[nL,"onAutoplayPause"],[rL,"onLazyLoadLoaded"]];function ID(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}function OD(e){return null!==e&&"object"===typeof e}function ZD(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&!e.some((function(e,n){return!ZD(e,t[n])}));if(OD(e)&&OD(t)){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&!n.some((function(n){return!Object.prototype.hasOwnProperty.call(t,n)||!ZD(e[n],t[n])}))}return e===t}function TD(e,t){var n=e;return function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if("__proto__"!==i&&!1===t(e[i],i))break}}(t,(function(e,t){Array.isArray(e)?n[t]=e.slice():OD(e)?n[t]=TD(OD(n[t])?n[t]:{},e):n[t]=e})),n}var AD=function(e){var t=e.children,n=e.className,r=dN(e,hN);return s.createElement("div",(0,Ra.Z)({className:ID("splide__track",n)},r),s.createElement("ul",{className:"splide__list"},t))},PD=function(e){(0,xe.Z)(n,e);var t=(0,Se.Z)(n);function n(){var e;return(0,_e.Z)(this,n),(e=t.apply(this,arguments)).splideRef=s.createRef(),e.slides=[],e}return(0,Ee.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,n=e.extensions,r=e.transition,i=this.splideRef.current;i&&(this.splide=new ED(i,t),this.bind(this.splide),this.splide.mount(n,r),this.options=TD({},t||{}),this.slides=this.getSlides())}},{key:"componentWillUnmount",value:function(){this.splide&&(this.splide.destroy(),this.splide=void 0),this.options=void 0,this.slides.length=0}},{key:"componentDidUpdate",value:function(){if(this.splide){var e=this.props.options;e&&!ZD(this.options,e)&&(this.splide.options=e,this.options=TD({},e));var t,n,r=this.getSlides();t=this.slides,n=r,(t.length!==n.length||t.some((function(e,t){return e!==n[t]})))&&(this.splide.refresh(),this.slides=r)}}},{key:"sync",value:function(e){var t;null==(t=this.splide)||t.sync(e)}},{key:"go",value:function(e){var t;null==(t=this.splide)||t.go(e)}},{key:"getSlides",value:function(){var e;if(this.splide){var t=null==(e=this.splide.Components.Elements)?void 0:e.list.children;return t&&Array.prototype.slice.call(t)||[]}return[]}},{key:"bind",value:function(e){var t=this;CD.forEach((function(n){var r=(0,i.Z)(n,2),o=r[0],a=r[1],s=t.props[a];"function"===typeof s&&e.on(o,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s.apply(void 0,[e].concat(n))}))}))}},{key:"omit",value:function(e,t){return t.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&delete e[t]})),e}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.tag,r=void 0===n?"div":n,i=e.hasTrack,o=void 0===i||i,a=e.children,u=dN(e,pN);return s.createElement(r,(0,Ra.Z)({className:ID("splide",t),ref:this.splideRef},this.omit(u,["options"].concat((0,be.Z)(CD.map((function(e){return e[1]})))))),o?s.createElement(AD,null,a):a)}}]),n}(s.Component),RD=function(e){var t=e.children,n=e.className,r=dN(e,vN);return s.createElement("li",(0,Ra.Z)({className:ID("splide__slide",n)},r),t)},ND=function(e){var t,n,r=e.lessonData,o=e.course,a=e.isHome,u=e.lessonsScoreMap,c=e.startIndex,l=e.showSubjectName,f=void 0!==l&&l,d=e.showChapterName,h=void 0!==d&&d,p=e.onEndReached,v=(e.onMoved,e.downloadButtonLoading),m=e.showDate,g=e.onDownloadOrDelete,y=(0,s.useState)(0),b=(0,i.Z)(y,2),w=(b[0],b[1]),k=(0,s.useState)([]),x=(0,i.Z)(k,2),S=x[0],_=x[1];t="45.5vh",n="35vh";var E=(0,s.useRef)(null);(0,s.useEffect)((function(){E.current&&E.current.go(c)}),[c]);var C=function(e){var t=e.index;if(w(t),t>=r.length-1){var n=S.length,i=r.slice(n,n+10);_(i),p&&p()}};return a?(0,Ca.jsx)("div",{className:"Lesson-slider-content",children:(0,Ca.jsx)(PD,{ref:E,hasTrack:!0,onMoved:C,options:{arrows:!1,wheel:!0,lazyLoad:!0,direction:"ltr",pagination:!1},children:r.map((function(e,i){var s,l,d;if(e){console.log("lessonsScoreMap[m.id]",e);u[e.docId];var p=!!u[e.docId]&&(null===(s=u[e.docId])||void 0===s?void 0:s.score)>0;return t="66.66vh",n="50vh",(0,Ca.jsx)(RD,{className:"slide",children:(0,Ca.jsx)(fN,{width:t,height:n,isPlayed:p,isUnlocked:!0,isHome:a,isLoved:null===(l=u[e.docId])||void 0===l?void 0:l.isLoved,lesson:e,course:o,showSubjectName:f,showScoreCard:p,score:null===(d=u[e.docId])||void 0===d?void 0:d.score,lessonData:r,startIndex:-1===c?c+1:c,showChapterName:h,downloadButtonLoading:v,showDate:m,onDownloadOrDelete:g})},i)}}))})}):(0,Ca.jsx)("div",{className:"Lesson-slider-content",children:(0,Ca.jsx)(PD,{ref:E,hasTrack:!0,onMoved:C,options:{arrows:!1,wheel:!0,lazyLoad:!0,direction:"ltr",pagination:!1},children:r.map((function(e,i){var s,l,d;if(e){var p=!!u[e.docId]&&(null===(s=u[e.docId])||void 0===s?void 0:s.score)>0;return(0,Ca.jsx)(RD,{className:"slide",children:(0,Ca.jsx)(fN,{width:t,height:n,isPlayed:p,isUnlocked:!0,isHome:a,isLoved:null===(l=u[e.docId])||void 0===l?void 0:l.isLoved,lesson:e,course:o,showSubjectName:f,showScoreCard:p,score:null===(d=u[e.docId])||void 0===d?void 0:d.score,lessonData:r,startIndex:-1===c?c+1:c,showChapterName:h,downloadButtonLoading:v,showDate:m,onDownloadOrDelete:g})},i)}}))})})},jD=function(e){var t=e.iconSrc,n=e.name,r=e.onClick,i=HI.getCurrentStudent(),o="icon-button".concat(t===(null===i||void 0===i?void 0:i.image)?" circular-icon":"");return(0,Ca.jsxs)("div",{className:o,onClick:r,children:[(0,Ca.jsx)("div",{children:(0,Ca.jsx)("img",{className:"img",alt:t,src:t})}),(0,Ca.jsx)("p",{className:"child-Name",children:n})]})},LD=function(e){var t,n=e.headerConfig,r=e.currentHeader,i=e.pendingAssignmentCount,o=e.pendingLiveQuizCount,a=e.onHeaderIconClick,s=r===n.headerList;return(0,Ca.jsxs)("div",{children:[s?(0,Ca.jsx)("p",{className:"home-header-indicator",children:"\u25cf"}):(0,Ca.jsx)("p",{className:"home-header-indicator",children:"\xa0"}),n.headerList===Co.ASSIGNMENT&&void 0!==i&&i>0&&(0,Ca.jsx)("div",{id:"homework-notification",children:(0,Ca.jsx)(li,{class:"badge-notification",children:i})}),n.headerList==Co.LIVEQUIZ&&!!o&&o>0&&(0,Ca.jsx)("div",{id:"homework-notification",children:(0,Ca.jsx)(li,{class:"livequiz-badge-notification",children:o})}),(0,Ca.jsx)(jD,{name:zE(n.displayName),iconSrc:s?null===(t=Ro.get(n.headerList))||void 0===t?void 0:t.iconSrc:n.iconSrc,onClick:function(){s||a(n.headerList)}})]})},DD=function(e){var n,o,a=e.currentHeader,u=e.onHeaderIconClick,c=e.pendingAssignmentCount,l=e.pendingLiveQuizCount,f=sC().t,d=(0,s.useState)(),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=[],g=me(),y=(0,s.useState)(),b=(0,i.Z)(y,2),w=b[0],k=b[1],x=(0,s.useState)(),S=(0,i.Z)(x,2),_=S[0],E=S[1],C=(0,s.useState)(),I=(0,i.Z)(C,2),O=(I[0],I[1],(0,s.useState)(!1)),Z=(0,i.Z)(O,2),T=Z[0],A=Z[1],P=nO.getI().apiHandler,R=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,o,a,s,u,c,l,f=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(f.length>0&&void 0!==f[0])||f[0],e.prev=1,e.next=4,Promise.all([HI.getCanShowAvatar(),HI.getCurrentStudent(),VI.getCurrMode()]);case 4:if(o=e.sent,a=(0,i.Z)(o,3),s=a[0],u=a[1],c=a[2],u){e.next=12;break}return g.replace(Do.SELECT_MODE),e.abrupt("return");case 12:return e.next=14,P.isStudentLinked(u.docId,n);case 14:if(l=e.sent,A(l),E(c),No.forEach(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("element.headerList",n.headerList),c===sa.SCHOOL&&n.headerList===Co.ASSIGNMENT||!1===s&&n.headerList===Co.SUGGESTIONS||m.push(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m){e.next=20;break}return e.abrupt("return");case 20:v(m),k(u),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error("Error in init:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){R()}),[]),(0,Ca.jsxs)("div",{id:"home-header-icons",children:[(0,Ca.jsx)("div",{className:"home-header-outer-icon",children:(0,Ca.jsx)(LD,{headerConfig:{displayName:f("Home"),iconSrc:"assets/icons/homeInactiveIcon.svg",headerList:Co.HOME},currentHeader:a,pendingAssignmentCount:0,pendingLiveQuizCount:0,onHeaderIconClick:function(){a!=Co.HOME&&u(Co.HOME)}})}),(0,Ca.jsx)("div",{id:"home-header-middle-icons",children:!!p&&p.map((function(e,t){return T||e.headerList!==Co.LIVEQUIZ?(0,Ca.jsx)(LD,{headerConfig:e,currentHeader:a,pendingAssignmentCount:c,pendingLiveQuizCount:l,onHeaderIconClick:function(){a!=e.headerList&&u(e.headerList)}},t):null}))}),(0,Ca.jsx)("div",{className:"home-header-outer-icon",children:(0,Ca.jsx)(LD,{headerConfig:{displayName:null!==(n=null===w||void 0===w?void 0:w.name)&&void 0!==n?n:"Profile",iconSrc:_===sa.SCHOOL&&(null===w||void 0===w?void 0:w.image)||"assets/avatars/".concat(null!==(o=null===w||void 0===w?void 0:w.avatar)&&void 0!==o?o:oa[0],".png"),headerList:Co.PROFILE},currentHeader:a,pendingAssignmentCount:0,pendingLiveQuizCount:0,onHeaderIconClick:function(){a!=Co.PROFILE&&u(Co.PROFILE)}})})]})};function MD(e){return $O("MuiAppBar",e)}qO("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var FD=["className","color","enableColorOnDark","position"],BD=function(e,t){return e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t},UD=FP(ER,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat(xO(n.position))],t["color".concat(xO(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return f({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&f({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&f({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&f({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:BD(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:BD(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:BD(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:BD(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),zD=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiAppBar"}),r=n.className,i=n.color,o=void 0===i?"primary":i,a=n.enableColorOnDark,s=void 0!==a&&a,u=n.position,c=void 0===u?"fixed":u,l=z(n,FD),d=f({},n,{color:o,position:c,enableColorOnDark:s}),h=function(e){var t=e.color,n=e.position,r=e.classes;return mO({root:["root","color".concat(xO(t)),"position".concat(xO(n))]},MD,r)}(d);return(0,Ca.jsx)(UD,f({square:!0,component:"header",ownerState:d,elevation:4,className:vO(h.root,r,"fixed"===c&&"mui-fixed"),ref:t},l))})),VD=zD,HD=["className","component"];var WD=RP(),$D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,o=e.generateClassName,a=MT("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(UA);return s.forwardRef((function(e,r){var s=HP(n),u=VR(e),c=u.className,l=u.component,d=void 0===l?"div":l,h=z(u,HD);return(0,Ca.jsx)(a,f({as:d,ref:r,className:vO(c,o?o(i):i),theme:t&&s[t]||s},h))}))}({themeId:jP,defaultTheme:WD,defaultClassName:"MuiBox-root",generateClassName:HO.generate}),qD=$D;n(6214);function GD(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(r,o)}),n)}return r.clear=function(){clearTimeout(t)},r}var KD,QD=GD;function JD(){if(KD)return KD;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),KD="reverse",e.scrollLeft>0?KD="default":(e.scrollLeft=1,0===e.scrollLeft&&(KD="negative")),document.body.removeChild(e),KD}function YD(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(JD()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function XD(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var eM=CO,tM=AO,nM=["onChange"],rM={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function iM(e){return $O("MuiSvgIcon",e)}qO("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var oM=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],aM=FP("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(xO(n.color))],t["fontSize".concat(xO(n.fontSize))]]}})((function(e){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,m,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(o=y.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(s=y.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=y.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[b.fontSize],color:null!=(f=null==(d=(y.vars||y).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(y.vars||y).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(y.vars||y).palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),sM=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,o=n.color,a=void 0===o?"inherit":o,s=n.component,u=void 0===s?"svg":s,c=n.fontSize,l=void 0===c?"medium":c,d=n.htmlColor,h=n.inheritViewBox,p=void 0!==h&&h,v=n.titleAccess,m=n.viewBox,g=void 0===m?"0 0 24 24":m,y=z(n,oM),b=f({},n,{color:a,component:u,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:g}),w={};p||(w.viewBox=g);var k=function(e){var t=e.color,n=e.fontSize,r=e.classes;return mO({root:["root","inherit"!==t&&"color".concat(xO(t)),"fontSize".concat(xO(n))]},iM,r)}(b);return(0,Ca.jsxs)(aM,f({as:u,className:vO(k.root,i),focusable:"false",color:d,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},w,y,{ownerState:b,children:[r,v?(0,Ca.jsx)("title",{children:v}):null]}))}));sM.muiName="SvgIcon";var uM=sM;function cM(e,t){function n(n,r){return(0,Ca.jsx)(uM,f({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=uM.muiName,s.memo(s.forwardRef(n))}var lM,fM=cM((0,Ca.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),dM=cM((0,Ca.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),hM=IO,pM=!0,vM=!1,mM={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function gM(e){e.metaKey||e.altKey||e.ctrlKey||(pM=!0)}function yM(){pM=!1}function bM(){"hidden"===this.visibilityState&&vM&&(pM=!0)}function wM(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return pM||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!mM[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var kM=function(){var e=s.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",gM,!0),t.addEventListener("mousedown",yM,!0),t.addEventListener("pointerdown",yM,!0),t.addEventListener("touchstart",yM,!0),t.addEventListener("visibilitychange",bM,!0))}),[]),t=s.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!wM(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(vM=!0,window.clearTimeout(lM),lM=window.setTimeout((function(){vM=!1}),100),t.current=!1,!0)},ref:e}};function xM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function SM(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),n}function _M(e,t,n){return null!=n[t]?n[t]:e.props[t]}function EM(e,t,n){var r=SM(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if((0,s.isValidElement)(a)){var u=o in t,c=o in r,l=t[o],f=(0,s.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,s.isValidElement)(l)&&(i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:_M(a,"exit",e),enter:_M(a,"enter",e)})):i[o]=(0,s.cloneElement)(a,{in:!1}):i[o]=(0,s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:_M(a,"exit",e),enter:_M(a,"enter",e)})}})),i}var CM=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},IM=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,ke.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,SM(n.children,(function(e){return(0,s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:_M(e,"appear",n),enter:_M(e,"enter",n),exit:_M(e,"exit",n)})}))):EM(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=SM(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=z(e,["component","childFactory"]),i=this.state.contextValue,o=CM(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.createElement(qP.Provider,{value:i},o):s.createElement(qP.Provider,{value:i},s.createElement(t,r,o))},t}(s.Component);IM.propTypes={},IM.defaultProps={component:"div",childFactory:function(e){return e}};var OM=IM,ZM=OT((function(e,t){var n=e.styles,r=ST([n],void 0,s.useContext(ZT)),i=s.useRef();return CT((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",e),n.hydrate([a])),i.current=[n,o],function(){n.flush()}}),[t]),CT((function(){var e=i.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&AT(t,r.next,!0),n.tags.length){var o=n.tags[n.tags.length-1].nextElementSibling;n.before=o,n.flush()}t.insert("",r,n,!1)}}),[t,r.name]),null}));function TM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ST(t)}var AM=function(){var e=TM.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var PM=function(e){var t=e.className,n=e.classes,r=e.pulsate,o=void 0!==r&&r,a=e.rippleX,u=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,d=e.timeout,h=s.useState(!1),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=vO(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),y={width:c,height:c,top:-c/2+u,left:-c/2+a},b=vO(n.child,v&&n.childLeaving,o&&n.childPulsate);return l||v||m(!0),s.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,l,d]),(0,Ca.jsx)("span",{className:g,style:y,children:(0,Ca.jsx)("span",{className:b})})};var RM,NM,jM,LM,DM,MM,FM,BM,UM=qO("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zM=["center","classes","className"],VM=AM(DM||(DM=RM||(RM=xM(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),HM=AM(MM||(MM=NM||(NM=xM(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),WM=AM(FM||(FM=jM||(jM=xM(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),$M=FP("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),qM=FP(PM,{name:"MuiTouchRipple",slot:"Ripple"})(BM||(BM=LM||(LM=xM(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),UM.rippleVisible,VM,550,(function(e){return e.theme.transitions.easing.easeInOut}),UM.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),UM.child,UM.childLeaving,HM,550,(function(e){return e.theme.transitions.easing.easeInOut}),UM.childPulsate,WM,(function(e){return e.theme.transitions.easing.easeInOut})),GM=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiTouchRipple"}),r=n.center,o=void 0!==r&&r,a=n.classes,u=void 0===a?{}:a,c=n.className,l=z(n,zM),d=s.useState([]),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=s.useRef(0),g=s.useRef(null);s.useEffect((function(){g.current&&(g.current(),g.current=null)}),[p]);var y=s.useRef(!1),b=s.useRef(null),w=s.useRef(null),k=s.useRef(null);s.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var x=s.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,o=e.cb;v((function(e){return[].concat((0,be.Z)(e),[(0,Ca.jsx)(qM,{classes:{ripple:vO(u.ripple,UM.ripple),rippleVisible:vO(u.rippleVisible,UM.rippleVisible),ripplePulsate:vO(u.ripplePulsate,UM.ripplePulsate),child:vO(u.child,UM.child),childLeaving:vO(u.childLeaving,UM.childLeaving),childPulsate:vO(u.childPulsate,UM.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,g.current=o}),[u]),S=s.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=t.pulsate,i=void 0!==r&&r,a=t.center,s=void 0===a?o||t.pulsate:a,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===(null==e?void 0:e.type)&&y.current)y.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(y.current=!0);var l,f,d,h=c?null:k.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,g=v.clientY;l=Math.round(m-p.left),f=Math.round(g-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var S=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,_=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(S,2)+Math.pow(_,2))}null!=e&&e.touches?null===w.current&&(w.current=function(){x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},b.current=setTimeout((function(){w.current&&(w.current(),w.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[o,x]),_=s.useCallback((function(){S({},{pulsate:!0})}),[S]),E=s.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===(null==e?void 0:e.type)&&w.current)return w.current(),w.current=null,void(b.current=setTimeout((function(){E(e,t)})));w.current=null,v((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return s.useImperativeHandle(t,(function(){return{pulsate:_,start:S,stop:E}}),[_,S,E]),(0,Ca.jsx)($M,f({className:vO(UM.root,u.root,c),ref:k},l,{children:(0,Ca.jsx)(OM,{component:null,exit:!0,children:p})}))})),KM=GM;function QM(e){return $O("MuiButtonBase",e)}var JM,YM=qO("MuiButtonBase",["root","disabled","focusVisible"]),XM=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],eF=FP("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((JM={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,we.Z)(JM,"&.".concat(YM.disabled),{pointerEvents:"none",cursor:"default"}),(0,we.Z)(JM,"@media print",{colorAdjust:"exact"}),JM)),tF=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiButtonBase"}),r=n.action,o=n.centerRipple,a=void 0!==o&&o,u=n.children,c=n.className,l=n.component,d=void 0===l?"button":l,h=n.disabled,p=void 0!==h&&h,v=n.disableRipple,m=void 0!==v&&v,g=n.disableTouchRipple,y=void 0!==g&&g,b=n.focusRipple,w=void 0!==b&&b,k=n.LinkComponent,x=void 0===k?"a":k,S=n.onBlur,_=n.onClick,E=n.onContextMenu,C=n.onDragLeave,I=n.onFocus,O=n.onFocusVisible,Z=n.onKeyDown,T=n.onKeyUp,A=n.onMouseDown,P=n.onMouseLeave,R=n.onMouseUp,N=n.onTouchEnd,j=n.onTouchMove,L=n.onTouchStart,D=n.tabIndex,M=void 0===D?0:D,F=n.TouchRippleProps,B=n.touchRippleRef,U=n.type,V=z(n,XM),H=s.useRef(null),W=s.useRef(null),$=oR(W,B),q=kM(),G=q.isFocusVisibleRef,K=q.onFocus,Q=q.onBlur,J=q.ref,Y=s.useState(!1),X=(0,i.Z)(Y,2),ee=X[0],te=X[1];p&&ee&&te(!1),s.useImperativeHandle(r,(function(){return{focusVisible:function(){te(!0),H.current.focus()}}}),[]);var ne=s.useState(!1),re=(0,i.Z)(ne,2),ie=re[0],oe=re[1];s.useEffect((function(){oe(!0)}),[]);var ae=ie&&!m&&!p;function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return hM((function(r){return t&&t(r),!n&&W.current&&W.current[e](r),!0}))}s.useEffect((function(){ee&&w&&!m&&ie&&W.current.pulsate()}),[m,w,ee,ie]);var ue=se("start",A),ce=se("stop",E),le=se("stop",C),fe=se("stop",R),de=se("stop",(function(e){ee&&e.preventDefault(),P&&P(e)})),he=se("start",L),pe=se("stop",N),ve=se("stop",j),me=se("stop",(function(e){Q(e),!1===G.current&&te(!1),S&&S(e)}),!1),ge=hM((function(e){H.current||(H.current=e.currentTarget),K(e),!0===G.current&&(te(!0),O&&O(e)),I&&I(e)})),ye=function(){var e=H.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},be=s.useRef(!1),we=hM((function(e){w&&!be.current&&ee&&W.current&&" "===e.key&&(be.current=!0,W.current.stop(e,(function(){W.current.start(e)}))),e.target===e.currentTarget&&ye()&&" "===e.key&&e.preventDefault(),Z&&Z(e),e.target===e.currentTarget&&ye()&&"Enter"===e.key&&!p&&(e.preventDefault(),_&&_(e))})),ke=hM((function(e){w&&" "===e.key&&W.current&&ee&&!e.defaultPrevented&&(be.current=!1,W.current.stop(e,(function(){W.current.pulsate(e)}))),T&&T(e),_&&e.target===e.currentTarget&&ye()&&" "===e.key&&!e.defaultPrevented&&_(e)})),xe=d;"button"===xe&&(V.href||V.to)&&(xe=x);var Se={};"button"===xe?(Se.type=void 0===U?"button":U,Se.disabled=p):(V.href||V.to||(Se.role="button"),p&&(Se["aria-disabled"]=p));var _e=oR(t,J,H);var Ee=f({},n,{centerRipple:a,component:d,disabled:p,disableRipple:m,disableTouchRipple:y,focusRipple:w,tabIndex:M,focusVisible:ee}),Ce=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=mO({root:["root",t&&"disabled",n&&"focusVisible"]},QM,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ee);return(0,Ca.jsxs)(eF,f({as:xe,className:vO(Ce.root,c),ownerState:Ee,onBlur:me,onClick:_,onContextMenu:ce,onFocus:ge,onKeyDown:we,onKeyUp:ke,onMouseDown:ue,onMouseLeave:de,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:he,ref:_e,tabIndex:p?-1:M,type:U},Se,V,{children:[u,ae?(0,Ca.jsx)(KM,f({ref:$,center:a},F)):null]}))})),nF=tF;function rF(e){return $O("MuiTabScrollButton",e)}var iF=qO("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),oF=["className","slots","slotProps","direction","orientation","disabled"],aF=FP(nF,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return f((0,we.Z)({width:40,flexShrink:0,opacity:.8},"&.".concat(iF.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),sF=s.forwardRef((function(e,t){var n,r,i=WP({props:e,name:"MuiTabScrollButton"}),o=i.className,a=i.slots,s=void 0===a?{}:a,u=i.slotProps,c=void 0===u?{}:u,l=i.direction,d=z(i,oF),h=f({isRtl:"rtl"===nR().direction},i),p=function(e){var t=e.classes;return mO({root:["root",e.orientation,e.disabled&&"disabled"]},rF,t)}(h),v=null!=(n=s.StartScrollButtonIcon)?n:fM,m=null!=(r=s.EndScrollButtonIcon)?r:dM,g=eZ({elementType:v,externalSlotProps:c.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h}),y=eZ({elementType:m,externalSlotProps:c.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:h});return(0,Ca.jsx)(aF,f({component:"div",className:vO(p.root,o),ref:t,role:null,ownerState:h,tabIndex:null},d,{children:"left"===l?(0,Ca.jsx)(v,f({},g)):(0,Ca.jsx)(m,f({},y))}))}));function uF(e){return $O("MuiTabs",e)}var cF=qO("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),lF=EO,fF=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],dF=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},hF=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},pF=function(e,t,n){for(var r=!1,i=n(e,t);i;){if(i===e.firstChild){if(r)return;r=!0}var o=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!o)return void i.focus();i=n(e,i)}},vF=FP("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,we.Z)({},"& .".concat(cF.scrollButtons),t.scrollButtons),(0,we.Z)({},"& .".concat(cF.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return f({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&(0,we.Z)({},"& .".concat(cF.scrollButtons),(0,we.Z)({},n.breakpoints.down("sm"),{display:"none"})))})),mF=FP("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return f({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),gF=FP("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return f({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),yF=FP("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return f({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),bF=FP((function(e){var t=e.onChange,n=z(e,nM),r=s.useRef(),i=s.useRef(null),o=function(){r.current=i.current.offsetHeight-i.current.clientHeight};return eM((function(){var e=QD((function(){var e=r.current;o(),e!==r.current&&t(r.current)})),n=tM(i.current);return n.addEventListener("resize",e),function(){e.clear(),n.removeEventListener("resize",e)}}),[t]),s.useEffect((function(){o(),t(r.current)}),[t]),(0,Ca.jsx)("div",f({style:rM,ref:i},n))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),wF={},kF=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiTabs"}),r=nR(),o="rtl"===r.direction,a=n["aria-label"],u=n["aria-labelledby"],c=n.action,l=n.centered,d=void 0!==l&&l,h=n.children,p=n.className,v=n.component,m=void 0===v?"div":v,g=n.allowScrollButtonsMobile,y=void 0!==g&&g,b=n.indicatorColor,w=void 0===b?"primary":b,k=n.onChange,x=n.orientation,S=void 0===x?"horizontal":x,_=n.ScrollButtonComponent,E=void 0===_?sF:_,C=n.scrollButtons,I=void 0===C?"auto":C,O=n.selectionFollowsFocus,Z=n.slots,T=void 0===Z?{}:Z,A=n.slotProps,P=void 0===A?{}:A,R=n.TabIndicatorProps,N=void 0===R?{}:R,j=n.TabScrollButtonProps,L=void 0===j?{}:j,D=n.textColor,M=void 0===D?"primary":D,F=n.value,B=n.variant,U=void 0===B?"standard":B,V=n.visibleScrollbar,H=void 0!==V&&V,W=z(n,fF),$="scrollable"===U,q="vertical"===S,G=q?"scrollTop":"scrollLeft",K=q?"top":"left",Q=q?"bottom":"right",J=q?"clientHeight":"clientWidth",Y=q?"height":"width",X=f({},n,{component:m,allowScrollButtonsMobile:y,indicatorColor:w,orientation:S,vertical:q,scrollButtons:I,textColor:M,variant:U,visibleScrollbar:H,fixed:!$,hideScrollbar:$&&!H,scrollableX:$&&!q,scrollableY:$&&q,centered:d&&!$,scrollButtonsHideMobile:!y}),ee=function(e){var t=e.vertical,n=e.fixed,r=e.hideScrollbar,i=e.scrollableX;return mO({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",e.scrollableY&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",e.centered&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",e.scrollButtonsHideMobile&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},uF,e.classes)}(X),te=eZ({elementType:T.StartScrollButtonIcon,externalSlotProps:P.startScrollButtonIcon,ownerState:X}),ne=eZ({elementType:T.EndScrollButtonIcon,externalSlotProps:P.endScrollButtonIcon,ownerState:X});var re=s.useState(!1),ie=(0,i.Z)(re,2),oe=ie[0],ae=ie[1],se=s.useState(wF),ue=(0,i.Z)(se,2),ce=ue[0],le=ue[1],fe=s.useState({start:!1,end:!1}),de=(0,i.Z)(fe,2),he=de[0],pe=de[1],ve=s.useState({overflow:"hidden",scrollbarWidth:0}),me=(0,i.Z)(ve,2),ge=me[0],ye=me[1],be=new Map,ke=s.useRef(null),xe=s.useRef(null),Se=function(){var e,t,n=ke.current;if(n){var i=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:YD(n,r.direction),scrollWidth:n.scrollWidth,top:i.top,bottom:i.bottom,left:i.left,right:i.right}}if(n&&!1!==F){var o=xe.current.children;if(o.length>0){var a=o[be.get(F)];0,t=a?a.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},_e=hM((function(){var e,t,n=Se(),r=n.tabsMeta,i=n.tabMeta,a=0;if(q)t="top",i&&r&&(a=i.top-r.top+r.scrollTop);else if(t=o?"right":"left",i&&r){var s=o?r.scrollLeftNormalized+r.clientWidth-r.scrollWidth:r.scrollLeft;a=(o?-1:1)*(i[t]-r[t]+s)}var u=(e={},(0,we.Z)(e,t,a),(0,we.Z)(e,Y,i?i[Y]:0),e);if(isNaN(ce[t])||isNaN(ce[Y]))le(u);else{var c=Math.abs(ce[t]-u[t]),l=Math.abs(ce[Y]-u[Y]);(c>=1||l>=1)&&le(u)}})),Ee=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).animation;void 0===t||t?function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,a=void 0===o?XD:o,s=r.duration,u=void 0===s?300:s,c=null,l=t[e],f=!1,d=function(){f=!0};l===n?i(new Error("Element already at target position")):requestAnimationFrame((function r(o){if(f)i(new Error("Animation cancelled"));else{null===c&&(c=o);var s=Math.min(1,(o-c)/u);t[e]=a(s)*(n-l)+l,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}}))}(G,ke.current,e,{duration:r.transitions.duration.standard}):ke.current[G]=e},Ce=function(e){var t=ke.current[G];q?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===JD()?-1:1),Ee(t)},Ie=function(){for(var e=ke.current[J],t=0,n=Array.from(xe.current.children),r=0;r<n.length;r+=1){var i=n[r];if(t+i[J]>e){0===r&&(t=e);break}t+=i[J]}return t},Oe=function(){Ce(-1*Ie())},Ze=function(){Ce(Ie())},Te=s.useCallback((function(e){ye({overflow:null,scrollbarWidth:e})}),[]),Ae=hM((function(e){var t=Se(),n=t.tabsMeta,r=t.tabMeta;if(r&&n)if(r[K]<n[K]){var i=n[G]+(r[K]-n[K]);Ee(i,{animation:e})}else if(r[Q]>n[Q]){var o=n[G]+(r[Q]-n[Q]);Ee(o,{animation:e})}})),Pe=hM((function(){if($&&!1!==I){var e,t,n=ke.current,i=n.scrollTop,a=n.scrollHeight,s=n.clientHeight,u=n.scrollWidth,c=n.clientWidth;if(q)e=i>1,t=i<a-s-1;else{var l=YD(ke.current,r.direction);e=o?l<u-c-1:l>1,t=o?l>1:l<u-c-1}e===he.start&&t===he.end||pe({start:e,end:t})}}));s.useEffect((function(){var e,t=QD((function(){ke.current&&(_e(),Pe())})),n=tM(ke.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t),Array.from(xe.current.children).forEach((function(t){e.observe(t)}))),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[_e,Pe]);var Re=s.useMemo((function(){return QD((function(){Pe()}))}),[Pe]);s.useEffect((function(){return function(){Re.clear()}}),[Re]),s.useEffect((function(){ae(!0)}),[]),s.useEffect((function(){_e(),Pe()})),s.useEffect((function(){Ae(wF!==ce)}),[Ae,ce]),s.useImperativeHandle(c,(function(){return{updateIndicator:_e,updateScrollButtons:Pe}}),[_e,Pe]);var Ne=(0,Ca.jsx)(yF,f({},N,{className:vO(ee.indicator,N.className),ownerState:X,style:f({},ce,N.style)})),je=0,Le=s.Children.map(h,(function(e){if(!s.isValidElement(e))return null;var t=void 0===e.props.value?je:e.props.value;be.set(t,je);var n=t===F;return je+=1,s.cloneElement(e,f({fullWidth:"fullWidth"===U,indicator:n&&!oe&&Ne,selected:n,selectionFollowsFocus:O,onChange:k,textColor:M,value:t},1!==je||!1!==F||e.props.tabIndex?{}:{tabIndex:0}))})),De=function(){var e={};e.scrollbarSizeListener=$?(0,Ca.jsx)(bF,{onChange:Te,className:vO(ee.scrollableX,ee.hideScrollbar)}):null;var t=he.start||he.end,n=$&&("auto"===I&&t||!0===I);return e.scrollButtonStart=n?(0,Ca.jsx)(E,f({slots:{StartScrollButtonIcon:T.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:te},orientation:S,direction:o?"right":"left",onClick:Oe,disabled:!he.start},L,{className:vO(ee.scrollButtons,L.className)})):null,e.scrollButtonEnd=n?(0,Ca.jsx)(E,f({slots:{EndScrollButtonIcon:T.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:ne},orientation:S,direction:o?"left":"right",onClick:Ze,disabled:!he.end},L,{className:vO(ee.scrollButtons,L.className)})):null,e}();return(0,Ca.jsxs)(vF,f({className:vO(ee.root,p),ownerState:X,ref:t,as:m},W,{children:[De.scrollButtonStart,De.scrollbarSizeListener,(0,Ca.jsxs)(mF,{className:ee.scroller,ownerState:X,style:(0,we.Z)({overflow:ge.overflow},q?"margin".concat(o?"Left":"Right"):"marginBottom",H?void 0:-ge.scrollbarWidth),ref:ke,onScroll:Re,children:[(0,Ca.jsx)(gF,{"aria-label":a,"aria-labelledby":u,"aria-orientation":"vertical"===S?"vertical":null,className:ee.flexContainer,ownerState:X,onKeyDown:function(e){var t=xe.current,n=lF(t).activeElement;if("tab"===n.getAttribute("role")){var r="horizontal"===S?"ArrowLeft":"ArrowUp",i="horizontal"===S?"ArrowRight":"ArrowDown";switch("horizontal"===S&&o&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),pF(t,n,hF);break;case i:e.preventDefault(),pF(t,n,dF);break;case"Home":e.preventDefault(),pF(t,null,dF);break;case"End":e.preventDefault(),pF(t,null,hF)}}},ref:xe,role:"tablist",children:Le}),oe&&Ne]}),De.scrollButtonEnd]}))})),xF=kF;function SF(e){return $O("MuiTab",e)}var _F=qO("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),EF=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],CF=FP(nF,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat(xO(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return f({},i.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:"top"===o.iconPosition||"bottom"===o.iconPosition?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&(0,we.Z)({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(_F.iconWrapper),f({},"top"===o.iconPosition&&{marginBottom:6},"bottom"===o.iconPosition&&{marginTop:6},"start"===o.iconPosition&&{marginRight:i.spacing(1)},"end"===o.iconPosition&&{marginLeft:i.spacing(1)})),"inherit"===o.textColor&&(t={color:"inherit",opacity:.6},(0,we.Z)(t,"&.".concat(_F.selected),{opacity:1}),(0,we.Z)(t,"&.".concat(_F.disabled),{opacity:(i.vars||i).palette.action.disabledOpacity}),t),"primary"===o.textColor&&(n={color:(i.vars||i).palette.text.secondary},(0,we.Z)(n,"&.".concat(_F.selected),{color:(i.vars||i).palette.primary.main}),(0,we.Z)(n,"&.".concat(_F.disabled),{color:(i.vars||i).palette.text.disabled}),n),"secondary"===o.textColor&&(r={color:(i.vars||i).palette.text.secondary},(0,we.Z)(r,"&.".concat(_F.selected),{color:(i.vars||i).palette.secondary.main}),(0,we.Z)(r,"&.".concat(_F.disabled),{color:(i.vars||i).palette.text.disabled}),r),o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:i.typography.pxToRem(12)})})),IF=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiTab"}),r=n.className,i=n.disabled,o=void 0!==i&&i,a=n.disableFocusRipple,u=void 0!==a&&a,c=n.fullWidth,l=n.icon,d=n.iconPosition,h=void 0===d?"top":d,p=n.indicator,v=n.label,m=n.onChange,g=n.onClick,y=n.onFocus,b=n.selected,w=n.selectionFollowsFocus,k=n.textColor,x=void 0===k?"inherit":k,S=n.value,_=n.wrapped,E=void 0!==_&&_,C=z(n,EF),I=f({},n,{disabled:o,disableFocusRipple:u,selected:b,icon:!!l,iconPosition:h,label:!!v,fullWidth:c,textColor:x,wrapped:E}),O=function(e){var t=e.classes,n=e.textColor,r=e.fullWidth,i=e.wrapped,o=e.icon,a=e.label,s=e.selected,u=e.disabled;return mO({root:["root",o&&a&&"labelIcon","textColor".concat(xO(n)),r&&"fullWidth",i&&"wrapped",s&&"selected",u&&"disabled"],iconWrapper:["iconWrapper"]},SF,t)}(I),Z=l&&v&&s.isValidElement(l)?s.cloneElement(l,{className:vO(O.iconWrapper,l.props.className)}):l;return(0,Ca.jsxs)(CF,f({focusRipple:!u,className:vO(O.root,r),ref:t,role:"tab","aria-selected":b,disabled:o,onClick:function(e){!b&&m&&m(e,S),g&&g(e)},onFocus:function(e){w&&!b&&m&&m(e,S),y&&y(e)},ownerState:I,tabIndex:b?0:-1},C,{children:["top"===h||"start"===h?(0,Ca.jsxs)(s.Fragment,{children:[Z,v]}):(0,Ca.jsxs)(s.Fragment,{children:[v,Z]}),p]}))}));function OF(e){return uO({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M157.27,21.22a12,12,0,0,0-12.64,1.31L75.88,76H32A20,20,0,0,0,12,96v64a20,20,0,0,0,20,20H75.88l68.75,53.47A12,12,0,0,0,164,224V32A12,12,0,0,0,157.27,21.22ZM36,100H68v56H36Zm104,99.46L92,162.13V93.87l48-37.33ZM212,128a44,44,0,0,1-11,29.11,12,12,0,1,1-18-15.88,20,20,0,0,0,0-26.43,12,12,0,0,1,18-15.86A43.94,43.94,0,0,1,212,128Zm40,0a83.87,83.87,0,0,1-21.39,56,12,12,0,0,1-17.89-16,60,60,0,0,0,0-80,12,12,0,1,1,17.88-16A83.87,83.87,0,0,1,252,128Z"}}]})(e)}var ZF=function(e){var t=e.style,n=e.onClick;return(0,Ca.jsx)("div",{children:(0,Ca.jsx)(OF,{style:t,className:"audio-icon",onClick:n})})};function TF(e){var t=e.message,n=e.fontSize,r=e.onClick;return(0,Ca.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"2vw",borderRadius:"2vh",padding:"1vw 1vw 1vw 1vw",color:"black",width:"100%",lineHeight:"4vh",paddingBottom:"2vh"},children:[(0,Ca.jsx)(ZF,{style:{fontSize:"4vw",padding:"1%",color:"#474747",backgroundColor:"white",borderRadius:"100%",border:"2px solid #474747",borderBottom:"4.5px solid #474747"},onClick:r}),(0,Ca.jsx)("p",{style:{fontSize:n},children:t})]})}var AF=function(e){var t=e.buttonWidth,n=e.buttonHeight,r=e.text,i=e.fontSize,o=e.onHeaderIconClick,a=e.className,s=e.padding;return(0,Ca.jsx)("div",{className:a,onClick:o,style:{width:t,height:n,padding:s+"vh"},children:(0,Ca.jsx)("p",{style:{fontSize:i+"vh"},children:zE(r)})})},PF=function(e){return e[e.Welcome=0]="Welcome",e[e.CourseSuggestion=1]="CourseSuggestion",e[e.RecommendedLesson=2]="RecommendedLesson",e[e.ChapterSuggestion=3]="ChapterSuggestion",e[e.LessonSuggestion=4]="LessonSuggestion",e[e.TwoOptionQuestion=5]="TwoOptionQuestion",e[e.FourOptionQuestion=6]="FourOptionQuestion",e[e.ShowWeeklyProgress=7]="ShowWeeklyProgress",e[e.collectReward=8]="collectReward",e[e.GoodProgress=9]="GoodProgress",e[e.BadProgress=10]="BadProgress",e}({}),RF=function(){function e(){(0,_e.Z)(this,e),this._mode=void 0,this._message=void 0,this._imageSrc=void 0,this._audioSrc=void 0,this._avatarAnimation=void 0,this._yesAnimation=void 0,this._noAnimation=void 0,this._questionType=void 0,this._answer=void 0,this._option1=void 0,this._option2=void 0,this._option3=void 0,this._option4=void 0,this._nextMode=void 0,this._currentSuggestionNumber=void 0,this._allSuggestions=void 0,this.unlockedRewards=void 0,this.currentCourse=void 0,this.currentChapter=void 0,this.currentLesson=void 0,this.currentLessonSuggestionIndex=void 0,this.currentRecommendedLessonIndex=0,this.weeklyProgressGoal=25,this.weeklyTimeSpent={min:0,sec:0},this.weeklyPlayedLesson=0,this.wrongAttempts=0,this.gamifyTimespentMessage="Play ' x1 ' to win your weekly reward",this.suggestionConstant=function(){var e=HI.getCurrentStudent();return(null===e||void 0===e?void 0:e.docId)+"-currentAvatarSuggestion"}}return(0,Ee.Z)(e,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e}},{key:"message",get:function(){return this._message},set:function(e){this._message=e}},{key:"imageSrc",get:function(){return this._imageSrc},set:function(e){this._imageSrc=e}},{key:"audioSrc",get:function(){return this._audioSrc},set:function(e){this._avatarAnimation=e}},{key:"avatarAnimation",get:function(){return this._avatarAnimation},set:function(e){this._avatarAnimation=e}},{key:"yesAnimation",get:function(){return this._yesAnimation},set:function(e){this._yesAnimation=e}},{key:"noAnimation",get:function(){return this._noAnimation},set:function(e){this._noAnimation=e}},{key:"nextMode",get:function(){return this._nextMode},set:function(e){this._nextMode=e}},{key:"questionType",get:function(){return this._questionType},set:function(e){this._questionType=e}},{key:"answer",get:function(){return this._answer},set:function(e){this._answer=e}},{key:"option1",get:function(){return this._option1},set:function(e){this._option1=e}},{key:"option2",get:function(){return this._option2},set:function(e){this._option2=e}},{key:"option3",get:function(){return this._option3},set:function(e){this._option3=e}},{key:"option4",get:function(){return this._option4},set:function(e){this._option4=e}},{key:"currentSuggestionNumber",get:function(){return this._currentSuggestionNumber},set:function(e){this._currentSuggestionNumber=e}},{key:"allSuggestions",get:function(){return this._allSuggestions},set:function(e){this._allSuggestions=e}},{key:"getCurrentSuggestionNo",value:function(){var e=Number(localStorage.getItem(this.suggestionConstant()));return this._currentSuggestionNumber=e,e}},{key:"loadAvatarData",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem(ka),!(this.unlockedRewards&&(null===(n=this.unlockedRewards)||void 0===n?void 0:n.length)>0)){e.next=8;break}return this.mode=PF.collectReward,this.avatarAnimation="Success",e.abrupt("return");case 8:if("true"!==r){e.next=23;break}if(!(60*this.weeklyTimeSpent.min<60*this.weeklyProgressGoal)){e.next=13;break}return e.next=12,this.loadAvatarWeeklyProgressData();case 12:return e.abrupt("return");case 13:if(!(60*this.weeklyTimeSpent.min>=60*this.weeklyProgressGoal)){e.next=23;break}return localStorage.setItem(ka,"false"),e.next=17,HI.unlockWeeklySticker();case 17:if(!e.sent){e.next=23;break}if(!(this.unlockedRewards&&(null===(i=this.unlockedRewards)||void 0===i?void 0:i.length)>0)){e.next=23;break}return this.mode=PF.collectReward,this.avatarAnimation="Success",e.abrupt("return");case 23:if(this._allSuggestions){e.next=33;break}return this._currentSuggestionNumber||(this._currentSuggestionNumber=0),"assets/animation/avatarSugguestions.json",e.next=28,fetch("assets/animation/avatarSugguestions.json");case 28:return o=e.sent,e.next=31,o.json();case 31:a=e.sent,this._allSuggestions=a.data;case 33:s=this.getCurrentSuggestionNo(),u=this._allSuggestions[s],this._mode=PF[u[0]],this._message=u[1],this._imageSrc=u[2],this._audioSrc=u[3],this._avatarAnimation=u[4],this._yesAnimation=u[5],this._noAnimation=u[6],this._questionType=u[7],this._answer=u[8],this._option1=u[9],this._option2=u[10],this._option3=u[11],this._option4=u[12],e.next=53;break;case 50:e.prev=50,e.t0=e.catch(0),console.log("Failed to load Avatar Data",e.t0);case 53:case"end":return e.stop()}}),e,this,[[0,50]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadAvatarNextSuggestion",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._currentSuggestionNumber===this._allSuggestions.length-1?(this._currentSuggestionNumber=0,localStorage.setItem(this.suggestionConstant(),this._currentSuggestionNumber.toString())):(this.currentSuggestionNumber++,localStorage.setItem(this.suggestionConstant(),this._currentSuggestionNumber.toString())),n=this._allSuggestions[this._currentSuggestionNumber],this._mode=PF[n[0]],this._message=n[1],this._imageSrc=n[2],this._audioSrc=n[3],this._avatarAnimation=n[4],this._yesAnimation=n[5],this._noAnimation=n[6],this._questionType=n[7],this._answer=n[8],this._option1=n[9],this._option2=n[10],this._option3=n[11],this._option4=n[12];case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadAvatarWeeklyProgressData",value:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,u,c,l,f;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,HI.getCurrentStudent();case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return");case 6:return r=nO.getI().apiHandler,e.next=9,r.getStudentResult(n.docId);case 9:if(void 0==(null===(i=e.sent)||void 0===i?void 0:i.classes)){e.next=16;break}return e.next=13,r.getLeaderboardResults(null===i||void 0===i?void 0:i.classes[0],_o.WEEKLY);case 13:o=e.sent,e.next=19;break;case 16:return e.next=18,r.getLeaderboardStudentResultFromB2CCollection(n.docId);case 18:o=e.sent;case 19:if(o){e.next=24;break}return this.weeklyTimeSpent={min:0,sec:0},this.weeklyPlayedLesson=0,this._mode=PF.ShowWeeklyProgress,e.abrupt("return");case 24:if(a=o.weekly){e.next=30;break}return this.weeklyTimeSpent={min:0,sec:0},this.weeklyPlayedLesson=0,this._mode=PF.ShowWeeklyProgress,e.abrupt("return");case 30:s=0;case 31:if(!(s<a.length)){e.next=45;break}if(u=a[s],n.docId!=u.userId){e.next=42;break}if(c=u.timeSpent,l=Math.floor(c/60),f=c%60,60*this.weeklyTimeSpent.min+this.weeklyTimeSpent.sec<=60*l+f&&(this.weeklyTimeSpent.min=l,this.weeklyTimeSpent.sec=f,this.weeklyPlayedLesson=u.lessonsPlayed),!(u.timeSpent>=60*this.weeklyProgressGoal)){e.next=41;break}return localStorage.setItem(ka,"false"),e.abrupt("return");case 41:this.message=zE(this.gamifyTimespentMessage).replace("x1",l.toString()+" min and "+f+" sec");case 42:s++,e.next=31;break;case 45:this._mode=PF.ShowWeeklyProgress,e.next=51;break;case 48:e.prev=48,e.t0=e.catch(0),console.log("loadAvatarWeeklyProgressData error ",e.t0);case 51:case"end":return e.stop()}}),e,this,[[0,48]])})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return this._i||(this._i=new e),this._i}},{key:"destroyInstance",value:function(){this._i&&(this._i=void 0)}}]),e}();RF._i=void 0;var NF=function(e,t){return NF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},NF(e,t)};var jF=function(){return jF=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jF.apply(this,arguments)};var LF=50,DF=50;function MF(e){var t=e.className,n=e.counterClockwise,r=e.dashRatio,i=e.pathRadius,o=e.strokeWidth,a=e.style;return(0,s.createElement)("path",{className:t,style:Object.assign({},a,BF({pathRadius:i,dashRatio:r,counterClockwise:n})),d:FF({pathRadius:i,counterClockwise:n}),strokeWidth:o,fillOpacity:0})}function FF(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M "+LF+","+DF+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function BF(e){var t=e.counterClockwise,n=e.dashRatio,r=e.pathRadius,i=2*Math.PI*r,o=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-o:o)+"px"}}var UF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}NF(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,n),r)-n)/(r-n)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,n=e.className,r=e.classes,i=e.counterClockwise,o=e.styles,a=e.strokeWidth,u=e.text,c=this.getPathRadius(),l=this.getPathRatio();return(0,s.createElement)("svg",{className:r.root+" "+n,style:o.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,s.createElement)("circle",{className:r.background,style:o.background,cx:LF,cy:DF,r:50}):null,(0,s.createElement)(MF,{className:r.trail,counterClockwise:i,dashRatio:t,pathRadius:c,strokeWidth:a,style:o.trail}),(0,s.createElement)(MF,{className:r.path,counterClockwise:i,dashRatio:l*t,pathRadius:c,strokeWidth:a,style:o.path}),u?(0,s.createElement)("text",{className:r.text,style:o.text,x:LF,y:DF},u):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},t}(s.Component);function zF(e){e.children;var t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(e,["children"]);return(0,s.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren"},(0,s.createElement)("div",{style:{position:"relative",width:"100%",height:"100%"}},(0,s.createElement)(UF,jF({},t)),e.children?(0,s.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},e.children):null))}function VF(e){var t=e.rotation,n=e.strokeLinecap,r=e.textColor,i=e.textSize,o=e.pathColor,a=e.pathTransition,s=e.pathTransitionDuration,u=e.trailColor,c=e.backgroundColor,l=null==t?void 0:"rotate("+t+"turn)",f=null==t?void 0:"center center";return{root:{},path:HF({stroke:o,strokeLinecap:n,transform:l,transformOrigin:f,transition:a,transitionDuration:null==s?void 0:s+"s"}),trail:HF({stroke:u,strokeLinecap:n,transform:l,transformOrigin:f}),text:HF({fill:r,fontSize:i}),background:HF({fill:c})}}function HF(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}var WF=function(e){var t,n,r,o=e.currentMode,a=e.currtStageMode,u=e.currentCourse,c=e.currentChapter,l=e.currentLesson,f=e.avatarObj,d=(me(),null),h=(0,s.useState)(0),p=(0,i.Z)(h,2),v=(p[0],p[1]),m=(0,s.useState)(""),g=(0,i.Z)(m,2),y=g[0],b=g[1];switch((0,s.useEffect)((function(){var e=Math.floor(Math.random()*Lo.length);b(jo[Math.floor(Math.random()*jo.length)]),v(e)}),[]),o){case PF.collectReward:d=x(null===(t=f.unlockedRewards[0])||void 0===t?void 0:t.image,null===(n=f.unlockedRewards[0])||void 0===n?void 0:n.image,null===(r=f.unlockedRewards[0])||void 0===r?void 0:r.image);break;case PF.ShowWeeklyProgress:var w=(60*f.weeklyTimeSpent.min+f.weeklyTimeSpent.sec)/(60*f.weeklyProgressGoal)*100;(!w||w<0)&&(w=0),d=(0,Ca.jsx)("div",{style:{width:"40vh",marginLeft:"auto",marginRight:"auto"},children:(0,Ca.jsx)(UF,{value:w,text:"".concat(f.weeklyTimeSpent.min," ").concat(zE("min")," : ").concat(f.weeklyTimeSpent.sec," ").concat(zE("sec")),styles:{root:{},path:{stroke:"#678e21",strokeLinecap:"butt",transition:"stroke-dashoffset 0.5s ease 0s",transformOrigin:"center center"},trail:{stroke:"#d6d6d6",strokeLinecap:"butt",transform:"rotate(0.25turn)",transformOrigin:"center center"},text:{fill:"#000",fontSize:"8px"},background:{fill:"#3e98c7"}}})});break;case PF.CourseSuggestion:switch(a){case PF.CourseSuggestion:var k;if(u)d=x("courses/chapter_icons/".concat(u.courseCode,".png"),"courses/maths/icons/maths10.png",null!==(k=u.thumbnail)&&void 0!==k?k:"");break;case PF.ChapterSuggestion:u&&c&&(d=x("courses/".concat(u.courseCode,"/icons/").concat(c.id,".webp"),"courses/en/icons/en38.webp",c.thumbnail));break;case PF.LessonSuggestion:u&&c&&l&&(d=x("courses/"+l.cocosSubjectCode+"/icons/"+l.id+".webp","courses/en/icons/en38.webp",l.thumbnail))}break;case PF.TwoOptionQuestion:case PF.FourOptionQuestion:d=x("","",RF.getInstance().imageSrc||"");break;case PF.RecommendedLesson:l&&(d=x("courses/"+l.cocosSubjectCode+"/icons/"+l.id+".webp","courses/en/icons/en38.webp",l.thumbnail));break;default:d=(0,Ca.jsx)("div",{style:{width:"40vh",marginLeft:"auto",marginRight:"auto"}})}function x(e,t,n){var r="40vw",i="40vh";return(0,Ca.jsxs)("div",{style:{background:y,height:i,display:"grid",justifyContent:"center",gridArea:"1/1"},color:y,children:[(0,Ca.jsx)("div",{style:{width:r,display:"grid",justifyContent:"center",gridArea:"1/1"},children:(0,Ca.jsx)(hO,{localSrc:"courses/sl_en1_mp/icons/ChallengePattern.png",defaultSrc:"courses/sl_en1_mp/icons/ChallengePattern.png",webSrc:"https://firebasestorage.googleapis.com/v0/b/cuba-stage.appspot.com/o/lesson_thumbnails%2FlessonCaredPattern%2FChallengePattern.png?alt=media&token=be64aec1-f70f-43c3-95de-fd4b1afe5806",imageWidth:"100%",imageHeight:"80%"})}),(0,Ca.jsx)("div",{style:{width:r,height:i,display:"flex",justifyContent:"center",alignItems:"center",gridArea:"1/1 / span 2 / span 2",textAlign:"center"},children:(0,Ca.jsx)(hO,{localSrc:e,defaultSrc:t,webSrc:n,imageWidth:"80%",imageHeight:"80%",webImageWidth:o===PF.FourOptionQuestion||o===PF.TwoOptionQuestion?"16vw":"15vw",webImageHeight:"100%"})})]})}return d},$F=(0,wo.fo)("TextToSpeech",{web:function(){return n.e(154).then(n.bind(n,6154)).then((function(e){return new e.TextToSpeechWeb}))}});"speechSynthesis"in window&&window.speechSynthesis;var qF=n(6188),GF=function(e){var n,o=e.recommadedSuggestion,a=e.style,u=RF.getInstance(),c=(0,s.useState)(u.mode||PF.Welcome),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=(0,s.useState)([]),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=(0,s.useState)(b[0]),x=(0,i.Z)(k,2),S=x[0],_=x[1],E=(0,s.useState)(),C=(0,i.Z)(E,2),I=C[0],O=C[1],Z=(0,s.useState)(),T=(0,i.Z)(Z,2),A=T[0],P=T[1],R=(0,s.useState)(!1),N=(0,i.Z)(R,2),j=N[0],L=N[1],D=(0,s.useState)(!0),M=(0,i.Z)(D,2),F=M[0],B=M[1],U=(0,s.useState)("Fail"),z=(0,i.Z)(U,2),V=z[0],H=(z[1],me()),W="State Machine 1",$=(0,s.useState)(!1),q=(0,i.Z)($,2),G=q[0],K=q[1],Q=(0,qF.useRive)({src:"/assets/animation/chimplecharacter.riv",stateMachines:W,layout:new qF.Layout({fit:qF.Fit.Cover}),animations:V,autoplay:!0}),J=Q.rive,Y=Q.RiveComponent,X=(0,qF.useStateMachineInput)(J,W,V);(0,s.useEffect)((function(){te()}),[f]),(0,s.useEffect)((function(){return se(),function(){je(),K(!0)}}),[]);var ee=nO.getI().apiHandler;function te(){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!0),u.wrongAttempts=0,e.next=4,u.loadAvatarData();case 4:if(d(u.mode),u.mode!==PF.CourseSuggestion){e.next=16;break}return b&&0!==b.length||se(),m(PF.CourseSuggestion),e.next=10,xe();case 10:le=e.sent,_(le),r=(null===(n=le)||void 0===n?void 0:n.title)||"",ie=zE("Do you want to play 'x1' course?").replace("x1"," "+r+" "),e.next=17;break;case 16:u.mode===PF.RecommendedLesson?((!u.currentRecommendedLessonIndex||u.currentRecommendedLessonIndex>=o.length)&&(u.currentRecommendedLessonIndex=0),P(o[u.currentRecommendedLessonIndex]),a=(null===(i=o[u.currentRecommendedLessonIndex])||void 0===i?void 0:i.title)||"",ie=zE("Do you want to play 'x3' lesson?").replace("x3"," "+a+" ").replace("lesson",o[u.currentRecommendedLessonIndex].assignment?"assignment":"lesson")):ie||(ie=zE("Hi! Welcome to Chimple"));case 17:if(!G){e.next=20;break}return e.next=20,Ne(ie);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var re=[],ie="";function oe(){return ae.apply(this,arguments)}function ae(){return(ae=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return u.wrongAttempts=0,e.next=5,u.loadAvatarNextSuggestion();case 5:if(d(u.mode),u.mode!==PF.CourseSuggestion){e.next=12;break}return m(PF.CourseSuggestion),e.next=10,xe();case 10:le=e.sent,_(le);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!he){e.next=2;break}return e.abrupt("return");case 2:if(!(n=HI.getCurrentStudent())){e.next=11;break}return e.next=6,ee.getCoursesForParentsStudent(n);case 6:(r=e.sent)&&(w(r),he=r),i=localStorage.getItem("".concat(n.docId,"-").concat(Xo)),i?JSON.parse(i):{},S||_(b[0]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ue(){return ce.apply(this,arguments)}function ce(){return(ce=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(!1),null===J||void 0===J||J.play(u.yesAnimation),re=[],null===X||void 0===X||X.fire();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le,fe,de,he,pe=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u.yesAnimation,100,n=0;n<22;)null===J||void 0===J||J.play(u.yesAnimation),console.log("audio testing",Me,Le),n++;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J?pe():console.log("Rive component not fully initialized yet"),Le){e.next=4;break}return e.next=4,Ne();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ge(){return ye.apply(this,arguments)}function ye(){return(ye=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.mode!==PF.CourseSuggestion&&u.mode!==PF.ChapterSuggestion&&u.mode!==PF.LessonSuggestion&&u.mode!==PF.RecommendedLesson||u.wrongAttempts++,B(!1),null===J||void 0===J||J.play(u.noAnimation),re=[],null===X||void 0===X||X.fire(),!(u.wrongAttempts>=3)){e.next=9;break}return e.next=8,oe();case 8:return e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,c,l,d,h,p,g,y,b,w,k=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k.length>1&&void 0!==k[1]?k[1]:"",F){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,new Promise((function(e){return setTimeout(e,200)}));case 5:L(!0),e.t0=f,e.next=e.t0===PF.collectReward?9:e.t0===PF.ShowWeeklyProgress?11:e.t0===PF.Welcome?21:e.t0===PF.CourseSuggestion?29:e.t0===PF.TwoOptionQuestion?101:e.t0===PF.FourOptionQuestion?114:e.t0===PF.RecommendedLesson?128:146;break;case 9:return n&&(B(!1),null===J||void 0===J||J.play(u.avatarAnimation),re=[],null===X||void 0===X||X.fire(),H.replace(Do.LEADERBOARD+"?tab=".concat(Oo.REWARDS.toLowerCase(),"&rewards=").concat(null===(i=u.unlockedRewards[0])||void 0===i?void 0:i.leaderboardRewardList.toLowerCase())),u.unlockedRewards=[]),e.abrupt("break",147);case 11:if(!n){e.next=20;break}return localStorage.setItem(ka,"false"),B(!1),null===J||void 0===J||J.play(u.avatarAnimation),re=[],null===X||void 0===X||X.fire(),K(!0),e.next=20,te();case 20:case 28:case 100:case 113:case 127:case 145:case 146:return e.abrupt("break",147);case 21:if(!n){e.next=28;break}return B(!1),null===J||void 0===J||J.play(u.avatarAnimation),re=[],null===X||void 0===X||X.fire(),e.next=28,oe();case 29:e.t1=v,e.next=e.t1===PF.CourseSuggestion?32:e.t1===PF.ChapterSuggestion?57:e.t1===PF.LessonSuggestion?82:100;break;case 32:if(!n){e.next=46;break}return e.next=35,ue();case 35:return e.next=37,_e(le||S);case 37:return fe=e.sent,O(fe),m(PF.ChapterSuggestion),a=(null===(o=fe)||void 0===o?void 0:o.title)||"",ie=zE("Do you want to play 'x2' chapter?").replace("x2",a),e.next=44,Ne(ie);case 44:e.next=56;break;case 46:return e.next=48,ge();case 48:return e.next=50,xe();case 50:return le=e.sent,_(le),c=(null===(s=le)||void 0===s?void 0:s.title)||"",ie=zE("Do you want to play 'x1' course?").replace("x1"," "+c+" "),e.next=56,Ne(ie);case 56:case 81:case 99:return e.abrupt("break",100);case 57:if(!n){e.next=71;break}return e.next=60,ue();case 60:return m(PF.LessonSuggestion),e.next=63,Ce(I||le.chapters[0],le||S);case 63:return de=e.sent,P(de),d=(null===(l=de)||void 0===l?void 0:l.title)||"",ie=zE("Do you want to play 'x3' lesson?").replace("x3"," "+d+" "),e.next=69,Ne(ie);case 69:e.next=81;break;case 71:return e.next=73,ge();case 73:return e.next=75,_e(le||S);case 75:return fe=e.sent,O(fe),p=(null===(h=fe)||void 0===h?void 0:h.title)||"",ie=zE("Do you want to play 'x2' chapter?").replace("x2"," "+p+" "),e.next=81,Ne(ie);case 82:if(!n){e.next=89;break}return e.next=85,ue();case 85:return e.next=87,we();case 87:e.next=99;break;case 89:return e.next=91,ge();case 91:return e.next=93,Ce(I||le.chapters[0],le||S);case 93:return de=e.sent,P(de),y=(null===(g=de)||void 0===g?void 0:g.title)||"",ie=zE("Do you want to play 'x3' lesson?").replace("x3"," "+y+" "),e.next=99,Ne(ie);case 101:if(!(n=r===u.answer)){e.next=109;break}return e.next=105,ue();case 105:return e.next=107,oe();case 107:e.next=113;break;case 109:return e.next=111,ge();case 111:return e.next=113,Ne();case 114:if(n=r===u.answer,"unanswered"===u.questionType&&(n=!0),!n){e.next=123;break}return e.next=119,ue();case 119:return e.next=121,oe();case 121:e.next=127;break;case 123:return e.next=125,ge();case 125:return e.next=127,Ne();case 128:if(!n){e.next=134;break}return e.next=131,ue();case 131:we(),e.next=145;break;case 134:return e.next=136,ge();case 136:return u.currentLessonSuggestionIndex++,e.next=139,Ce(fe,S);case 139:return b=e.sent,P(b),w=(null===b||void 0===b?void 0:b.title)||"",ie=zE("Do you want to play 'x3' lesson?").replace("x3"," "+w+" ").replace("lesson",null!==b&&void 0!==b&&b.assignment?"assignment":"lesson"),e.next=145,Ne(ie);case 147:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function we(){return ke.apply(this,arguments)}function ke(){return(ke=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:if(!A){e.next=18;break}if(null===A||void 0===A||null===(n=A.assignment)||void 0===n||!n.docId||A.pluginType!==ea){e.next=7;break}H.replace(Do.LIVE_QUIZ_JOIN+"?assignmentId=".concat(null===A||void 0===A||null===(r=A.assignment)||void 0===r?void 0:r.docId),{assignment:JSON.stringify(null===A||void 0===A?void 0:A.assignment)}),e.next=18;break;case 7:if(i=S,S){e.next=15;break}return e.next=11,ee.getCourseFromLesson(A);case 11:if(e.t0=e.sent,e.t0){e.next=14;break}e.t0=S;case 14:i=e.t0;case 15:return o="?courseid=".concat(A.cocosSubjectCode,"&chapterid=").concat(A.cocosChapterCode,"&lessonid=").concat(A.id),e.next=18,H.replace(Do.GAME+o,{url:"chimple-lib/index.html"+o,lessonId:A.id,courseDocId:i.docId,course:JSON.stringify(Ta.toJson(i)),lesson:JSON.stringify(Za.toJson(A)),from:H.location.pathname+"?continue=true"});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(){return Se.apply(this,arguments)}function Se(){return(Se=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&0!==b.length){e.next=3;break}return e.next=3,se();case 3:if(!S){e.next=8;break}return n=b.findIndex((function(e){return e.courseCode===(null===S||void 0===S?void 0:S.courseCode)})),e.abrupt("return",b[n+1]||b[0]);case 8:return e.abrupt("return",b[0]||he[0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!I){e.next=5;break}return r=n.chapters.findIndex((function(e){return e.id===(null===I||void 0===I?void 0:I.id)})),e.abrupt("return",n.chapters[r+1]);case 5:return e.abrupt("return",n.chapters[0]);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return Ie.apply(this,arguments)}function Ie(){return Ie=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,a,s,c,l,d,h,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f!==PF.CourseSuggestion){e.next=27;break}if(!A||!n){e.next=20;break}if((i=n.lessons.findIndex((function(e){return e.id===(null===A||void 0===A?void 0:A.docId)})))!==n.lessons.length-1){e.next=13;break}return a=r.chapters.findIndex((function(e){return e.id===n.id})),O(r.chapters[a+1]),s=r.chapters[a+1].lessons[0].id,e.next=9,ee.getLesson(s);case 9:return c=e.sent,e.abrupt("return",c);case 13:return l=n.lessons[i+1].id,e.next=16,ee.getLesson(l);case 16:return d=e.sent,e.abrupt("return",d);case 18:e.next=25;break;case 20:return h=n.lessons[0].id,e.next=23,ee.getLesson(h);case 23:return p=e.sent,e.abrupt("return",p);case 25:e.next=32;break;case 27:if(f!==PF.RecommendedLesson){e.next=32;break}return u.currentRecommendedLessonIndex++,u.currentRecommendedLessonIndex===o.length&&(u.currentRecommendedLessonIndex=0),P(o[u.currentRecommendedLessonIndex]),e.abrupt("return",o[u.currentRecommendedLessonIndex]);case 32:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}switch(f){case PF.collectReward:ie=zE("Congratulations on earning the x1!").replace("x1",zE(null===(n=u.unlockedRewards[0])||void 0===n?void 0:n.type)),re=[{label:zE("Collect your reward"),onClick:function(){return be(!0)},isTrue:!0}];break;case PF.ShowWeeklyProgress:var Oe=u.weeklyProgressGoal;ie=zE(u.gamifyTimespentMessage).replace("x1"," "+Oe.toString()+" "+zE("minutes")),re=[{label:zE("Let's Play"),onClick:function(){return be(!0)},isTrue:!0}];break;case PF.Welcome:ie=zE(u.message||""),re=[{label:"Start",onClick:function(){return be(!0)},isTrue:!0}];break;case PF.CourseSuggestion:switch(v){case PF.CourseSuggestion:var Ze=(null===S||void 0===S?void 0:S.title)||"";ie=zE("Do you want to play 'x1' course?").replace("x1"," "+Ze+" "),re=[{label:zE("Yes"),onClick:function(){return be(!0)},isTrue:!0},{label:zE("No"),onClick:function(){return be(!1)},isTrue:!1}];break;case PF.ChapterSuggestion:var Te=(null===I||void 0===I?void 0:I.title)||"";ie=zE("Do you want to play 'x2' chapter?").replace("x2"," "+Te+" "),re=[{label:zE("Yes"),onClick:function(){return be(!0)},isTrue:!0},{label:zE("No"),onClick:function(){return be(!1)},isTrue:!1}];break;case PF.LessonSuggestion:if(A){var Ae=A.title;ie=zE("Do you want to play 'x3' lesson?").replace("x3"," "+Ae+" "),re=[{label:zE("Yes"),onClick:function(){return be(!0)},isTrue:!0},{label:zE("No"),onClick:function(){return be(!1)},isTrue:!1}]}}break;case PF.TwoOptionQuestion:ie=zE(u.message||""),re=[{label:zE(u.option1||""),onClick:function(){return be(u.option1===u.answer,u.option1||"")},isTrue:"unanswered"===u.questionType||u.option1===u.answer},{label:zE(u.option2||""),onClick:function(){return be(u.option2===u.answer,u.option2||"")},isTrue:"unanswered"===u.questionType||u.option2===u.answer}];break;case PF.FourOptionQuestion:ie=zE(u.message||""),re=[{label:zE(u.option1||""),onClick:function(){return be(u.option1===u.answer,u.option1||"")},isTrue:"unanswered"===u.questionType||u.option1===u.answer},{label:zE(u.option2||""),onClick:function(){return be(u.option2===u.answer,u.option2||"")},isTrue:"unanswered"===u.questionType||u.option2===u.answer},{label:zE(u.option3||""),onClick:function(){return be(u.option3===u.answer,u.option3||"")},isTrue:"unanswered"===u.questionType||u.option3===u.answer},{label:zE(u.option4||""),onClick:function(){return be(u.option4===u.answer,u.option4||"")},isTrue:"unanswered"===u.questionType||u.option4===u.answer}];break;case PF.RecommendedLesson:if(A){var Pe=A.title;ie=zE("Do you want to play 'x3' lesson?").replace("x3"," "+Pe+" ").replace("lesson",A.assignment?"assignment":"lesson"),re=[{label:zE("Yes"),onClick:function(){return be(!0)},isTrue:!0},{label:zE("No"),onClick:function(){return be(!1)},isTrue:!1}]}}var Re=function(e){var n=(0,s.useState)(!1),o=(0,i.Z)(n,2),a=o[0],u=o[1];(0,s.useEffect)((function(){return a&&c(),function(){console.log("return called in useEffect(() "),$F.stop()}}),[a]),(0,s.useEffect)((function(){return function(){console.log("return called in useEffect(() => { TextToSpeech.stop();"),$F.stop()}}),[]);var c=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){var i,o,s,c=arguments;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=c.length>1&&void 0!==c[1]?c[1]:"en-IN",e=r||e,o=localStorage.getItem(Wo)||"en",i=o+"-IN",t.prev=4,console.log("speak method called ",a,!a),u(!0),!a){t.next=16;break}return t.next=10,h(i);case 10:return s=t.sent,console.log("text: audioText,lang: audioLang, //",e,i,s),s||alert(i+" Language is not supported for you device"),t.next=15,$F.speak({text:e,lang:i,rate:.9,pitch:1,volume:1,category:"ambient"}).then((function(){u(!1)}));case 15:console.log("Audio is playing: ",e);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),console.log("TTS speech failed ",a,t.t0);case 21:case"end":return t.stop()}}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=3;break}return e.next=3,$F.stop();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$F.getSupportedLanguages();case 2:return n=e.sent,e.abrupt("return",n.languages);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$F.getSupportedVoices();case 2:return n=e.sent,e.abrupt("return",n.voices);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$F.isLanguageSupported({lang:n});case 2:return r=e.sent,e.abrupt("return",r.supported);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{speak:c,stop:l,isTtsPlaying:a,getSupportedLanguages:f,getSupportedVoices:d,isLanguageSupported:h}}(ie||""),Ne=Re.speak,je=Re.stop,Le=Re.isTtsPlaying,De=(Re.getSupportedLanguages,Re.getSupportedVoices,Re.isLanguageSupported,function(e){var t=(0,s.useState)(null),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=(0,s.useState)(!1),u=(0,i.Z)(a,2),c=u[0],l=u[1];return(0,s.useEffect)((function(){if(r)return r.addEventListener("ended",(function(){return l(!1)})),function(){r.removeEventListener("ended",(function(){return l(!1)}))}}),[r]),{playAudio:function(){var t=new Audio(e);t.onloadedmetadata=function(){console.log("Audio duration: ",t.duration),l(!0),c||(t.play(),console.log("Audio is playing: ",e))},t.load(),o(t)},isAudioPlaying:c,pauseAudio:function(){r&&!c&&r.pause()}}}(u.audioSrc||"")),Me=(De.playAudio,De.isAudioPlaying),Fe=(De.pauseAudio,Array.from({length:4},(function(e,t){return(0,Ca.jsx)("div",{className:"chimple-avatar-chatbox-bubble".concat(t+1)},t)})));return(0,Ca.jsxs)("div",{style:a,children:[(0,Ca.jsx)("div",{children:(0,Ca.jsxs)("div",{className:"rive-container",children:[(0,Ca.jsx)(Y,{className:"rive-component",onClick:ve}),(0,Ca.jsx)("div",{id:"rive-avatar-shadow"})]})}),(0,Ca.jsxs)("div",{className:"avatar-option-box-background ".concat(j?"burst":""),onAnimationEnd:function(){L(!1),B(!0)},children:[Fe,(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(TF,{message:ie,fontSize:"2vw",onClick:function(){ve()}}),(0,Ca.jsx)(WF,{currentCourse:S,currentMode:f,currtStageMode:v||PF.CourseSuggestion,currentChapter:I,currentLesson:A,avatarObj:u}),(0,Ca.jsx)("div",{className:"buttons-container-in-avatar-option-box",children:(0,Ca.jsx)("div",{className:"buttons-in-avatar-option-box",style:{flexWrap:(re.length,"wrap"),justifyContent:1===re.length?"center":2===re.length?"space-evenly":"center",gap:".5em",display:re.length>2?"grid":"",gridTemplateColumns:re.length>2?"35% 15vw":"",paddingTop:re.length>2?"1vh":"5vh"},children:re.map((function(e,t){return(0,Ca.jsx)("div",{children:(0,Ca.jsx)(AF,{buttonWidth:u.mode===PF.collectReward?"auto":"17vw",buttonHeight:"8vh",padding:1,text:e.label,fontSize:3.2,onHeaderIconClick:function(){e.onClick()},className:e.isTrue?"green-button":"red-button"})},t)}))})})]})]})]})};function KF(e){return KF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KF(e)}function QF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QF(Object(n),!0).forEach((function(t){YF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==KF(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==KF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===KF(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XF="1.9.3",eB=[{segment:"autocomplete-core",version:XF}];var tB="__aa-highlight__",nB="__/aa-highlight__";function rB(e){return rB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rB(e)}var iB=["params"];function oB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oB(Object(n),!0).forEach((function(t){sB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==rB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rB(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cB(e){return function(e){if(Array.isArray(e))return lB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return lB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fB=[{segment:"autocomplete-js",version:XF}];function dB(e){return dB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dB(e)}function hB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(n),!0).forEach((function(t){vB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==dB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dB(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mB=function(e,t){function n(t){return e({searchClient:t.searchClient,queries:t.requests.map((function(e){return e.query}))}).then((function(e){return e.map((function(e,n){var r=t.requests[n];return{items:e,sourceId:r.sourceId,transformResponse:r.transformResponse}}))}))}return function(e){return function(r){return JF(JF({requesterId:t,execute:n},e),r)}}}((function(e){return function(e){var t=e.searchClient,n=e.queries,r=e.userAgents,i=void 0===r?[]:r;"function"===typeof t.addAlgoliaAgent&&[].concat(cB(eB),cB(i)).forEach((function(e){var n=e.segment,r=e.version;t.addAlgoliaAgent(n,r)}));var o=function(e){var t=e.transporter||{},n=t.headers,r=void 0===n?{}:n,i=t.queryParameters,o=void 0===i?{}:i,a="x-algolia-application-id",s="x-algolia-api-key";return{appId:r[a]||o[a],apiKey:r[s]||o[s]}}(t),a=o.appId,s=o.apiKey;return Boolean(a),Boolean(s),t.search(n.map((function(e){var t=e.params;return aB(aB({},uB(e,iB)),{},{params:aB({hitsPerPage:5,highlightPreTag:tB,highlightPostTag:nB},t)})}))).then((function(e){return e.results.map((function(e,t){var r;return aB(aB({},e),{},{hits:null===(r=e.hits)||void 0===r?void 0:r.map((function(r){return aB(aB({},r),{},{__autocomplete_indexName:e.index||n[t].indexName,__autocomplete_queryID:e.queryID,__autocomplete_algoliaCredentials:{appId:a,apiKey:s}})}))})}))}))}(pB(pB({},e),{},{userAgents:fB}))}),"algolia"),gB=mB({transformResponse:function(e){return e.hits}});function yB(e,t){return t.reduce((function(e,t){return e&&e[t]}),e)}function bB(e){var t=e.onTapAhead;return{item:function(e){var n=e.item,r=e.createElement,i=e.components;return n.__autocomplete_qsCategory?r("div",{className:"aa-ItemWrapper"},r("div",{className:"aa-ItemContent aa-ItemContent--indented"},r("div",{className:"aa-ItemContentSubtitle aa-ItemContentSubtitle--standalone"},r("span",{className:"aa-ItemContentSubtitleIcon"}),r("span",null,"in"," ",r("span",{className:"aa-ItemContentSubtitleCategory"},n.__autocomplete_qsCategory))))):r("div",{className:"aa-ItemWrapper"},r("div",{className:"aa-ItemContent"},r("div",{className:"aa-ItemIcon aa-ItemIcon--noBorder"},r("svg",{viewBox:"0 0 24 24",fill:"currentColor"},r("path",{d:"M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"}))),r("div",{className:"aa-ItemContentBody"},r("div",{className:"aa-ItemContentTitle"},r(i.ReverseHighlight,{hit:n,attribute:"query"})))),r("div",{className:"aa-ItemActions"},r("button",{className:"aa-ItemActionButton",title:'Fill query with "'.concat(n.query,'"'),onClick:function(e){e.preventDefault(),e.stopPropagation(),t(n)}},r("svg",{viewBox:"0 0 24 24",fill:"currentColor"},r("path",{d:"M8 17v-7.586l8.293 8.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-8.293-8.293h7.586c0.552 0 1-0.448 1-1s-0.448-1-1-1h-10c-0.552 0-1 0.448-1 1v10c0 0.552 0.448 1 1 1s1-0.448 1-1z"})))))}}}function wB(e){return wB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wB(e)}function kB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kB(Object(n),!0).forEach((function(t){SB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==wB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wB(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _B(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return EB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EB(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function EB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CB(e){var t=function(e){return xB({getSearchParams:function(){return{}},transformSource:function(e){return e.source},itemsWithCategories:1,categoriesPerItem:1},e)}(e),n=t.searchClient,r=t.indexName,i=t.getSearchParams,o=t.transformSource,a=t.categoryAttribute,s=t.itemsWithCategories,u=t.categoriesPerItem;return{name:"aa.querySuggestionsPlugin",getSources:function(e){var t=e.query,c=e.setQuery,l=e.refresh,f=e.state;function d(e){c("".concat(e.query," ")),l()}return[o({source:{sourceId:"querySuggestionsPlugin",getItemInputValue:function(e){return e.item.query},getItems:function(){return gB({searchClient:n,queries:[{indexName:r,query:t,params:i({state:f})}],transformResponse:function(e){var n=e.hits[0];if(!t||!a)return n;var r=0;return n.reduce((function(e,t){var n=[t];if(r<s){var i=(yB(t,Array.isArray(a)?a:[a])||[]).map((function(e){return e.value})).slice(0,u);i.length>0&&r++;var o,c=_B(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;n.push(xB({__autocomplete_qsCategory:l},t))}}catch(f){c.e(f)}finally{c.f()}}return e.push.apply(e,n),e}),[])}})},templates:bB({onTapAhead:d})},onTapAhead:d,state:f})]},__autocomplete_pluginOptions:e}}var IB="AUTOCOMPLETE_RECENT_SEARCHES",OB="__AUTOCOMPLETE_RECENT_SEARCHES_PLUGIN_TEST_KEY__";function ZB(e){var t=e.key;return function(){try{return localStorage.setItem(OB,""),localStorage.removeItem(OB),!0}catch(e){return!1}}()?{setItem:function(e){return window.localStorage.setItem(t,JSON.stringify(e))},getItem:function(){var e=window.localStorage.getItem(t);return e?JSON.parse(e):[]}}:{setItem:function(){},getItem:function(){return[]}}}function TB(e){return function(e){if(Array.isArray(e))return AB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return AB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PB(e){return{current:e}}function RB(e){var t=e.onRemove,n=e.onTapAhead;return{item:function(e){var r=e.item,i=e.createElement,o=e.components;return i("div",{className:"aa-ItemWrapper"},i("div",{className:"aa-ItemContent"},i("div",{className:"aa-ItemIcon aa-ItemIcon--noBorder"},i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M12.516 6.984v5.25l4.5 2.672-0.75 1.266-5.25-3.188v-6h1.5zM12 20.016q3.281 0 5.648-2.367t2.367-5.648-2.367-5.648-5.648-2.367-5.648 2.367-2.367 5.648 2.367 5.648 5.648 2.367zM12 2.016q4.125 0 7.055 2.93t2.93 7.055-2.93 7.055-7.055 2.93-7.055-2.93-2.93-7.055 2.93-7.055 7.055-2.93z"}))),i("div",{className:"aa-ItemContentBody"},i("div",{className:"aa-ItemContentTitle"},i(o.ReverseHighlight,{hit:r,attribute:"label"}),r.category&&i("span",{className:"aa-ItemContentSubtitle aa-ItemContentSubtitle--inline"},i("span",{className:"aa-ItemContentSubtitleIcon"})," in"," ",i("span",{className:"aa-ItemContentSubtitleCategory"},r.category))))),i("div",{className:"aa-ItemActions"},i("button",{className:"aa-ItemActionButton",title:"Remove this search",onClick:function(e){e.preventDefault(),e.stopPropagation(),t(r.id)}},i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M18 7v13c0 0.276-0.111 0.525-0.293 0.707s-0.431 0.293-0.707 0.293h-10c-0.276 0-0.525-0.111-0.707-0.293s-0.293-0.431-0.293-0.707v-13zM17 5v-1c0-0.828-0.337-1.58-0.879-2.121s-1.293-0.879-2.121-0.879h-4c-0.828 0-1.58 0.337-2.121 0.879s-0.879 1.293-0.879 2.121v1h-4c-0.552 0-1 0.448-1 1s0.448 1 1 1h1v13c0 0.828 0.337 1.58 0.879 2.121s1.293 0.879 2.121 0.879h10c0.828 0 1.58-0.337 2.121-0.879s0.879-1.293 0.879-2.121v-13h1c0.552 0 1-0.448 1-1s-0.448-1-1-1zM9 5v-1c0-0.276 0.111-0.525 0.293-0.707s0.431-0.293 0.707-0.293h4c0.276 0 0.525 0.111 0.707 0.293s0.293 0.431 0.293 0.707v1zM9 11v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1zM13 11v6c0 0.552 0.448 1 1 1s1-0.448 1-1v-6c0-0.552-0.448-1-1-1s-1 0.448-1 1z"}))),i("button",{className:"aa-ItemActionButton",title:'Fill query with "'.concat(r.label,'"'),onClick:function(e){e.preventDefault(),e.stopPropagation(),n(r)}},i("svg",{viewBox:"0 0 24 24",fill:"currentColor"},i("path",{d:"M8 17v-7.586l8.293 8.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-8.293-8.293h7.586c0.552 0 1-0.448 1-1s-0.448-1-1-1h-10c-0.552 0-1 0.448-1 1v10c0 0.552 0.448 1 1 1s1-0.448 1-1z"})))))}}}function NB(e){return NB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NB(e)}function jB(e){return function(e){if(Array.isArray(e))return LB(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return LB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LB(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DB(Object(n),!0).forEach((function(t){FB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==NB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==NB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===NB(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BB(e){return function(t){(0,t.onSelect)((function(t){var n=t.item,r=t.state,i=t.source,o=i.getItemInputValue({item:n,state:r});if("querySuggestionsPlugin"===i.sourceId&&o){var a={id:o,label:o,category:n.__autocomplete_qsCategory};e.addItem(a)}}))}}function UB(e){var t=function(e){return MB({transformSource:function(e){return e.source}},e)}(e),n=t.storage,r=t.transformSource,i=t.subscribe,o=function(e){return{addItem:function(t){e.onRemove(t.id),e.onAdd(t)},removeItem:function(t){e.onRemove(t)},getAll:function(t){return e.getAll(t)}}}(n),a=PB([]);return{name:"aa.recentSearchesPlugin",subscribe:null!==i&&void 0!==i?i:BB(o),onSubmit:function(e){var t=e.state.query;if(t){var n={id:t,label:t};o.addItem(n)}},getSources:function(e){var t=e.query,n=e.setQuery,i=e.refresh,s=e.state;function u(e){o.removeItem(e),i()}function c(e){n(e.label),i()}return a.current=o.getAll(t),Promise.resolve(a.current).then((function(e){return 0===e.length?[]:[r({source:{sourceId:"recentSearchesPlugin",getItemInputValue:function(e){return e.item.label},getItems:function(){return e},templates:RB({onRemove:u,onTapAhead:c})},onRemove:u,onTapAhead:c,state:s})]}))},data:MB(MB({},o),{},{getAlgoliaSearchParams:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(a.current)?MB(MB({},n),{},{facetFilters:[].concat(jB(null!==(e=n.facetFilters)&&void 0!==e?e:[]),jB(a.current.map((function(e){return["objectID:-".concat(e.label)]})))),hitsPerPage:Math.max(1,(null!==(t=n.hitsPerPage)&&void 0!==t?t:10)-a.current.length)}):n}}),__autocomplete_pluginOptions:e}}function zB(e){return zB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zB(e)}function VB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VB(Object(n),!0).forEach((function(t){WB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==zB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===zB(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $B(e){var t=e.item,n=e.query;return HB(HB({},t),{},{_highlightResult:{label:{value:n?t.label.replace(new RegExp(n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"gi"),(function(e){return"__aa-highlight__".concat(e,"__/aa-highlight__")})):t.label}}})}function qB(e){var t=e.query,n=e.items,r=e.limit;return t?n.filter((function(e){return e.label.toLowerCase().includes(t.toLowerCase())})).slice(0,r).map((function(e){return $B({item:e,query:t})})):n.slice(0,r).map((function(e){return $B({item:e,query:t})}))}function GB(e){return GB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GB(e)}function KB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KB(Object(n),!0).forEach((function(t){JB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==GB(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==GB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===GB(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YB(e){var t=XB(e),n=t.key,r=t.limit,i=t.transformSource,o=t.search,a=t.subscribe,s=function(e){var t=e.key,n=e.limit,r=e.search,i=ZB({key:t});return{onAdd:function(e){i.setItem([e].concat(TB(i.getItem())))},onRemove:function(e){i.setItem(i.getItem().filter((function(t){return t.id!==e})))},getAll:function(){return r({query:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",items:i.getItem(),limit:n}).slice(0,n)}}}({key:[IB,n].join(":"),limit:r,search:o});return QB(QB({},UB({transformSource:i,storage:s,subscribe:a})),{},{name:"aa.localStorageRecentSearchesPlugin",__autocomplete_pluginOptions:e})}function XB(e){return QB({limit:5,search:qB,transformSource:function(e){return e.source}},e)}var eU=n(8831),tU=n.n(eU),nU=n(6939),rU=n.n(nU);function iU(e){return iU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iU(e)}var oU=Object.prototype.hasOwnProperty,aU=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!oU.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0},sU=Promise.resolve(),uU=function(e){sU.then(e)},cU=function e(t){return Object.keys(t).forEach((function(n){var r,i=t[n];(function(e){return"object"===iU(e)&&null!==e&&!Array.isArray(e)})(i)&&((r=i)&&Object.keys(r).length>0?e(i):delete t[n])})),t};function lU(e,t){if(null===e||void 0===e)return{};for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var o=r[i];t.indexOf(o)>=0||(n[o]=e[o])}return n}var fU=(0,s.createContext)({onInternalStateUpdate:function(){},createHrefForState:function(){return"#"},onSearchForFacetValues:function(){},onSearchStateChange:function(){},onSearchParameters:function(){},store:{},widgetsManager:{},mainTargetedIndex:""}),dU=fU.Consumer,hU=fU.Provider,pU=(0,s.createContext)(void 0),vU=pU.Consumer,mU=(pU.Provider,["contextValue"]);function gU(e){return gU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gU(e)}function yU(){return yU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yU.apply(this,arguments)}function bU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wU(Object(n),!0).forEach((function(t){IU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OU(r.key),r)}}function SU(e,t){return SU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SU(e,t)}function _U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=CU(e);if(t){var i=CU(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===gU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return EU(e)}(this,n)}}function EU(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CU(e){return CU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},CU(e)}function IU(e,t,n){return(t=OU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OU(e){var t=function(e,t){if("object"!==gU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gU(t)?t:String(t)}function ZU(e){if(!e.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var t="function"===typeof e.getSearchParameters||"function"===typeof e.getMetadata||"function"===typeof e.transitionState;return function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=function(r){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SU(e,t)}(c,r);var i,o,a,u=_U(c);function c(t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),IU(EU(n=u.call(this,t)),"unsubscribe",void 0),IU(EU(n),"unregisterWidget",void 0),IU(EU(n),"cleanupTimerRef",null),IU(EU(n),"isUnmounting",!1),IU(EU(n),"state",{providedProps:n.getProvidedProps(n.props)}),IU(EU(n),"refine",(function(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.props.contextValue.onInternalStateUpdate((t=e.refine).call.apply(t,[EU(n),n.props,n.props.contextValue.store.getState().widgets].concat(i)))})),IU(EU(n),"createURL",(function(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.props.contextValue.createHrefForState((t=e.refine).call.apply(t,[EU(n),n.props,n.props.contextValue.store.getState().widgets].concat(i)))})),IU(EU(n),"searchForFacetValues",(function(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n.props.contextValue.onSearchForFacetValues((t=e.searchForFacetValues).call.apply(t,[EU(n),n.props,n.props.contextValue.store.getState().widgets].concat(i)))})),e.getSearchParameters&&n.props.contextValue.onSearchParameters(e.getSearchParameters.bind(EU(n)),{ais:n.props.contextValue,multiIndexContext:n.props.indexContextValue},n.props,e.getMetadata&&e.getMetadata.bind(EU(n)),e.displayName),n}return i=c,(o=[{key:"componentDidMount",value:function(){var e=this;this.cleanupTimerRef&&(clearTimeout(this.cleanupTimerRef),this.cleanupTimerRef=null),this.unsubscribe=this.props.contextValue.store.subscribe((function(){e.isUnmounting||e.setState({providedProps:e.getProvidedProps(e.props)})})),t&&(this.unregisterWidget=this.props.contextValue.widgetsManager.registerWidget(this))}},{key:"shouldComponentUpdate",value:function(t,n){if("function"===typeof e.shouldComponentUpdate)return e.shouldComponentUpdate.call(this,this.props,t,this.state,n);var r=aU(this.props,t);return null===this.state.providedProps||null===n.providedProps?this.state.providedProps!==n.providedProps||!r:!r||!aU(this.state.providedProps,n.providedProps)}},{key:"componentDidUpdate",value:function(n){rU()(n,this.props)||(this.setState({providedProps:this.getProvidedProps(this.props)}),t&&(this.props.contextValue.widgetsManager.update(),"function"===typeof e.transitionState&&this.props.contextValue.onSearchStateChange(e.transitionState.call(this,this.props,this.props.contextValue.store.getState().widgets,this.props.contextValue.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){var t=this;this.cleanupTimerRef=setTimeout((function(){if(t.isUnmounting=!0,t.unsubscribe&&t.unsubscribe(),t.unregisterWidget&&(t.unregisterWidget(),"function"===typeof e.cleanUp)){var n=e.cleanUp.call(t,t.props,t.props.contextValue.store.getState().widgets);t.props.contextValue.store.setState(kU(kU({},t.props.contextValue.store.getState()),{},{widgets:n})),t.props.contextValue.onSearchStateChange(cU(n))}}))}},{key:"getProvidedProps",value:function(t){var n=this.props.contextValue.store.getState(),r=n.widgets,i=n.results,o=n.resultsFacetValues,a=n.searching,s=n.searchingForFacetValues,u=n.isSearchStalled,c=n.metadata,l={results:i,searching:a,searchingForFacetValues:s,isSearchStalled:u,error:n.error};return e.getProvidedProps.call(this,t,r,l,c,o)}},{key:"getSearchParameters",value:function(t){return"function"===typeof e.getSearchParameters?e.getSearchParameters.call(this,t,this.props,this.props.contextValue.store.getState().widgets):null}},{key:"getMetadata",value:function(t){return"function"===typeof e.getMetadata?e.getMetadata.call(this,this.props,t):{}}},{key:"transitionState",value:function(t,n){return"function"===typeof e.transitionState?e.transitionState.call(this,this.props,t,n):n}},{key:"render",value:function(){var t=this.props,r=(t.contextValue,bU(t,mU)),i=this.state.providedProps;if(null===i)return null;var o="function"===typeof e.refine?{refine:this.refine,createURL:this.createURL}:{},a="function"===typeof e.searchForFacetValues?{searchForItems:this.searchForFacetValues}:{};return s.createElement(n,yU({},r,i,o,a))}}])&&xU(i.prototype,o),a&&xU(i,a),Object.defineProperty(i,"prototype",{writable:!1}),c}(s.Component);return IU(o,"displayName","".concat(e.displayName,"(").concat((r=n).displayName||r.name||"UnknownComponent",")")),IU(o,"$$type",e.$$type),IU(o,"$$widgetType",i.$$widgetType),IU(o,"propTypes",e.propTypes),IU(o,"defaultProps",e.defaultProps),IU(o,"_connectorDesc",e),o}}var TU=function(e){return function(t,n){var r=ZU(e)(t,n);return function(e){return s.createElement(dU,null,(function(t){return s.createElement(vU,null,(function(n){return s.createElement(r,yU({contextValue:t,indexContextValue:n},e))}))}))}}};function AU(e){return AU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AU(e)}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PU(Object(n),!0).forEach((function(t){NU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==AU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===AU(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jU(e){return LU(e)?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function LU(e){return e&&e.multiIndexContext}function DU(e,t,n,r,i){if(LU(n)){var o=jU(n);return i?function(e,t,n,r,i){var o,a=r?{page:1}:void 0,s=e.indices&&e.indices[n]?RU(RU({},e.indices),{},NU({},n,RU(RU({},e.indices[n]),{},(NU(o={},i,RU(RU({},e.indices[n][i]),t)),NU(o,"page",1),o)))):RU(RU({},e.indices),{},NU({},n,RU(NU({},i,t),a)));return RU(RU({},e),{},{indices:s})}(e,t,o,r,i):function(e,t,n,r){var i=r?{page:1}:void 0,o=e.indices&&e.indices[n]?RU(RU({},e.indices),{},NU({},n,RU(RU(RU({},e.indices[n]),t),i))):RU(RU({},e.indices),{},NU({},n,RU(RU({},t),i)));return RU(RU({},e),{},{indices:o})}(e,t,o,r)}return e.indices&&r&&Object.keys(e.indices).forEach((function(t){e=DU(e,{page:1},{multiIndexContext:{targetedIndex:t}},!0,i)})),i?function(e,t,n,r){var i=n?{page:1}:void 0;return RU(RU({},e),{},NU({},r,RU(RU({},e[r]),t)),i)}(e,t,r,i):function(e,t,n){var r=n?{page:1}:void 0;return RU(RU(RU({},e),t),r)}(e,t,r)}function MU(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function FU(e,t,n,r,i){var o=jU(n),a=MU(r),s=a.namespace,u=a.attributeName,c={multiIndex:LU(n),indexId:o,namespace:s,attributeName:u,id:r,searchState:t},l=function(e){var t=e.multiIndex,n=e.indexId,r=e.namespace,i=e.attributeName,o=e.id,a=e.searchState;return t&&r?a.indices&&a.indices[n]&&a.indices[n][r]&&Object.hasOwnProperty.call(a.indices[n][r],i):t?a.indices&&a.indices[n]&&Object.hasOwnProperty.call(a.indices[n],o):r?a[r]&&Object.hasOwnProperty.call(a[r],i):Object.hasOwnProperty.call(a,o)}(c);return l?function(e){var t=e.multiIndex,n=e.indexId,r=e.namespace,i=e.attributeName,o=e.id,a=e.searchState;return t&&r?a.indices[n][r][i]:t?a.indices[n][o]:r?a[r][i]:a[o]}(c):e.defaultRefinement?e.defaultRefinement:i}function BU(e,t,n){var r=jU(t),i=MU(n),o=i.namespace,a=i.attributeName;return LU(t)&&Boolean(e.indices)?function(e){var t=e.searchState,n=e.indexId,r=e.id,i=e.namespace,o=e.attribute,a=t.indices[n];if(i&&a)return RU(RU({},t),{},{indices:RU(RU({},t.indices),{},NU({},n,RU(RU({},a),{},NU({},i,lU(a[i],[o])))))});if(a)return RU(RU({},t),{},{indices:RU(RU({},t.indices),{},NU({},n,lU(a,[r])))});return t}({attribute:a,searchState:e,indexId:r,id:n,namespace:o}):function(e){var t=e.searchState,n=e.id,r=e.namespace,i=e.attribute;if(r)return RU(RU({},t),{},NU({},r,lU(t[r],[i])));return lU(t,[n])}({attribute:a,searchState:e,id:n,namespace:o})}function UU(e){return UU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UU(e)}function zU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==UU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===UU(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VU(e,t,n){var r=FU(e,t,n,"query","");return r||""}function HU(e,t,n,r){return DU(t,zU({},"query",n),r,!0)}var WU=TU({displayName:"AlgoliaSearchBox",$$type:"ais.searchBox",propTypes:{defaultRefinement:l().string},getProvidedProps:function(e,t,n){return{currentRefinement:VU(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue}),isSearchStalled:n.isSearchStalled}},refine:function(e,t,n){return HU(0,t,n,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},cleanUp:function(e,t){return function(e,t,n){return BU(t,n,"query")}(0,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue})},getSearchParameters:function(e,t,n){return e.setQuery(VU(t,n,{ais:t.contextValue,multiIndexContext:t.indexContextValue}))},getMetadata:function(e,t){var n="query",r=VU(e,t,{ais:e.contextValue,multiIndexContext:e.indexContextValue});return{id:n,index:jU({ais:e.contextValue,multiIndexContext:e.indexContextValue}),items:null===r?[]:[{label:"".concat(n,": ").concat(r),value:function(t){return HU(0,t,"",{ais:e.contextValue,multiIndexContext:e.indexContextValue})},currentRefinement:r}]}}}),$U=n(913),qU=n.n($U);var GU={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};var KU="6.40.0",QU=["resultsFacetValues"],JU=["resultsFacetValues"],YU=["resultsFacetValues"];function XU(e){return XU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XU(e)}function ez(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tz(Object(n),!0).forEach((function(t){rz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==XU(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==XU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===XU(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iz(e){"function"===typeof e.addAlgoliaAgent&&(e.addAlgoliaAgent("react (".concat(s.version,")")),e.addAlgoliaAgent("react-instantsearch (".concat(KU,")")))}var oz=function(e){return LU({ais:e.props.contextValue,multiIndexContext:e.props.indexContextValue})},az=function(e,t){return e.props.indexContextValue.targetedIndex===t},sz=function(e){return Boolean(e.props.indexId)},uz=function(e,t){return e.props.indexId===t},cz=function(e,t){var n=sz(e),r=sz(t);return n&&!r?-1:!n&&r?1:0};function lz(e){return Object.keys(e).map((function(t){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function fz(e){var t=e.indexName,n=e.initialState,r=void 0===n?{}:n,i=e.searchClient,o=e.resultsState,a=e.stalledSearchDelay,s=qU()(i,t,nz({},GU));iz(i),s.on("search",(function(){l||(l=setTimeout((function(){var e=h.getState(),t=(e.resultsFacetValues,ez(e,YU));h.setState(nz(nz({},t),{},{isSearchStalled:!0}))}),a))})).on("result",g({indexId:t})).on("error",y);var u,c=!1,l=null,f=s.state,d=function(e){var t=[],n=!1;function r(){n||(n=!0,uU((function(){n=!1,e()})))}return{registerWidget:function(e){return t.push(e),r(),function(){t.splice(t.indexOf(e),1),r()}},update:r,getWidgets:function(){return t}}}((function(){var e=p(h.getState().widgets);h.setState(nz(nz({},h.getState()),{},{metadata:e,searching:!0})),m()}));!function(e,t){if(!t)return;if((!e.transporter||e._cacheHydrated)&&(!e._useCache||"function"!==typeof e.addAlgoliaAgent))return;if(e.transporter&&!e._cacheHydrated){e._cacheHydrated=!0;var n=e.search;e.search=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=t.map((function(e){return nz(nz({},e),{},{params:lz(e.params)})}));return e.transporter.responsesCache.get({method:"search",args:[a].concat(i)},(function(){return n.apply(void 0,[t].concat(i))}))}}if(Array.isArray(t.results))return void function(e,t){if(e.transporter)return void e.transporter.responsesCache.set({method:"search",args:[t.reduce((function(e,t){return e.concat(t.rawResults.map((function(e){return{indexName:e.index,params:e.params}})))}),[])]},{results:t.reduce((function(e,t){return e.concat(t.rawResults)}),[])});var n="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:t.reduce((function(e,t){return e.concat(t.rawResults.map((function(e){return{indexName:e.index,params:e.params}})))}),[])}));e.cache=nz(nz({},e.cache),{},rz({},n,JSON.stringify({results:t.reduce((function(e,t){return e.concat(t.rawResults)}),[])})))}(e,t.results);!function(e,t){if(e.transporter)return void e.transporter.responsesCache.set({method:"search",args:[t.rawResults.map((function(e){return{indexName:e.index,params:e.params}}))]},{results:t.rawResults});var n="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:t.rawResults.map((function(e){return{indexName:e.index,params:e.params}}))}));e.cache=nz(nz({},e.cache),{},rz({},n,JSON.stringify({results:t.rawResults})))}(e,t)}(i,o);var h=function(e){var t=e,n=[];return{getState:function(){return t},setState:function(e){t=e,n.forEach((function(e){return e()}))},subscribe:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}}}}({widgets:r,metadata:dz(o),results:function(e){if(!e)return null;if(Array.isArray(e.results))return e.results.reduce((function(e,t){return nz(nz({},e),{},rz({},t._internalIndexId,new(qU().SearchResults)(new(qU().SearchParameters)(t.state),t.rawResults)))}),{});return new(qU().SearchResults)(new(qU().SearchParameters)(e.state),e.rawResults)}(o),error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1});function p(e){return d.getWidgets().filter((function(e){return Boolean(e.getMetadata)})).map((function(t){return t.getMetadata(e)}))}function v(){var e=d.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){return!oz(e)&&!sz(e)})).reduce((function(e,t){return t.getSearchParameters(e)}),f),n=d.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){var n=oz(e)&&az(e,t),r=sz(e)&&uz(e,t);return n||r})).sort(cz).reduce((function(e,t){return t.getSearchParameters(e)}),e),r=d.getWidgets().filter((function(e){return Boolean(e.getSearchParameters)})).filter((function(e){var n=oz(e)&&!az(e,t),r=sz(e)&&!uz(e,t);return n||r})).sort(cz).reduce((function(e,t){var n=oz(t)?t.props.indexContextValue.targetedIndex:t.props.indexId,r=e[n]||[];return nz(nz({},e),{},rz({},n,r.concat(t)))}),{});return{mainParameters:n,derivedParameters:Object.keys(r).map((function(t){return{parameters:r[t].reduce((function(e,t){return t.getSearchParameters(e)}),e),indexId:t}}))}}function m(){if(!c){var e=v(s.state),t=e.mainParameters,n=e.derivedParameters;u=n.length+1,s.derivedHelpers.slice().forEach((function(e){e.detach()})),n.forEach((function(e){var t=e.indexId,n=e.parameters;s.derive((function(){return n})).on("result",g({indexId:t})).on("error",y)})),s.setState(t),s.search()}}function g(e){var t=e.indexId;return function(e){u--;var n=h.getState(),r=!s.derivedHelpers.length,i=n.results?n.results:{};i=!r&&i.getFacetByName?{}:i,i=r?e.results:nz(nz({},i),{},rz({},t,e.results));var o=h.getState(),a=o.isSearchStalled;s.hasPendingRequests()||(clearTimeout(l),l=null,a=!1);o.resultsFacetValues;var c=ez(o,QU);h.setState(nz(nz({},c),{},{results:i,isSearchStalled:a,searching:u>0,error:null}))}}function y(e){var t=e.error,n=h.getState(),r=n.isSearchStalled;s.hasPendingRequests()||(clearTimeout(l),r=!1);n.resultsFacetValues;var i=ez(n,JU);h.setState(nz(nz({},i),{},{isSearchStalled:r,error:t,searching:!1}))}return{store:h,widgetsManager:d,getWidgetsIds:function(){return h.getState().metadata.reduce((function(e,t){return"undefined"!==typeof t.id?e.concat(t.id):e}),[])},getSearchParameters:v,onSearchForFacetValues:function(e){var t=e.facetName,n=e.query,r=e.maxFacetHits,i=void 0===r?10:r,o=Math.max(1,Math.min(i,100));h.setState(nz(nz({},h.getState()),{},{searchingForFacetValues:!0})),s.searchForFacetValues(t,n,o).then((function(e){var r;h.setState(nz(nz({},h.getState()),{},{error:null,searchingForFacetValues:!1,resultsFacetValues:nz(nz({},h.getState().resultsFacetValues),{},(r={},rz(r,t,e.facetHits),rz(r,"query",n),r))}))}),(function(e){h.setState(nz(nz({},h.getState()),{},{searchingForFacetValues:!1,error:e}))})).catch((function(e){setTimeout((function(){throw e}))}))},onExternalStateUpdate:function(e){var t=p(e);h.setState(nz(nz({},h.getState()),{},{widgets:e,metadata:t,searching:!0})),m()},transitionState:function(e){var t=h.getState().widgets;return d.getWidgets().filter((function(e){return Boolean(e.transitionState)})).reduce((function(e,n){return n.transitionState(t,e)}),e)},updateClient:function(e){iz(e),s.setClient(e),m()},updateIndex:function(e){f=f.setIndex(e)},clearCache:function(){s.clearCache(),m()},skipSearch:function(){c=!0}}}function dz(e){return e?e.metadata.map((function(e){return nz(nz({value:function(){return{}}},e),{},{items:e.items&&e.items.map((function(e){return nz(nz({value:function(){return{}}},e),{},{items:e.items&&e.items.map((function(e){return nz({value:function(){return{}}},e)}))})}))})})):[]}function hz(e){return hz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hz(e)}function pz(e,t){var n=document.createElement("meta"),r=document.querySelector("head");n.name="algolia:metadata";var i=function(e,t){var n=["contextValue","indexContextValue"],r=e.map((function(e){var t=e.props,r=e.constructor,i=r._connectorDesc||{},o=i.defaultProps,a=void 0===o?{}:o,s=i.displayName;return{displayName:void 0===s?r.displayName:s,$$type:r.$$type,$$widgetType:r.$$widgetType,params:Object.keys(t).filter((function(e){return!n.includes(e)&&a[e]!==t[e]&&void 0!==t[e]}))}})),i=t;return{ua:i.transporter&&i.transporter.userAgent?i.transporter.userAgent.value:i._ua,widgets:r}}(e,t);n.content=JSON.stringify(i),r.appendChild(n)}function vz(e){return vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vz(e)}function mz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mz(Object(n),!0).forEach((function(t){Sz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_z(r.key),r)}}function bz(e,t){return bz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bz(e,t)}function wz(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xz(e);if(t){var i=xz(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===vz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kz(e)}(this,n)}}function kz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xz(e){return xz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xz(e)}function Sz(e,t,n){return(t=_z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _z(e){var t=function(e,t){if("object"!==vz(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vz(t)?t:String(t)}function Ez(e){return Boolean(e.searchState)}var Cz=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bz(e,t)}(o,e);var t,n,r,i=wz(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),Sz(kz(t=i.call(this,e)),"cleanupTimerRef",null),Sz(kz(t),"isUnmounting",!1);var n=fz({indexName:t.props.indexName,searchClient:t.props.searchClient,initialState:t.props.searchState||{},resultsState:t.props.resultsState,stalledSearchDelay:t.props.stalledSearchDelay}),r={store:n.store,widgetsManager:n.widgetsManager,mainTargetedIndex:t.props.indexName,onInternalStateUpdate:t.onWidgetsInternalStateUpdate.bind(kz(t)),createHrefForState:t.createHrefForState.bind(kz(t)),onSearchForFacetValues:t.onSearchForFacetValues.bind(kz(t)),onSearchStateChange:t.onSearchStateChange.bind(kz(t)),onSearchParameters:t.onSearchParameters.bind(kz(t))};return t.state={isControlled:Ez(t.props),instantSearchManager:n,contextValue:r},t}return t=o,n=[{key:"componentDidUpdate",value:function(e){var t=Ez(e);if(t&&!this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled");if(!t&&this.state.isControlled)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");this.props.refresh!==e.refresh&&this.props.refresh&&this.state.instantSearchManager.clearCache(),e.indexName!==this.props.indexName&&this.state.instantSearchManager.updateIndex(this.props.indexName),e.searchClient!==this.props.searchClient&&this.state.instantSearchManager.updateClient(this.props.searchClient)}},{key:"componentDidMount",value:function(){this.cleanupTimerRef&&(clearTimeout(this.cleanupTimerRef),this.cleanupTimerRef=null),"object"===("undefined"===typeof window?"undefined":hz(window))&&"object"===hz(window.navigator)&&"string"===typeof window.navigator.userAgent&&window.navigator.userAgent.includes("Algolia Crawler")&&"object"===hz(window.document)&&pz(this.state.instantSearchManager.widgetsManager.getWidgets(),this.props.searchClient)}},{key:"componentWillUnmount",value:function(){var e=this;this.cleanupTimerRef=setTimeout((function(){e.isUnmounting=!0,e.state.instantSearchManager.skipSearch()}))}},{key:"createHrefForState",value:function(e){return e=this.state.instantSearchManager.transitionState(e),this.state.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.state.instantSearchManager.transitionState(e),this.onSearchStateChange(e),this.state.isControlled||this.state.instantSearchManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,n,r,i){if(this.props.onSearchParameters){var o=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,n,o)}if(this.props.widgetsCollector){var a=this.props.searchState?this.props.searchState:{};this.props.widgetsCollector({getSearchParameters:e,getMetadata:r,context:t,props:n,searchState:a,displayName:i})}}},{key:"onSearchForFacetValues",value:function(e){this.state.instantSearchManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.state.instantSearchManager.getWidgetsIds()}},{key:"render",value:function(){return 0===s.Children.count(this.props.children)?null:s.createElement(hU,{value:this.state.contextValue},this.props.children)}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=Ez(e),r=t.instantSearchManager.store.getState().widgets,i=e.searchState;return n&&!rU()(r,i)&&t.instantSearchManager.onExternalStateUpdate(e.searchState),{isControlled:n,contextValue:gz(gz({},t.contextValue),{},{mainTargetedIndex:e.indexName})}}}],n&&yz(t.prototype,n),r&&yz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.Component);Sz(Cz,"defaultProps",{stalledSearchDelay:200,refresh:!1}),Sz(Cz,"propTypes",{indexName:l().string.isRequired,searchClient:l().shape({search:l().func.isRequired,searchForFacetValues:l().func,addAlgoliaAgent:l().func,clearCache:l().func}).isRequired,createURL:l().func,refresh:l().bool,searchState:l().object,onSearchStateChange:l().func,onSearchParameters:l().func,widgetsCollector:l().func,resultsState:l().oneOfType([l().object,l().array]),children:l().node,stalledSearchDelay:l().number});var Iz=Cz;function Oz(e){return Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oz(e)}var Zz=["children","contextValue","indexContextValue"],Tz=["children","contextValue","indexContextValue"];function Az(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Az(Object(n),!0).forEach((function(t){Rz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Az(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Oz(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Oz(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jz=TU({displayName:"AlgoliaConfigure",$$type:"ais.configure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){t.children,t.contextValue,t.indexContextValue;var n=Nz(t,Zz);return e.setQueryParameters(n)},transitionState:function(e,t,n){var r="configure",i=(e.children,e.contextValue,e.indexContextValue,Nz(e,Tz)),o=Object.keys(e),a=this._props?Object.keys(this._props).filter((function(e){return-1===o.indexOf(e)})):[];return this._props=e,DU(n,Rz({},r,Pz(Pz({},lU(n[r],a)),i)),{ais:e.contextValue,multiIndexContext:e.indexContextValue})},cleanUp:function(e,t){var n="configure",r=jU({ais:e.contextValue,multiIndexContext:e.indexContextValue}),i=LU({ais:e.contextValue,multiIndexContext:e.indexContextValue})&&t.indices?t.indices[r]:t,o=(i&&i[n]?Object.keys(i[n]):[]).reduce((function(t,r){return e[r]||(t[r]=i[n][r]),t}),{});return DU(t,Rz({},n,o),{ais:e.contextValue,multiIndexContext:e.indexContextValue})}}),Lz=jz((function(){return null}),{$$widgetType:"ais.configure"});function Dz(e,t){var n=void 0;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,i)}),t)}}function Mz(e){return e!==Object(e)}function Fz(e,t){if(e===t)return!0;if(Mz(e)||Mz(t)||"function"===typeof e||"function"===typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!Fz(e[i],t[i]))return!1}return!0}var Bz=function(){};function Uz(e){var t=e.item,n=e.items;return{index:t.__autocomplete_indexName,items:[t],positions:[1+n.findIndex((function(e){return e.objectID===t.objectID}))],queryID:t.__autocomplete_queryID,algoliaSource:["autocomplete"]}}function zz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vz(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hz=["items"],Wz=["items"];function $z(e){return $z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$z(e)}function qz(e){return function(e){if(Array.isArray(e))return Gz(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Gz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gz(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qz(Object(n),!0).forEach((function(t){Yz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==$z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$z(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xz(e){return e.map((function(e){var t=e.items,n=Kz(e,Hz);return Jz(Jz({},n),{},{objectIDs:(null===t||void 0===t?void 0:t.map((function(e){return e.objectID})))||n.objectIDs})}))}function eV(e){var t=function(e){var t=zz((e.version||"").split(".").map(Number),2),n=t[0],r=t[1];return n>=3||2===n&&r>=4||1===n&&r>=10}(e);function n(n,r,i){if(t&&"undefined"!==typeof i){var o=i[0].__autocomplete_algoliaCredentials,a={"X-Algolia-Application-Id":o.appId,"X-Algolia-API-Key":o.apiKey};e.apply(void 0,[n].concat(qz(r),[{headers:a}]))}else e.apply(void 0,[n].concat(qz(r)))}return{init:function(t,n){e("init",{appId:t,apiKey:n})},setUserToken:function(t){e("setUserToken",t)},clickedObjectIDsAfterSearch:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.length>0&&n("clickedObjectIDsAfterSearch",Xz(t),t[0].items)},clickedObjectIDs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.length>0&&n("clickedObjectIDs",Xz(t),t[0].items)},clickedFilters:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.length>0&&e.apply(void 0,["clickedFilters"].concat(n))},convertedObjectIDsAfterSearch:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.length>0&&n("convertedObjectIDsAfterSearch",Xz(t),t[0].items)},convertedObjectIDs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.length>0&&n("convertedObjectIDs",Xz(t),t[0].items)},convertedFilters:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.length>0&&e.apply(void 0,["convertedFilters"].concat(n))},viewedObjectIDs:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.length>0&&t.reduce((function(e,t){var n=t.items,r=Kz(t,Wz);return[].concat(qz(e),qz(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<e.objectIDs.length;r+=t)n.push(Jz(Jz({},e),{},{objectIDs:e.objectIDs.slice(r,r+t)}));return n}(Jz(Jz({},r),{},{objectIDs:(null===n||void 0===n?void 0:n.map((function(e){return e.objectID})))||r.objectIDs})).map((function(e){return{items:n,payload:e}}))))}),[]).forEach((function(e){var t=e.items;return n("viewedObjectIDs",[e.payload],t)}))},viewedFilters:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.length>0&&e.apply(void 0,["viewedFilters"].concat(n))}}}function tV(e){var t=e.items.reduce((function(e,t){var n;return e[t.__autocomplete_indexName]=(null!==(n=e[t.__autocomplete_indexName])&&void 0!==n?n:[]).concat(t),e}),{});return Object.keys(t).map((function(e){return{index:e,items:t[e],algoliaSource:["autocomplete"]}}))}function nV(e){return e.objectID&&e.__autocomplete_indexName&&e.__autocomplete_queryID}function rV(e){return rV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rV(e)}function iV(e){return function(e){if(Array.isArray(e))return oV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return oV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aV(Object(n),!0).forEach((function(t){uV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==rV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cV="2.6.0",lV="https://cdn.jsdelivr.net/npm/search-insights@".concat(cV,"/dist/search-insights.min.js"),fV=Dz((function(e){var t=e.onItemsChange,n=e.items,r=e.insights,i=e.state;t({insights:r,insightsEvents:tV({items:n}).map((function(e){return sV({eventName:"Items Viewed"},e)})),state:i})}),400);function dV(e){var t=function(e){return sV({onItemsChange:function(e){var t=e.insights,n=e.insightsEvents;t.viewedObjectIDs.apply(t,iV(n.map((function(e){return sV(sV({},e),{},{algoliaSource:[].concat(iV(e.algoliaSource||[]),["autocomplete-internal"])})}))))},onSelect:function(e){var t=e.insights,n=e.insightsEvents;t.clickedObjectIDsAfterSearch.apply(t,iV(n.map((function(e){return sV(sV({},e),{},{algoliaSource:[].concat(iV(e.algoliaSource||[]),["autocomplete-internal"])})}))))},onActive:Bz},e)}(e),n=t.insightsClient,r=t.onItemsChange,i=t.onSelect,o=t.onActive,a=n;n||function(e){if("undefined"!==typeof window)e({window:window})}((function(e){var t=e.window,n=t.AlgoliaAnalyticsObject||"aa";"string"===typeof n&&(a=t[n]),a||(t.AlgoliaAnalyticsObject=n,t[n]||(t[n]=function(){t[n].queue||(t[n].queue=[]);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t[n].queue.push(r)}),t[n].version=cV,a=t[n],function(e){var t="[Autocomplete]: Could not load search-insights.js. Please load it manually following https://alg.li/insights-autocomplete";try{var n=e.document.createElement("script");n.async=!0,n.src=lV,n.onerror=function(){console.error(t)},document.body.appendChild(n)}catch(r){console.error(t)}}(t))}));var s=eV(a),u=PB([]),c=Dz((function(e){var t=e.state;if(t.isOpen){var n=t.collections.reduce((function(e,t){return[].concat(iV(e),iV(t.items))}),[]).filter(nV);Fz(u.current.map((function(e){return e.objectID})),n.map((function(e){return e.objectID})))||(u.current=n,n.length>0&&fV({onItemsChange:r,items:n,insights:s,state:t}))}}),0);return{name:"aa.algoliaInsightsPlugin",subscribe:function(e){var t=e.setContext,n=e.onSelect,r=e.onActive;a("addAlgoliaAgent","insights-plugin"),t({algoliaInsightsPlugin:{__algoliaSearchParameters:{clickAnalytics:!0},insights:s}}),n((function(e){var t=e.item,n=e.state,r=e.event;nV(t)&&i({state:n,event:r,insights:s,item:t,insightsEvents:[sV({eventName:"Item Selected"},Uz({item:t,items:u.current}))]})})),r((function(e){var t=e.item,n=e.state,r=e.event;nV(t)&&o({state:n,event:r,insights:s,item:t,insightsEvents:[sV({eventName:"Item Active"},Uz({item:t,items:u.current}))]})}))},onStateChange:function(e){var t=e.state;c({state:t})},__autocomplete_pluginOptions:e}}function hV(){var e=[];return{add:function(t){return e.push(t),t.finally((function(){e=e.filter((function(e){return e!==t}))}))},cancelAll:function(){e.forEach((function(e){return e.cancel()}))},isEmpty:function(){return 0===e.length}}}function pV(e){return pV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pV(e)}function vV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==pV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==pV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===pV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gV(e,t,n){var r=t.initialState;return{getState:function(){return r},dispatch:function(i,o){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vV(Object(n),!0).forEach((function(t){mV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r);r=e(r,{type:i,props:t,payload:o}),n({state:r,prevState:a})},pendingRequests:hV()}}function yV(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function bV(e){return bV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bV(e)}function wV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wV(Object(n),!0).forEach((function(t){xV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==bV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(e){return 0===e.collections.length?0:e.collections.reduce((function(e,t){return e+t.items.length}),0)}var _V=0;function EV(){return"autocomplete-".concat(_V++)}function CV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CV(Object(n),!0).forEach((function(t){OV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ZV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ZV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ZV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZV(e){return ZV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZV(e)}function TV(e){return TV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TV(e)}function AV(e){return function(e){if(Array.isArray(e))return PV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return PV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RV(Object(n),!0).forEach((function(t){jV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==TV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==TV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===TV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LV(e,t){var n,r="undefined"!==typeof window?window:{},i=e.plugins||[];return NV(NV({debug:!1,openOnFocus:!1,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,insights:!1,environment:r,shouldPanelOpen:function(e){return SV(e.state)>0},reshape:function(e){return e.sources}},e),{},{id:null!==(n=e.id)&&void 0!==n?n:EV(),plugins:i,initialState:NV({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},e.initialState),onStateChange:function(t){var n;null===(n=e.onStateChange)||void 0===n||n.call(e,t),i.forEach((function(e){var n;return null===(n=e.onStateChange)||void 0===n?void 0:n.call(e,t)}))},onSubmit:function(t){var n;null===(n=e.onSubmit)||void 0===n||n.call(e,t),i.forEach((function(e){var n;return null===(n=e.onSubmit)||void 0===n?void 0:n.call(e,t)}))},onReset:function(t){var n;null===(n=e.onReset)||void 0===n||n.call(e,t),i.forEach((function(e){var n;return null===(n=e.onReset)||void 0===n?void 0:n.call(e,t)}))},getSources:function(n){return Promise.all([].concat(AV(i.map((function(e){return e.getSources}))),[e.getSources]).filter(Boolean).map((function(e){return function(e,t){var n=[];return Promise.resolve(e(t)).then((function(e){return Array.isArray(e),Promise.all(e.filter((function(e){return Boolean(e)})).map((function(e){if(e.sourceId,n.includes(e.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(e.sourceId)," is not unique."));n.push(e.sourceId);var t={getItemInputValue:function(e){return e.state.query},getItemUrl:function(){},onSelect:function(e){(0,e.setIsOpen)(!1)},onActive:Bz,onResolve:Bz};Object.keys(t).forEach((function(e){t[e].__default=!0}));var r=IV(IV({},t),e);return Promise.resolve(r)})))}))}(e,n)}))).then((function(e){return yV(e)})).then((function(e){return e.map((function(e){return NV(NV({},e),{},{onSelect:function(n){e.onSelect(n),t.forEach((function(e){var t;return null===(t=e.onSelect)||void 0===t?void 0:t.call(e,n)}))},onActive:function(n){e.onActive(n),t.forEach((function(e){var t;return null===(t=e.onActive)||void 0===t?void 0:t.call(e,n)}))},onResolve:function(n){e.onResolve(n),t.forEach((function(e){var t;return null===(t=e.onResolve)||void 0===t?void 0:t.call(e,n)}))}})}))}))},navigator:NV({navigate:function(e){var t=e.itemUrl;r.location.assign(t)},navigateNewTab:function(e){var t=e.itemUrl,n=r.open(t,"_blank","noopener");null===n||void 0===n||n.focus()},navigateNewWindow:function(e){var t=e.itemUrl;r.open(t,"_blank","noopener")}},e.navigator)})}function DV(e){return DV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DV(e)}function MV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MV(Object(n),!0).forEach((function(t){BV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==DV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==DV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===DV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UV(e){return UV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UV(e)}function zV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zV(Object(n),!0).forEach((function(t){HV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==UV(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==UV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===UV(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WV(e){return function(e){if(Array.isArray(e))return $V(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $V(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qV(e){return Boolean(e.execute)}function GV(e,t,n){if(i=e,Boolean(null===i||void 0===i?void 0:i.execute)){var r="algolia"===e.requesterId?Object.assign.apply(Object,[{}].concat(WV(Object.keys(n.context).map((function(e){var t;return null===(t=n.context[e])||void 0===t?void 0:t.__algoliaSearchParameters}))))):{};return VV(VV({},e),{},{requests:e.queries.map((function(n){return{query:"algolia"===e.requesterId?VV(VV({},n),{},{params:VV(VV({},r),n.params)}):n,sourceId:t,transformResponse:e.transformResponse}}))})}var i;return{items:e,sourceId:t}}function KV(e){var t=e.reduce((function(e,t){if(!qV(t))return e.push(t),e;var n=t.searchClient,r=t.execute,i=t.requesterId,o=t.requests,a=e.find((function(e){return qV(t)&&qV(e)&&e.searchClient===n&&Boolean(i)&&e.requesterId===i}));if(a){var s;(s=a.items).push.apply(s,WV(o))}else{var u={execute:r,requesterId:i,items:o,searchClient:n};e.push(u)}return e}),[]),n=t.map((function(e){if(!qV(e))return Promise.resolve(e);var t=e,n=t.execute,r=t.items;return n({searchClient:t.searchClient,requests:r})}));return Promise.all(n).then((function(e){return yV(e)}))}function QV(e,t,n){return t.map((function(t){var r,i=e.filter((function(e){return e.sourceId===t.sourceId})),o=i.map((function(e){return e.items})),a=i[0].transformResponse,s=a?a({results:r=o,hits:r.map((function(e){return e.hits})).filter(Boolean),facetHits:r.map((function(e){var t;return null===(t=e.facetHits)||void 0===t?void 0:t.map((function(e){return{label:e.value,count:e.count,_highlightResult:{label:{value:e.highlighted}}}}))})).filter(Boolean)}):o;return t.onResolve({source:t,results:o,items:s,state:n.getState()}),Array.isArray(s),s.every(Boolean),'The `getItems` function from source "'.concat(t.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),".\n\nDid you forget to return items?\n\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems"),{source:t,items:s}}))}function JV(e,t){var n=t;return{then:function(t,r){return JV(e.then(eH(t,n,e),eH(r,n,e)),n)},catch:function(t){return JV(e.catch(eH(t,n,e)),n)},finally:function(t){return t&&n.onCancelList.push(t),JV(e.finally(eH(t&&function(){return n.onCancelList=[],t()},n,e)),n)},cancel:function(){n.isCanceled=!0;var e=n.onCancelList;n.onCancelList=[],e.forEach((function(e){e()}))},isCanceled:function(){return!0===n.isCanceled}}}function YV(e){return JV(new Promise((function(t,n){return e(t,n)})),{isCanceled:!1,onCancelList:[]})}function XV(e){return JV(e,{isCanceled:!1,onCancelList:[]})}function eH(e,t,n){return e?function(n){return t.isCanceled?n:e(n)}:n}function tH(e){var t=function(e){var t=e.collections.map((function(e){return e.items.length})).reduce((function(e,t,n){var r=(e[n-1]||0)+t;return e.push(r),e}),[]).reduce((function(t,n){return n<=e.activeItemId?t+1:t}),0);return e.collections[t]}(e);if(!t)return null;var n=t.items[function(e){for(var t=e.state,n=e.collection,r=!1,i=0,o=0;!1===r;){var a=t.collections[i];if(a===n){r=!0;break}o+=a.items.length,i++}return t.activeItemId-o}({state:e,collection:t})],r=t.source;return{item:n,itemInputValue:r.getItemInputValue({item:n,state:e}),itemUrl:r.getItemUrl({item:n,state:e}),source:r}}function nH(e){return nH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nH(e)}YV.resolve=function(e){return XV(Promise.resolve(e))},YV.reject=function(e){return XV(Promise.reject(e))};var rH=["event","nextState","props","query","refresh","store"];function iH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iH(Object(n),!0).forEach((function(t){aH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==nH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var uH=null,cH=function(){var e=-1,t=-1,n=void 0;return function(r){var i=++e;return Promise.resolve(r).then((function(e){return n&&i<t?n:(t=i,n=e,e)}))}}();function lH(e){var t=e.event,n=e.nextState,r=void 0===n?{}:n,i=e.props,o=e.query,a=e.refresh,s=e.store,u=sH(e,rH);uH&&i.environment.clearTimeout(uH);var c=u.setCollections,l=u.setIsOpen,f=u.setQuery,d=u.setActiveItemId,h=u.setStatus;if(f(o),d(i.defaultActiveItemId),!o&&!1===i.openOnFocus){var p,v=s.getState().collections.map((function(e){return oH(oH({},e),{},{items:[]})}));h("idle"),c(v),l(null!==(p=r.isOpen)&&void 0!==p?p:i.shouldPanelOpen({state:s.getState()}));var m=XV(cH(v).then((function(){return Promise.resolve()})));return s.pendingRequests.add(m)}h("loading"),uH=i.environment.setTimeout((function(){h("stalled")}),i.stallThreshold);var g=XV(cH(i.getSources(oH({query:o,refresh:a,state:s.getState()},u)).then((function(e){return Promise.all(e.map((function(e){return Promise.resolve(e.getItems(oH({query:o,refresh:a,state:s.getState()},u))).then((function(t){return GV(t,e.sourceId,s.getState())}))}))).then(KV).then((function(t){return QV(t,e,s)})).then((function(e){return function(e){var t=e.collections,n=e.props,r=e.state,i=t.reduce((function(e,t){return FV(FV({},e),{},BV({},t.source.sourceId,FV(FV({},t.source),{},{getItems:function(){return yV(t.items)}})))}),{}),o=n.plugins.reduce((function(e,t){return t.reshape?t.reshape(e):e}),{sourcesBySourceId:i,state:r}).sourcesBySourceId;return yV(n.reshape({sourcesBySourceId:o,sources:Object.values(o),state:r})).filter(Boolean).map((function(e){return{source:e,items:e.getItems()}}))}({collections:e,props:i,state:s.getState()})}))})))).then((function(e){var n;h("idle"),c(e);var f=i.shouldPanelOpen({state:s.getState()});l(null!==(n=r.isOpen)&&void 0!==n?n:i.openOnFocus&&!o&&f||f);var d=tH(s.getState());if(null!==s.getState().activeItemId&&d){var p=d.item,v=d.itemInputValue,m=d.itemUrl,g=d.source;g.onActive(oH({event:t,item:p,itemInputValue:v,itemUrl:m,refresh:a,source:g,state:s.getState()},u))}})).finally((function(){h("idle"),uH&&i.environment.clearTimeout(uH)}));return s.pendingRequests.add(g)}function fH(e){return fH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fH(e)}var dH=["event","props","refresh","store"];function hH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hH(Object(n),!0).forEach((function(t){vH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==fH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==fH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===fH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var gH=/((gt|sm)-|galaxy nexus)|samsung[- ]|samsungbrowser/i;function yH(e){return yH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yH(e)}var bH=["props","refresh","store"],wH=["inputElement","formElement","panelElement"],kH=["inputElement"],xH=["inputElement","maxLength"],SH=["sourceIndex"],_H=["sourceIndex"],EH=["item","source","sourceIndex"];function CH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CH(Object(n),!0).forEach((function(t){OH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==yH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TH(e){var t=e.props,n=e.refresh,r=e.store,i=ZH(e,bH),o=function(e,t){return"undefined"!==typeof t?"".concat(e,"-").concat(t):e};return{getEnvironmentProps:function(e){var n=e.inputElement,i=e.formElement,o=e.panelElement;function a(e){if((r.getState().isOpen||!r.pendingRequests.isEmpty())&&e.target!==n){var a=[i,o].some((function(t){return function(e,t){return e===t||e.contains(t)}(t,e.target)}));!1===a&&(r.dispatch("blur",null),t.debug||r.pendingRequests.cancelAll())}}return IH({onTouchStart:a,onMouseDown:a,onTouchMove:function(e){!1!==r.getState().isOpen&&n===t.environment.document.activeElement&&e.target!==n&&n.blur()}},ZH(e,wH))},getRootProps:function(e){return IH({role:"combobox","aria-expanded":r.getState().isOpen,"aria-haspopup":"listbox","aria-owns":r.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label")},e)},getFormProps:function(e){e.inputElement;return IH({action:"",noValidate:!0,role:"search",onSubmit:function(o){var a;o.preventDefault(),t.onSubmit(IH({event:o,refresh:n,state:r.getState()},i)),r.dispatch("submit",null),null===(a=e.inputElement)||void 0===a||a.blur()},onReset:function(o){var a;o.preventDefault(),t.onReset(IH({event:o,refresh:n,state:r.getState()},i)),r.dispatch("reset",null),null===(a=e.inputElement)||void 0===a||a.focus()}},ZH(e,kH))},getLabelProps:function(e){var n=e||{},r=n.sourceIndex,i=ZH(n,SH);return IH({htmlFor:"".concat(o(t.id,r),"-input"),id:"".concat(o(t.id,r),"-label")},i)},getInputProps:function(e){var o;function a(e){(t.openOnFocus||Boolean(r.getState().query))&&lH(IH({event:e,props:t,query:r.getState().completion||r.getState().query,refresh:n,store:r},i)),r.dispatch("focus",null)}var s=e||{},u=(s.inputElement,s.maxLength),c=void 0===u?512:u,l=ZH(s,xH),f=tH(r.getState()),d=function(e){return Boolean(e&&e.match(gH))}((null===(o=t.environment.navigator)||void 0===o?void 0:o.userAgent)||""),h=null!==f&&void 0!==f&&f.itemUrl&&!d?"go":"search";return IH({"aria-autocomplete":"both","aria-activedescendant":r.getState().isOpen&&null!==r.getState().activeItemId?"".concat(t.id,"-item-").concat(r.getState().activeItemId):void 0,"aria-controls":r.getState().isOpen?"".concat(t.id,"-list"):void 0,"aria-labelledby":"".concat(t.id,"-label"),value:r.getState().completion||r.getState().query,id:"".concat(t.id,"-input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:h,spellCheck:"false",autoFocus:t.autoFocus,placeholder:t.placeholder,maxLength:c,type:"search",onChange:function(e){lH(IH({event:e,props:t,query:e.currentTarget.value.slice(0,c),refresh:n,store:r},i))},onKeyDown:function(e){!function(e){var t=e.event,n=e.props,r=e.refresh,i=e.store,o=mH(e,dH);if("ArrowUp"===t.key||"ArrowDown"===t.key){var a=function(){var e=n.environment.document.getElementById("".concat(n.id,"-item-").concat(i.getState().activeItemId));e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded(!1):e.scrollIntoView(!1))},s=function(){var e=tH(i.getState());if(null!==i.getState().activeItemId&&e){var n=e.item,a=e.itemInputValue,s=e.itemUrl,u=e.source;u.onActive(pH({event:t,item:n,itemInputValue:a,itemUrl:s,refresh:r,source:u,state:i.getState()},o))}};t.preventDefault(),!1===i.getState().isOpen&&(n.openOnFocus||Boolean(i.getState().query))?lH(pH({event:t,props:n,query:i.getState().query,refresh:r,store:i},o)).then((function(){i.dispatch(t.key,{nextActiveItemId:n.defaultActiveItemId}),s(),setTimeout(a,0)})):(i.dispatch(t.key,{}),s(),a())}else if("Escape"===t.key)t.preventDefault(),i.dispatch(t.key,null),i.pendingRequests.cancelAll();else if("Tab"===t.key)i.dispatch("blur",null),i.pendingRequests.cancelAll();else if("Enter"===t.key){if(null===i.getState().activeItemId||i.getState().collections.every((function(e){return 0===e.items.length})))return void(n.debug||i.pendingRequests.cancelAll());t.preventDefault();var u=tH(i.getState()),c=u.item,l=u.itemInputValue,f=u.itemUrl,d=u.source;if(t.metaKey||t.ctrlKey)void 0!==f&&(d.onSelect(pH({event:t,item:c,itemInputValue:l,itemUrl:f,refresh:r,source:d,state:i.getState()},o)),n.navigator.navigateNewTab({itemUrl:f,item:c,state:i.getState()}));else if(t.shiftKey)void 0!==f&&(d.onSelect(pH({event:t,item:c,itemInputValue:l,itemUrl:f,refresh:r,source:d,state:i.getState()},o)),n.navigator.navigateNewWindow({itemUrl:f,item:c,state:i.getState()}));else if(t.altKey);else{if(void 0!==f)return d.onSelect(pH({event:t,item:c,itemInputValue:l,itemUrl:f,refresh:r,source:d,state:i.getState()},o)),void n.navigator.navigate({itemUrl:f,item:c,state:i.getState()});lH(pH({event:t,nextState:{isOpen:!1},props:n,query:l,refresh:r,store:i},o)).then((function(){d.onSelect(pH({event:t,item:c,itemInputValue:l,itemUrl:f,refresh:r,source:d,state:i.getState()},o))}))}}}(IH({event:e,props:t,refresh:n,store:r},i))},onFocus:a,onBlur:Bz,onClick:function(n){e.inputElement!==t.environment.document.activeElement||r.getState().isOpen||a(n)}},l)},getPanelProps:function(e){return IH({onMouseDown:function(e){e.preventDefault()},onMouseLeave:function(){r.dispatch("mouseleave",null)}},e)},getListProps:function(e){var n=e||{},r=n.sourceIndex,i=ZH(n,_H);return IH({role:"listbox","aria-labelledby":"".concat(o(t.id,r),"-label"),id:"".concat(o(t.id,r),"-list")},i)},getItemProps:function(e){var a=e.item,s=e.source,u=e.sourceIndex,c=ZH(e,EH);return IH({id:"".concat(o(t.id,u),"-item-").concat(a.__autocomplete_id),role:"option","aria-selected":r.getState().activeItemId===a.__autocomplete_id,onMouseMove:function(e){if(a.__autocomplete_id!==r.getState().activeItemId){r.dispatch("mousemove",a.__autocomplete_id);var t=tH(r.getState());if(null!==r.getState().activeItemId&&t){var o=t.item,s=t.itemInputValue,u=t.itemUrl,c=t.source;c.onActive(IH({event:e,item:o,itemInputValue:s,itemUrl:u,refresh:n,source:c,state:r.getState()},i))}}},onMouseDown:function(e){e.preventDefault()},onClick:function(e){var o=s.getItemInputValue({item:a,state:r.getState()}),u=s.getItemUrl({item:a,state:r.getState()});(u?Promise.resolve():lH(IH({event:e,nextState:{isOpen:!1},props:t,query:o,refresh:n,store:r},i))).then((function(){s.onSelect(IH({event:e,item:a,itemInputValue:o,itemUrl:u,refresh:n,source:s,state:r.getState()},i))}))}},c)}}}function AH(e){return AH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AH(e)}function PH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(n),!0).forEach((function(t){NH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==AH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==AH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===AH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t,n,r,i,o=e.plugins,a=e.options,s=null===(t=((null===(n=a.__autocomplete_metadata)||void 0===n?void 0:n.userAgents)||[])[0])||void 0===t?void 0:t.segment,u=s?NH({},s,Object.keys((null===(r=a.__autocomplete_metadata)||void 0===r?void 0:r.options)||{})):{};return{plugins:o.map((function(e){return{name:e.name,options:Object.keys(e.__autocomplete_pluginOptions||[])}})),options:RH({"autocomplete-core":Object.keys(a)},u),ua:eB.concat((null===(i=a.__autocomplete_metadata)||void 0===i?void 0:i.userAgents)||[])}}function LH(e){var t,n=e.state;return!1===n.isOpen||null===n.activeItemId?null:(null===(t=tH(n))||void 0===t?void 0:t.itemInputValue)||null}function DH(e,t,n,r){if(!n)return null;if(e<0&&(null===t||null!==r&&0===t))return n+e;var i=(null===t?-1:t)+e;return i<=-1||i>=n?null===r?null:0:i}function MH(e){return MH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MH(e)}function FH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FH(Object(n),!0).forEach((function(t){UH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==MH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==MH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===MH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zH=function(e,t){switch(t.type){case"setActiveItemId":case"mousemove":return BH(BH({},e),{},{activeItemId:t.payload});case"setQuery":return BH(BH({},e),{},{query:t.payload,completion:null});case"setCollections":return BH(BH({},e),{},{collections:t.payload});case"setIsOpen":return BH(BH({},e),{},{isOpen:t.payload});case"setStatus":return BH(BH({},e),{},{status:t.payload});case"setContext":return BH(BH({},e),{},{context:BH(BH({},e.context),t.payload)});case"ArrowDown":var n=BH(BH({},e),{},{activeItemId:t.payload.hasOwnProperty("nextActiveItemId")?t.payload.nextActiveItemId:DH(1,e.activeItemId,SV(e),t.props.defaultActiveItemId)});return BH(BH({},n),{},{completion:LH({state:n})});case"ArrowUp":var r=BH(BH({},e),{},{activeItemId:DH(-1,e.activeItemId,SV(e),t.props.defaultActiveItemId)});return BH(BH({},r),{},{completion:LH({state:r})});case"Escape":return e.isOpen?BH(BH({},e),{},{activeItemId:null,isOpen:!1,completion:null}):BH(BH({},e),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return BH(BH({},e),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return BH(BH({},e),{},{activeItemId:!0===t.props.openOnFocus?t.props.defaultActiveItemId:null,status:"idle",query:""});case"focus":return BH(BH({},e),{},{activeItemId:t.props.defaultActiveItemId,isOpen:(t.props.openOnFocus||Boolean(e.query))&&t.props.shouldPanelOpen({state:e})});case"blur":return t.props.debug?e:BH(BH({},e),{},{isOpen:!1,activeItemId:null});case"mouseleave":return BH(BH({},e),{},{activeItemId:t.props.defaultActiveItemId});default:return"The reducer action ".concat(JSON.stringify(t.type)," is not supported."),e}};function VH(e){return VH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VH(e)}function HH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HH(Object(n),!0).forEach((function(t){$H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==VH(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===VH(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=[],n=LV(e,t),r=gV(zH,n,(function(e){var t=e.prevState,r=e.state;n.onStateChange(WH({prevState:t,state:r,refresh:a,navigator:n.navigator},i))})),i=function(e){var t=e.store;return{setActiveItemId:function(e){t.dispatch("setActiveItemId",e)},setQuery:function(e){t.dispatch("setQuery",e)},setCollections:function(e){var n=0,r=e.map((function(e){return kV(kV({},e),{},{items:yV(e.items).map((function(e){return kV(kV({},e),{},{__autocomplete_id:n++})}))})}));t.dispatch("setCollections",r)},setIsOpen:function(e){t.dispatch("setIsOpen",e)},setStatus:function(e){t.dispatch("setStatus",e)},setContext:function(e){t.dispatch("setContext",e)}}}({store:r}),o=TH(WH({props:n,refresh:a,store:r,navigator:n.navigator},i));function a(){return lH(WH({event:new Event("input"),nextState:{isOpen:r.getState().isOpen},props:n,navigator:n.navigator,query:r.getState().query,refresh:a,store:r},i))}if(e.insights&&!n.plugins.some((function(e){return"aa.algoliaInsightsPlugin"===e.name}))){var s="boolean"===typeof e.insights?{}:e.insights;n.plugins.push(dV(s))}return n.plugins.forEach((function(e){var r;return null===(r=e.subscribe)||void 0===r?void 0:r.call(e,WH(WH({},i),{},{navigator:n.navigator,refresh:a,onSelect:function(e){t.push({onSelect:e})},onActive:function(e){t.push({onActive:e})},onResolve:function(e){t.push({onResolve:e})}}))})),function(e){var t,n,r=e.metadata,i=e.environment;if(null===(t=i.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.includes("Algolia Crawler")){var o=i.document.createElement("meta"),a=i.document.querySelector("head");o.name="algolia:metadata",setTimeout((function(){o.content=JSON.stringify(r),a.appendChild(o)}),0)}}({metadata:jH({plugins:n.plugins,options:e}),environment:n.environment}),WH(WH({refresh:a,navigator:n.navigator},o),i)}var GH=function e(t,n,r,i){var o;n[0]=0;for(var a=1;a<n.length;a++){var s=n[a++],u=n[a]?(n[0]|=s?1:2,r[n[a++]]):n[++a];3===s?i[0]=u:4===s?i[1]=Object.assign(i[1]||{},u):5===s?(i[1]=i[1]||{})[n[++a]]=u:6===s?i[1][n[++a]]+=u+"":s?(o=t.apply(u,e(t,u,r,["",null])),i.push(o),u[0]?n[0]|=2:(n[a-2]=0,n[a]=o)):i.push(u)}return i},KH=new Map;function QH(e){var t=KH.get(this);return t||(t=new Map,KH.set(this,t)),(t=GH(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,r=1,i="",o="",a=[0],s=function(e){1===r&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,i):3===r&&(e||i)?(a.push(3,e,i),r=2):2===r&&"..."===i&&e?a.push(4,e,0):2===r&&i&&!e?a.push(5,0,!0,i):r>=5&&((i||!e&&5===r)&&(a.push(r,0,i,n),r=6),e&&(a.push(r,e,0,n),r=6)),i=""},u=0;u<e.length;u++){u&&(1===r&&s(),s(u));for(var c=0;c<e[u].length;c++)t=e[u][c],1===r?"<"===t?(s(),a=[a],r=3):i+=t:4===r?"--"===i&&">"===t?(r=1,i=""):i=t+i[0]:o?t===o?o="":i+=t:'"'===t||"'"===t?o=t:">"===t?(s(),r=1):r&&("="===t?(r=5,n=i,i=""):"/"===t&&(r<5||">"===e[u][c+1])?(s(),3===r&&(a=a[0]),r=a,(a=a[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),r=2):i+=t),3===r&&"!--"===i&&(r=4,a=a[0])}return s(),a}(e)),t),arguments,[])).length>1?t:t[0]}var JH=function(e){var t=e.environment,n=t.document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("class","aa-SubmitIcon"),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","20"),n.setAttribute("height","20"),n.setAttribute("fill","currentColor");var r=t.document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d","M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"),n.appendChild(r),n},YH=function(e){var t=e.environment,n=t.document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("class","aa-ClearIcon"),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("width","18"),n.setAttribute("height","18"),n.setAttribute("fill","currentColor");var r=t.document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d","M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"),n.appendChild(r),n},XH=function(e){var t=e.environment.document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("class","aa-LoadingIcon"),t.setAttribute("viewBox","0 0 100 100"),t.setAttribute("width","20"),t.setAttribute("height","20"),t.innerHTML='<circle\n  cx="50"\n  cy="50"\n  fill="none"\n  r="35"\n  stroke="currentColor"\n  stroke-dasharray="164.93361431346415 56.97787143782138"\n  stroke-width="6"\n>\n  <animateTransform\n    attributeName="transform"\n    type="rotate"\n    repeatCount="indefinite"\n    dur="1s"\n    values="0 50 50;90 50 50;180 50 50;360 50 50"\n    keyTimes="0;0.40;0.65;1"\n  />\n</circle>',t},eW=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];function tW(e,t,n){e[t]=null===n?"":"number"!==typeof n?n:n+"px"}function nW(e){this._listeners[e.type](e)}function rW(e,t,n){var r,i,o=e[t];if("style"===t)if("string"==typeof n)e.style=n;else if(null===n)e.style="";else for(t in n)o&&n[t]===o[t]||tW(e.style,t,n[t]);else"o"===t[0]&&"n"===t[1]?(r=t!==(t=t.replace(/Capture$/,"")),((i=t.toLowerCase())in e||eW.includes(i))&&(t=i),t=t.slice(2),e._listeners||(e._listeners={}),e._listeners[t]=n,n?o||e.addEventListener(t,nW,r):e.removeEventListener(t,nW,r)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function iW(e){return"onChange"===e?"onInput":e}function oW(e,t){for(var n in t)rW(e,iW(n),t[n])}function aW(e,t){for(var n in t)"o"===n[0]&&"n"===n[1]||rW(e,iW(n),t[n])}var sW=["children"];function uW(e){return function(e){if(Array.isArray(e))return cW(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cW(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fW(e){return function(t,n){var r=n.children,i=void 0===r?[]:r,o=lW(n,sW),a=e.document.createElement(t);return oW(a,o),a.append.apply(a,uW(i)),a}}function dW(e){return dW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dW(e)}var hW=["autocompleteScopeApi","environment","classNames","getInputProps","getInputPropsCore","isDetached","state"];function pW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pW(Object(n),!0).forEach((function(t){mW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==dW(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==dW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===dW(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gW(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var yW=function(e){var t=e.autocompleteScopeApi,n=e.environment,r=(e.classNames,e.getInputProps),i=e.getInputPropsCore,o=e.isDetached,a=e.state,s=gW(e,hW),u=fW(n)("input",s),c=r(vW({state:a,props:i({inputElement:u}),inputElement:u},t));return oW(u,vW(vW({},c),{},{onKeyDown:function(e){o&&"Tab"===e.key||c.onKeyDown(e)}})),u};function bW(e){return bW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bW(e)}function wW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wW(Object(n),!0).forEach((function(t){xW(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xW(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==bW(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bW(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bW(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SW,_W,EW,CW,IW,OW,ZW,TW={},AW=[],PW=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,RW=Array.isArray;function NW(e,t){for(var n in t)e[n]=t[n];return e}function jW(e){var t=e.parentNode;t&&t.removeChild(e)}function LW(e,t,n){var r,i,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?SW.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return DW(e,a,r,i,null)}function DW(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++EW:i};return null==i&&null!=_W.vnode&&_W.vnode(o),o}function MW(e){return e.children}function FW(e,t){this.props=e,this.context=t}function BW(e,t){if(null==t)return e.__?BW(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?BW(e):null}function UW(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return UW(e)}}function zW(e){(!e.__d&&(e.__d=!0)&&CW.push(e)&&!VW.__r++||IW!==_W.debounceRendering)&&((IW=_W.debounceRendering)||OW)(VW)}function VW(){var e,t,n,r,i,o,a,s;for(CW.sort(ZW);e=CW.shift();)e.__d&&(t=CW.length,r=void 0,i=void 0,a=(o=(n=e).__v).__e,(s=n.__P)&&(r=[],(i=NW({},o)).__v=o.__v+1,YW(s,o,i,n.__n,void 0!==s.ownerSVGElement,null!=o.__h?[a]:null,r,null==a?BW(o):a,o.__h),XW(r,o),o.__e!=a&&UW(o)),CW.length>t&&CW.sort(ZW));VW.__r=0}function HW(e,t,n,r,i,o,a,s,u,c){var l,f,d,h,p,v,m,g=r&&r.__k||AW,y=g.length;for(n.__k=[],l=0;l<t.length;l++)if(null!=(h=n.__k[l]=null==(h=t[l])||"boolean"==typeof h||"function"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?DW(null,h,null,null,h):RW(h)?DW(MW,{children:h},null,null,null):h.__b>0?DW(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(d=g[l])||d&&h.key==d.key&&h.type===d.type)g[l]=void 0;else for(f=0;f<y;f++){if((d=g[f])&&h.key==d.key&&h.type===d.type){g[f]=void 0;break}d=null}YW(e,h,d=d||TW,i,o,a,s,u,c),p=h.__e,(f=h.ref)&&d.ref!=f&&(m||(m=[]),d.ref&&m.push(d.ref,null,h),m.push(f,h.__c||p,h)),null!=p?(null==v&&(v=p),"function"==typeof h.type&&h.__k===d.__k?h.__d=u=WW(h,u,e):u=$W(e,h,d,g,p,u),"function"==typeof n.type&&(n.__d=u)):u&&d.__e==u&&u.parentNode!=e&&(u=BW(d))}for(n.__e=v,l=y;l--;)null!=g[l]&&("function"==typeof n.type&&null!=g[l].__e&&g[l].__e==n.__d&&(n.__d=qW(r).nextSibling),n$(g[l],g[l]));if(m)for(l=0;l<m.length;l++)t$(m[l],m[++l],m[++l])}function WW(e,t,n){for(var r,i=e.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=e,t="function"==typeof r.type?WW(r,t,n):$W(n,r,r,i,r.__e,t));return t}function $W(e,t,n,r,i,o){var a,s,u;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),a=null;else{for(s=o,u=0;(s=s.nextSibling)&&u<r.length;u+=1)if(s==i)break e;e.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function qW(e){var t,n,r;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(r=qW(n)))return r;return null}function GW(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||PW.test(t)?n:n+"px"}function KW(e,t,n,r,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||GW(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||GW(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?JW:QW,o):e.removeEventListener(t,o?JW:QW,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function QW(e){return this.l[e.type+!1](_W.event?_W.event(e):e)}function JW(e){return this.l[e.type+!0](_W.event?_W.event(e):e)}function YW(e,t,n,r,i,o,a,s,u){var c,l,f,d,h,p,v,m,g,y,b,w,k,x,S,_=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,s=t.__e=n.__e,t.__h=null,o=[s]),(c=_W.__b)&&c(t);try{e:if("function"==typeof _){if(m=t.props,g=(c=_.contextType)&&r[c.__c],y=c?g?g.props.value:c.__:r,n.__c?v=(l=t.__c=n.__c).__=l.__E:("prototype"in _&&_.prototype.render?t.__c=l=new _(m,y):(t.__c=l=new FW(m,y),l.constructor=_,l.render=r$),g&&g.sub(l),l.props=m,l.state||(l.state={}),l.context=y,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),null==l.__s&&(l.__s=l.state),null!=_.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=NW({},l.__s)),NW(l.__s,_.getDerivedStateFromProps(m,l.__s))),d=l.props,h=l.state,l.__v=t,f)null==_.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==_.getDerivedStateFromProps&&m!==d&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(m,y),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(m,l.__s,y)||t.__v===n.__v){for(t.__v!==n.__v&&(l.props=m,l.state=l.__s,l.__d=!1),l.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<l._sb.length;b++)l.__h.push(l._sb[b]);l._sb=[],l.__h.length&&a.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(m,l.__s,y),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(d,h,p)}))}if(l.context=y,l.props=m,l.__P=e,w=_W.__r,k=0,"prototype"in _&&_.prototype.render){for(l.state=l.__s,l.__d=!1,w&&w(t),c=l.render(l.props,l.state,l.context),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[]}else do{l.__d=!1,w&&w(t),c=l.render(l.props,l.state,l.context),l.state=l.__s}while(l.__d&&++k<25);l.state=l.__s,null!=l.getChildContext&&(r=NW(NW({},r),l.getChildContext())),f||null==l.getSnapshotBeforeUpdate||(p=l.getSnapshotBeforeUpdate(d,h)),HW(e,RW(S=null!=c&&c.type===MW&&null==c.key?c.props.children:c)?S:[S],t,n,r,i,o,a,s,u),l.base=t.__e,t.__h=null,l.__h.length&&a.push(l),v&&(l.__E=l.__=null),l.__e=!1}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=e$(n.__e,t,n,r,i,o,a,u);(c=_W.diffed)&&c(t)}catch(e){t.__v=null,(u||null!=o)&&(t.__e=s,t.__h=!!u,o[o.indexOf(s)]=null),_W.__e(e,t,n)}}function XW(e,t){_W.__c&&_W.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){_W.__e(e,t.__v)}}))}function e$(e,t,n,r,i,o,a,s){var u,c,l,f=n.props,d=t.props,h=t.type,p=0;if("svg"===h&&(i=!0),null!=o)for(;p<o.length;p++)if((u=o[p])&&"setAttribute"in u==!!h&&(h?u.localName===h:3===u.nodeType)){e=u,o[p]=null;break}if(null==e){if(null===h)return document.createTextNode(d);e=i?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,d.is&&d),o=null,s=!1}if(null===h)f===d||s&&e.data===d||(e.data=d);else{if(o=o&&SW.call(e.childNodes),c=(f=n.props||TW).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!s){if(null!=o)for(f={},p=0;p<e.attributes.length;p++)f[e.attributes[p].name]=e.attributes[p].value;(l||c)&&(l&&(c&&l.__html==c.__html||l.__html===e.innerHTML)||(e.innerHTML=l&&l.__html||""))}if(function(e,t,n,r,i){var o;for(o in n)"children"===o||"key"===o||o in t||KW(e,o,null,n[o],r);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||KW(e,o,t[o],n[o],r)}(e,d,f,i,s),l)t.__k=[];else if(HW(e,RW(p=t.props.children)?p:[p],t,n,r,i&&"foreignObject"!==h,o,a,o?o[0]:n.__k&&BW(n,0),s),null!=o)for(p=o.length;p--;)null!=o[p]&&jW(o[p]);s||("value"in d&&void 0!==(p=d.value)&&(p!==e.value||"progress"===h&&!p||"option"===h&&p!==f.value)&&KW(e,"value",p,f.value,!1),"checked"in d&&void 0!==(p=d.checked)&&p!==e.checked&&KW(e,"checked",p,f.checked,!1))}return e}function t$(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){_W.__e(e,n)}}function n$(e,t,n){var r,i;if(_W.unmount&&_W.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||t$(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){_W.__e(e,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&n$(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||jW(e.__e),e.__=e.__e=e.__d=void 0}function r$(e,t,n){return this.constructor(e,n)}function i$(e,t,n){var r,i,o;_W.__&&_W.__(e,t),i=(r="function"==typeof n)?null:n&&n.__k||t.__k,o=[],YW(t,e=(!r&&n||t).__k=LW(MW,null,[e]),i||TW,TW,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?SW.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r),XW(o,e)}function o$(e){var t=e.highlightedValue.split(tB),n=t.shift(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{get:function(){return e},add:function(t){var n=e[e.length-1];(null===n||void 0===n?void 0:n.isHighlighted)===t.isHighlighted?e[e.length-1]={value:n.value+t.value,isHighlighted:n.isHighlighted}:e.push(t)}}}(n?[{value:n,isHighlighted:!1}]:[]);return t.forEach((function(e){var t=e.split(nB);r.add({value:t[0],isHighlighted:!0}),""!==t[1]&&r.add({value:t[1],isHighlighted:!1})})),r.get()}function a$(e){return function(e){if(Array.isArray(e))return s$(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u$(e){var t=e.hit,n=e.attribute,r=Array.isArray(n)?n:[n],i=yB(t,["_highlightResult"].concat(a$(r),["value"]));return"string"!==typeof i&&(i=yB(t,r)||""),o$({highlightedValue:i})}function c$(e){var t=e.createElement,n=e.Fragment;function r(e){var r=e.hit,i=e.attribute,o=e.tagName,a=void 0===o?"mark":o;return t(n,{},u$({hit:r,attribute:i}).map((function(e,n){return e.isHighlighted?t(a,{key:n},e.value):e.value})))}return r.__autocomplete_componentName="Highlight",r}SW=AW.slice,_W={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},EW=0,FW.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=NW({},this.state),"function"==typeof e&&(e=e(NW({},n),this.props)),e&&NW(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),zW(this))},FW.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),zW(this))},FW.prototype.render=MW,CW=[],OW="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ZW=function(e,t){return e.__v.__b-t.__v.__b},VW.__r=0;var l$={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},f$=new RegExp(/\w/i),d$=/&(amp|quot|lt|gt|#39);/g,h$=RegExp(d$.source);function p$(e,t){var n,r,i,o=e[t],a=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,s=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return f$.test((i=o.value)&&h$.test(i)?i.replace(d$,(function(e){return l$[e]})):i)||s!==a?o.isHighlighted:s}function v$(e){return v$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v$(e)}function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m$(Object(n),!0).forEach((function(t){y$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b$(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,n){return g$(g$({},t),{},{isHighlighted:!p$(e,n)})})):e.map((function(e){return g$(g$({},e),{},{isHighlighted:!1})}))}function w$(e){var t=e.createElement,n=e.Fragment;function r(e){var r,i=e.hit,o=e.attribute,a=e.tagName,s=void 0===a?"mark":a;return t(n,{},(r={hit:i,attribute:o},b$(u$(r))).map((function(e,n){return e.isHighlighted?t(s,{key:n},e.value):e.value})))}return r.__autocomplete_componentName="ReverseHighlight",r}function k$(e){return function(e){if(Array.isArray(e))return x$(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return x$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S$(e){var t=e.hit,n=e.attribute,r=Array.isArray(n)?n:[n],i=yB(t,["_snippetResult"].concat(k$(r),["value"]));return"string"!==typeof i&&(i=yB(t,r)||""),o$({highlightedValue:i})}function _$(e){var t=e.createElement,n=e.Fragment;function r(e){var r,i=e.hit,o=e.attribute,a=e.tagName,s=void 0===a?"mark":a;return t(n,{},(r={hit:i,attribute:o},b$(S$(r))).map((function(e,n){return e.isHighlighted?t(s,{key:n},e.value):e.value})))}return r.__autocomplete_componentName="ReverseSnippet",r}function E$(e){var t=e.createElement,n=e.Fragment;function r(e){var r=e.hit,i=e.attribute,o=e.tagName,a=void 0===o?"mark":o;return t(n,{},S$({hit:r,attribute:i}).map((function(e,n){return e.isHighlighted?t(a,{key:n},e.value):e.value})))}return r.__autocomplete_componentName="Snippet",r}function C$(e,t){if("string"===typeof t){var n=e.document.querySelector(t);return"The element ".concat(JSON.stringify(t)," is not in the document."),n}return t}function I$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Object.keys(t).forEach((function(n){var r=e[n],i=t[n];r!==i&&(e[n]=[r,i].filter(Boolean).join(" "))})),e}),{})}function O$(e){return O$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O$(e)}var Z$=["classNames","container","getEnvironmentProps","getFormProps","getInputProps","getItemProps","getLabelProps","getListProps","getPanelProps","getRootProps","panelContainer","panelPlacement","render","renderNoResults","renderer","detachedMediaQuery","components","translations"];function T$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T$(Object(n),!0).forEach((function(t){P$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==O$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==O$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===O$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var N$={clearButton:"aa-ClearButton",detachedCancelButton:"aa-DetachedCancelButton",detachedContainer:"aa-DetachedContainer",detachedFormContainer:"aa-DetachedFormContainer",detachedOverlay:"aa-DetachedOverlay",detachedSearchButton:"aa-DetachedSearchButton",detachedSearchButtonIcon:"aa-DetachedSearchButtonIcon",detachedSearchButtonPlaceholder:"aa-DetachedSearchButtonPlaceholder",detachedSearchButtonQuery:"aa-DetachedSearchButtonQuery",form:"aa-Form",input:"aa-Input",inputWrapper:"aa-InputWrapper",inputWrapperPrefix:"aa-InputWrapperPrefix",inputWrapperSuffix:"aa-InputWrapperSuffix",item:"aa-Item",label:"aa-Label",list:"aa-List",loadingIndicator:"aa-LoadingIndicator",panel:"aa-Panel",panelLayout:"aa-PanelLayout aa-Panel--scrollable",root:"aa-Autocomplete",source:"aa-Source",sourceFooter:"aa-SourceFooter",sourceHeader:"aa-SourceHeader",sourceNoResults:"aa-SourceNoResults",submitButton:"aa-SubmitButton"},j$=function(e,t){var n=e.children;(0,e.render)(n,t)},L$={createElement:LW,Fragment:MW,render:i$};function D$(e){var t=e.panelPlacement,n=e.container,r=e.form,i=e.environment,o=n.getBoundingClientRect(),a=(i.pageYOffset||i.document.documentElement.scrollTop||i.document.body.scrollTop||0)+o.top+o.height;switch(t){case"start":return{top:a,left:o.left};case"end":return{top:a,right:i.document.documentElement.clientWidth-(o.left+o.width)};case"full-width":return{top:a,left:0,right:0,width:"unset",maxWidth:"unset"};case"input-wrapper-width":var s=r.getBoundingClientRect();return{top:a,left:s.left,right:i.document.documentElement.clientWidth-(s.left+s.width),width:"unset",maxWidth:"unset"};default:throw new Error("[Autocomplete] The `panelPlacement` value ".concat(JSON.stringify(t)," is not valid."))}}function M$(e){return M$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M$(e)}function F$(){return F$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F$.apply(this,arguments)}function B$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B$(Object(n),!0).forEach((function(t){z$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==M$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==M$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V$(e){return function(e){if(Array.isArray(e))return H$(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return H$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W$(e){return W$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W$(e)}var $$=function(e){return e&&"object"===W$(e)&&"[object Object]"===Object.prototype.toString.call(e)};function q$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return Object.keys(t).forEach((function(n){var r=e[n],i=t[n];Array.isArray(r)&&Array.isArray(i)?e[n]=r.concat.apply(r,V$(i)):$$(r)&&$$(i)?e[n]=q$(r,i):e[n]=i})),e}),{})}function G$(e){return G$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G$(e)}function K$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K$(Object(n),!0).forEach((function(t){J$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J$(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==G$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==G$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===G$(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X$(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X$(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eq=["components"];function tq(e){return tq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tq(e)}function nq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rq(Object(n),!0).forEach((function(t){oq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==tq(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tq(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=function(){var e=[],t=[];function n(n){e.push(n);var r=n();t.push(r)}return{runEffect:n,cleanupEffects:function(){var e=t;t=[],e.forEach((function(e){e()}))},runEffects:function(){var t=e;e=[],t.forEach((function(e){n(e)}))}}}(),n=t.runEffect,r=t.cleanupEffects,i=t.runEffects,o=function(){var e=[];return{reactive:function(t){var n=t(),r={_fn:t,_ref:{current:n},get value(){return this._ref.current},set value(e){this._ref.current=e}};return e.push(r),r},runReactives:function(){e.forEach((function(e){e._ref.current=e._fn()}))}}}(),a=o.reactive,s=o.runReactives,u=PB(!1),c=PB(e),l=PB(void 0),f=a((function(){return function(e){var t,n=e.classNames,r=e.container,i=e.getEnvironmentProps,o=e.getFormProps,a=e.getInputProps,s=e.getItemProps,u=e.getLabelProps,c=e.getListProps,l=e.getPanelProps,f=e.getRootProps,d=e.panelContainer,h=e.panelPlacement,p=e.render,v=e.renderNoResults,m=e.renderer,g=e.detachedMediaQuery,y=e.components,b=e.translations,w=R$(e,Z$),k="undefined"!==typeof window?window:{},x=C$(k,r);x.tagName;var S=A$(A$({},L$),m),_={Highlight:c$(S),ReverseHighlight:w$(S),ReverseSnippet:_$(S),Snippet:E$(S)};return{renderer:{classNames:I$(N$,null!==n&&void 0!==n?n:{}),container:x,getEnvironmentProps:null!==i&&void 0!==i?i:function(e){return e.props},getFormProps:null!==o&&void 0!==o?o:function(e){return e.props},getInputProps:null!==a&&void 0!==a?a:function(e){return e.props},getItemProps:null!==s&&void 0!==s?s:function(e){return e.props},getLabelProps:null!==u&&void 0!==u?u:function(e){return e.props},getListProps:null!==c&&void 0!==c?c:function(e){return e.props},getPanelProps:null!==l&&void 0!==l?l:function(e){return e.props},getRootProps:null!==f&&void 0!==f?f:function(e){return e.props},panelContainer:d?C$(k,d):k.document.body,panelPlacement:null!==h&&void 0!==h?h:"input-wrapper-width",render:null!==p&&void 0!==p?p:j$,renderNoResults:v,renderer:S,detachedMediaQuery:null!==g&&void 0!==g?g:getComputedStyle(k.document.documentElement).getPropertyValue("--aa-detached-media-query"),components:A$(A$({},_),y),translations:A$(A$({},{clearButtonTitle:"Clear",detachedCancelButtonText:"Cancel",submitButtonTitle:"Submit"}),b)},core:A$(A$({},w),{},{id:null!==(t=w.id)&&void 0!==t?t:EV(),environment:k})}}(c.current)})),d=a((function(){return f.value.core.environment.matchMedia(f.value.renderer.detachedMediaQuery).matches})),h=a((function(){return qH(iq(iq({},f.value.core),{},{onStateChange:function(e){var t,n,r;u.current=e.state.collections.some((function(e){return e.source.templates.noResults})),null===(t=l.current)||void 0===t||t.call(l,e),null===(n=(r=f.value.core).onStateChange)||void 0===n||n.call(r,e)},shouldPanelOpen:c.current.shouldPanelOpen||function(e){var t=e.state;if(d.value)return!0;var n=SV(t)>0;if(!f.value.core.openOnFocus&&!t.query)return n;var r=Boolean(u.current||f.value.renderer.renderNoResults);return!n&&r||n},__autocomplete_metadata:{userAgents:fB,options:e}}))})),p=PB(iq({collections:[],completion:null,context:{},isOpen:!1,query:"",activeItemId:null,status:"idle"},f.value.core.initialState)),v={getEnvironmentProps:f.value.renderer.getEnvironmentProps,getFormProps:f.value.renderer.getFormProps,getInputProps:f.value.renderer.getInputProps,getItemProps:f.value.renderer.getItemProps,getLabelProps:f.value.renderer.getLabelProps,getListProps:f.value.renderer.getListProps,getPanelProps:f.value.renderer.getPanelProps,getRootProps:f.value.renderer.getRootProps},m={setActiveItemId:h.value.setActiveItemId,setQuery:h.value.setQuery,setCollections:h.value.setCollections,setIsOpen:h.value.setIsOpen,setStatus:h.value.setStatus,setContext:h.value.setContext,refresh:h.value.refresh,navigator:h.value.navigator},g=a((function(){return QH.bind(f.value.renderer.renderer.createElement)})),y=a((function(){return function(e){var t=e.autocomplete,n=e.autocompleteScopeApi,r=e.classNames,i=e.environment,o=e.isDetached,a=e.placeholder,s=void 0===a?"Search":a,u=e.propGetters,c=e.setIsModalOpen,l=e.state,f=e.translations,d=fW(i),h=u.getRootProps(kW({state:l,props:t.getRootProps({})},n)),p=d("div",kW({class:r.root},h)),v=d("div",{class:r.detachedContainer,onMouseDown:function(e){e.stopPropagation()}}),m=d("div",{class:r.detachedOverlay,children:[v],onMouseDown:function(){c(!1),t.setIsOpen(!1)}}),g=u.getLabelProps(kW({state:l,props:t.getLabelProps({})},n)),y=d("button",{class:r.submitButton,type:"submit",title:f.submitButtonTitle,children:[JH({environment:i})]}),b=d("label",kW({class:r.label,children:[y]},g)),w=d("button",{class:r.clearButton,type:"reset",title:f.clearButtonTitle,children:[YH({environment:i})]}),k=d("div",{class:r.loadingIndicator,children:[XH({environment:i})]}),x=yW({class:r.input,environment:i,state:l,getInputProps:u.getInputProps,getInputPropsCore:t.getInputProps,autocompleteScopeApi:n,isDetached:o}),S=d("div",{class:r.inputWrapperPrefix,children:[b,k]}),_=d("div",{class:r.inputWrapperSuffix,children:[w]}),E=d("div",{class:r.inputWrapper,children:[x]}),C=u.getFormProps(kW({state:l,props:t.getFormProps({inputElement:x})},n)),I=d("form",kW({class:r.form,children:[S,E,_]},C)),O=u.getPanelProps(kW({state:l,props:t.getPanelProps({})},n)),Z=d("div",kW({class:r.panel},O)),T=d("div",{class:r.detachedSearchButtonQuery,textContent:l.query}),A=d("div",{class:r.detachedSearchButtonPlaceholder,hidden:Boolean(l.query),textContent:s});if(o){var P=d("div",{class:r.detachedSearchButtonIcon,children:[JH({environment:i})]}),R=d("button",{type:"button",class:r.detachedSearchButton,onClick:function(){c(!0)},children:[P,A,T]}),N=d("button",{type:"button",class:r.detachedCancelButton,textContent:f.detachedCancelButtonText,onTouchStart:function(e){e.stopPropagation()},onClick:function(){t.setIsOpen(!1),c(!1)}}),j=d("div",{class:r.detachedFormContainer,children:[I,N]});v.appendChild(j),p.appendChild(R)}else p.appendChild(I);return{detachedContainer:v,detachedOverlay:m,detachedSearchButtonQuery:T,detachedSearchButtonPlaceholder:A,inputWrapper:E,input:x,root:p,form:I,label:b,submitButton:y,clearButton:w,loadingIndicator:k,panel:Z}}({autocomplete:h.value,autocompleteScopeApi:m,classNames:f.value.renderer.classNames,environment:f.value.core.environment,isDetached:d.value,placeholder:f.value.core.placeholder,propGetters:v,setIsModalOpen:x,state:p.current,translations:f.value.renderer.translations})}));function b(){oW(y.value.panel,{style:d.value?{}:D$({panelPlacement:f.value.renderer.panelPlacement,container:y.value.root,form:y.value.form,environment:f.value.core.environment})})}function w(e){p.current=e;var t={autocomplete:h.value,autocompleteScopeApi:m,classNames:f.value.renderer.classNames,components:f.value.renderer.components,container:f.value.renderer.container,html:g.value,dom:y.value,panelContainer:d.value?y.value.detachedContainer:f.value.renderer.panelContainer,propGetters:v,state:p.current,renderer:f.value.renderer.renderer},n=!SV(e)&&!u.current&&f.value.renderer.renderNoResults||f.value.renderer.render;!function(e){var t=e.autocomplete,n=e.autocompleteScopeApi,r=e.dom,i=e.propGetters,o=e.state;aW(r.root,i.getRootProps(U$({state:o,props:t.getRootProps({})},n))),aW(r.input,i.getInputProps(U$({state:o,props:t.getInputProps({inputElement:r.input}),inputElement:r.input},n))),oW(r.label,{hidden:"stalled"===o.status}),oW(r.loadingIndicator,{hidden:"stalled"!==o.status}),oW(r.clearButton,{hidden:!o.query}),oW(r.detachedSearchButtonQuery,{textContent:o.query}),oW(r.detachedSearchButtonPlaceholder,{hidden:Boolean(o.query)})}(t),function(e,t){var n=t.autocomplete,r=t.autocompleteScopeApi,i=t.classNames,o=t.html,a=t.dom,s=t.panelContainer,u=t.propGetters,c=t.state,l=t.components,f=t.renderer;if(c.isOpen){s.contains(a.panel)||"loading"===c.status||s.appendChild(a.panel),a.panel.classList.toggle("aa-Panel--stalled","stalled"===c.status);var d=c.collections.filter((function(e){var t=e.source,n=e.items;return t.templates.noResults||n.length>0})).map((function(e,t){var a=e.source,s=e.items;return f.createElement("section",{key:t,className:i.source,"data-autocomplete-source-id":a.sourceId},a.templates.header&&f.createElement("div",{className:i.sourceHeader},a.templates.header({components:l,createElement:f.createElement,Fragment:f.Fragment,items:s,source:a,state:c,html:o})),a.templates.noResults&&0===s.length?f.createElement("div",{className:i.sourceNoResults},a.templates.noResults({components:l,createElement:f.createElement,Fragment:f.Fragment,source:a,state:c,html:o})):f.createElement("ul",F$({className:i.list},u.getListProps(U$({state:c,props:n.getListProps({sourceIndex:t})},r))),s.map((function(e){var s=n.getItemProps({item:e,source:a,sourceIndex:t});return f.createElement("li",F$({key:s.id,className:i.item},u.getItemProps(U$({state:c,props:s},r))),a.templates.item({components:l,createElement:f.createElement,Fragment:f.Fragment,item:e,state:c,html:o}))}))),a.templates.footer&&f.createElement("div",{className:i.sourceFooter},a.templates.footer({components:l,createElement:f.createElement,Fragment:f.Fragment,items:s,source:a,state:c,html:o})))})),h=f.createElement(f.Fragment,null,f.createElement("div",{className:i.panelLayout},d),f.createElement("div",{className:"aa-GradientBottom"})),p=d.reduce((function(e,t){return e[t.props["data-autocomplete-source-id"]]=t,e}),{});e(U$(U$({children:h,state:c,sections:d,elements:p},f),{},{components:l,html:o},r),a.panel)}else s.contains(a.panel)&&s.removeChild(a.panel)}(n,t)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r();var t,n,o=f.value.renderer,a=o.components,u=nq(o,eq);c.current=q$(u,f.value.core,{components:(t=a,n=function(e){return!e.value.hasOwnProperty("__autocomplete_componentName")},Object.entries(t).reduce((function(e,t){var r=Y$(t,2),i=r[0],o=r[1];return n({key:i,value:o})?Q$(Q$({},e),{},J$({},i,o)):e}),{})),initialState:p.current},e),s(),i(),h.value.refresh().then((function(){w(p.current)}))}function x(e){requestAnimationFrame((function(){var t=f.value.core.environment.document.body.contains(y.value.detachedOverlay);e!==t&&(e?(f.value.core.environment.document.body.appendChild(y.value.detachedOverlay),f.value.core.environment.document.body.classList.add("aa-Detached"),y.value.input.focus()):(f.value.core.environment.document.body.removeChild(y.value.detachedOverlay),f.value.core.environment.document.body.classList.remove("aa-Detached")))}))}return n((function(){var e=h.value.getEnvironmentProps({formElement:y.value.form,panelElement:y.value.panel,inputElement:y.value.input});return oW(f.value.core.environment,e),function(){oW(f.value.core.environment,Object.keys(e).reduce((function(e,t){return iq(iq({},e),{},oq({},t,void 0))}),{}))}})),n((function(){var e=d.value?f.value.core.environment.document.body:f.value.renderer.panelContainer,t=d.value?y.value.detachedOverlay:y.value.panel;return d.value&&p.current.isOpen&&x(!0),w(p.current),function(){e.contains(t)&&e.removeChild(t)}})),n((function(){var e=f.value.renderer.container;return e.appendChild(y.value.root),function(){e.removeChild(y.value.root)}})),n((function(){var e=Dz((function(e){w(e.state)}),0);return l.current=function(t){var n=t.state,r=t.prevState;(d.value&&r.isOpen!==n.isOpen&&x(n.isOpen),d.value||!n.isOpen||r.isOpen||b(),n.query!==r.query)&&f.value.core.environment.document.querySelectorAll(".aa-Panel--scrollable").forEach((function(e){0!==e.scrollTop&&(e.scrollTop=0)}));e({state:n})},function(){l.current=void 0}})),n((function(){var e=Dz((function(){var e=d.value;d.value=f.value.core.environment.matchMedia(f.value.renderer.detachedMediaQuery).matches,e!==d.value?k({}):requestAnimationFrame(b)}),20);return f.value.core.environment.addEventListener("resize",e),function(){f.value.core.environment.removeEventListener("resize",e)}})),n((function(){if(!d.value)return function(){};function e(e){y.value.detachedContainer.classList.toggle("aa-DetachedContainer--modal",e)}function t(t){e(t.matches)}var n=f.value.core.environment.matchMedia(getComputedStyle(f.value.core.environment.document.documentElement).getPropertyValue("--aa-detached-modal-media-query"));e(n.matches);var r=Boolean(n.addEventListener);return r?n.addEventListener("change",t):n.addListener(t),function(){r?n.removeEventListener("change",t):n.removeListener(t)}})),n((function(){return requestAnimationFrame(b),function(){}})),iq(iq({},m),{},{update:k,destroy:function(){r()}})}function sq(t){var n=(0,s.useRef)(null),r=(0,s.useRef)(null),i=(0,s.useRef)(null);return(0,s.useEffect)((function(){if(n.current){var o=aq((0,Ra.Z)({container:n.current,renderer:{createElement:s.createElement,Fragment:s.Fragment,render:function(){}},render:function(t,n){var o,a=t.children;r.current&&i.current===n||(i.current=n,null===(o=r.current)||void 0===o||o.unmount(),r.current=(0,e.s)(n));r.current.render(a)}},t)),a=n.current.querySelector("input");return a&&""===a.value&&setTimeout((function(){a.focus()}),500),function(){o.destroy()}}}),[t]),(0,Ca.jsx)("div",{className:"auto-complete",ref:n})}var uq=tU()("918P925LR9","046e7f5aac99ffa553eae479b809dbdd"),cq=uq.initIndex(aa),lq=WU((function(){return null})),fq={};var dq=function(){var e=(0,s.useState)(""),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=(0,s.useCallback)(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(n.state.query);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),c=(0,s.useState)([]),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cq.search(n);case 2:r=e.sent,i=r.hits.map((function(e){var t=e;return t.docId=e.objectID,t})),fq.lessons=i,fq.search=n,d(i),a(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=me(),v=ge(),m=(0,s.useState)(),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=(0,s.useState)(),k=(0,i.Z)(w,2),x=(k[0],k[1]);function S(){return S=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.getCurrentStudent();case 2:if(n=e.sent){e.next=6;break}return p.replace(Do.HOME),e.abrupt("return");case 6:if(x(n),!n){e.next=19;break}if(r=nO.getI().apiHandler,n){e.next=12;break}return p.replace(Do.DISPLAY_STUDENT),e.abrupt("return");case 12:if(fq.lessonResultMap){e.next=19;break}return e.next=15,r.getStudentResultInMap(n.docId);case 15:i=e.sent,console.log("tempResultLessonMap = res;",i),fq.lessonResultMap=i,b(i);case 19:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}(0,s.useEffect)((function(){!function(){S.apply(this,arguments)}(),new URLSearchParams(v.search).get(Po)&&fq.lessons&&(d(fq.lessons),a(fq.search),b(fq.lessonResultMap));var e=localStorage.getItem("searchTerm");return null!==e&&(a(e),h(e)),localStorage.setItem("searchTerm",o),function(){localStorage.removeItem("searchTerm")}}),[o]);var _=(0,s.useMemo)((function(){var e=YB({key:"search",limit:3,transformSource:function(e){var t=e.source;return(0,Ra.Z)({},t)}}),t=CB({searchClient:uq,indexName:aa,getSearchParams:function(){var t;return null===(t=e.data)||void 0===t?void 0:t.getAlgoliaSearchParams({hitsPerPage:3,attributesToHighlight:["title","outcome"]})},categoryAttribute:[aa,"facets","exact_matches"],transformSource:function(e){var t=e.source;return(0,Ra.Z)((0,Ra.Z)({},t),{},{sourceId:"Lesson",getItems:function(e){return t.getItems(e)},templates:(0,Ra.Z)((0,Ra.Z)({},t.templates),{},{item:function(e){return e.item.query=e.item.title.toString(),t.templates.item(e)}})})}});return[e,t]}),[]);return(0,Ca.jsxs)("div",{className:"search-container",children:[(0,Ca.jsxs)("div",{className:"search-header",children:[(0,Ca.jsxs)(Iz,{searchClient:uq,indexName:aa,initialUiState:(0,we.Z)({},aa,{query:"phone",page:5}),children:[(0,Ca.jsx)(lq,{}),(0,Ca.jsx)(sq,{placeholder:zE("Search for a Lesson..."),detachedMediaQuery:"none",initialState:{query:o},openOnFocus:!0,onSubmit:u,plugins:_,insights:!0}),(0,Ca.jsx)(Lz,{attributesToSnippet:["title:10","outcome:20"],snippetEllipsisText:"\u2026"})]}),(0,Ca.jsx)("div",{className:"right-button"})]}),(0,Ca.jsx)(ND,{lessonData:f,isHome:!0,course:void 0,lessonsScoreMap:y||{},startIndex:0,showSubjectName:!0,showChapterName:!1},o),(0,Ca.jsx)("div",{className:"search-bottom"})]})},hq=function(e){var t=e.isLoading,n=e.msg,r=void 0===n?"":n;return t?(0,Ca.jsx)("div",{children:(0,Ca.jsx)(Si,{isOpen:t,spinner:null,message:'<img class="loading" src="assets/loading.gif"></img> <br/><p>'.concat(r,"</p>")})}):null},pq={},vq=function(e){var n,o=e.onClassJoin,a=(0,s.useState)(!1),u=(0,i.Z)(a,2),c=u[0],l=u[1],f=(0,s.useState)(!1),d=(0,i.Z)(f,2),h=d[0],p=d[1],v=(0,s.useState)(),m=(0,i.Z)(v,2),g=m[0],y=m[1],b=(0,s.useState)(),w=(0,i.Z)(b,2),k=w[0],x=w[1],S=(0,s.useState)(""),_=(0,i.Z)(S,2),E=_[0],C=_[1],I=(0,s.useState)(),O=(0,i.Z)(I,2),Z=(O[0],O[1],(0,s.useState)(!1)),T=(0,i.Z)(Z,2),A=T[0],P=(T[1],(0,s.useRef)(null)),R=me(),N=nO.getI().apiHandler,j=function(){var e=pq.inviteCode?pq.inviteCode:g;return!!e&&6===e.toString().length},L=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onJoin",pq.inviteCode,j()),E&&C(""),j()){e.next=4;break}return e.abrupt("return");case 4:return l(!0),e.prev=5,e.next=8,N.getDataByInviteCode(pq.inviteCode?pq.inviteCode:g);case 8:n=e.sent,console.log("\ud83d\ude80 ~ file: JoinClass.tsx:24 ~ getClassData ~ result:",n),x(n),p(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.log("\ud83d\ude80 ~ file: JoinClass.tsx:32 ~ getClassData ~ error:",e.t0),e.t0 instanceof Object&&(r="FirebaseError: Invalid inviteCode"===e.t0.toString()?zE("Invalid Code. Please contact your teacher"):e.t0.toString(),C(r));case 18:l(!1);case 19:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),l(!0),e.prev=2,e.next=5,N.linkStudent(g);case 5:n=e.sent,console.log("\ud83d\ude80 ~ file: JoinClass.tsx:41 ~ onJoin ~ result:",n),k&&HI.subscribeToClassTopic(k.classId,k.schoolId),o(),console.log("path....",window.location.pathname),R.replace("/"),window.location.reload(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("\ud83d\ude80 ~ file: JoinClass.tsx:48 ~ onJoin ~ error:",e.t0),e.t0 instanceof Object&&C(e.t0.toString());case 18:l(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),M=ge();return(0,s.useEffect)((function(){var e=new URLSearchParams(M.search),t=(e.get("join-class"),e.get("classCode"));if(""!=t){var n=t&&!isNaN(parseInt(t))?parseInt(t):void 0;y(n),pq.inviteCode=n,""!=t&&L()}}),[]),(0,Ca.jsxs)("div",{className:"join-class-main-header",children:[(0,Ca.jsxs)("div",{className:"join-class-header",children:[(0,Ca.jsx)("input",{onChange:function(e){var t=e.target.value.slice(0,6);t?ga.test(t)&&y(parseInt(t)):y(void 0)},className:"join-class-text-box",defaultValue:null!==g&&void 0!==g?g:"",type:"tel",placeholder:zE("Enter the class code to join the class"),onKeyDown:function(e){"Enter"===e.key&&L()},value:null!==g&&void 0!==g?g:"",style:{width:"63vw"}}),(0,Ca.jsx)("p",{className:"error-text ",children:E}),(0,Ca.jsx)("button",{className:"okay-button "+(j()?"":"disabled-btn"),disabled:!j(),onClick:L,children:zE("Okay")}),A?(0,Ca.jsx)("div",{ref:P,id:"scroll"}):null]}),(0,Ca.jsx)(hq,{isLoading:c}),(0,Ca.jsx)(oN,{width:"40vw",height:"30vh",message:zE("You are Joining ")+(k&&null!==(n=zE("School")+": "+k.schoolName+", "+zE("Class")+": "+k.data.name)&&void 0!==n?n:""),showDialogBox:h,yesText:zE("Cancel"),noText:zE("Enter the Class"),handleClose:function(){p(!1)},onYesButtonClicked:function(){p(!1)},onNoButtonClicked:(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:case"end":return e.stop()}}),e)})))})]})},mq=["count","wrapper","className","containerClassName","containerTestId","circle","style"],gq=["children"],yq=s.createContext({}),bq=!0;function wq(e){for(var t,n,r,o=e.count,a=void 0===o?1:o,u=e.wrapper,c=e.className,l=e.containerClassName,f=e.containerTestId,d=e.circle,h=void 0!==d&&d,p=e.style,v=dN(e,mq),m=s.useContext(yq),g=(0,Ra.Z)({},v),y=0,b=Object.entries(v);y<b.length;y++){var w=(0,i.Z)(b[y],2),k=w[0];"undefined"===typeof w[1]&&delete g[k]}var x=(0,Ra.Z)((0,Ra.Z)((0,Ra.Z)({},m),g),{},{circle:h}),S=(0,Ra.Z)((0,Ra.Z)({},p),function(e){var t=e.baseColor,n=e.highlightColor,r=e.width,i=e.height,o=e.borderRadius,a=e.circle,s=e.direction,u=e.duration,c=e.enableAnimation,l=void 0===c?bq:c,f={};return"rtl"===s&&(f["--animation-direction"]="reverse"),"number"===typeof u&&(f["--animation-duration"]="".concat(u,"s")),l||(f["--pseudo-element-display"]="none"),"string"!==typeof r&&"number"!==typeof r||(f.width=r),"string"!==typeof i&&"number"!==typeof i||(f.height=i),"string"!==typeof o&&"number"!==typeof o||(f.borderRadius=o),a&&(f.borderRadius="50%"),"undefined"!==typeof t&&(f["--base-color"]=t),"undefined"!==typeof n&&(f["--highlight-color"]=n),f}(x)),_="react-loading-skeleton";c&&(_+=" ".concat(c));for(var E=null!==(t=x.inline)&&void 0!==t&&t,C=[],I=Math.ceil(a),O=0;O<I;O++){var Z=S;if(I>a&&O===I-1){var T=null!==(n=Z.width)&&void 0!==n?n:"100%",A=a%1,P="number"===typeof T?T*A:"calc(".concat(T," * ").concat(A,")");Z=(0,Ra.Z)((0,Ra.Z)({},Z),{},{width:P})}var R=s.createElement("span",{className:_,style:Z,key:O},"\u200c");E?C.push(R):C.push(s.createElement(s.Fragment,{key:O},R,s.createElement("br",null)))}return s.createElement("span",{className:l,"data-testid":f,"aria-live":"polite","aria-busy":null!==(r=x.enableAnimation)&&void 0!==r?r:bq},u?C.map((function(e,t){return s.createElement(u,{key:t},e)})):C)}function kq(e){var t=e.children,n=dN(e,gq);return s.createElement(yq.Provider,{value:n},t)}var xq=function(e){var n=e.isLoading,o=e.header,a=e.isChapter,u=(0,s.useState)(Boolean),c=(0,i.Z)(u,2),l=c[0],f=c[1],d="30vh",h="18vh",p={borderRadius:"7vh",justifyContent:"center",alignItems:"center"};(0,s.useEffect)((function(){if(o==Co.ASSIGNMENT){var e=HI.getCurrentStudent(),t=localStorage.getItem(ha),n=t?JSON.parse(t):{};e&&f(n[e.docId])}v()}),[o]);var v=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.getCanShowAvatar();case 2:n=e.sent,console.log("const canShowAvatarValue in home ",n),b(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(0,s.useState)(),g=(0,i.Z)(m,2),y=g[0],b=g[1];switch(o){case Co.SEARCH:return n?(0,Ca.jsx)("div",{children:(0,Ca.jsx)(wq,{className:"skelton-search-bar"})}):null;case Co.HOME:return n?y?(console.log("function skeltonHome() { called"),(0,Ca.jsx)("div",{className:"skelton-home-screen",children:(0,Ca.jsx)("div",{id:"skelton-home-screen-div",children:(0,Ca.jsx)("img",{id:"skelton-home-screen-char",src:"/assets/animation/chimple_avatar.png",loading:"lazy",alt:""})})})):w():null;case Do.DISPLAY_CHAPTERS:return n?(0,Ca.jsxs)("div",{children:[(0,Ca.jsxs)("div",{className:"skelton-leaderboard-header",children:[(0,Ca.jsx)(wq,{className:"skelton-back-button"}),(0,Ca.jsx)(wq,{className:"skelton-subject-name"}),a?(0,Ca.jsx)(wq,{className:"skelton-grade-name"}):(0,Ca.jsx)("div",{})]}),a?(0,Ca.jsx)("div",{className:"skelton-display-chapters",children:(0,be.Z)(Array(30)).map((function(e,t){return(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(wq,{className:"skelton-chapter-icon"}),(0,Ca.jsx)(wq,{className:"skelton-chapter-name"})]})}))}):(0,Ca.jsx)("div",{className:"skelton-body-cards",children:k()})]}):null;case Do.DISPLAY_STUDENT:return n?(0,Ca.jsx)("div",{className:"skelton-display-students",children:(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(wq,{circle:!0,className:"skelton-student-profile"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-avatar-name"})]})}):null;case Oo.LEADERBOARD:return n?(0,Ca.jsx)("div",{children:(0,Ca.jsxs)(kq,{children:[(0,Ca.jsxs)("div",{className:"skelton-leaderboard-header",children:[(0,Ca.jsx)(wq,{className:"skelton-back-button"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-title"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-title"}),(0,Ca.jsx)(wq,{className:"skelton-switch-user"})]}),(0,Ca.jsxs)("div",{className:"skelton-leaderboard-body",children:[(0,Ca.jsxs)("div",{className:"skelton-leaderboard-left",children:[(0,Ca.jsx)(wq,{className:"skelton-leaderboard-dropdown"}),(0,Ca.jsx)(wq,{circle:!0,className:"skelton-leaderboard-avatar"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-avatar-name"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-avatar-details",count:4})]}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-right"})]})]})}):null;case Do.LIVE_QUIZ_JOIN:return n?(0,Ca.jsxs)("div",{className:"skelton-display-students",children:[(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(wq,{circle:!0,className:"skelton-student-profile"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-avatar-name"})]}),(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(wq,{circle:!0,className:"skelton-student-profile"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-avatar-name"})]}),(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(wq,{circle:!0,className:"skelton-student-profile"}),(0,Ca.jsx)(wq,{className:"skelton-leaderboard-avatar-name"})]})]}):null;default:return n?w():null}return(0,Ca.jsx)(Ca.Fragment,{});function w(){return o!=Co.ASSIGNMENT||l?(0,Ca.jsxs)("div",{className:"skelton-body",children:[(0,Ca.jsx)("div",{className:"skelton-body-cards",children:k()}),o==Co.SUGGESTIONS?(0,Ca.jsx)("div",{className:"skelton-home-page-app-ba-div",children:(0,Ca.jsx)(wq,{className:"skelton-home-page-app-bar"})}):null]}):(0,Ca.jsxs)("div",{className:"skelton-join-class-div",children:[(0,Ca.jsx)(wq,{className:"skelton-join-class"}),(0,Ca.jsx)(wq,{className:"skelton-join-class-button"})]})}function k(){return(0,Ca.jsx)(Ca.Fragment,{children:(0,be.Z)(Array(8)).map((function(e,t){return(0,Ca.jsx)("div",{className:o===Co.SUBJECTS?"skelton-subject-card-size":"skelton-card-size",children:(0,Ca.jsxs)("div",{className:"skelton-card-display",children:[(0,Ca.jsx)(wq,{style:p,className:o===Co.SUBJECTS?"skelton-subject-card":"skelton-size-card"}),(0,Ca.jsx)(wq,{style:p,width:o===Co.SUBJECTS?h:d}),o===Co.SUBJECTS||o===Do.DISPLAY_CHAPTERS?null:(0,Ca.jsx)(wq,{style:p,width:d})]})},t)}))})}},Sq=function(){var e=(0,s.useState)(!0),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=(0,s.useState)(!0),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=(0,s.useState)(),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=(0,s.useState)([]),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=(0,s.useState)(),k=(0,i.Z)(w,2),x=k[0],S=k[1],_=me(),E=nO.getI().apiHandler,C=(0,s.useState)(),I=(0,i.Z)(C,2),O=I[0],Z=I[1],T=(0,s.useState)(!1),A=(0,i.Z)(T,2),P=A[0],R=A[1],N=(0,s.useState)(!1),j=(0,i.Z)(N,2),L=(j[0],j[1]),D=cN(),M=D.online,F=D.presentToast,B=(0,s.useState)(!0),U=(0,i.Z)(B,2),z=U[0],V=U[1];(0,s.useEffect)((function(){var e=JSON.parse(localStorage.getItem(Ea)||"false");R(e),$()}),[]),(0,s.useEffect)((function(){H()}),[y]);var H=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&0!==y.length){e.next=3;break}return V(!1),e.abrupt("return");case 3:n=JSON.parse(localStorage.getItem(ya)||"[]"),r=y.every((function(e){return n.includes(e.id)})),V(!r),window.removeEventListener(_a,H);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function W(){return W=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),localStorage.setItem(Ea,JSON.stringify(!0)),r=n.map((function(e){return e.id})),e.prev=3,i=HI.getStoredLessonIds(),o=r.filter((function(e){return!i.includes(e)})),e.next=8,HI.downloadZipBundle(o);case 8:localStorage.setItem(Ea,JSON.stringify(!1)),R(!1),H(),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Error downloading homework:",e.t0),localStorage.setItem(Ea,JSON.stringify(!1)),R(!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])}))),W.apply(this,arguments)}window.addEventListener(_a,H);var $=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,i,o,s,u,c,l,d,h,p=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(p.length>0&&void 0!==p[0])||p[0],a(!0),e.next=4,HI.getCurrentStudent();case 4:if(i=e.sent){e.next=8;break}return _.replace(Do.SELECT_MODE),e.abrupt("return");case 8:return e.next=10,E.getStudentResult(i.docId);case 10:return(o=e.sent)&&(console.log("tempResultLessonMap = res;",o.lessons),Z(o.lessons)),e.next=14,E.isStudentLinked(i.docId,n);case 14:if(e.sent){e.next=19;break}return f(!1),a(!1),e.abrupt("return");case 19:if(!(o&&o.classes&&o.classes.length>0)){e.next=42;break}return s=o.classes[0],e.next=23,E.getClassById(s);case 23:return u=e.sent,c=[],e.next=27,Promise.all(o.classes.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getPendingAssignments(n,i.docId);case 2:r=e.sent,o=r.filter((function(e){return!(ta in e)||e.type!==ea})),c.push.apply(c,(0,be.Z)(o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 27:return l=[],e.next=30,Promise.all(c.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getLesson(n.lesson.id,void 0,!0,n);case 2:(r=e.sent)&&(r.assignment=n,l.push(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 30:if(b(l),v(u),!(u&&u.school&&u.school.id)){e.next=38;break}return d=u.school.id,e.next=36,E.getSchoolById(d);case 36:h=e.sent,S(null===h||void 0===h?void 0:h.name);case 38:a(!1),f(!0),e.next=45;break;case 42:return f(!1),a(!1),e.abrupt("return");case 45:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){wo.dV.isNativePlatform()&&(oI.addListener("keyboardWillShow",(function(e){L(!0)})),oI.addListener("keyboardWillHide",(function(){L(!1)})))}),[]),o?(0,Ca.jsx)("div",{className:"assignment-loading",children:(0,Ca.jsx)(xq,{isLoading:o,header:Co.ASSIGNMENT})}):(0,Ca.jsx)("div",{children:(0,Ca.jsx)("div",{className:"assignment-main".concat(l?"":"-join-class"),children:(0,Ca.jsxs)("div",{className:l?"":"scroll-header",children:[(0,Ca.jsxs)("div",{className:"assignment-header",children:[(0,Ca.jsx)("div",{className:"right-button"}),(0,Ca.jsx)("div",{className:"dowload-homework-button-container",children:(0,Ca.jsxs)("div",{className:"school-class-header",children:[(0,Ca.jsx)("div",{className:"classname-header",children:x}),(0,Ca.jsx)("div",{className:"classname-header",children:null!==p&&void 0!==p&&p.name?null===p||void 0===p?void 0:p.name:""})]})}),l&&z&&y.length>0?(0,Ca.jsxs)("div",{className:"dowload-homework-button",onClick:function(){if(!M)return F({message:zE("Device is offline."),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]}),void a(!1);!function(e){W.apply(this,arguments)}(y)},children:[(0,Ca.jsx)("div",{className:"download-homework-label",children:zE("Download all")}),(0,Ca.jsx)("div",{className:"dowload-homework-icon-container",children:(0,Ca.jsx)(aN,{className:"dowload-homework-icon"})})]}):(0,Ca.jsx)("div",{className:"right-button"})]}),!o&&(0,Ca.jsx)("div",{className:!l||y.length<1?"lesson-body":"assignment-body",children:l?(0,Ca.jsx)("div",{children:y.length>0?(0,Ca.jsx)(ND,{lessonData:y,isHome:!0,course:void 0,lessonsScoreMap:O||{},startIndex:0,showSubjectName:!0,showChapterName:!0,downloadButtonLoading:P,showDate:!0,onDownloadOrDelete:H}):(0,Ca.jsx)("div",{className:"pending-assignment",children:zE("You don't have any pending assignments.")})}):(0,Ca.jsx)(vq,{onClassJoin:function(){$(!1)}})})]})})})};function _q(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var Eq=function(e){var t=e.courses,n=e.onCourseChange;return(0,Ca.jsx)(PD,{hasTrack:!0,options:{arrows:!1,wheel:!0,lazyLoad:!0,direction:"ltr",pagination:!1},children:t.map((function(e,t){return(0,Ca.jsx)(RD,{className:"slide",children:(0,Ca.jsxs)("div",{onClick:function(){n(e)},className:"subject-button",children:[(0,Ca.jsx)("div",{className:"course-icon",style:{backgroundColor:Lo[t]},children:(0,Ca.jsx)(hO,{localSrc:"courses/chapter_icons/".concat(e.courseCode,".png"),defaultSrc:"courses/maths/icons/maths10.png",webSrc:e.thumbnail})}),zE(e.title)]},e.docId)})}))})},Cq={},Iq={},Oq=function(e){_q(e);var n=function(e){return e[e.SUBJECTS=0]="SUBJECTS",e}({}),o=(0,s.useState)(n.SUBJECTS),a=(0,i.Z)(o,2),u=a[0],c=a[1],l=(0,s.useState)(!0),f=(0,i.Z)(l,2),d=f[0],h=f[1],p=(0,s.useState)(),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,s.useState)(),b=(0,i.Z)(y,2),w=(b[0],b[1]),k=(0,s.useState)(),x=(0,i.Z)(k,2),S=(x[0],x[1]),_=(0,s.useState)(),E=(0,i.Z)(_,2),C=(E[0],E[1]),I=(0,s.useState)(),O=(0,i.Z)(I,2),Z=(O[0],O[1]),T=(0,s.useState)(),A=(0,i.Z)(T,2),P=(A[0],A[1]),R=(0,s.useState)(),N=(0,i.Z)(R,2),j=(N[0],N[1]),L=(0,s.useState)(),D=(0,i.Z)(L,2),M=(D[0],D[1]),F=me(),B=ge(),U=nO.getI().apiHandler,z=new URLSearchParams(B.search);(0,s.useEffect)((function(){V()}),[]);var V=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a,s,u,l,f,d,p,v,m,y,b;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:47 ~ init ~ urlParams:",z.get(Po)),console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:68 ~ init ~ localData:",Cq),!(z.get(Po)&&Cq.currentCourse&&Cq.currentGrade&&Cq.currentChapter)){e.next=28;break}if(g(Cq.courses),Z(Cq.lessons),j(Cq.currentGrade),w(Cq.currentCourse),S(Cq.currentChapter),!Cq.lessonResultMap){e.next=12;break}M(Cq.lessonResultMap),e.next=22;break;case 12:return e.next=14,HI.getCurrentStudent();case 14:if(!(r=e.sent)){e.next=22;break}return e.next=18,U.getStudentResult(r.docId,!0);case 18:i=e.sent,o=null===i||void 0===i?void 0:i.lessons,Cq.lessonResultMap=o,M(o);case 22:Cq.localGradeMap&&P(Cq.localGradeMap),Iq.lessonResultMap=Cq.lessonResultMap,$(),h(!1),e.next=52;break;case 28:if(!z.get("isReload")){e.next=49;break}if(!(a=localStorage.getItem(Ko))){e.next=44;break}if(!(Iq=JSON.parse(a)).courses){e.next=39;break}if(s=HI.convertCourses(Iq.courses),Cq.courses=s,g(s),Iq.stage&&Iq.stage!==n.SUBJECTS&&Iq.currentCourseId){if(c(Iq.stage),u=Cq.courses.find((function(e){return Iq.currentCourseId===e.docId})),Cq.currentCourse=u,w(u),Iq.localGradeMap&&(Cq.localGradeMap=Iq.localGradeMap,P(Iq.localGradeMap)),Iq.currentGrade&&(Cq.currentGrade=Iq.currentGrade,j(Iq.currentGrade)),Iq.currentChapterId&&(l=Cq.currentCourse.chapters.find((function(e){return Iq.currentChapterId===e.id})),Cq.currentChapter=l,S(l)),Iq.lessonResultMap){for(f=Iq.lessonResultMap,d=0,p=Object.values(f);d<p.length;d++)(v=p[d]).course&&(v.course=HI.getRef(v.course));Cq.lessonResultMap=f,M(f)}}else h(!1);e.next=42;break;case 39:return e.next=41,H();case 41:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:127 ~ init ~ getCourses:");case 42:e.next=47;break;case 44:return e.next=46,H();case 46:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:126 ~ init ~ getCourses:");case 47:e.next=52;break;case 49:return e.next=51,H();case 51:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:131 ~ init ~ getCourses:");case 52:(m=localStorage.getItem(Go))&&(y=JSON.parse(m),b=HI.convertCourses(y.courses),y.courses=b,P(y));case 54:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,HI.getCurrentStudent();case 3:if(n=e.sent){e.next=7;break}return F.replace(Do.SELECT_MODE),e.abrupt("return",[]);case 7:return(r=VI.getCurrentClass())&&C(r),e.next=11,U.getStudentResultInMap(n.docId);case 11:return i=e.sent,console.log("tempResultLessonMap = res;",i),Cq.lessonResultMap=i,Iq.lessonResultMap=i,M(i),e.next=18,VI.getCurrMode();case 18:return o=e.sent,e.next=21,o===sa.SCHOOL&&r?U.getCoursesForClassStudent(r):U.getCoursesForParentsStudent(n);case 21:return a=e.sent,Cq.courses=a,Iq.courses=a,g(a),$(),h(!1),e.abrupt("return",a);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getDifferentGradesForCourse(n);case 2:r=e.sent,i=r.grades.find((function(e){return e.docId===n.grade.id})),localStorage.setItem(Go,JSON.stringify(r)),Cq.currentGrade=null!==i&&void 0!==i?i:r.grades[0],Iq.currentGrade=Cq.currentGrade,Cq.gradesMap=r,Iq.gradesMap=Cq.gradesMap,Cq.currentCourse=n,Iq.currentCourseId=n.docId,j(null!==i&&void 0!==i?i:r.grades[0]),P(r),w(n),$(),o="courseDocId=".concat(n.docId),z.get(Po)?F.replace(Do.DISPLAY_CHAPTERS+"?".concat(Po,"=true")+"&"+o):F.replace(Do.DISPLAY_CHAPTERS+"?"+o);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function $(){localStorage.setItem(Ko,JSON.stringify(Iq))}return(0,Ca.jsxs)("div",{id:"display-subjects-page",style:{height:"100vh"},children:[(0,Ca.jsx)(xq,{isLoading:d,header:Co.SUBJECTS}),(0,Ca.jsx)("div",{className:"subjects-content",children:!d&&u===n.SUBJECTS&&m&&m.length>0&&(0,Ca.jsx)(Eq,{courses:m,onCourseChange:W})})]})},Zq=function(){var e=me(),n=(0,s.useState)(!0),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=(0,s.useState)([]),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=nO.getI().apiHandler;(0,s.useEffect)((function(){y()}),[]);var y=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var i,o,a,s,c,l,f=arguments;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=!(f.length>0&&void 0!==f[0])||f[0],u(!0),n.next=4,HI.getCurrentStudent();case 4:if(o=n.sent){n.next=8;break}return e.replace(Do.SELECT_MODE),n.abrupt("return");case 8:return n.next=10,g.getStudentResult(o.docId);case 10:return(a=n.sent)&&(console.log("tempResultLessonMap = res;",a.lessons),m(a.lessons)),n.next=14,g.isStudentLinked(o.docId,i);case 14:if(n.sent){n.next=18;break}return u(!1),n.abrupt("return");case 18:if(!(a&&a.classes&&a.classes.length>0)){n.next=30;break}return s=a.classes[0],c=[],n.next=23,Promise.all(a.classes.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getLiveQuizLessons(s,o.docId);case 2:r=e.sent,c.push.apply(c,(0,be.Z)(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 23:return l=[],n.next=26,Promise.all(c.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getLesson(n.lesson.id,void 0,!0,n);case 2:(r=e.sent)&&(r.assignment=n,l.push(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 26:d(l),u(!1),n.next=32;break;case 30:return u(!1),n.abrupt("return");case 32:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Ca.jsx)("div",{children:a?(0,Ca.jsx)(xq,{isLoading:a,header:Co.LIVEQUIZ}):(0,Ca.jsx)("div",{children:f.length>0?(0,Ca.jsx)("div",{children:(0,Ca.jsx)(ND,{lessonData:f,isHome:!0,course:void 0,lessonsScoreMap:v||{},startIndex:0,showSubjectName:!0,showChapterName:!0,showDate:!0})}):(0,Ca.jsx)("div",{className:"pending-live-quiz",children:zE("You do not have any live quizzes available.")})})})},Tq={},Aq=function(){var e,n,o=(0,s.useState)([]),a=(0,i.Z)(o,2),u=a[0],c=a[1],l=(0,s.useState)(!0),f=(0,i.Z)(l,2),d=f[0],h=f[1],p=(0,s.useState)(),v=(0,i.Z)(p,2),m=(v[0],v[1]),g=(0,s.useState)(),y=(0,i.Z)(g,2),b=(y[0],y[1]),w=(0,s.useState)(),k=(0,i.Z)(w,2),x=k[0],S=k[1],_=(0,s.useState)(),E=(0,i.Z)(_,2),C=(E[0],E[1]),I=(0,s.useState)(),O=(0,i.Z)(I,2),Z=(O[0],O[1],(0,s.useState)()),T=(0,i.Z)(Z,2),A=(T[0],T[1],(0,s.useState)(-1)),P=(0,i.Z)(A,2),R=(P[0],P[1],(0,s.useState)()),N=(0,i.Z)(R,2),j=(N[0],N[1],(0,s.useState)({})),L=(0,i.Z)(j,2),D=(L[0],L[1],(0,s.useState)(0)),M=(0,i.Z)(D,2),F=M[0],B=M[1],U=(0,s.useState)(0),z=(0,i.Z)(U,2),V=z[0],H=z[1],W=me(),$=(0,s.useState)([]),q=(0,i.Z)($,2),G=(q[0],q[1],(0,s.useState)([])),K=(0,i.Z)(G,2),Q=K[0],J=K[1],Y=(0,s.useState)(10),X=(0,i.Z)(Y,2),ee=X[0],te=(X[1],(0,s.useState)([])),ne=(0,i.Z)(te,2),re=(ne[0],ne[1]),ie=(0,s.useState)([]),oe=(0,i.Z)(ie,2),ae=(oe[0],oe[1]),se=(0,s.useState)([]),ue=(0,i.Z)(se,2),ce=ue[0],le=ue[1],fe=(0,s.useState)([]),de=(0,i.Z)(fe,2),he=de[0],pe=de[1],ve=1,ye=ge(),we=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.getCanShowAvatar();case 2:n=e.sent,console.log("const canShowAvatarValue in home ",n),Ee(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=new URLSearchParams(ye.search),xe=(0,s.useState)(),Se=(0,i.Z)(xe,2),_e=Se[0],Ee=Se[1],Ce=(0,s.useState)((function(){var e=ke.get("tab");return e&&Object.values(Co).includes(e)?e:localStorage.getItem("currentHeader")||Co.HOME})),Ie=(0,i.Z)(Ce,2),Oe=Ie[0],Ze=Ie[1];(0,s.useEffect)((function(){localStorage.setItem(ka,"true"),HI.checkDownloadedLessonsFromLocal(),Te(),Ze(Co.HOME),He(Be.SUGGESTIONS),we(),ke.get(Po)&&(ke.delete(Po),YI.addListener("appStateChange",HI.onAppStateChange),Ze(Oe))}),[]),(0,s.useEffect)((function(){Ze(Oe===Co.PROFILE?Co.HOME:Oe),localStorage.setItem("currentHeader",Oe),Oe!==Co.HOME&&Pe()}),[Oe]);var Te=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pe(),e.next=3,Re();case 3:YI.addListener("appUrlOpen",(function(e){var t=e.url.split(".cc").pop();t===Do.LIVE_QUIZ&&n?Ze(Co.LIVEQUIZ):Ze(Co.ASSIGNMENT),t&&W.replace(t)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ae(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].date,i=1e9*r.seconds+r.nanoseconds;t.push({lessonDoc:n,combinedTime:i})}return t.sort((function(e,t){return t.combinedTime-e.combinedTime})),t.map((function(e){return e.lessonDoc}))}var Pe=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Me(Co.HOME);case 3:return n=e.sent,console.log("resultTemp",n),e.next=7,qe();case 7:return(r=e.sent)&&pe(r),e.next=11,HI.getAllUnlockedRewards();case 11:if(e.t0=e.sent,e.t0){e.next=14;break}e.t0=[];case 14:RF.getInstance().unlockedRewards=e.t0,h(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Re(){return Ne.apply(this,arguments)}function Ne(){return Ne=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HI.getCurrentStudent(),i=localStorage.getItem(ha),o=i?JSON.parse(i):{},r&&void 0!=o[r.docId]&&(n=o[r.docId]),!r){e.next=14;break}if(void 0!=n){e.next=12;break}return e.next=8,je.isStudentLinked(r.docId);case 8:n=e.sent,o[r.docId]=n,e.next=13;break;case 12:je.isStudentLinked(r.docId).then((function(e){o[r.docId]=e}));case 13:localStorage.setItem(ha,JSON.stringify(o));case 14:return e.next=16,HI.getAllUnlockedRewards();case 16:if(e.t0=e.sent,e.t0){e.next=19;break}e.t0=[];case 19:RF.getInstance().unlockedRewards=e.t0;case 20:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}var je=nO.getI().apiHandler;function Le(){return De.apply(this,arguments)}function De(){return De=(0,r.Z)((0,t.Z)().mark((function e(){var n,i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,HI.getCurrentStudent();case 3:if(i=e.sent){e.next=7;break}return W.replace(Do.SELECT_MODE),e.abrupt("return",[]);case 7:return e.next=9,je.getStudentResult(i.docId);case 9:if(!((o=e.sent)&&o.classes&&o.classes.length>0)){e.next=23;break}return a=[],e.next=14,Promise.all(o.classes.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getPendingAssignments(n,i.docId);case 2:r=e.sent,a.push.apply(a,(0,be.Z)(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return s=0,u=0,e.next=18,Promise.all(a.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getLesson(r.lesson.id,void 0,!0,r);case 2:i=e.sent,console.log(i),r.type!==ea?s++:u++,i&&(i.assignment=r,n.push(i));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 18:return H(u),B(s),e.abrupt("return",n);case 23:return e.abrupt("return",[]);case 24:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Me(e){return Fe.apply(this,arguments)}function Fe(){return Fe=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],h(!0),e.next=4,HI.getCurrentStudent();case 4:if(i=e.sent){e.next=8;break}return W.replace(Do.SELECT_MODE),e.abrupt("return");case 8:if(m(i),(o=VI.getCurrentClass())&&b(o),n!==Co.HOME&&n!==Co.SUGGESTIONS){e.next=33;break}if(Tq.allCourses){e.next=17;break}return e.next=15,je.getAllCourses();case 15:a=e.sent,Tq.allCourses=a;case 17:return e.prev=17,e.next=20,Le();case 20:return r=e.sent,e.next=23,Ge(i,o);case 23:return s=e.sent,r=r.concat(s),console.log("Final RECOMMENDATION List ",r),c(r),e.abrupt("return",r);case 30:e.prev=30,e.t0=e.catch(17),console.error("Error fetching recommendation:",e.t0);case 33:case"end":return e.stop()}}),e,null,[[17,30]])}))),Fe.apply(this,arguments)}var Be=function(e){return e[e.SUGGESTIONS=0]="SUGGESTIONS",e[e.FAVOURITES=1]="FAVOURITES",e[e.HISTORY=2]="HISTORY",e}({}),Ue=(0,s.useState)(Be.SUGGESTIONS),ze=(0,i.Z)(Ue,2),Ve=ze[0],He=ze[1],We=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(He(r),r!==Be.HISTORY){e.next=8;break}return x&&J([]),ve=1,e.next=6,et(he);case 6:e.next=18;break;case 8:if(r!==Be.FAVOURITES){e.next=16;break}if(le([]),!x){e.next=13;break}return e.next=13,Xe(he);case 13:ve=1,e.next=18;break;case 16:le([]),J([]);case 18:console.log("Changing...",r);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){He(Be.SUGGESTIONS)},qe=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=HI.getCurrentStudent()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,je.getStudentResult(n.docId);case 5:if(null===(r=e.sent)||void 0===r||!r.lessons){e.next=11;break}return i=r.lessons,o=Ae(i),a=o.filter((function(e){return void 0!==e})),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();null===(e=HI.getCurrentStudent())||void 0===e||e.docId;function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return Ke=(0,r.Z)((0,t.Z)().mark((function e(n,i){var o,a,s,u,c,l,f,d,p,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],h(!0),a={},s=function(e){if(e){console.log("Object.entries(lesMap)",e,Object.entries(e));var t=Object.entries(e).sort((function(e,t){return e[1].date===t[1].date?0:e[1].date>t[1].date?-1:1})),n={};return t.forEach((function(e){return n[e[0]]=e[1]})),n}},e.next=6,VI.getCurrMode();case 6:return u=e.sent,console.log(u),e.next=10,je.getStudentResult(n.docId);case 10:return l=e.sent,a=null===l||void 0===l?void 0:l.lessons,S(null===l||void 0===l?void 0:l.lessons),a&&(console.log("tempResultLessonMap",a),c=s(a),console.log("sortLessonResultMap ",c)),e.next=16,u===sa.SCHOOL&&i?je.getCoursesForClassStudent(i):je.getCoursesForParentsStudent(n);case 16:f=e.sent,C(f),d=(0,Xt.Z)(f),e.prev=19,v=(0,t.Z)().mark((function e(){var n,i,s,u,l,f,d,v,m,g,y,b,w;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.value,h(!0),!(n.chapters.length<=0)){e.next=5;break}return console.log("Chapters are empty",n),e.abrupt("return","continue");case 5:if(i=!1,!(n.chapters.length<=0)){e.next=9;break}return console.log("Chapter are empty",n),e.abrupt("return","continue");case 9:if(void 0!==a||n.chapters[0].id!==n.courseCode+"_quiz"){e.next=30;break}s=n.chapters[0].lessons,u=0;case 12:if(!(u<s.length)){e.next=27;break}if(!((l=s[u])instanceof qk)){e.next=21;break}return e.next=17,je.getLessonFromCourse(n,l.id);case 17:(f=e.sent)&&(d=n.chapters[0].title,f.chapterTitle=d,console.log(f,"lessons pushed"),o.push(f)),e.next=24;break;case 21:console.log("Wrong place"),console.log(l,"lessons pushed"),o.push(l);case 24:u++,e.next=12;break;case 27:console.log("pushed lessons",o),e.next=53;break;case 30:v=0;case 31:if(!(v<n.chapters.length)){e.next=52;break}if(!i){e.next=34;break}return e.abrupt("break",52);case 34:m=n.chapters[v],g=0;case 36:if(!(g<m.lessons.length)){e.next=49;break}if(y=m.lessons[g],a&&a[y.id]){e.next=46;break}return e.next=41,je.getLessonFromCourse(n,y.id);case 41:return(b=e.sent)&&(w=m.title,b.chapterTitle=w,console.log(b,"lessons pushed"),o.push(b)),console.log("DWSGSGSG"),i=!0,e.abrupt("break",49);case 46:g++,e.next=36;break;case 49:v++,e.next=31;break;case 52:i=!1;case 53:if(i=!1,c){e.next=58;break}return console.log("ERERERER"),h(!1),e.abrupt("return","continue");case 58:Object.entries(c).forEach(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r,a){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getLessonFromCourse(n,r[0]);case 2:(null===(s=e.sent)||void 0===s?void 0:s.subject.id)!==n.subject.id||i||(console.log("last played ",s,"lessons pushed"),o.push(s),i=!0,console.log("reqLes.",o));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),console.log("reqLes in if.",o);case 60:case"end":return e.stop()}}),e)})),d.s();case 22:if((p=d.n()).done){e.next=29;break}return e.delegateYield(v(),"t0",24);case 24:if("continue"!==e.t0){e.next=27;break}return e.abrupt("continue",27);case 27:e.next=22;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(19),d.e(e.t1);case 34:return e.prev=34,d.f(),e.finish(34);case 37:return console.log("reqLes outside.",o),h(!1),e.abrupt("return",o);case 40:case"end":return e.stop()}}),e,null,[[19,31,34,37]])}))),Ke.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:[],r=[],No.forEach((function(e){r.push(e)})),Ze(n),localStorage.setItem("currentHeader",n),localStorage.setItem("".concat(ko.i.sourcedId,"-previousSelectedCourse"),n),No.get(n),e.t0=n,e.next=e.t0===Co.HOME?10:e.t0===Co.PROFILE?12:14;break;case 10:return $e(),e.abrupt("break",15);case 12:return HI.setPathToBackButton(Do.LEADERBOARD,W),e.abrupt("break",15);case 14:return e.abrupt("break",15);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve+=1,e.next=3,et(he);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Oe!==Co.FAVOURITES){e.next=4;break}return ve+=1,e.next=4,Xe(he);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HI.getCurrentStudent()&&x){e.next=3;break}return e.abrupt("return");case 3:return i=(r=(ve-1)*ee)+ee,o=he.slice(r,i),a=o.map((function(e){return je.getLesson(e)})),e.next=9,Promise.all(a);case 9:s=e.sent,u=s.filter((function(e){var t;if(void 0===e)return!1;var n=null===x||void 0===x?void 0:x[e.docId];return null!==(t=null===n||void 0===n?void 0:n.isLoved)&&void 0!==t&&t})),c=Q.slice(0,10),pe(n),Q.push.apply(Q,(0,be.Z)(u)),re(c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(HI.getCurrentStudent()&&x){e.next=3;break}return e.abrupt("return");case 3:return i=(r=(ve-1)*ee)+ee,o=he.slice(r,i),a=o.map((function(e){return je.getLesson(e)})),e.next=9,Promise.all(a);case 9:s=e.sent,u=s.filter((function(e){return void 0!==e})),c=ce.slice(0,10),pe(n),ce.push.apply(ce,(0,be.Z)(u)),ae(c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log("lesson slider favourite",Q),console.log("lesson slider history",ce),(0,Ca.jsxs)(ji,{id:"home-page",children:[(0,Ca.jsx)(hi,{id:"home-header",children:(0,Ca.jsx)(DD,{currentHeader:Oe,onHeaderIconClick:function(e){return Qe.apply(this,arguments)},pendingAssignmentCount:F,pendingLiveQuizCount:V})}),(0,Ca.jsxs)("div",{className:"slider-content",children:[d?null:(0,Ca.jsxs)("div",{className:"space-between",children:[Oe===Co.HOME&&_e?(0,Ca.jsx)(GF,{recommadedSuggestion:u,style:{marginBottom:"2vh",display:"flex",justifyContent:"space-around"}}):null,Oe===Co.SUBJECTS&&(0,Ca.jsx)(Oq,{}),Oe===Co.ASSIGNMENT&&(0,Ca.jsx)(Sq,{}),Oe===Co.SEARCH&&(0,Ca.jsx)(dq,{}),Oe===Co.LIVEQUIZ&&(0,Ca.jsx)(Zq,{}),(Ve===Be.SUGGESTIONS||Ve===Be.FAVOURITES||Ve===Be.HISTORY)&&(_e&&Oe===Co.SUGGESTIONS||!_e&&Oe===Co.HOME)&&(0,Ca.jsxs)("div",{children:[Ve===Be.SUGGESTIONS&&(0,Ca.jsx)(ND,{lessonData:u,isHome:!0,course:void 0,lessonsScoreMap:x||{},startIndex:0,showSubjectName:!0,showChapterName:!0,showDate:!0}),Ve===Be.FAVOURITES&&(0,Ca.jsx)(ND,{lessonData:Q,isHome:!0,course:void 0,lessonsScoreMap:x||{},startIndex:0,showSubjectName:!0,showChapterName:!0,onEndReached:Ye}),Ve===Be.HISTORY&&(0,Ca.jsx)(ND,{lessonData:ce,isHome:!0,course:void 0,lessonsScoreMap:x||{},startIndex:0,showSubjectName:!0,showChapterName:!0,onEndReached:Je})]}),(Oe===Co.SUGGESTIONS||Oe===Co.FAVOURITES||Oe===Co.HISTORY||!_e&&Oe===Co.HOME)&&(0,Ca.jsx)("div",{id:"home-page-bottom",children:(0,Ca.jsx)(VD,{className:"home-page-app-bar",children:(0,Ca.jsx)(qD,{children:(0,Ca.jsxs)(xF,{value:Ve,onChange:We,TabIndicatorProps:{style:{display:"none"}},sx:{"& .MuiTab-root":{color:"black",borderRadius:"5vh",padding:"0 3vw",margin:"1vh 1vh",minHeight:"37px"},"& .Mui-selected":{backgroundColor:"#FF7925",borderRadius:"8vh",color:"#FFFFFF !important",minHeight:"37px"}},children:[(0,Ca.jsx)(IF,{id:"home-page-sub-tab",label:zE("For You"),onClick:function(){Ze(_e?Co.SUGGESTIONS:Co.HOME),He(Be.SUGGESTIONS)}}),(0,Ca.jsx)(IF,{id:"home-page-sub-tab",label:zE("Favourite"),onClick:function(){Ze(_e?Co.SUGGESTIONS:Co.HOME),He(Be.FAVOURITES)}}),(0,Ca.jsx)(IF,{id:"home-page-sub-tab",label:zE("History"),onClick:function(){Ze(_e?Co.SUGGESTIONS:Co.HOME),He(Be.HISTORY)}})]})})})})]}),(0,Ca.jsx)(xq,{isLoading:d,header:Oe})]})]})};function Pq(e){return uO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"9 6 15 12 9 18"}}]})(e)}var Rq=function(e){var t=e.score;return(0,Ca.jsx)("div",{children:(0,Ca.jsx)("div",{className:"stars-icon",children:(0,Ca.jsxs)("div",{className:"star-icon-image",children:[t>25?(0,Ca.jsx)("img",{className:"score-card-first-star",src:"assets/icons/star2.svg"}):(0,Ca.jsx)("img",{className:"score-card-first-star",src:"assets/icons/greystar2.svg"}),t>50?(0,Ca.jsx)("img",{className:"score-card-middle-star",src:"assets/icons/star2.svg"}):(0,Ca.jsx)("img",{className:"score-card-middle-star",src:"assets/icons/greystar2.svg"}),t>75?(0,Ca.jsx)("img",{className:"score-card-first-star",src:"assets/icons/star2.svg"}):(0,Ca.jsx)("img",{className:"score-card-first-star",src:"assets/icons/greystar2.svg"})]})})})},Nq=function(e){var t=e.showDialogBox,n=e.message,r=e.lessonName,i=e.title,o=e.score,a=e.yesText,s=e.noText,u=e.handleClose,c=e.onYesButtonClicked,l=e.onContinueButtonClicked;return(0,Ca.jsx)("div",{children:(0,Ca.jsxs)(jR,{open:t,onClose:u,sx:{"& .MuiPaper-root":{borderRadius:"6vh !important"},"& .MuiTypography-root":{margin:"0% 0% 0% 0% !important"},"& .MuiDialogActions-root":{color:"white",padding:"0% !important",gap:"6%"},"& .MuiDialogContent-root":{padding:"0vh 6vh !important"},"& .MuiDialogActions-spacing":{justifyContent:"space-between !important"}},children:[(0,Ca.jsx)(BR,{style:{textAlign:"center",overflow:"hidden"},children:(0,Ca.jsxs)(eN,{className:"dialog-content-text",children:[(0,Ca.jsxs)("div",{className:"score-card-icons",children:[(0,Ca.jsx)("img",{src:"assets/loading.gif",className:"image-icon"}),(0,Ca.jsx)("div",{className:"star-images-component",children:(0,Ca.jsx)(Rq,{score:o})})]}),(0,Ca.jsx)("div",{className:"title-scoreCard",children:i}),(0,Ca.jsxs)("div",{className:"score-card-content",children:[(0,Ca.jsx)("div",{className:"score-card-content-message",children:n}),(0,Ca.jsx)("div",{className:"score-card-content-lesson-name",children:r})]})]})}),(0,Ca.jsxs)(iN,{className:"dialog-actions",children:[(0,Ca.jsx)("div",{id:"yesButton",className:"dialog-box-button-style-score-card",onClick:c,children:(0,Ca.jsxs)("div",{className:"yes-text-field",children:[a,(0,Ca.jsx)("div",{className:"heart-icon-field",children:(0,Ca.jsx)(lO,{className:"heart-icon"})})]})}),(0,Ca.jsx)("div",{id:"noButton",className:"dialog-box-button-style-score-card",onClick:l,children:(0,Ca.jsxs)("div",{className:"no-text-field",children:[s,(0,Ca.jsx)("div",{className:"next-icon-field",children:(0,Ca.jsx)(Pq,{className:"next-icon"})})]})})]})]})})},jq=function(){var e,n=me();console.log("cocos game",n.location.state);var o=n.location.state,a=null===o||void 0===o?void 0:o.url;console.log("iFrameUrl",null===o||void 0===o?void 0:o.url,a);var u=(0,s.useState)(),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=Xi(),h=(0,i.Z)(d,1)[0],p=(0,s.useState)(!1),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,s.useState)(),b=(0,i.Z)(y,2),w=b[0],k=b[1],x=(0,s.useState)(!1),S=(0,i.Z)(x,2),_=S[0],E=S[1],C=(HI.getCurrentStudent(),JSON.parse(o.course)),I=JSON.parse(o.lesson),O=Number(localStorage.getItem(Fo))||0,Z=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({message:"Something went wrong!",color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){return function(){N.apply(this,arguments)}(),YI.addListener("appStateChange",T),function(){YI.removeAllListeners(),YI.addListener("appStateChange",HI.onAppStateChange)}}),[]);var T=function(e){e.isActive?E(!0):E(!1)},A=function(e){g(!0),HI.killCocosGame(),O++,localStorage.setItem(Fo,O.toString()),console.log("---------count of LESSONS PLAYED",O)},P=function(){var e,t=new URLSearchParams(window.location.search),r=null!==(e=null===o||void 0===o?void 0:o.from)&&void 0!==e?e:Do.HOME;wo.dV.isNativePlatform()?(_?(n.replace(r+"&isReload=true"),window.location.reload()):n.replace(r),f(!1)):t.get("isReload")?(r.includes("?")?n.replace(r+"&isReload=true"):n.replace(r+"?isReload=true"),window.location.reload()):n.replace(r),f(!1)},R=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.cocosChapterCode&&(o=C.chapters.find((function(e){return I.cocosChapterCode===e.id})))&&(i=o,console.log("Current Chapter ",i)),a=nO.getI().apiHandler,s=n.detail,A(n),HI.logEvent(fa.LESSON_INCOMPLETE,{user_id:a.currentStudent.docId,assignment_id:null===(r=I.assignment)||void 0===r?void 0:r.docId,left_game_no:s.currentGameNumber,left_game_name:s.gameName,chapter_id:s.chapterId,chapter_name:i?i.title:"",lesson_id:s.lessonId,lesson_name:I.title,lesson_type:s.lessonType,lesson_session_id:s.lessonSessionId,ml_partner_id:s.mlPartnerId,ml_class_id:s.mlClassId,ml_student_id:s.mlStudentId,course_id:s.courseId,course_name:C.title,time_spent:s.timeSpent,total_moves:s.totalMoves,total_games:s.totalGames,correct_moves:s.correctMoves,wrong_moves:s.wrongMoves,game_score:s.gameScore,quiz_score:s.quizScore,game_completed:s.gameCompleted,quiz_completed:s.quizCompleted,game_time_spent:s.gameTimeSpent,quiz_time_spent:s.quizTimeSpent}),g(!1),P();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function N(){return(N=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),n=o.lessonId,(r=[]).push(n),console.log("cocosGame page lessonIds",r),e.next=7,HI.downloadZipBundle(r);case 7:if(i=e.sent){e.next=12;break}return Z(),P(),e.abrupt("return");case 12:console.log("donwloaded ",i),f(!1),HI.launchCocosGame(),document.body.addEventListener("lessonEnd",(function(e){k(e),console.log("----------line 100 add event listener------",e)}),{once:!0}),document.body.addEventListener("gameEnd",A,{once:!0}),document.body.addEventListener("gameExit",R,{once:!0});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j,L=(null===(e=HI.getCurrentStudent())||void 0===e?void 0:e.docId)||"",D=(nO.getI().apiHandler,JSON.parse(o.lesson),function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var a,s,u,c,l,f,d,h,p,v,m,g,y,b,w,k,x,S,_,E,O,Z,T,A,P,R,N,D,M,F;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=nO.getI().apiHandler,d=o.courseDocId,h=JSON.parse(o.lesson),console.log("\ud83d\ude80 ~ file: CocosGame.tsx:57 ~ init ~ lesson:",h),console.log("--------lesson data -------",n),console.log("--------score of the lesson",n.score),p=f.currentStudent,v=n,e.next=10,f.isStudentLinked(p.docId);case 10:if(!e.sent){e.next=16;break}return e.next=14,f.getStudentResult(p.docId);case 14:(y=e.sent)&&y.classes.length>0&&(m=y.classes[0],g=y.schools[0]);case 16:return b=RF.getInstance(),console.log("Cosos weeklyTimespent ",b.weeklyTimeSpent.min,b.weeklyTimeSpent.sec),w=60*b.weeklyTimeSpent.min+b.weeklyTimeSpent.sec,w+=v.timeSpent,k=Math.floor(w/60),x=w%60,b.weeklyTimeSpent.min=k,b.weeklyTimeSpent.sec=x,b.weeklyPlayedLesson++,console.log("after Cosos weeklyTimespent ",k,x,b.weeklyTimeSpent.min,b.weeklyTimeSpent.sec),e.next=28,f.updateResult(p,d,h.docId,v.score,v.correctMoves,v.wrongMoves,v.timeSpent,r,null===(a=h.assignment)||void 0===a?void 0:a.docId,m,g);case 28:if(S=e.sent,!I.cocosChapterCode){e.next=42;break}return(_=C.chapters.find((function(e){return I.cocosChapterCode===e.id})))&&(j=_,console.log("Current Chapter ",j)),E=new Map,O=JSON.parse(localStorage.getItem("".concat(L,"-").concat(Xo))||"{}"),e.next=36,HI.getNextLessonFromGivenChapter(C.chapters,n.chapterId,h.id,j);case 36:Z=e.sent,console.log("final lesson",Z),E.set(C.courseCode,null===Z||void 0===Z?void 0:Z.id),T=(0,Xt.Z)(E);try{for(T.s();!(A=T.n()).done;)P=(0,i.Z)(A.value,2),R=P[0],N=P[1],O[R]=N}catch(t){T.e(t)}finally{T.f()}localStorage.setItem("".concat(L,"-").concat(Xo),JSON.stringify(O));case 42:HI.logEvent(fa.LESSON_END,{user_id:p.docId,assignment_id:null===(s=h.assignment)||void 0===s?void 0:s.docId,chapter_id:v.chapterId,chapter_name:j?j.title:"",lesson_id:v.lessonId,lesson_name:h.title,lesson_type:v.lessonType,lesson_session_id:v.lessonSessionId,ml_partner_id:v.mlPartnerId,ml_class_id:v.mlClassId,ml_student_id:v.mlStudentId,course_id:v.courseId,course_name:C.title,time_spent:v.timeSpent,total_moves:v.totalMoves,total_games:v.totalGames,correct_moves:v.correctMoves,wrong_moves:v.wrongMoves,game_score:v.gameScore,quiz_score:v.quizScore,game_completed:v.gameCompleted,quiz_completed:v.quizCompleted,game_time_spent:v.gameTimeSpent,quiz_time_spent:v.quizTimeSpent,score:v.score}),console.log("\ud83d\ude80 ~ file: CocosGame.tsx:88 ~ saveTempData ~ result:",S),D=localStorage.getItem(DI),(M=D?JSON.parse(D):{})[null===(u=f.currentStudent)||void 0===u?void 0:u.docId]||(M[null===(F=f.currentStudent)||void 0===F?void 0:F.docId]=[]),M[null===(c=f.currentStudent)||void 0===c?void 0:c.docId].push(null===(l=h.assignment)||void 0===l?void 0:l.docId),localStorage.setItem(DI,JSON.stringify(M));case 49:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return(0,Ca.jsx)(ji,{id:"cocos-game-page",children:(0,Ca.jsxs)(di,{children:[(0,Ca.jsx)(hq,{isLoading:l}),m&&(0,Ca.jsx)("div",{children:(0,Ca.jsx)(Nq,{title:zE("\ud83c\udf89Congratulations\ud83c\udf8a"),score:w.detail.score,message:zE("You Completed the Lesson:"),showDialogBox:m,yesText:zE("Like the Game"),lessonName:I.title,noText:zE("Continue Playing"),handleClose:function(e){g(!0)},onYesButtonClicked:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),console.log("--------------line 200 game result",w),f(!0),e.next=5,D(w.detail,!0);case 5:console.log("------------------the game result ",w.detail.score),O>=5&&(HI.showInAppReview(),O=0,localStorage.setItem(Fo,O.toString())),P();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onContinueButtonClicked:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),f(!0),e.next=4,D(w.detail,void 0);case 4:console.log("------------------the game result ",w.detail.score),P();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]})})};s.Component;s.Component;var Lq=function(e,t){return"function"===typeof e?e(t):e},Dq=function(e,t){return"string"===typeof e?E(e,null,null,t):e},Mq=function(e){return e},Fq=s.forwardRef;"undefined"===typeof Fq&&(Fq=Mq);var Bq=Fq((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=z(e,["innerRef","navigate","onClick"]),a=o.target,u=f({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||a&&"_self"!==a||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=Mq!==Fq&&t||n,s.createElement("a",u)}));var Uq=Fq((function(e,t){var n=e.component,r=void 0===n?Bq:n,i=e.replace,o=e.to,a=e.innerRef,u=z(e,["component","replace","to","innerRef"]);return s.createElement(Q.Consumer,null,(function(e){e||b(!1);var n=e.history,c=Dq(Lq(o,e.location),e.location),l=c?n.createHref(c):"",d=f({},u,{href:l,navigate:function(){var t=Lq(o,e.location),r=_(e.location)===_(Dq(t));(i||r?n.replace:n.push)(t)}});return Mq!==Fq?d.ref=t||a:d.innerRef=a,s.createElement(r,d)}))})),zq=function(e){return e},Vq=s.forwardRef;"undefined"===typeof Vq&&(Vq=zq);Vq((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,a=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,d=e.location,h=e.sensitive,p=e.strict,v=e.style,m=e.to,g=e.innerRef,y=z(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return s.createElement(Q.Consumer,null,(function(e){e||b(!1);var n=d||e.location,i=Dq(Lq(m,n),n),w=i.pathname,k=w&&w.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=k?se(n.pathname,{path:k,exact:c,sensitive:h,strict:p}):null,S=!!(l?l(x,n):x),_="function"===typeof u?u(S):u,E="function"===typeof v?v(S):v;S&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),E=f({},E,a));var C=f({"aria-current":S&&r||null,className:_,style:E,to:i},y);return zq!==Vq?C.ref=t||g:C.innerRef=g,s.createElement(Uq,C)}))}));var Hq=function(){var e=me();console.log("END game",e.location.state);var t=e.location.state;return(0,Ca.jsx)(ji,{children:(0,Ca.jsxs)(di,{className:"content",children:[(0,Ca.jsxs)("h1",{children:["score: ",null===t||void 0===t?void 0:t.score]}),(0,Ca.jsxs)("h1",{children:["chapterName: ",null===t||void 0===t?void 0:t.chapterName]}),(0,Ca.jsxs)("h1",{children:["chapterId: ",null===t||void 0===t?void 0:t.chapterId]}),(0,Ca.jsxs)("h1",{children:["lessonId: ",null===t||void 0===t?void 0:t.lessonId]}),(0,Ca.jsxs)("h1",{children:["courseName: ",null===t||void 0===t?void 0:t.courseName]}),(0,Ca.jsxs)("h1",{children:["lessonType: ",null===t||void 0===t?void 0:t.lessonType]}),(0,Ca.jsxs)("h1",{children:["lessonName: ",null===t||void 0===t?void 0:t.lessonName]}),(0,Ca.jsxs)("h1",{children:["timeSpent: ",null===t||void 0===t?void 0:t.timeSpent]}),(0,Ca.jsxs)("h2",{children:["Go to",(0,Ca.jsx)(Uq,{to:"/",replace:!0,children:"Home"}),"Page"]})]})})};function Wq(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"}}]})(e)}function $q(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M337.454 232c33.599 0 61.092-27.002 61.092-60 0-32.997-27.493-60-61.092-60s-61.09 27.003-61.09 60c0 32.998 27.491 60 61.09 60zm-162.908 0c33.599 0 61.09-27.002 61.09-60 0-32.997-27.491-60-61.09-60s-61.092 27.003-61.092 60c0 32.998 27.493 60 61.092 60zm0 44C126.688 276 32 298.998 32 346v54h288v-54c0-47.002-97.599-70-145.454-70zm162.908 11.003c-6.105 0-10.325 0-17.454.997 23.426 17.002 32 28 32 58v54h128v-54c0-47.002-94.688-58.997-142.546-58.997z"}}]})(e)}var qq=function(e){var t=e.onClicked;return(0,s.useEffect)((function(){return YI.addListener("backButton",(function(){t()})),function(){YI.removeAllListeners(),new URLSearchParams(window.location.search).get(Po)&&wo.dV.isNativePlatform()&&YI.addListener("appStateChange",HI.onAppStateChange)}}),[t]),(0,Ca.jsx)(Wq,{id:"common-back-button",onClick:t})},Gq=function(){var e,n,o=me(),a=sC().t,u=nO.getI().apiHandler,c=nO.getI().authHandler,l=(0,s.useState)(),f=(0,i.Z)(l,2),d=f[0],h=f[1];function p(){return p=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.getCurrentStudent();case 2:if(n=e.sent){e.next=6;break}return o.replace(Do.HOME),e.abrupt("return");case 6:h(n);case 7:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}return(0,s.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),(0,Ca.jsxs)("div",{className:"header",children:[(0,Ca.jsx)(qq,{onClicked:function(){HI.setPathToBackButton(Do.HOME,o)}}),(0,Ca.jsx)(jD,{name:null!==(e=null===d||void 0===d?void 0:d.name)&&void 0!==e?e:"Chimp",iconSrc:"assets/avatars/"+(null!==(n=null===d||void 0===d?void 0:d.avatar)&&void 0!==n?n:oa[0])+".png"}),(0,Ca.jsx)(jD,{name:a("Sign Out"),iconSrc:"assets/icons/SignOutIcon.svg",onClick:(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(ca),e.next=3,c.getCurrentUser();case 3:if(!(r=e.sent)||null===(n=r.language)||void 0===n||!n.id){e.next=12;break}return e.next=7,u.getLanguageWithId(r.language.id);case 7:if(!(i=e.sent)){e.next=12;break}return s=null!==(a=i.code)&&void 0!==a?a:Mo.ENGLISH,e.next=12,JC.changeLanguage(s);case 12:o.replace(Do.SELECT_MODE);case 13:case"end":return e.stop()}}),e)})))})]})},Kq=function(){var e=(0,s.useState)(!0),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=(0,s.useState)(),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=(0,s.useState)(),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=(0,s.useState)(HI.getCourseByGrade(xo.ENGLISH)),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=me(),k=(0,s.useState)(),x=(0,i.Z)(k,2),S=(x[0],x[1]);function _(){return E.apply(this,arguments)}function E(){return E=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,s,u,c,l,d,h,p,m=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>0&&void 0!==m[0]?m[0]:HI.getCourseByGrade(xo.ENGLISH),e.next=3,HI.getCurrentStudent();case 3:return(i=e.sent)||w.replace(Do.DISPLAY_STUDENT),S(i),a(!0),o=R_.getInstance(),e.next=10,o.getClassForUserForSubject(ko.i.sourcedId,r);case 10:return s=e.sent,e.next=13,o.getResultsForStudentsForClassInLessonMap(null!==(n=null===s||void 0===s?void 0:s.docId)&&void 0!==n?n:"",ko.i.sourcedId);case 13:return u=e.sent,c=P_.getInstance(),e.next=17,c.allLessonForSubject(r,u);case 17:for(l=e.sent,d=[],h=0;h<l.length;h++)"exam"===(p=l[h]).type&&d.push(p);f(u),b(r),v(d),a(!1);case 24:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}return(0,s.useEffect)((function(){nO.getI().apiHandler.currentStudent?_():w.replace(Do.SELECT_MODE)}),[]),(0,Ca.jsxs)(ji,{children:[(0,Ca.jsx)(Gq,{}),(0,Ca.jsxs)("div",{className:"tabs",children:[(0,Ca.jsx)(bi,{className:"tab "+(y===HI.getCourseByGrade(xo.ENGLISH)?" active":"in-active"),color:y===HI.getCourseByGrade(xo.ENGLISH)?"success":"",fill:y===HI.getCourseByGrade(xo.ENGLISH)?"solid":"outline",onClick:(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y!==HI.getCourseByGrade(xo.ENGLISH)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_(HI.getCourseByGrade(xo.ENGLISH));case 4:case"end":return e.stop()}}),e)}))),shape:"round",children:"English"}),(0,Ca.jsx)(bi,{className:"tab "+(y===HI.getCourseByGrade(xo.MATHS)?" active":"in-active"),color:y===HI.getCourseByGrade(xo.MATHS)?"success":"",fill:y===HI.getCourseByGrade(xo.MATHS)?"solid":"outline",onClick:(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y!==HI.getCourseByGrade(xo.MATHS)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_(HI.getCourseByGrade(xo.MATHS));case 4:case"end":return e.stop()}}),e)}))),shape:"round",children:"Maths"})]}),o?null:(0,Ca.jsx)("div",{className:"wrapper",children:null===p||void 0===p?void 0:p.map((function(e,t){!!l[e.id]&&l[e.id].score;return(0,Ca.jsx)("div",{})}))}),(0,Ca.jsx)(hq,{isLoading:o})]})};function Qq(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm96 224h-80v80h-32v-80h-80v-32h80v-80h32v80h80z"}}]})(e)}function Jq(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M451 374c-15.88-16-54.34-39.35-73-48.76-24.3-12.24-26.3-13.24-45.4.95-12.74 9.47-21.21 17.93-36.12 14.75s-47.31-21.11-75.68-49.39-47.34-61.62-50.53-76.48 5.41-23.23 14.79-36c13.22-18 12.22-21 .92-45.3-8.81-18.9-32.84-57-48.9-72.8C119.9 44 119.9 47 108.83 51.6A160.15 160.15 0 0083 65.37C67 76 58.12 84.83 51.91 98.1s-9 44.38 23.07 102.64 54.57 88.05 101.14 134.49S258.5 406.64 310.85 436c64.76 36.27 89.6 29.2 102.91 23s22.18-15 32.83-31a159.09 159.09 0 0013.8-25.8C465 391.17 468 391.17 451 374z"}}]})(e)}function Yq(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z"}}]})(e)}var Xq=function(e){var t=e.inputText,n=e.inputType,r=e.inputValue,i=e.maxLength,o=e.onChange;return(0,Ca.jsx)("div",{id:"text-box",children:(0,Ca.jsxs)("div",{id:"text-box-elements",children:[(0,Ca.jsx)(Jq,{id:"text-box-icon",mode:"ios"}),(0,Ca.jsx)("div",{id:"text-box-vertical-line"}),(0,Ca.jsx)("div",{id:"text-box-input",children:(0,Ca.jsx)("div",{id:"text-box-container",children:(0,Ca.jsxs)("div",{id:"text-box-label-content",children:[(0,Ca.jsx)("input",{id:"text-box-floating-input",type:n,value:r,onChange:o,maxLength:i,placeholder:" "}),(0,Ca.jsx)("label",{id:"text-box-floating-label",children:t})]})})})]})})},eG=n(5526),tG=function(){var e=me(),n=(0,s.useState)(!1),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=(0,s.useState)(!1),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(!1),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=(0,s.useState)(!1),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=(0,s.useState)(!1),x=(0,i.Z)(k,2),S=x[0],_=(x[1],(0,s.useState)("")),E=(0,i.Z)(_,2),C=E[0],I=E[1],O=(0,s.useState)(""),Z=(0,i.Z)(O,2),T=Z[0],A=Z[1],P=(0,s.useState)(),R=(0,i.Z)(P,2),N=R[0],j=R[1],L=(0,s.useState)(),D=(0,i.Z)(L,2),M=D[0],F=D[1],B=(0,s.useState)(),U=(0,i.Z)(B,2),z=U[0],V=U[1],H=nO.getI().authHandler,W="+91",$=(0,s.useState)(59),q=(0,i.Z)($,2),G=q[0],K=q[1],Q=(0,s.useState)(!1),J=(0,i.Z)(Q,2),Y=J[0],X=J[1],ee=(0,s.useState)(!1),te=(0,i.Z)(ee,2),ne=te[0],re=te[1],ie=(0,s.useState)(!1),oe=(0,i.Z)(ie,2),ae=oe[0],se=oe[1],ue=(0,s.useState)(),ce=(0,i.Z)(ue,2),le=ce[0],fe=ce[1],de=cN(),he=de.online,pe=de.presentToast,ve="grey",ge="yellowgreen",ye=(0,s.useState)(10===T.length?ge:ve),be=(0,i.Z)(ye,2),we=be[0],ke=be[1],xe=(0,s.useState)(!1),Se=(0,i.Z)(xe,2),_e=Se[0],Ee=Se[1],Ce=(0,s.useRef)(null),Ie=(0,s.useState)(),Oe=(0,i.Z)(Ie,2),Ze=Oe[0],Te=(Oe[1],(0,s.useRef)()),Ae=(0,s.useRef)(),Pe=((0,s.useRef)(),(0,s.useRef)()),Re={isInvalidCode:!1,isInvalidCodeLength:!1},Ne=(0,s.useState)(0),je=(0,i.Z)(Ne,2),Le=je[0],De=je[1],Me=(0,s.useState)(!1),Fe=(0,i.Z)(Me,2),Be=Fe[0],Ue=Fe[1],ze=(0,s.useState)(),Ve=(0,i.Z)(ze,2),He=Ve[0],We=Ve[1],$e=s.useState(""),qe=(0,i.Z)($e,2),Ge=qe[0],Ke=qe[1],Qe=(0,s.useState)(),Je=(0,i.Z)(Qe,2),Ye=Je[0],Xe=Je[1];(0,s.useEffect)((function(){if(u(!0),fe(Re),wo.dV.isNativePlatform()&&(oI.addListener("keyboardWillShow",(function(e){console.log("info",JSON.stringify(e)),Ee(!0),setTimeout((function(){var e;null===(e=Ce.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),50)})),oI.addListener("keyboardWillHide",(function(){Ee(!1)}))),nO.getI().authHandler.isUserLoggedIn().then((function(t){nO.getI().apiHandler;var n=localStorage.getItem(Wo);console.log("appLang",n,t,t&&void 0!=n),void 0==n&&(console.log("navigating to app lang"),e.replace(Do.APP_LANG_SELECTION)),Ze&&(u(!1),e.replace(Do.DISPLAY_STUDENT)),t&&(u(!1),e.replace(Do.SELECT_MODE)),u(!1)})),!N&&!wo.dV.isNativePlatform()){var t=(0,eG.v0)();console.log("auth in recaptcha ",t);var n=new eG.lI("recaptcha-container",{size:"invisible",callback:function(e){console.log("// reCAPTCHA solved, allow signInWithPhoneNumber.")},"expired-callback":function(){console.log("// Reset reCAPTCHA?")}},t);console.log("setRecaptchaVerifier(rv);",n),j(n),window.recaptchaVerifier||(window.recaptchaVerifier=new eG.lI("recaptcha-container",{size:"invisible"},t))}}),[N]),s.useEffect((function(){G<=0&&Y&&re(!0),Y&&G>0&&setTimeout((function(){return K(G-1)}),1e3)}),[G,Y]),(0,s.useEffect)((function(){console.log("Testing: "+Le),Be&&Le>0&&setTimeout((function(){return De(Le-1)}),1e3);var e=zE("Send OTP button will be enabled in x seconds").replace("x",Le.toString());Ke(e)}),[Le]);var et=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,He!=T){t.next=8;break}if(!(Le>0)){t.next=6;break}return t.next=5,SS.show({text:Ge,duration:"long"});case 5:return t.abrupt("return");case 6:t.next=10;break;case 8:Ue(!1),De(0);case 10:if(d(!0),r=W+T,10==T.length){t.next=15;break}return Xe(zE("Incorrect phone number format")),t.abrupt("return");case 15:return console.log("window.recaptchaVerifier",window.recaptchaVerifier),console.log("onPhoneNumberSubmit called ",r,N),t.next=19,H.phoneNumberSignIn(r,N);case 19:i=t.sent,console.log("phoneNumberSignIn authRes",JSON.stringify(i)),i.user&&(u(!1),e.replace(Do.SELECT_MODE)),console.log("verificationIdRes",null===i||void 0===i?void 0:i.verificationId),i?(F(i),d(!1),m(!0),K(59),w(!0),se(!1)):(console.log("Phone Number signin Failed "),se(!1),d(!1),Xe(zE("Phone Number signin Failed. Please try again later"))),t.next=34;break;case 26:t.prev=26,t.t0=t.catch(0),console.log("Phone Number signin Failed "),se(!1),d(!1),"string"===typeof t.t0?t.t0.includes("blocked all requests")||t.t0.includes("Timed out waiting for SMS")?Xe(zE("Something went wrong. Please try again after some time.")):t.t0.includes("E.164 format")&&Xe(zE("Incorrect phone number format")):Xe(zE("Phone Number signin Failed. Please try again later.")),console.log("window.recaptchaVerifier",N),N.clear();case 34:case"end":return t.stop()}}),n,null,[[0,26]])})));return function(){return n.apply(this,arguments)}}(),tt=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,H.proceedWithVerificationCode(M,C.trim());case 4:if(r=t.sent,console.log("login User Data ",r,z),r){t.next=11;break}return u(!1),console.log("Verification Failed"),Xe(zE("Something went wrong Verification Failed")),t.abrupt("return");case 11:if(V(r.user),console.log("login User Data ",r,z),!r.isUserExist){t.next=20;break}u(!1),e.replace(Do.SELECT_MODE),localStorage.setItem(la,JSON.stringify(r.user)),console.log("isUserExist",localStorage.getItem(la)),t.next=30;break;case 20:if(r.isUserExist){t.next=28;break}return u(!1),t.next=24,XI.i.createPhoneAuthUser(r.user);case 24:(i=t.sent)&&(e.replace(Do.SELECT_MODE),localStorage.setItem(la,JSON.stringify(i)),console.log("new user",localStorage.getItem(la))),t.next=30;break;case 28:u(!1),console.log("Verification Failed");case 30:t.next=38;break;case 32:t.prev=32,t.t0=t.catch(0),u(!1),console.log("Verification Failed",t.t0),fe({isInvalidCode:!0,isInvalidCodeLength:!1}),"string"===typeof t.t0&&t.t0.includes("code-expired")&&(fe({isInvalidCode:!1,isInvalidCodeLength:!1}),Xe(zE("Verification code has expired. Please request a new one.")));case 38:case"end":return t.stop()}}),n,null,[[0,32]])})));return function(){return n.apply(this,arguments)}}();function nt(){return(nt=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,G<=0){e.next=3;break}return e.abrupt("return");case 3:return d(!0),n=W+T,j(void 0),e.next=8,H.phoneNumberSignIn(n,N);case 8:(r=e.sent)?(F(r),console.log("Resend Otp Sucessfull"),d(!1),re(!1),K(59),I("")):(d(!1),console.log("Resend Otp failed")),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Resend Otp Failed With Error "+e.t0),d(!1),Xe(zE("Resend Otp Failed!! Please try again after some time.")),N.clear();case 18:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return(0,Ca.jsxs)(ji,{id:"login-screen",children:[!!b&&(0,Ca.jsx)("div",{className:"login-class-header",children:(0,Ca.jsx)(qq,{onClicked:function(){m(!1),w(!1),ke(ge),I(""),re(!1),X(!1),We(T),Ue(!0),De(G),fe({isInvalidCode:!1,isInvalidCodeLength:!1}),Xe("")}})}),(0,Ca.jsx)("div",{className:"scroll-header",children:a?null:(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("img",{id:"login-chimple-logo",alt:"Chimple Brand Logo",src:"assets/icons/ChimpleBrandLogo.svg"}),(0,Ca.jsx)("div",{id:"chimple-brand-text1",children:zE("Welcome to Chimple!")}),(0,Ca.jsx)("p",{id:"chimple-brand-text2",children:zE("Discovering the joy of learning with")}),(0,Ca.jsx)("p",{id:"chimple-brand-text2",children:zE("Chimple- where curiosity meets education!")}),(0,Ca.jsx)("div",{id:"chimple-brand-text2",children:(0,Ca.jsx)("br",{})}),v?!S&&(!Y&&X(!0),1)?(0,Ca.jsxs)("div",{children:[(0,Ca.jsxs)("p",{id:"login-otp-sent",children:[zE("OTP Sent To The")," ",W+T]}),(0,Ca.jsxs)("div",{id:"login-text-box",children:[(0,Ca.jsx)("div",{children:(0,Ca.jsx)(Xq,{inputText:zE("Enter 6 Digit Code"),inputType:"tel",maxLength:6,inputValue:C.trim(),onChange:function(e){if(e.target.value){if(!ga.test(e.target.value))return;I(e.target.value.trim()),console.log(e.target.value),fe({isInvalidCode:!1,isInvalidCodeLength:!1});var t=Ae.current.style.backgroundColor;6===e.target.value.length?(Ae.current.style.backgroundColor=ge,fe({isInvalidCode:!1,isInvalidCodeLength:!1})):t===ge&&(Ae.current.style.backgroundColor=ve)}else I(""),console.log(e.target.value)}})}),Ye?(0,Ca.jsx)("p",{className:"login-verification-error-message",children:Ye}):null!==le&&void 0!==le&&le.isInvalidCodeLength?(0,Ca.jsx)("p",{className:"login-verification-error-message",children:zE("Please Enter 6 Digit Code")}):null!==le&&void 0!==le&&le.isInvalidCode?(0,Ca.jsx)("p",{className:"login-verification-error-message",children:zE("Please Enter Valid Code")}):null]}),(0,Ca.jsxs)("div",{ref:Ae,id:"login-otp-button",children:[(0,Ca.jsx)("div",{onClick:function(){6===C.length?(tt(),I("")):C.length<=6?(I(""),fe({isInvalidCode:!1,isInvalidCodeLength:!0})):(tt(),fe({isInvalidCode:!1,isInvalidCodeLength:!1})),Xe("")},children:(0,Ca.jsx)("div",{children:zE("Get Started")})}),(0,Ca.jsxs)("div",{id:"login-resend-otp",children:[(0,Ca.jsx)("div",{children:(0,Ca.jsxs)("span",{style:ne?{color:"grey"}:{color:"red"},id:"login-time-remaining",children:[zE("Time Remaining :")," ",G]})}),(0,Ca.jsx)("span",{id:"login-resend-otp-text",onClick:function(){return nt.apply(this,arguments)},style:ne?{color:"green"}:{color:"grey"},children:zE("Resend OTP")})]})]}),_e?(0,Ca.jsx)("div",{ref:Ce,id:"scroll"}):null]}):(0,Ca.jsx)("div",{children:_e?(0,Ca.jsx)("div",{ref:Ce,id:"scroll"}):null}):(0,Ca.jsxs)("div",{children:[(0,Ca.jsxs)("div",{id:"login-screen-input",children:[(0,Ca.jsxs)("div",{id:"login-text-box",children:[(0,Ca.jsxs)("div",{id:"login-text",children:[(0,Ca.jsx)(Xq,{inputText:zE("Enter Mobile Number (10-digit)"),inputType:"tel",maxLength:10,inputValue:T,onChange:function(e){if(e.target.value){if(!ga.test(e.target.value))return;A(e.target.value),console.log(W+e.target.value);var t=we;10===e.target.value.length?(console.log(T),ke(ge),Pe.current.style.display="none"):t===ge&&ke(ve)}else A(""),console.log(W+e.target.value)}}),(0,Ca.jsx)("p",{className:"login-verification-error-message",children:Ye})]}),(0,Ca.jsx)("p",{ref:Pe,style:{display:"none"},className:"login-error-message",children:zE("Please Enter 10 digit Mobile Number")})]}),(0,Ca.jsx)("div",{id:"recaptcha-container"}),(0,Ca.jsx)("div",{ref:Te,id:"login-continue-button",style:{backgroundColor:we},onClick:(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(he){e.next=3;break}return pe({message:zE("Device is offline. Login requires an internet connection"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]}),e.abrupt("return");case 3:if(console.log("if (!recaptchaVerifier && !Capacitor.isNativePlatform()) called",N),10!==T.length){e.next=9;break}return e.next=7,et();case 7:e.next=10;break;case 9:Pe.current.style.display="block";case 10:se(!1),Xe("");case 12:case"end":return e.stop()}}),e)}))),children:zE("Send OTP")})]}),_e?(0,Ca.jsx)("div",{ref:Ce,id:"scroll"}):null,(0,Ca.jsx)(Si,{id:"custom-loading",message:"Loading",isOpen:ae}),(0,Ca.jsxs)("div",{id:"Google-horizontal-line-main-container",children:[(0,Ca.jsx)("div",{id:"Google-horizontal-line"}),(0,Ca.jsx)("div",{id:"login-google-icon-text",children:zE("Continue with Google")}),(0,Ca.jsx)("div",{id:"Google-horizontal-line2"})]}),(0,Ca.jsx)("img",{id:"login-google-icon",alt:"Google Icon",src:"assets/icons/Google Icon.png",onClick:(0,r.Z)((0,t.Z)().mark((function n(){var r,i;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(he){t.next=3;break}return pe({message:zE("Device is offline. Login requires an internet connection"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]}),t.abrupt("return");case 3:return t.prev=3,u(!0),console.log("isLoading ",a),r=nO.getI().authHandler,t.next=9,r.googleSign();case 9:i=t.sent,console.log("\ud83d\ude80 ~ file: Login.tsx:44 ~ onClick={ ~ result:",i),i?(u(!1),e.replace(Do.SELECT_MODE),localStorage.setItem(la,JSON.stringify(i)),console.log("google...",localStorage.getItem(la))):u(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),u(!1),console.log("error",t.t0);case 18:case"end":return t.stop()}}),n,null,[[3,14]])})))})]})]})}),(0,Ca.jsx)(hq,{isLoading:a||f})]})},nG=["children"];function rG(e){var n=e.children,o=dN(e,nG),a=(0,s.useState)(null),u=(0,i.Z)(a,2),c=u[0],l=u[1],f=(0,s.useState)(),d=(0,i.Z)(f,2),h=d[0],p=d[1];(0,s.useEffect)((function(){v()}),[]);var v=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=null===(r=nO.getI())||void 0===r?void 0:r.authHandler,e.next=4,null===i||void 0===i?void 0:i.isUserLoggedIn();case 4:return o=e.sent,e.next=7,null===i||void 0===i?void 0:i.getCurrentUser();case 7:a=e.sent,console.log("currentUser",a,n),l(!!o),p(null===a||void 0===a?void 0:a.tcAccept),console.log("tcAccept",!(null===a||void 0===a||!a.tcAccept)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),l(!1);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return null==c?(0,Ca.jsx)(hq,{isLoading:!0}):(0,Ca.jsx)(ue,(0,Ra.Z)((0,Ra.Z)({},o),{},{children:!0===c?!0===h?n:(0,Ca.jsx)(re,{to:{pathname:Do.TERMS_AND_CONDITIONS}}):(0,Ca.jsx)(re,{to:{pathname:Do.LOGIN}})}))}function iG(e){return uO({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 000-1.41z"}}]})(e)}function oG(e){return uO({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"}}]})(e)}var aG=function(e){var n,o=e.width,a=(e.height,e.userType),u=e.user,c=e.setReloadProfiles,l=e.profiles,f=e.studentCurrMode,d=me(),h=(0,s.useState)(!1),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=(0,s.useState)(!1),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=(0,s.useState)(!1),x=(0,i.Z)(k,2),S=x[0],_=x[1],E=l&&null==l[0]||void 0,C=cN(),I=C.online,O=C.presentToast;return(0,Ca.jsxs)(wi,{id:"profile-card",style:{width:o,height:"auto",padding:a?"1.5% 1.5% 3% 1.5%":"0% 0% 0% 0%"},onClick:function(){console.log("Profile card Icon is clicked")},children:[(0,Ca.jsx)("div",{id:"profile-card-edit-icon-div",children:a?(0,Ca.jsx)(iG,{id:"profile-card-edit-icon",size:"5%",onClick:function(){I?(console.log("click on edit icon"),m(!0)):O({message:zE("Device is offline. Cannot edit or delete child profile"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]})}}):(0,Ca.jsx)("p",{className:"profile-card-empty-element",children:"\u25cf"})}),a?(0,Ca.jsxs)("div",{id:"profile-card-image-div",children:[(0,Ca.jsx)("img",{id:"profile-card-image",loading:"lazy",src:f===sa.SCHOOL&&u.image||"assets/avatars/"+(null!==(n=u.avatar)&&void 0!==n?n:oa[0])+".png",alt:""}),(0,Ca.jsx)("p",{id:"profile-card-user-name",children:u.name})]}):(0,Ca.jsxs)("div",{id:"profile-card-new-user",children:[(0,Ca.jsx)(oG,{id:"profile-card-new-user-icon",size:"16vw",onClick:function(){I?d.replace(Do.CREATE_STUDENT,{showBackButton:!E}):O({message:zE("Device is offline. Cannot create a new child profile"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]})}}),(0,Ca.jsx)("p",{children:zE("New Profile")})]}),a?(0,Ca.jsx)("div",{id:"profile-card-image-report",onClick:(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.setCurrentStudent(u,void 0,!1,!1);case 2:HI.setPathToBackButton(Do.STUDENT_PROGRESS,d);case 3:case"end":return e.stop()}}),e)}))),children:zE("Progress Report")}):(0,Ca.jsx)("p",{className:"profile-card-empty-element",children:"\u25cf"}),v?(0,Ca.jsx)(oN,{width:"40vw",height:"30vh",message:zE("You can edit or delete the Profile by clicking on the buttons below."),showDialogBox:v,yesText:zE("Delete Profile"),noText:zE("Edit Profile"),handleClose:function(){m(!1),console.log("Close",!1)},onYesButtonClicked:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_q(n),console.log("Delete Profile","yes",u.docId),w(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onNoButtonClicked:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _q(n),console.log("Edit Profile","no",u.docId),nO.getI().apiHandler,e.next=5,HI.setCurrentStudent(u,void 0,!1);case 5:d.replace(Do.EDIT_STUDENT,{from:d.location.pathname}),m(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):null,b?(0,Ca.jsx)(oN,{width:"40vw",height:"30vh",message:zE("Do you want to delete the Profile?"),showDialogBox:v,yesText:zE("Yes"),noText:zE("No"),handleClose:function(){m(!1),console.log("Close",!1)},onYesButtonClicked:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _q(n),console.log("Show warning yes:",u.docId),w(!1),m(!1),_(!0),c(!1),e.next=8,nO.getI().apiHandler.deleteProfile(u.docId);case 8:return e.next=10,c(!0);case 10:r={user_id:u.docId,user_type:u.role,user_name:u.name,user_gender:u.gender,user_age:u.age,phone_number:u.username,parent_id:u.uid,parent_username:u.username,action_type:ua.DELETE},console.log("Util.logEvent(EVENTS.USER_PROFILE, eventParams);",fa.USER_PROFILE,r),HI.logEvent(fa.USER_PROFILE,r),_(!1);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onNoButtonClicked:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_q(n),console.log("Show warning No:"),w(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):null,(0,Ca.jsx)(hq,{isLoading:S})]})},sG=function(e){var t=e.flag,n=e.title,r=e.onIonChangeClick;return(0,Ca.jsxs)("div",{id:"toggle-button",children:[(0,Ca.jsxs)("p",{children:[n,zE(t?" ON ":" OFF ")]}),(0,Ca.jsx)(vi,{checked:0==t,onIonChange:r,"aria-label":"Enable Notifications"})]})};var uG=n(6123),cG=n.n(uG),lG=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fG=function(){return fG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fG.apply(this,arguments)},dG=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},hG=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var vG=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openShareDialog=function(e){var n=t.props,r=n.onShareWindowClose,i=n.windowHeight,o=void 0===i?400:i,a=n.windowPosition,s=void 0===a?"windowCenter":a,u=n.windowWidth,c=void 0===u?550:u,l=fG({height:o,width:c},"windowCenter"===s?function(e,t){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}}(c,o):function(e,t){return{top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}}(c,o));!function(e,t,n){var r=t.height,i=t.width,o=pG(t,["height","width"]),a=fG({height:r,width:i,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),s=window.open(e,"",Object.keys(a).map((function(e){return"".concat(e,"=").concat(a[e])})).join(", "));if(n)var u=window.setInterval((function(){try{(null===s||s.closed)&&(window.clearInterval(u),n(s))}catch(e){console.error(e)}}),1e3)}(e,l,r)},t.handleClick=function(e){return dG(t,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l;return hG(this,(function(f){switch(f.label){case 0:return t=this.props,n=t.beforeOnClick,r=t.disabled,i=t.networkLink,o=t.onClick,a=t.url,s=t.openShareDialogOnClick,u=t.opts,c=i(a,u),r?[2]:(e.preventDefault(),n?(l=n(),!(d=l)||"object"!==typeof d&&"function"!==typeof d||"function"!==typeof d.then?[3,2]:[4,l]):[3,2]);case 1:f.sent(),f.label=2;case 2:return s&&this.openShareDialog(c),o&&o(e,c),[2]}var d}))}))},t}return lG(t,e),t.prototype.render=function(){var e=this.props,t=(e.beforeOnClick,e.children),n=e.className,r=e.disabled,i=e.disabledStyle,o=e.forwardedRef,a=(e.networkLink,e.networkName),u=(e.onShareWindowClose,e.openShareDialogOnClick,e.opts,e.resetButtonStyle),c=e.style,l=(e.url,e.windowHeight,e.windowPosition,e.windowWidth,pG(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","networkLink","networkName","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"])),f=cG()("react-share__ShareButton",{"react-share__ShareButton--disabled":!!r,disabled:!!r},n),d=fG(fG(u?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},c),r&&i);return s.createElement("button",fG({},l,{"aria-label":l["aria-label"]||a,className:f,onClick:this.handleClick,ref:o,style:d}),t)},t.defaultProps={disabledStyle:{opacity:.6},openShareDialogOnClick:!0,resetButtonStyle:!0},t}(s.Component),mG=vG,gG=function(){return gG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gG.apply(this,arguments)};var yG=function(e,t,n,r){function i(i,o){var a=n(i),u=gG({},i);return Object.keys(a).forEach((function(e){delete u[e]})),s.createElement(mG,gG({},r,u,{forwardedRef:o,networkName:e,networkLink:t,opts:n(i)}))}return i.displayName="ShareButton-".concat(e),(0,s.forwardRef)(i)};var bG=yG("email",(function(e,t){var n=t.subject,r=t.body,i=t.separator;return"mailto:"+function(e){var t=Object.entries(e).filter((function(e){var t=e[1];return void 0!==t&&null!==t})).map((function(e){var t=e[0],n=e[1];return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(String(n)))}));return t.length>0?"?".concat(t.join("&")):""}({subject:n,body:r?r+i+e:e})}),(function(e){return{subject:e.subject,body:e.body,separator:e.separator||" "}}),{openShareDialogOnClick:!1,onClick:function(e,t){window.location.href=t}}),wG=bG,kG=function(){return kG=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},kG.apply(this,arguments)},xG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function SG(e){var t=function(t){var n=t.bgStyle,r=t.borderRadius,i=t.iconFillColor,o=t.round,a=t.size,u=xG(t,["bgStyle","borderRadius","iconFillColor","round","size"]);return s.createElement("svg",kG({viewBox:"0 0 64 64",width:a,height:a},u),o?s.createElement("circle",{cx:"32",cy:"32",r:"31",fill:e.color,style:n}):s.createElement("rect",{width:"64",height:"64",rx:r,ry:r,fill:e.color,style:n}),s.createElement("path",{d:e.path,fill:i}))};return t.defaultProps={bgStyle:{},borderRadius:0,iconFillColor:"white",size:64},t}var _G=SG({color:"#7f7f7f",networkName:"email",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"}),EG=SG({color:"#25D366",networkName:"whatsapp",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"}),CG=SG({color:"#3b5998",networkName:"facebook",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"}),IG=SG({color:"#00aced",networkName:"twitter",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function OG(e){return uO({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224,202.66A53.34,53.34,0,1,0,277.36,256,53.38,53.38,0,0,0,224,202.66Zm124.71-41a54,54,0,0,0-30.41-30.41c-21-8.29-71-6.43-94.3-6.43s-73.25-1.93-94.31,6.43a54,54,0,0,0-30.41,30.41c-8.28,21-6.43,71.05-6.43,94.33S91,329.26,99.32,350.33a54,54,0,0,0,30.41,30.41c21,8.29,71,6.43,94.31,6.43s73.24,1.93,94.3-6.43a54,54,0,0,0,30.41-30.41c8.35-21,6.43-71.05,6.43-94.33S357.1,182.74,348.75,161.67ZM224,338a82,82,0,1,1,82-82A81.9,81.9,0,0,1,224,338Zm85.38-148.3a19.14,19.14,0,1,1,19.13-19.14A19.1,19.1,0,0,1,309.42,189.74ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM382.88,322c-1.29,25.63-7.14,48.34-25.85,67s-41.4,24.63-67,25.85c-26.41,1.49-105.59,1.49-132,0-25.63-1.29-48.26-7.15-67-25.85s-24.63-41.42-25.85-67c-1.49-26.42-1.49-105.61,0-132,1.29-25.63,7.07-48.34,25.85-67s41.47-24.56,67-25.78c26.41-1.49,105.59-1.49,132,0,25.63,1.29,48.33,7.15,67,25.85s24.63,41.42,25.85,67.05C384.37,216.44,384.37,295.56,382.88,322Z"}}]})(e)}function ZG(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function TG(e){return uO({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M10 2.29v2.124c0.566 0.247 1.086 0.6 1.536 1.050 0.944 0.944 1.464 2.2 1.464 3.536s-0.52 2.591-1.464 3.536c-0.944 0.944-2.2 1.464-3.536 1.464s-2.591-0.52-3.536-1.464c-0.944-0.944-1.464-2.2-1.464-3.536s0.52-2.591 1.464-3.536c0.45-0.45 0.97-0.803 1.536-1.050v-2.124c-2.891 0.861-5 3.539-5 6.71 0 3.866 3.134 7 7 7s7-3.134 7-7c0-3.171-2.109-5.849-5-6.71zM7 0h2v8h-2z"}}]})(e)}var AG=function(e){_q(e);var n=(0,s.useState)(!1),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=me(),l=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nO.getI().authHandler,e.next=3,n.logOut();case 3:HI.unSubscribeToClassTopicForAllStudents(),localStorage.removeItem(la),c.replace(Do.APP_LANG_SELECTION),wo.dV.isNativePlatform()&&window.location.reload();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ca.jsxs)("div",{onClick:function(){u(!a)},className:"parent-logout-btn",children:[(0,Ca.jsx)(TG,{className:"parent-logout-icon"}),(0,Ca.jsx)("div",{children:zE("Sign out as a Parent")}),(0,Ca.jsx)(oN,{width:"40vw",height:"30vh",message:zE("Do you want to sign out"),showDialogBox:a,yesText:zE("Cancel"),noText:zE("Sign Out"),handleClose:function(){u(!1)},onYesButtonClicked:function(){u(!1)},onNoButtonClicked:l})]})},PG=function(e){var t=e.tabNames,n=e.value,r=e.onChange,i=e.handleBackButton;me();return(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("div",{className:"back-button-in-custom-app-bar",children:(0,Ca.jsx)(qq,{onClicked:i})}),(0,Ca.jsx)(VD,{position:"static",sx:{flexDirection:"inherit",justifyContent:"space-evenly",padding:"3vh 3vw 3vh 12vw",backgroundColor:"#FF7925 !important",boxShadow:"0px 0px 0px 0px !important"},children:(0,Ca.jsx)(qD,{sx:{maxWidth:{xs:500,sm:"clamp(13vw, 90vw, 90vw)",md:"89vw"}},children:(0,Ca.jsx)(xF,{value:n,onChange:function(e,t){r(t)},textColor:"secondary",indicatorColor:"secondary",variant:"scrollable",scrollButtons:!1,"aria-label":"scrollable auto tabs example",centered:!0,sx:{"& .MuiTabs-indicator":{backgroundColor:"#FFFFFF !important",fontSize:"clamp(10px, 3vh, 20px)"},"& .MuiTab-root":{color:"#000000"},"& .Mui-selected":{color:"#FFFFFF !important"},"& .MuiTab-wrapper":{justifyContent:"space-around"},"& .MuiTab-root:not(:last-child)":{margin:"0 0rem "}},className:"custom-tabs",children:t.map((function(e){return(0,Ca.jsx)(IF,{value:e,label:e,id:"custom-app-bar"},e)}))})})})]})};var RG=s.createContext({});function NG(e){return $O("MuiList",e)}qO("MuiList",["root","padding","dense","subheader"]);var jG=["children","className","component","dense","disablePadding","subheader"],LG=FP("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return f({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),DG=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiList"}),r=n.children,i=n.className,o=n.component,a=void 0===o?"ul":o,u=n.dense,c=void 0!==u&&u,l=n.disablePadding,d=void 0!==l&&l,h=n.subheader,p=z(n,jG),v=s.useMemo((function(){return{dense:c}}),[c]),m=f({},n,{component:a,dense:c,disablePadding:d}),g=function(e){var t=e.classes;return mO({root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]},NG,t)}(m);return(0,Ca.jsx)(RG.Provider,{value:v,children:(0,Ca.jsxs)(LG,f({as:a,className:vO(g.root,i),ref:t,ownerState:m},p,{children:[h,r]}))})})),MG=DG,FG=PO,BG=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function UG(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function zG(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function VG(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function HG(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&VG(s,o)&&!u)return s.focus(),!0;s=i(e,s,n)}return!1}var WG=s.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,i=void 0!==r&&r,o=e.autoFocusItem,a=void 0!==o&&o,u=e.children,c=e.className,l=e.disabledItemsFocusable,d=void 0!==l&&l,h=e.disableListWrap,p=void 0!==h&&h,v=e.onKeyDown,m=e.variant,g=void 0===m?"selectedMenu":m,y=z(e,BG),b=s.useRef(null),w=s.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});eM((function(){i&&b.current.focus()}),[i]),s.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(FG(lF(e)),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var k=oR(b,t),x=-1;s.Children.forEach(u,(function(e,t){s.isValidElement(e)?(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===x)&&(x=t),x===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(x+=1)>=u.length&&(x=-1)):x===t&&(x+=1)>=u.length&&(x=-1)}));var S=s.Children.map(u,(function(e,t){if(t===x){var n={};return a&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(n.tabIndex=0),s.cloneElement(e,n)}return e}));return(0,Ca.jsx)(MG,f({role:"menu",ref:k,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=lF(t).activeElement;if("ArrowDown"===n)e.preventDefault(),HG(t,r,p,d,UG);else if("ArrowUp"===n)e.preventDefault(),HG(t,r,p,d,zG);else if("Home"===n)e.preventDefault(),HG(t,null,p,d,UG);else if("End"===n)e.preventDefault(),HG(t,null,p,d,zG);else if(1===n.length){var i=w.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&VG(r,i);i.previousKeyMatched&&(s||HG(t,r,!1,d,UG,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:i?0:-1},y,{children:S}))})),$G=WG,qG=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function GG(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var KG={entering:{opacity:1,transform:GG(1)},entered:{opacity:1,transform:"none"}},QG="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),JG=s.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,i=void 0===r||r,o=e.children,a=e.easing,u=e.in,c=e.onEnter,l=e.onEntered,d=e.onEntering,h=e.onExit,p=e.onExited,v=e.onExiting,m=e.style,g=e.timeout,y=void 0===g?"auto":g,b=e.TransitionComponent,w=void 0===b?tR:b,k=z(e,qG),x=s.useRef(),S=s.useRef(),_=nR(),E=s.useRef(null),C=oR(E,o.ref,t),I=function(e){return function(t){if(e){var n=E.current;void 0===t?e(n):e(n,t)}}},O=I(d),Z=I((function(e,t){rR(e);var n,r=iR({style:m,timeout:y,easing:a},{mode:"enter"}),i=r.duration,o=r.delay,s=r.easing;"auto"===y?(n=_.transitions.getAutoHeightDuration(e.clientHeight),S.current=n):n=i,e.style.transition=[_.transitions.create("opacity",{duration:n,delay:o}),_.transitions.create("transform",{duration:QG?n:.666*n,delay:o,easing:s})].join(","),c&&c(e,t)})),T=I(l),A=I(v),P=I((function(e){var t,n=iR({style:m,timeout:y,easing:a},{mode:"exit"}),r=n.duration,i=n.delay,o=n.easing;"auto"===y?(t=_.transitions.getAutoHeightDuration(e.clientHeight),S.current=t):t=r,e.style.transition=[_.transitions.create("opacity",{duration:t,delay:i}),_.transitions.create("transform",{duration:QG?t:.666*t,delay:QG?i:i||.333*t,easing:o})].join(","),e.style.opacity=0,e.style.transform=GG(.75),h&&h(e)})),R=I(p);return s.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,Ca.jsx)(w,f({appear:i,in:u,nodeRef:E,onEnter:Z,onEntered:T,onEntering:O,onExit:P,onExited:R,onExiting:A,addEndListener:function(e){"auto"===y&&(x.current=setTimeout(e,S.current||0)),n&&n(E.current,e)},timeout:"auto"===y?null:y},k,{children:function(e,t){return s.cloneElement(o,f({style:f({opacity:0,transform:GG(.75),visibility:"exited"!==e||u?void 0:"hidden"},KG[e],m,o.props.style),ref:C},t))}}))}));JG.muiSupportAuto=!0;var YG=JG;function XG(e){return $O("MuiPopover",e)}qO("MuiPopover",["root","paper"]);var eK=["onEntering"],tK=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"],nK=["slotProps"];function rK(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function iK(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function oK(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function aK(e){return"function"===typeof e?e():e}var sK=FP(bR,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),uK=FP(ER,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),cK=s.forwardRef((function(e,t){var n,r,o,a=WP({props:e,name:"MuiPopover"}),u=a.action,c=a.anchorEl,l=a.anchorOrigin,d=void 0===l?{vertical:"top",horizontal:"left"}:l,h=a.anchorPosition,p=a.anchorReference,v=void 0===p?"anchorEl":p,m=a.children,g=a.className,y=a.container,b=a.elevation,w=void 0===b?8:b,k=a.marginThreshold,x=void 0===k?16:k,S=a.open,_=a.PaperProps,E=void 0===_?{}:_,C=a.slots,I=a.slotProps,O=a.transformOrigin,Z=void 0===O?{vertical:"top",horizontal:"left"}:O,T=a.TransitionComponent,A=void 0===T?YG:T,P=a.transitionDuration,R=void 0===P?"auto":P,N=a.TransitionProps,j=(void 0===N?{}:N).onEntering,L=z(a.TransitionProps,eK),D=z(a,tK),M=null!=(n=null==I?void 0:I.paper)?n:E,F=s.useRef(),B=oR(F,M.ref),U=f({},a,{anchorOrigin:d,anchorReference:v,elevation:w,marginThreshold:x,externalPaperSlotProps:M,transformOrigin:Z,TransitionComponent:A,transitionDuration:R,TransitionProps:L}),V=function(e){return mO({root:["root"],paper:["paper"]},XG,e.classes)}(U),H=s.useCallback((function(){if("anchorPosition"===v)return h;var e=aK(c),t=(e&&1===e.nodeType?e:lF(F.current).body).getBoundingClientRect();return{top:t.top+rK(t,d.vertical),left:t.left+iK(t,d.horizontal)}}),[c,d.horizontal,d.vertical,h,v]),W=s.useCallback((function(e){return{vertical:rK(e,Z.vertical),horizontal:iK(e,Z.horizontal)}}),[Z.horizontal,Z.vertical]),$=s.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=W(t);if("none"===v)return{top:null,left:null,transformOrigin:oK(n)};var r=H(),i=r.top-n.vertical,o=r.left-n.horizontal,a=i+t.height,s=o+t.width,u=tM(aK(c)),l=u.innerHeight-x,f=u.innerWidth-x;if(i<x){var d=i-x;i-=d,n.vertical+=d}else if(a>l){var h=a-l;i-=h,n.vertical+=h}if(o<x){var p=o-x;o-=p,n.horizontal+=p}else if(s>f){var m=s-f;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:oK(n)}}),[c,v,H,W,x]),q=s.useState(S),G=(0,i.Z)(q,2),K=G[0],Q=G[1],J=s.useCallback((function(){var e=F.current;if(e){var t=$(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,Q(!0)}}),[$]);s.useEffect((function(){S&&J()})),s.useImperativeHandle(u,(function(){return S?{updatePosition:function(){J()}}:null}),[S,J]),s.useEffect((function(){if(S){var e=QD((function(){J()})),t=tM(c);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[c,S,J]);var Y=R;"auto"!==R||A.muiSupportAuto||(Y=void 0);var X=y||(c?lF(aK(c)).body:void 0),ee=null!=(r=null==C?void 0:C.root)?r:sK,te=null!=(o=null==C?void 0:C.paper)?o:uK,ne=eZ({elementType:te,externalSlotProps:f({},M,{style:K?M.style:f({},M.style,{opacity:0})}),additionalProps:{elevation:w,ref:B},ownerState:U,className:vO(V.paper,null==M?void 0:M.className)}),re=eZ({elementType:ee,externalSlotProps:(null==I?void 0:I.root)||{},externalForwardedProps:D,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:X,open:S},ownerState:U,className:vO(V.root,g)}),ie=re.slotProps,oe=z(re,nK);return(0,Ca.jsx)(ee,f({},oe,!KO(ee)&&{slotProps:ie},{children:(0,Ca.jsx)(A,f({appear:!0,in:S,onEntering:function(e,t){j&&j(e,t),J()},onExited:function(){Q(!1)},timeout:Y},L,{children:(0,Ca.jsx)(te,f({},ne,{children:m}))}))}))})),lK=cK;function fK(e){return $O("MuiMenu",e)}qO("MuiMenu",["root","paper","list"]);var dK=["onEntering"],hK=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],pK={vertical:"top",horizontal:"right"},vK={vertical:"top",horizontal:"left"},mK=FP(lK,{shouldForwardProp:function(e){return LP(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),gK=FP(uK,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),yK=FP($G,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),bK=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiMenu"}),r=n.autoFocus,i=void 0===r||r,o=n.children,a=n.disableAutoFocusItem,u=void 0!==a&&a,c=n.MenuListProps,l=void 0===c?{}:c,d=n.onClose,h=n.open,p=n.PaperProps,v=void 0===p?{}:p,m=n.PopoverClasses,g=n.transitionDuration,y=void 0===g?"auto":g,b=n.TransitionProps,w=(void 0===b?{}:b).onEntering,k=n.variant,x=void 0===k?"selectedMenu":k,S=z(n.TransitionProps,dK),_=z(n,hK),E=nR(),C="rtl"===E.direction,I=f({},n,{autoFocus:i,disableAutoFocusItem:u,MenuListProps:l,onEntering:w,PaperProps:v,transitionDuration:y,TransitionProps:S,variant:x}),O=function(e){return mO({root:["root"],paper:["paper"],list:["list"]},fK,e.classes)}(I),Z=i&&!u&&h,T=s.useRef(null),A=-1;return s.Children.map(o,(function(e,t){s.isValidElement(e)&&(e.props.disabled||("selectedMenu"===x&&e.props.selected||-1===A)&&(A=t))})),(0,Ca.jsx)(mK,f({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?pK:vK,slots:{paper:gK},slotProps:{paper:f({},v,{classes:f({},v.classes,{root:O.paper})})},className:O.root,open:h,ref:t,transitionDuration:y,TransitionProps:f({onEntering:function(e,t){T.current&&T.current.adjustStyleForScrollbar(e,E),w&&w(e,t)}},S),ownerState:I},_,{classes:m,children:(0,Ca.jsx)(yK,f({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:T,autoFocus:i&&(-1===A||u),autoFocusItem:Z,variant:x},l,{className:vO(O.list,l.className),children:o}))}))})),wK=bK;function kK(e){return $O("MuiNativeSelect",e)}var xK=qO("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),SK=["className","disabled","error","IconComponent","inputRef","variant"],_K=function(e){var t,n=e.ownerState,r=e.theme;return f((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":f({},r.vars?{backgroundColor:"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},(0,we.Z)(t,"&.".concat(xK.disabled),{cursor:"default"}),(0,we.Z)(t,"&[multiple]",{height:"auto"}),(0,we.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(r.vars||r).palette.background.paper}),(0,we.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}})},EK=FP("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:LP,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],n.error&&t.error,(0,we.Z)({},"&.".concat(xK.multiple),t.multiple)]}})(_K),CK=function(e){var t=e.ownerState,n=e.theme;return f((0,we.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(xK.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},IK=FP("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(xO(n.variant))],n.open&&t.iconOpen]}})(CK),OK=s.forwardRef((function(e,t){var n=e.className,r=e.disabled,i=e.error,o=e.IconComponent,a=e.inputRef,u=e.variant,c=void 0===u?"standard":u,l=z(e,SK),d=f({},e,{disabled:r,variant:c,error:i}),h=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open;return mO({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(xO(n)),o&&"iconOpen",r&&"disabled"]},kK,t)}(d);return(0,Ca.jsxs)(s.Fragment,{children:[(0,Ca.jsx)(EK,f({ownerState:d,className:vO(h.select,n),disabled:r,ref:a||t},l)),e.multiple?null:(0,Ca.jsx)(IK,{as:o,ownerState:d,className:h.icon})]})})),ZK=OK;function TK(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function AK(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(TK(e.value)&&""!==e.value||t&&TK(e.defaultValue)&&""!==e.defaultValue)}var PK=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,s.useRef(void 0!==t).current),o=s.useState(n),a=(0,i.Z)(o,2),u=a[0],c=a[1];return[r?t:u,s.useCallback((function(e){r||c(e)}),[])]};function RK(e){return $O("MuiSelect",e)}var NK,jK=qO("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),LK=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],DK=FP("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,we.Z)({},"&.".concat(jK.select),t.select),(0,we.Z)({},"&.".concat(jK.select),t[n.variant]),(0,we.Z)({},"&.".concat(jK.error),t.error),(0,we.Z)({},"&.".concat(jK.multiple),t.multiple)]}})(_K,(0,we.Z)({},"&.".concat(jK.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),MK=FP("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(xO(n.variant))],n.open&&t.iconOpen]}})(CK),FK=FP("input",{shouldForwardProp:function(e){return DP(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function BK(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function UK(e){return null==e||"string"===typeof e&&!e.trim()}var zK=s.forwardRef((function(e,t){var n=e["aria-describedby"],r=e["aria-label"],o=e.autoFocus,a=e.autoWidth,u=e.children,c=e.className,l=e.defaultOpen,d=e.defaultValue,h=e.disabled,p=e.displayEmpty,v=e.error,m=void 0!==v&&v,g=e.IconComponent,y=e.inputRef,b=e.labelId,w=e.MenuProps,k=void 0===w?{}:w,x=e.multiple,S=e.name,_=e.onBlur,E=e.onChange,C=e.onClose,I=e.onFocus,O=e.onOpen,Z=e.open,T=e.readOnly,A=e.renderValue,P=e.SelectDisplayProps,R=void 0===P?{}:P,N=e.tabIndex,j=e.value,L=e.variant,D=void 0===L?"standard":L,M=z(e,LK),F=PK({controlled:j,default:d,name:"Select"}),B=(0,i.Z)(F,2),U=B[0],V=B[1],H=PK({controlled:Z,default:l,name:"Select"}),W=(0,i.Z)(H,2),$=W[0],q=W[1],G=s.useRef(null),K=s.useRef(null),Q=s.useState(null),J=(0,i.Z)(Q,2),Y=J[0],X=J[1],ee=s.useRef(null!=Z).current,te=s.useState(),ne=(0,i.Z)(te,2),re=ne[0],ie=ne[1],oe=oR(t,y),ae=s.useCallback((function(e){K.current=e,e&&X(e)}),[]),se=null==Y?void 0:Y.parentNode;s.useImperativeHandle(oe,(function(){return{focus:function(){K.current.focus()},node:G.current,value:U}}),[U]),s.useEffect((function(){l&&$&&Y&&!ee&&(ie(a?null:se.clientWidth),K.current.focus())}),[Y,a]),s.useEffect((function(){o&&K.current.focus()}),[o]),s.useEffect((function(){if(b){var e=lF(K.current).getElementById(b);if(e){var t=function(){getSelection().isCollapsed&&K.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[b]);var ue,ce,le=function(e,t){e?O&&O(t):C&&C(t),ee||(ie(a?null:se.clientWidth),q(e))},fe=s.Children.toArray(u),de=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(x){n=Array.isArray(U)?U.slice():[];var r=U.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),U!==n&&(V(n),E)){var i=t.nativeEvent||t,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:S}}),E(o,e)}x||le(!1,t)}}},he=null!==Y&&$;delete M["aria-invalid"];var pe=[],ve=!1;(AK({value:U})||p)&&(A?ue=A(U):ve=!0);var me=fe.map((function(e){if(!s.isValidElement(e))return null;var t;if(x){if(!Array.isArray(U))throw new Error(wO(2));t=U.some((function(t){return BK(t,e.props.value)})),t&&ve&&pe.push(e.props.children)}else(t=BK(U,e.props.value))&&ve&&(ce=e.props.children);return t&&!0,s.cloneElement(e,{"aria-selected":t?"true":"false",onClick:de(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ve&&(ue=x?0===pe.length?null:pe.reduce((function(e,t,n){return e.push(t),n<pe.length-1&&e.push(", "),e}),[]):ce);var ge,ye=re;!a&&ee&&Y&&(ye=se.clientWidth),ge="undefined"!==typeof N?N:h?null:0;var be=R.id||(S?"mui-component-select-".concat(S):void 0),we=f({},e,{variant:D,value:U,open:he,error:m}),ke=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,o=e.open;return mO({select:["select",n,r&&"disabled",i&&"multiple",e.error&&"error"],icon:["icon","icon".concat(xO(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},RK,t)}(we);return(0,Ca.jsxs)(s.Fragment,{children:[(0,Ca.jsx)(DK,f({ref:ae,tabIndex:ge,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":he?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[b,be].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),le(!0,e))}},onMouseDown:h||T?null:function(e){0===e.button&&(e.preventDefault(),K.current.focus(),le(!0,e))},onBlur:function(e){!he&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:U,name:S}}),_(e))},onFocus:I},R,{ownerState:we,className:vO(R.className,ke.select,c),id:be,children:UK(ue)?NK||(NK=(0,Ca.jsx)("span",{className:"notranslate",children:"\u200b"})):ue})),(0,Ca.jsx)(FK,f({"aria-invalid":m,value:Array.isArray(U)?U.join(","):U,name:S,ref:G,"aria-hidden":!0,onChange:function(e){var t=fe.find((function(t){return t.props.value===e.target.value}));void 0!==t&&(V(t.props.value),E&&E(e,t))},tabIndex:-1,disabled:h,className:ke.nativeInput,autoFocus:o,ownerState:we},M)),(0,Ca.jsx)(MK,{as:g,className:ke.icon,ownerState:we}),(0,Ca.jsx)(wK,f({id:"menu-".concat(S||""),anchorEl:se,open:he,onClose:function(e){le(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k,{MenuListProps:f({"aria-labelledby":b,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:f({},k.PaperProps,{style:f({minWidth:ye},null!=k.PaperProps?k.PaperProps.style:null)}),children:me}))]})})),VK=zK;function HK(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var WK=s.createContext(void 0);function $K(){return s.useContext(WK)}var qK=cM((0,Ca.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),GK=["onChange","maxRows","minRows","style","value"];function KK(e){return parseInt(e,10)||0}var QK={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function JK(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}var YK=s.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,o=e.minRows,a=void 0===o?1:o,u=e.style,c=e.value,l=z(e,GK),d=s.useRef(null!=c).current,h=s.useRef(null),p=_O(t,h),v=s.useRef(null),m=s.useRef(0),g=s.useState({outerHeightStyle:0}),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=s.useCallback((function(){var t=h.current,n=AO(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};var i=v.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var o=n.boxSizing,s=KK(n.paddingBottom)+KK(n.paddingTop),u=KK(n.borderBottomWidth)+KK(n.borderTopWidth),c=i.scrollHeight;i.value="x";var l=i.scrollHeight,f=c;return a&&(f=Math.max(Number(a)*l,f)),r&&(f=Math.min(Number(r)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===o?s+u:0),overflow:Math.abs(f-c)<=1}}),[r,a,e.placeholder]),x=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return m.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(m.current+=1,{overflow:r,outerHeightStyle:n}):e},S=s.useCallback((function(){var e=k();JK(e)||w((function(t){return x(t,e)}))}),[k]);s.useEffect((function(){var e,t=GD((function(){m.current=0,h.current&&function(){var e=k();JK(e)||xt.flushSync((function(){w((function(t){return x(t,e)}))}))}()})),n=h.current,r=AO(n);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(n),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}})),CO((function(){S()})),s.useEffect((function(){m.current=0}),[c]);return(0,Ca.jsxs)(s.Fragment,{children:[(0,Ca.jsx)("textarea",f({value:c,onChange:function(e){m.current=0,d||S(),n&&n(e)},ref:p,rows:a,style:f({height:b.outerHeightStyle,overflow:b.overflow?"hidden":void 0},u)},l)),(0,Ca.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:f({},QK,u,{padding:0})})]})})),XK=YK;function eQ(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Ca.jsx)(ZM,{styles:i})}var tQ=function(e){var t=e.styles,n=e.themeId,r=e.defaultTheme,i=HP(void 0===r?{}:r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,Ca.jsx)(eQ,{styles:o})};var nQ=function(e){return(0,Ca.jsx)(tQ,f({},e,{defaultTheme:NP,themeId:jP}))};function rQ(e){return $O("MuiInputBase",e)}var iQ=qO("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),oQ=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],aQ=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(xO(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},sQ=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},uQ=FP("div",{name:"MuiInputBase",slot:"Root",overridesResolver:aQ})((function(e){var t=e.theme,n=e.ownerState;return f({},t.typography.body1,(0,we.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(iQ.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&f({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),cQ=FP("input",{name:"MuiInputBase",slot:"Input",overridesResolver:sQ})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o=f({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),a={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return f((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,we.Z)(t,"label[data-shrink=false] + .".concat(iQ.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,we.Z)(t,"&.".concat(iQ.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,we.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),lQ=(0,Ca.jsx)(nQ,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),fQ=s.forwardRef((function(e,t){var n,r=WP({props:e,name:"MuiInputBase"}),o=r["aria-describedby"],a=r.autoComplete,u=r.autoFocus,c=r.className,l=r.components,d=void 0===l?{}:l,h=r.componentsProps,p=void 0===h?{}:h,v=r.defaultValue,m=r.disabled,g=r.disableInjectingGlobalStyles,y=r.endAdornment,b=r.fullWidth,w=void 0!==b&&b,k=r.id,x=r.inputComponent,S=void 0===x?"input":x,_=r.inputProps,E=void 0===_?{}:_,C=r.inputRef,I=r.maxRows,O=r.minRows,Z=r.multiline,T=void 0!==Z&&Z,A=r.name,P=r.onBlur,R=r.onChange,N=r.onClick,j=r.onFocus,L=r.onKeyDown,D=r.onKeyUp,M=r.placeholder,F=r.readOnly,B=r.renderSuffix,U=r.rows,V=r.slotProps,H=void 0===V?{}:V,W=r.slots,$=void 0===W?{}:W,q=r.startAdornment,G=r.type,K=void 0===G?"text":G,Q=r.value,J=z(r,oQ),Y=null!=E.value?E.value:Q,X=s.useRef(null!=Y).current,ee=s.useRef(),te=s.useCallback((function(e){0}),[]),ne=oR(ee,C,E.ref,te),re=s.useState(!1),ie=(0,i.Z)(re,2),oe=ie[0],ae=ie[1],se=$K();var ue=HK({props:r,muiFormControl:se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ue.focused=se?se.focused:oe,s.useEffect((function(){!se&&m&&oe&&(ae(!1),P&&P())}),[se,m,oe,P]);var ce=se&&se.onFilled,le=se&&se.onEmpty,fe=s.useCallback((function(e){AK(e)?ce&&ce():le&&le()}),[ce,le]);eM((function(){X&&fe({value:Y})}),[Y,fe,X]);s.useEffect((function(){fe(ee.current)}),[]);var de=S,he=E;T&&"input"===de&&(he=f(U?{type:void 0,minRows:U,maxRows:U}:{type:void 0,maxRows:I,minRows:O},he),de=XK);s.useEffect((function(){se&&se.setAdornedStart(Boolean(q))}),[se,q]);var pe=f({},r,{color:ue.color||"primary",disabled:ue.disabled,endAdornment:y,error:ue.error,focused:ue.focused,formControl:se,fullWidth:w,hiddenLabel:ue.hiddenLabel,multiline:T,size:ue.size,startAdornment:q,type:K}),ve=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,o=e.endAdornment,a=e.focused,s=e.formControl,u=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.readOnly,d=e.size,h=e.startAdornment,p=e.type;return mO({root:["root","color".concat(xO(n)),r&&"disabled",i&&"error",u&&"fullWidth",a&&"focused",s&&"formControl","small"===d&&"sizeSmall",l&&"multiline",h&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",l&&"inputMultiline","small"===d&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]},rQ,t)}(pe),me=$.root||d.Root||uQ,ge=H.root||p.root||{},ye=$.input||d.Input||cQ;return he=f({},he,null!=(n=H.input)?n:p.input),(0,Ca.jsxs)(s.Fragment,{children:[!g&&lQ,(0,Ca.jsxs)(me,f({},ge,!KO(me)&&{ownerState:f({},pe,ge.ownerState)},{ref:t,onClick:function(e){ee.current&&e.currentTarget===e.target&&ee.current.focus(),N&&!ue.disabled&&N(e)}},J,{className:vO(ve.root,ge.className,c,F&&"MuiInputBase-readOnly"),children:[q,(0,Ca.jsx)(WK.Provider,{value:null,children:(0,Ca.jsx)(ye,f({ownerState:pe,"aria-invalid":ue.error,"aria-describedby":o,autoComplete:a,autoFocus:u,defaultValue:v,disabled:ue.disabled,id:k,onAnimationStart:function(e){fe("mui-auto-fill-cancel"===e.animationName?ee.current:{value:"x"})},name:A,placeholder:M,readOnly:F,required:ue.required,rows:U,value:Y,onKeyDown:L,onKeyUp:D,type:K},he,!KO(ye)&&{as:de,ownerState:f({},pe,he.ownerState)},{ref:ne,className:vO(ve.input,he.className,F&&"MuiInputBase-readOnly"),onBlur:function(e){P&&P(e),E.onBlur&&E.onBlur(e),se&&se.onBlur?se.onBlur(e):ae(!1)},onChange:function(e){if(!X){var t=e.target||ee.current;if(null==t)throw new Error(wO(1));fe({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];E.onChange&&E.onChange.apply(E,[e].concat(r)),R&&R.apply(void 0,[e].concat(r))},onFocus:function(e){ue.disabled?e.stopPropagation():(j&&j(e),E.onFocus&&E.onFocus(e),se&&se.onFocus?se.onFocus(e):ae(!0))}}))}),y,B?B(f({},ue,{startAdornment:q})):null]}))]})})),dQ=fQ;function hQ(e){return $O("MuiInput",e)}var pQ=f({},iQ,qO("MuiInput",["root","underline","input"])),vQ=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],mQ=FP(uQ,{shouldForwardProp:function(e){return LP(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,be.Z)(aQ(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),f({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,we.Z)(t,"&.".concat(pQ.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,we.Z)(t,"&.".concat(pQ.error),{"&:before, &:after":{borderBottomColor:(n.vars||n).palette.error.main}}),(0,we.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,we.Z)(t,"&:hover:not(.".concat(pQ.disabled,", .").concat(pQ.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,we.Z)(t,"&.".concat(pQ.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),gQ=FP(cQ,{name:"MuiInput",slot:"Input",overridesResolver:sQ})({}),yQ=s.forwardRef((function(e,t){var n,r,i,o,a=WP({props:e,name:"MuiInput"}),s=a.disableUnderline,u=a.components,c=void 0===u?{}:u,l=a.componentsProps,d=a.fullWidth,h=void 0!==d&&d,p=a.inputComponent,v=void 0===p?"input":p,m=a.multiline,g=void 0!==m&&m,y=a.slotProps,b=a.slots,w=void 0===b?{}:b,k=a.type,x=void 0===k?"text":k,S=z(a,vQ),_=function(e){var t=e.classes;return f({},t,mO({root:["root",!e.disableUnderline&&"underline"],input:["input"]},hQ,t))}(a),E={root:{ownerState:{disableUnderline:s}}},C=(null!=y?y:l)?UT(null!=y?y:l,E):E,I=null!=(n=null!=(r=w.root)?r:c.Root)?n:mQ,O=null!=(i=null!=(o=w.input)?o:c.Input)?i:gQ;return(0,Ca.jsx)(dQ,f({slots:{root:I,input:O},slotProps:C,fullWidth:h,inputComponent:v,multiline:g,ref:t,type:x},S,{classes:_}))}));yQ.muiName="Input";var bQ=yQ;function wQ(e){return $O("MuiFilledInput",e)}var kQ=f({},iQ,qO("MuiFilledInput",["root","underline","input"])),xQ=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],SQ=FP(uQ,{shouldForwardProp:function(e){return LP(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,be.Z)(aQ(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,o=e.ownerState,a="light"===i.palette.mode,s=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",c=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return f((t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:c,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u}}},(0,we.Z)(t,"&.".concat(kQ.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:u}),(0,we.Z)(t,"&.".concat(kQ.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:l}),t),!o.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[o.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},(0,we.Z)(n,"&.".concat(kQ.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,we.Z)(n,"&.".concat(kQ.error),{"&:before, &:after":{borderBottomColor:(i.vars||i).palette.error.main}}),(0,we.Z)(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),(0,we.Z)(n,"&:hover:not(.".concat(kQ.disabled,", .").concat(kQ.error,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),(0,we.Z)(n,"&.".concat(kQ.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&f({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),_Q=FP(cQ,{name:"MuiFilledInput",slot:"Input",overridesResolver:sQ})((function(e){var t=e.theme,n=e.ownerState;return f({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&(0,we.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),EQ=s.forwardRef((function(e,t){var n,r,i,o,a=WP({props:e,name:"MuiFilledInput"}),s=a.components,u=void 0===s?{}:s,c=a.componentsProps,l=a.fullWidth,d=void 0!==l&&l,h=a.inputComponent,p=void 0===h?"input":h,v=a.multiline,m=void 0!==v&&v,g=a.slotProps,y=a.slots,b=void 0===y?{}:y,w=a.type,k=void 0===w?"text":w,x=z(a,xQ),S=f({},a,{fullWidth:d,inputComponent:p,multiline:m,type:k}),_=function(e){var t=e.classes;return f({},t,mO({root:["root",!e.disableUnderline&&"underline"],input:["input"]},wQ,t))}(a),E={root:{ownerState:S},input:{ownerState:S}},C=(null!=g?g:c)?UT(null!=g?g:c,E):E,I=null!=(n=null!=(r=b.root)?r:u.Root)?n:SQ,O=null!=(i=null!=(o=b.input)?o:u.Input)?i:_Q;return(0,Ca.jsx)(dQ,f({slots:{root:I,input:O},componentsProps:C,fullWidth:d,inputComponent:p,multiline:m,ref:t,type:k},x,{classes:_}))}));EQ.muiName="Input";var CQ,IQ=EQ,OQ=["children","classes","className","label","notched"],ZQ=FP("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),TQ=FP("legend")((function(e){var t=e.ownerState,n=e.theme;return f({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&f({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function AQ(e){return $O("MuiOutlinedInput",e)}var PQ=f({},iQ,qO("MuiOutlinedInput",["root","notchedOutline","input"])),RQ=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],NQ=FP(uQ,{shouldForwardProp:function(e){return LP(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:aQ})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return f((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,we.Z)(t,"&:hover .".concat(PQ.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,we.Z)(t,"@media (hover: none)",(0,we.Z)({},"&:hover .".concat(PQ.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),(0,we.Z)(t,"&.".concat(PQ.focused," .").concat(PQ.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),(0,we.Z)(t,"&.".concat(PQ.error," .").concat(PQ.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,we.Z)(t,"&.".concat(PQ.disabled," .").concat(PQ.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&f({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),jQ=FP((function(e){var t=e.className,n=e.label,r=e.notched,i=z(e,OQ),o=null!=n&&""!==n,a=f({},e,{notched:r,withLabel:o});return(0,Ca.jsx)(ZQ,f({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,Ca.jsx)(TQ,{ownerState:a,children:o?(0,Ca.jsx)("span",{children:n}):CQ||(CQ=(0,Ca.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),LQ=FP(cQ,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:sQ})((function(e){var t=e.theme,n=e.ownerState;return f({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&(0,we.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),DQ=s.forwardRef((function(e,t){var n,r,i,o,a,u=WP({props:e,name:"MuiOutlinedInput"}),c=u.components,l=void 0===c?{}:c,d=u.fullWidth,h=void 0!==d&&d,p=u.inputComponent,v=void 0===p?"input":p,m=u.label,g=u.multiline,y=void 0!==g&&g,b=u.notched,w=u.slots,k=void 0===w?{}:w,x=u.type,S=void 0===x?"text":x,_=z(u,RQ),E=function(e){var t=e.classes;return f({},t,mO({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},AQ,t))}(u),C=$K(),I=HK({props:u,muiFormControl:C,states:["required"]}),O=f({},u,{color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:C,fullWidth:h,hiddenLabel:I.hiddenLabel,multiline:y,size:I.size,type:S}),Z=null!=(n=null!=(r=k.root)?r:l.Root)?n:NQ,T=null!=(i=null!=(o=k.input)?o:l.Input)?i:LQ;return(0,Ca.jsx)(dQ,f({slots:{root:Z,input:T},renderSuffix:function(e){return(0,Ca.jsx)(jQ,{ownerState:O,className:E.notchedOutline,label:null!=m&&""!==m&&I.required?a||(a=(0,Ca.jsxs)(s.Fragment,{children:[m,"\u2009","*"]})):m,notched:"undefined"!==typeof b?b:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:h,inputComponent:v,multiline:y,ref:t,type:S},_,{classes:f({},E,{notchedOutline:null})}))}));DQ.muiName="Input";var MQ=DQ,FQ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],BQ={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return LP(e)&&"variant"!==e},slot:"Root"},UQ=FP(bQ,BQ)(""),zQ=FP(MQ,BQ)(""),VQ=FP(IQ,BQ)(""),HQ=s.forwardRef((function(e,t){var n=WP({name:"MuiSelect",props:e}),r=n.autoWidth,i=void 0!==r&&r,o=n.children,a=n.classes,u=void 0===a?{}:a,c=n.className,l=n.defaultOpen,d=void 0!==l&&l,h=n.displayEmpty,p=void 0!==h&&h,v=n.IconComponent,m=void 0===v?qK:v,g=n.id,y=n.input,b=n.inputProps,w=n.label,k=n.labelId,x=n.MenuProps,S=n.multiple,_=void 0!==S&&S,E=n.native,C=void 0!==E&&E,I=n.onClose,O=n.onOpen,Z=n.open,T=n.renderValue,A=n.SelectDisplayProps,P=n.variant,R=void 0===P?"outlined":P,N=z(n,FQ),j=C?ZK:VK,L=HK({props:n,muiFormControl:$K(),states:["variant","error"]}),D=L.variant||R,M=f({},n,{variant:D,classes:u}),F=function(e){return e.classes}(M),B=y||{standard:(0,Ca.jsx)(UQ,{ownerState:M}),outlined:(0,Ca.jsx)(zQ,{label:w,ownerState:M}),filled:(0,Ca.jsx)(VQ,{ownerState:M})}[D],U=oR(t,B.ref);return(0,Ca.jsx)(s.Fragment,{children:s.cloneElement(B,f({inputComponent:j,inputProps:f({children:o,error:L.error,IconComponent:m,variant:D,type:void 0,multiple:_},C?{id:g}:{autoWidth:i,defaultOpen:d,displayEmpty:p,labelId:k,MenuProps:x,onClose:I,onOpen:O,open:Z,renderValue:T,SelectDisplayProps:f({id:g},A)},b,{classes:b?UT(F,b.classes):F},y?y.props.inputProps:{})},_&&C&&"outlined"===D?{notched:!0}:{},{ref:U,className:vO(B.props.className,c)},!y&&{variant:D},N))})}));HQ.muiName="Select";var WQ=HQ;var $Q=qO("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var qQ=qO("MuiListItemIcon",["root","alignItemsFlexStart"]);var GQ=qO("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function KQ(e){return $O("MuiMenuItem",e)}var QQ=qO("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),JQ=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],YQ=FP(nF,{shouldForwardProp:function(e){return LP(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,r=e.ownerState;return f({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,we.Z)(t,"&.".concat(QQ.selected),(0,we.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):nP(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(QQ.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):nP(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,we.Z)(t,"&.".concat(QQ.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):nP(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):nP(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,we.Z)(t,"&.".concat(QQ.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,we.Z)(t,"&.".concat(QQ.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,we.Z)(t,"& + .".concat($Q.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,we.Z)(t,"& + .".concat($Q.inset),{marginLeft:52}),(0,we.Z)(t,"& .".concat(GQ.root),{marginTop:0,marginBottom:0}),(0,we.Z)(t,"& .".concat(GQ.inset),{paddingLeft:36}),(0,we.Z)(t,"& .".concat(qQ.root),{minWidth:36}),t),!r.dense&&(0,we.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),r.dense&&f({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,we.Z)({},"& .".concat(qQ.root," svg"),{fontSize:"1.25rem"})))})),XQ=s.forwardRef((function(e,t){var n=WP({props:e,name:"MuiMenuItem"}),r=n.autoFocus,i=void 0!==r&&r,o=n.component,a=void 0===o?"li":o,u=n.dense,c=void 0!==u&&u,l=n.divider,d=void 0!==l&&l,h=n.disableGutters,p=void 0!==h&&h,v=n.focusVisibleClassName,m=n.role,g=void 0===m?"menuitem":m,y=n.tabIndex,b=n.className,w=z(n,JQ),k=s.useContext(RG),x=s.useMemo((function(){return{dense:c||k.dense||!1,disableGutters:p}}),[k.dense,c,p]),S=s.useRef(null);eM((function(){i&&S.current&&S.current.focus()}),[i]);var _,E=f({},n,{dense:x.dense,divider:d,disableGutters:p}),C=function(e){var t=e.disabled,n=e.dense,r=e.divider,i=e.disableGutters,o=e.selected,a=e.classes;return f({},a,mO({root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},KQ,a))}(n),I=oR(S,t);return n.disabled||(_=void 0!==y?y:-1),(0,Ca.jsx)(RG.Provider,{value:x,children:(0,Ca.jsx)(YQ,f({ref:I,role:g,tabIndex:_,component:a,focusVisibleClassName:vO(C.focusVisible,v),className:vO(C.root,b)},w,{ownerState:E,classes:C}))})})),eJ=XQ,tJ="placeholderText",nJ=function(e){var t=e.optionList,n=e.currentValue,r=void 0===n?tJ:n,i=e.onValueChange,o=e.width,a=e.placeholder;return(0,Ca.jsxs)(WQ,{className:"dropdown-outer",sx:{color:r===tJ?"gray":"black",width:o,borderRadius:"0.8vw",fontFamily:"BalooRegular",".MuiOutlinedInput-notchedOutline":{borderColor:"gray"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"gray"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"gray"}},variant:"outlined",onChange:function(e){i(e.target.value)},value:r,MenuProps:{sx:{marginTop:"0.8vh"},PaperProps:{className:"dropdown-inner",sx:{maxHeight:"36vh",OverflowY:"scroll",borderRadius:"0.8vw",width:o,backgroundColor:"#e2dede"}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},children:[(0,Ca.jsx)(eJ,{hidden:!0,value:tJ,children:a}),t.map((function(e,t){return(0,Ca.jsx)(eJ,{className:"dropdown-item",sx:{fontFamily:"BalooRegular"},value:e.id,children:e.displayName},t)}))]})},rJ=function(){var e=(0,s.useState)(!1),n=(0,i.Z)(e,2),o=(n[0],n[1]),a=(0,s.useState)(void 0),u=(0,i.Z)(a,2),c=(u[0],u[1]),l=(0,s.useState)(),f=(0,i.Z)(l,2),d=f[0],h=f[1],p=(0,s.useState)(),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,s.useState)([]),b=(0,i.Z)(y,2),w=b[0],k=b[1],x=(0,s.useState)(),S=(0,i.Z)(x,2),_=S[0],E=S[1],C=(0,s.useState)([]),I=(0,i.Z)(C,2),O=I[0],Z=I[1],T=(0,s.useState)(new Map),A=(0,i.Z)(T,2),P=A[0],R=A[1],N=(0,s.useState)(),j=(0,i.Z)(N,2),L=j[0],D=j[1],M=(0,s.useState)(!1),F=(0,i.Z)(M,2),B=F[0],U=F[1],z=(0,s.useState)(),V=(0,i.Z)(z,2),H=V[0],W=V[1],$=[],q=localStorage.getItem(Wo),G=me(),K=[{header:"profile",displayName:"Profile"},{header:"setting",displayName:"Setting"},{header:"help",displayName:"Help"},{header:"faq",displayName:"FAQ"}];function Q(){return Q=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getStudentProfile"),e.next=3,nO.getI().apiHandler.getParentStudentProfiles();case 3:for(n=e.sent,r=[],i=0;i<3;i++)r.push(n[i]);k(r);case 7:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function J(){return J=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,a,s,u,c,l,f,d,p,v,m;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(void 0==(n=e.sent)){e.next=27;break}return e.next=6,VI.getCurrMode();case 6:return s=e.sent,W(s),console.log("User ",null===n||void 0===n?void 0:n.musicOff),u=HI.getCurrentSound(),c=HI.getCurrentMusic(),h(u),g(c),e.next=15,nO.getI().apiHandler.getAllLanguages();case 15:for(l=e.sent,f=new Map,d=new Map,p=0;p<l.length;p++)v=l[p],$.push({id:v.docId,displayName:v.title}),f.set(v.title,v.docId),d.set(v.docId,v.title);if(R(f),Z($),console.log("current Lang",P,P.get(null===n||void 0===n||null===(r=n.language)||void 0===r?void 0:r.id),d.get(null===n||void 0===n||null===(i=n.language)||void 0===i?void 0:i.id),P.get(null===n||void 0===n||null===(a=n.language)||void 0===a?void 0:a.id)||q||O[0]),m=l.find((function(e){return e.code===q}))){e.next=25;break}return e.abrupt("return");case 25:D(m.docId),o(!1);case 27:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}(0,s.useEffect)((function(){o(!0),c(Io.PROFILE),function(){J.apply(this,arguments)}(),function(){Q.apply(this,arguments)}()}),[B]);return(0,s.useEffect)((function(){!_&&K.length>0&&E(zE(K[0].header))}),[]),(0,Ca.jsx)(qD,{children:(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(PG,{tabNames:K.map((function(e){return zE(e.header)})),value:_,onChange:function(e){var t=K.find((function(t){return t.header===e}));t&&c(t.header),E(e)},handleBackButton:function(){HI.setPathToBackButton(Do.DISPLAY_STUDENT,G)}}),_===zE("profile")&&(0,Ca.jsx)("div",{children:(0,Ca.jsx)("div",{id:"parent-page-profile",children:w.map((function(e){console.log("userProfile",w);var t=!0;return void 0===e&&(console.log("element",e),t=!1),(0,Ca.jsx)(aG,{width:"27vw",height:"50vh",userType:t,user:e,showText:!0,setReloadProfiles:U,profiles:w,studentCurrMode:H})}))})}),_===zE("setting")&&(0,Ca.jsx)("div",{children:(0,Ca.jsxs)("div",{children:[(0,Ca.jsxs)("div",{id:"parent-page-setting",children:[(0,Ca.jsxs)("div",{id:"parent-page-setting-div",children:[(0,Ca.jsx)("p",{id:"parent-page-setting-lang-text",children:zE("Language")}),(0,Ca.jsx)(nJ,{currentValue:L,optionList:O,placeholder:"Select Language",width:"26vw",onValueChange:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nO.getI().apiHandler,e.next=3,nO.getI().apiHandler.getAllLanguages();case 3:if(r=e.sent,i=r.find((function(e){return e.docId===n}))){e.next=7;break}return e.abrupt("return");case 7:return localStorage.setItem(Wo,i.code),console.log("langDoc",i),e.next=11,JC.changeLanguage(i.code);case 11:return console.log("applang",n),e.next=14,nO.getI().authHandler.getCurrentUser();case 14:o=e.sent,E(zE(K[1].header)),P.get(i.code),o&&n&&nO.getI().apiHandler.updateLanguage(o,n),console.log("selectedLangDocId",n),D(n);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}),(0,Ca.jsxs)("div",{id:"parent-page-setting-div",children:[(0,Ca.jsx)(sG,{flag:d,title:zE("Sound"),onIonChangeClick:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ion change value ",null!==(r=n.detail)&&void 0!==r&&r.checked?0:1),h(null!==(i=n.detail)&&void 0!==i&&i.checked?0:1),e.next=4,nO.getI().authHandler.getCurrentUser();case 4:a=e.sent,HI.setCurrentSound(null!==(o=n.detail)&&void 0!==o&&o.checked?0:1),a&&nO.getI().apiHandler.updateSoundFlag(a,null!==(s=n.detail)&&void 0!==s&&s.checked?0:1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,Ca.jsx)(sG,{flag:m,title:zE("Music"),onIonChangeClick:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ion change value ",null!==(r=n.detail)&&void 0!==r&&r.checked?0:1),g(null!==(i=n.detail)&&void 0!==i&&i.checked?0:1),e.next=4,nO.getI().authHandler.getCurrentUser();case 4:a=e.sent,HI.setCurrentMusic(null!==(o=n.detail)&&void 0!==o&&o.checked?0:1),a&&nO.getI().apiHandler.updateMusicFlag(a,null!==(s=n.detail)&&void 0!==s&&s.checked?0:1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})]}),(0,Ca.jsx)("div",{id:"logout-delete-button",children:(0,Ca.jsx)("div",{id:"parent-logout",children:(0,Ca.jsx)(AG,{})})})]})}),_===zE("help")&&(0,Ca.jsx)("div",{children:(0,Ca.jsxs)("div",{id:"parent-page-help",children:[(0,Ca.jsx)("h1",{id:"parent-page-help-title",children:zE("Chimple Help Desk")}),(0,Ca.jsx)("div",{id:"parent-page-help-title-container",children:(0,Ca.jsxs)("div",{id:"parent-page-help-title-link",children:[(0,Ca.jsxs)("div",{id:"parent-page-help-title-e1",children:[(0,Ca.jsxs)("div",{id:"parent-page-help-share-button",children:[(0,Ca.jsx)(wG,{url:"help@sutara.org",subject:"Chimple Kids app- Help Desk",body:"",className:"Demo__some-network__share-button",children:zE("Email Us")}),(0,Ca.jsx)(_G,{size:"2vw",round:!0})]}),(0,Ca.jsxs)("div",{id:"parent-page-help-share-button",onClick:function(){console.log("Value clicked"),window.open("https://www.chimple.org/","_system")},children:[zE("Visit Website"),(0,Ca.jsx)(uN,{size:"2vw"})]}),(0,Ca.jsxs)("div",{id:"parent-page-help-share-button",onClick:function(){window.open("https://api.whatsapp.com/send?phone=918904515444&text=".concat("Hiii !!!!"),"_system")},children:[zE("WhatsApp Us"),(0,Ca.jsx)(EG,{size:"2vw",round:!0})]})]}),(0,Ca.jsxs)("div",{id:"parent-page-help-title-e2",children:[(0,Ca.jsx)("div",{id:"help",children:zE("Help Video")}),(0,Ca.jsx)("div",{id:"parent-page-help-title-e2-video",children:(0,Ca.jsx)("iframe",{id:"parent-page-help-title-e2-video-youtude",className:"embed-responsive-item",allowFullScreen:!0,src:"https://www.youtube.com/embed/Ez9oouE2pOE",title:"YouTube video player",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})})]}),(0,Ca.jsxs)("div",{id:"parent-page-help-title-e3",children:[(0,Ca.jsxs)("div",{id:"parent-page-help-share-button-e3",onClick:function(){console.log("Value clicked"),window.open("https://api.instagram.com/chimple_learning/","_system")},children:[zE("Instagram"),(0,Ca.jsx)(OG,{size:"2vw"})]}),(0,Ca.jsxs)("div",{id:"parent-page-help-share-button-e3",onClick:function(){window.open("https://www.facebook.com/chimple","_system")},children:[zE("Facebook"),(0,Ca.jsx)(CG,{size:"2vw",round:!0})]}),(0,Ca.jsxs)("div",{id:"parent-page-help-share-button-e3",onClick:function(){window.open("https://twitter.com/chimple_org","_system")},children:[zE("Twitter"),(0,Ca.jsx)(IG,{size:"2vw",round:!0})]})]})]})})]})}),_===zE("faq")&&(0,Ca.jsx)("div",{children:(0,Ca.jsxs)("div",{id:"faq-page",onClick:function(){window.open("https://www.chimple.org/in-school-guide-for-teachers","_system")},children:[(0,Ca.jsx)("p",{children:zE("Please Visit Our Website")}),(0,Ca.jsx)(uN,{size:"3vw"})]})})]})})},iJ=function(e){var t=e.header,n=e.msg;return(0,Ca.jsxs)("div",{id:"logo-header",children:[(0,Ca.jsx)("img",{id:"chimple-logo",alt:"assets/icons/ChimpleBrandLogo.svg",src:"assets/icons/ChimpleBrandLogo.svg"}),(0,Ca.jsx)("div",{id:"logo-heading",children:t}),"string"===typeof n?(0,Ca.jsx)("div",{id:"logo-msg",children:n}):n.map((function(e){return(0,Ca.jsx)("div",{id:"logo-msg",children:e},e)}))]})},oJ=function(e){var t=e.onChange,n=e.value,r=e.onEnterDown,o=(0,s.useState)(!1),a=(0,i.Z)(o,2),u=a[0],c=a[1],l=(0,s.useRef)(null);return(0,s.useEffect)((function(){wo.dV.isNativePlatform()&&(oI.addListener("keyboardWillShow",(function(e){console.log("info",JSON.stringify(e)),c(!0),setTimeout((function(){var e;null===(e=l.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),50)})),oI.addListener("keyboardWillHide",(function(){c(!1)})))}),[]),(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("input",{className:"text-box ",type:"text",value:n,onChange:t,onKeyDown:function(e){"Enter"===e.key&&r()}}),u?(0,Ca.jsx)("div",{ref:l,id:"scroll"}):null]})},aJ=function(e){var t=e.studentName,n=e.onValueChange,r=e.onEnterDown;return(0,Ca.jsx)("div",{className:"main-header",children:(0,Ca.jsxs)("div",{className:"name-header",children:[(0,Ca.jsx)("div",{className:"title",children:zE("What is your child\u2019s name?")}),(0,Ca.jsx)(oJ,{onChange:function(e){return n(e.target.value)},value:t,onEnterDown:r})]})})};function sJ(e){return uO({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M9 14C9.55228 14 10 13.5523 10 13C10 12.4477 9.55228 12 9 12C8.44771 12 8 12.4477 8 13C8 13.5523 8.44771 14 9 14Z",fill:"currentColor"}},{tag:"path",attr:{d:"M16 13C16 13.5523 15.5523 14 15 14C14.4477 14 14 13.5523 14 13C14 12.4477 14.4477 12 15 12C15.5523 12 16 12.4477 16 13Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 11.1637 19.8717 10.3574 19.6337 9.59973C18.7991 9.82556 17.9212 9.94604 17.0152 9.94604C13.2921 9.94604 10.0442 7.91139 8.32277 4.89334C5.75469 6.22486 4 8.90751 4 12C4 16.4183 7.58172 20 12 20Z",fill:"currentColor"}}]})(e)}function uJ(e){return uO({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M10 12C10 12.5523 9.55228 13 9 13C8.44772 13 8 12.5523 8 12C8 11.4477 8.44772 11 9 11C9.55228 11 10 11.4477 10 12Z",fill:"currentColor"}},{tag:"path",attr:{d:"M15 13C15.5523 13 16 12.5523 16 12C16 11.4477 15.5523 11 15 11C14.4477 11 14 11.4477 14 12C14 12.5523 14.4477 13 15 13Z",fill:"currentColor"}},{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0244 2.00003L12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.74235 17.9425 2.43237 12.788 2.03059L12.7886 2.0282C12.5329 2.00891 12.278 1.99961 12.0244 2.00003ZM12 20C16.4183 20 20 16.4183 20 12C20 11.3014 19.9105 10.6237 19.7422 9.97775C16.1597 10.2313 12.7359 8.52461 10.7605 5.60246C9.31322 7.07886 7.2982 7.99666 5.06879 8.00253C4.38902 9.17866 4 10.5439 4 12C4 16.4183 7.58172 20 12 20ZM11.9785 4.00003L12.0236 4.00003L12 4L11.9785 4.00003Z",fill:"currentColor"}}]})(e)}function cJ(e){return uO({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"}}]})(e)}var lJ=function(e){var t=e.gender,n=e.age,r=e.onGenderChange,i=e.onAgeChange;return(0,Ca.jsx)("div",{children:(0,Ca.jsxs)("div",{className:"main-header",children:[(0,Ca.jsx)("div",{className:"gender-title",children:zE("What is your child\u2019s gender?")}),(0,Ca.jsxs)("div",{className:"gender-container",children:[(0,Ca.jsxs)("div",{className:"gender-button",onClick:function(){r(ia.BOY)},children:[(0,Ca.jsxs)(pi,{children:[(0,Ca.jsx)(sJ,{size:"8vh",color:"#ffad1a"}),(0,Ca.jsxs)("p",{className:"gender-text",children:[" ",zE("Boy")]})]}),(0,Ca.jsx)(cJ,{color:t===ia.BOY?"#81C127":"grey",className:"gender-check-box",size:"4vh"})]}),(0,Ca.jsxs)("div",{className:"gender-button",onClick:function(){r(ia.GIRL)},children:[(0,Ca.jsxs)(pi,{children:[(0,Ca.jsx)(uJ,{size:"8vh",color:"#e28daf"}),(0,Ca.jsxs)("p",{className:"gender-text",children:[" ",zE("Girl")]})]}),(0,Ca.jsx)(cJ,{color:t===ia.GIRL?"#81C127":"grey",className:"gender-check-box",size:"4vh"})]})]}),(0,Ca.jsx)("div",{className:"gender-title",children:zE("What is your child\u2019s age?")}),(0,Ca.jsx)("div",{className:"age-container",children:Array(7).fill(null).map((function(e,t,r){var o=t+4;return(0,Ca.jsx)("div",{className:"age-button "+(n===o?"active-age":""),onClick:function(){i(o)},children:(0===t?"<":"")+o+(t===r.length-1?">":"")},t)}))})]})})},fJ=function(e){var t=e.avatar,n=e.onAvatarChange;return(0,Ca.jsx)("div",{children:(0,Ca.jsx)("div",{className:"avatar-header",children:(0,Ca.jsx)("div",{className:"avatar-container1",children:oa.map((function(e){return(0,Ca.jsxs)("div",{onClick:function(){return n(e)},className:"avatar-button",children:[(0,Ca.jsx)("img",{className:"avatar-img",src:"assets/avatars/"+e+".png",alt:""}),t===e&&(0,Ca.jsx)(cJ,{className:"avatar-check"})]},e)}))})})})},dJ=function(e){var t=e.boards,n=e.grades,r=e.languages,i=e.onBoardChange,o=e.onGradeChange,a=e.onLangChange,s=e.currentlySelectedBoard,u=e.currentlySelectedGrade,c=e.currentlySelectedLang,l=null===t||void 0===t?void 0:t.map((function(e){return{displayName:e.title,id:e.docId}})),f=(null===t||void 0===t||t.map((function(e){return e.title})),null===n||void 0===n?void 0:n.map((function(e){return{displayName:e.title,id:e.docId}}))),d=null===r||void 0===r?void 0:r.map((function(e){return{displayName:e.title,id:e.docId}}));return(0,Ca.jsxs)("div",{className:"dropdown-header",children:[(0,Ca.jsxs)("div",{id:"drop-down-board",children:[(0,Ca.jsx)("p",{id:"drop-down-head",children:zE("Board")}),(0,Ca.jsx)(nJ,{currentValue:s,placeholder:zE("Select").toString(),onValueChange:i,optionList:null!==l&&void 0!==l?l:[],width:"26vw"})]}),(0,Ca.jsxs)("div",{id:"drop-down-grade",children:[(0,Ca.jsx)("p",{id:"drop-down-head",children:zE("Grade")}),(0,Ca.jsx)(nJ,{currentValue:u,placeholder:zE("Select").toString(),onValueChange:o,optionList:null!==f&&void 0!==f?f:[],width:"26vw"})]}),(0,Ca.jsxs)("div",{id:"drop-down-Medium-of-instruction",children:[(0,Ca.jsx)("p",{id:"drop-down-head",children:zE("Medium of instruction")}),(0,Ca.jsx)(nJ,{currentValue:c,placeholder:zE("Select").toString(),onValueChange:a,optionList:null!==d&&void 0!==d?d:[],width:"26vw"})]})]})},hJ="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",pJ=function(e){var t=e.onClicked,n=e.disabled,r=e.children;return(0,Ca.jsxs)("button",{id:"common-next-button",disabled:n,onClick:t,children:[r,zE("Next"),(0,Ca.jsx)($i,{className:"arrow-icon",slot:"end",icon:hJ})]})},vJ={},mJ=function(){var e,n,o,a=me(),u=ge(),c=a.location.state,l=nO.getI().apiHandler,f=HI.getCurrentStudent(),d=u.pathname===Do.EDIT_STUDENT&&!!f,h=function(e){return e[e.NAME=0]="NAME",e[e.GENDER_AND_AGE=1]="GENDER_AND_AGE",e[e.AVATAR=2]="AVATAR",e[e.GRADE=3]="GRADE",e}({}),p=(0,s.useState)(h.NAME),v=(0,i.Z)(p,2),m=v[0],g=v[1],y=(0,s.useState)(d?null===f||void 0===f?void 0:f.name:""),b=(0,i.Z)(y,2),w=b[0],k=b[1],x=(0,s.useState)(d&&null!==f&&void 0!==f&&f.gender?null===f||void 0===f?void 0:f.gender:void 0),S=(0,i.Z)(x,2),_=S[0],E=S[1],C=(0,s.useState)(d&&null!==f&&void 0!==f&&f.age?f.age<4?4:f.age:void 0),I=(0,i.Z)(C,2),O=I[0],Z=I[1],T=(0,s.useState)(d?null===f||void 0===f?void 0:f.avatar:void 0),A=(0,i.Z)(T,2),P=A[0],R=A[1],N=(0,s.useState)(d?null===f||void 0===f||null===(e=f.board)||void 0===e?void 0:e.id:void 0),j=(0,i.Z)(N,2),L=j[0],D=j[1],M=(0,s.useState)(d?null===f||void 0===f||null===(n=f.grade)||void 0===n?void 0:n.id:void 0),F=(0,i.Z)(M,2),B=F[0],U=F[1],z=(0,s.useState)(d?null===f||void 0===f||null===(o=f.language)||void 0===o?void 0:o.id:void 0),V=(0,i.Z)(z,2),H=V[0],W=V[1],$=(0,s.useState)(),q=(0,i.Z)($,2),G=q[0],K=q[1],Q=(0,s.useState)(),J=(0,i.Z)(Q,2),Y=J[0],X=J[1],ee=(0,s.useState)(),te=(0,i.Z)(ee,2),ne=te[0],re=te[1],ie=(0,s.useState)(!1),oe=(0,i.Z)(ie,2),ae=oe[0],se=oe[1],ue=(0,s.useState)(!1),ce=(0,i.Z)(ue,2),le=ce[0],fe=ce[1],de=cN(),he=de.online,pe=de.presentToast,ve=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,s,u,c,f,p,v,y,b,k,x,S;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se(!0),r=Object.keys(h).length/2,i=m+1,o=null===w||void 0===w?void 0:w.trim(),s=a.location.state,u=null!==(n=null===s||void 0===s?void 0:s.from)&&void 0!==n?n:Do.HOME,r!==i){e.next=31;break}return localStorage.removeItem(Qo),e.next=10,HI.getCurrentStudent();case 10:if(f=e.sent,!(d&&f&&f.docId)){e.next=18;break}return e.next=14,l.updateStudent(f,o,null!==O&&void 0!==O?O:f.age,null!==_&&void 0!==_?_:f.gender,null!==P&&void 0!==P?P:f.avatar,void 0,null!==L&&void 0!==L?L:null===(p=f.board)||void 0===p?void 0:p.id,null!==B&&void 0!==B?B:null===(v=f.grade)||void 0===v?void 0:v.id,null!==H&&void 0!==H?H:null===(y=f.language)||void 0===y?void 0:y.id);case 14:c=e.sent,HI.logEvent(fa.USER_PROFILE,{user_id:f.docId,user_type:f.role,user_name:w,user_gender:f.gender,user_age:f.age,phone_number:f.username,parent_username:f.username,parent_id:f.uid,action_type:ua.UPDATE}),e.next=27;break;case 18:return e.next=20,l.createProfile(o,O,_,P,void 0,L,B,H);case 20:return c=e.sent,k={user_id:c.docId,user_type:c.role,user_name:c.name,user_gender:c.gender,user_age:c.age,phone_number:c.username,parent_username:c.username,parent_id:c.uid,action_type:ua.CREATE},console.log("Util.logEvent(EVENTS.USER_PROFILE, eventParams);",fa.USER_PROFILE,k),HI.logEvent(fa.USER_PROFILE,k),x=null===ne||void 0===ne?void 0:ne.findIndex((function(e){return e.docId===H})),e.next=27,HI.setCurrentStudent(c,x&&ne?null===(b=ne[x])||void 0===b?void 0:b.code:void 0,u===Do.HOME);case 27:console.log("\ud83d\ude80 ~ file: EditStudent.tsx:56 ~ onNextButton ~ student:",c),a.replace(u),e.next=46;break;case 31:if(i!==h.GRADE){e.next=43;break}return e.next=34,Promise.all([l.getAllCurriculums(),l.getAllGrades(),l.getAllLanguages()]);case 34:(S=e.sent)&&S[0].length>0&&S[1].length>0&&S[2].length>0&&fe(!0),K(S[0]),vJ.boards=S[0],X(S[1]),vJ.grades=S[1],re(S[2]),vJ.languages=S[2],console.log("\ud83d\ude80 ~ file: EditStudent.tsx:51 ~ isNextButtonEnabled ~ docs:",S);case 43:vJ.stage=i,g(i),Se();case 46:se(!1);case 47:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){switch(m){case h.NAME:return!!w.trim();case h.GENDER_AND_AGE:return(_===ia.BOY||_===ia.GIRL)&&(!!_&&!!O);case h.AVATAR:return!!P;case h.GRADE:return!!le&&(!!B&&!!L&&!!H);default:return!1}},be=(0,s.useState)(!1),we=(0,i.Z)(be,2),ke=(we[0],we[1]);function xe(){return(xe=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new URLSearchParams(u.search),console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:47 ~ init ~ urlParams:",n.get("isReload")),n.get("isReload")&&(r=localStorage.getItem(Qo))&&(vJ=JSON.parse(r)).stage&&(g(vJ.stage),k(vJ.studentName),vJ.age&&Z(vJ.age),vJ.gender&&E(vJ.gender),vJ.avatar&&R(vJ.avatar),vJ.boards&&K(vJ.boards),vJ.grades&&X(vJ.grades),vJ.languages&&re(vJ.languages),vJ.board&&D(vJ.board),vJ.grade&&U(vJ.grade),vJ.language&&W(vJ.language));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){localStorage.setItem(Qo,JSON.stringify(vJ))}function _e(){return(_e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem(Wo),console.log("This is the lang "+n),!n){e.next=5;break}return e.next=5,JC.changeLanguage(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t,n){n(t),vJ[e]=t,Se()}return(0,s.useEffect)((function(){wo.dV.isNativePlatform()&&(oI.addListener("keyboardWillShow",(function(e){ke(!0)})),oI.addListener("keyboardWillHide",(function(){ke(!1)}))),function(){_e.apply(this,arguments)}(),function(){xe.apply(this,arguments)}()}),[]),(0,Ca.jsxs)(ji,{id:"Edit-student-page",children:[(0,Ca.jsx)("div",{id:"Edit-student-back-button",children:d||null!==c&&void 0!==c&&c.showBackButton?(0,Ca.jsx)(qq,{onClicked:function(){localStorage.removeItem(Qo),a.replace(Do.DISPLAY_STUDENT)}}):null}),(0,Ca.jsx)("div",{id:"next-button",children:(0,Ca.jsx)(pJ,{disabled:!ye(),onClicked:function(){m!==h.GRADE||he?ve():pe({message:zE("Device is offline. Cannot complete a profile"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]})}})}),(0,Ca.jsxs)("div",{className:m===h.NAME?"scroll-header":"",children:[m==h.NAME&&(0,Ca.jsx)(iJ,{header:zE("Welcome to Chimple!"),msg:zE("").toString()}),m===h.NAME&&(0,Ca.jsx)(aJ,{studentName:w,onValueChange:function(e){return Ee("studentName",e,k)},onEnterDown:ye()?ve:function(){}})]}),m===h.AVATAR&&(0,Ca.jsx)(Ca.Fragment,{children:(0,Ca.jsxs)(Ca.Fragment,{children:[(0,Ca.jsx)("div",{id:"Edit-student-back-button",children:(0,Ca.jsx)(qq,{onClicked:function(){vJ.stage=h.GENDER_AND_AGE,Se(),g(h.GENDER_AND_AGE)}})}),(0,Ca.jsx)("div",{id:"common-div",children:(0,Ca.jsx)(iJ,{header:zE(""),msg:zE("").toString()})}),(0,Ca.jsx)("div",{className:"avatar-title",children:zE("Choose an avatar for your child")})]})}),(0,Ca.jsxs)("div",{className:"content",children:[m===h.GENDER_AND_AGE&&(0,Ca.jsxs)(Ca.Fragment,{children:[(0,Ca.jsx)("div",{id:"Edit-student-back-button",children:(0,Ca.jsx)(qq,{onClicked:function(){vJ.stage=h.NAME,Se(),g(h.NAME)}})}),(0,Ca.jsxs)(Ca.Fragment,{children:[(0,Ca.jsx)(Ca.Fragment,{children:(0,Ca.jsx)("div",{id:"common-div",children:(0,Ca.jsx)(iJ,{header:zE(""),msg:zE("").toString()})})}),(0,Ca.jsx)(lJ,{age:O,gender:_,onAgeChange:function(e){return Ee("age",e,Z)},onGenderChange:function(e){return Ee("gender",e,E)}})]})]}),m===h.AVATAR&&(0,Ca.jsx)(fJ,{avatar:P,onAvatarChange:function(e){return Ee("avatar",e,R)}}),m===h.GRADE&&(0,Ca.jsxs)(Ca.Fragment,{children:[(0,Ca.jsx)(Ca.Fragment,{children:(0,Ca.jsx)("div",{id:"Edit-student-back-button",children:(0,Ca.jsx)(qq,{onClicked:function(){vJ.stage=h.AVATAR,Se(),g(h.AVATAR)}})})}),(0,Ca.jsx)(Ca.Fragment,{children:(0,Ca.jsxs)(Ca.Fragment,{children:[(0,Ca.jsx)(Ca.Fragment,{children:(0,Ca.jsx)("div",{id:"common-div",children:(0,Ca.jsx)(iJ,{header:zE(""),msg:zE("Choose your child\u2019s class details").toString()})})}),(0,Ca.jsx)(dJ,{boards:G,grades:Y,languages:ne,onBoardChange:function(e){return Ee("board",e,D)},onGradeChange:function(e){return Ee("grade",e,U)},onLangChange:function(e){return Ee("language",e,W)},currentlySelectedBoard:L,currentlySelectedGrade:B,currentlySelectedLang:H})]})})]})]}),(0,Ca.jsx)(hq,{isLoading:ae})]})};function gJ(e){return uO({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#424242",d:"M24,4c-5.5,0-10,4.5-10,10v4h4v-4c0-3.3,2.7-6,6-6s6,2.7,6,6v4h4v-4C34,8.5,29.5,4,24,4z"}},{tag:"path",attr:{fill:"#FB8C00",d:"M36,44H12c-2.2,0-4-1.8-4-4V22c0-2.2,1.8-4,4-4h24c2.2,0,4,1.8,4,4v18C40,42.2,38.2,44,36,44z"}},{tag:"circle",attr:{fill:"#C76E00",cx:"24",cy:"31",r:"3"}}]})(e)}var yJ=function(e){var t=e.showDialogBox,n=e.handleClose,r=e.onHandleClose,o=function(e){return e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN",e}({}),a=me(),u=(0,s.useState)(),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=s.useState(""),h=(0,i.Z)(d,2),p=h[0],v=h[1];(0,s.useEffect)((function(){var e=Math.floor(Math.random()*Object.keys(o).length),t=o[Object.keys(o)[e]];f(t);var n=zE("Swipe x to Unlock").replace("x",zE(t));v(n)}),[]);var m=function(e){console.log("RandomDirection",l),console.log("User swipeDirection",e),e.length>0&&l===e?HI.setPathToBackButton(Do.PARENT,a):console.log("not matched")},g=(0,s.useState)({x:null,y:null}),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=(0,s.useState)({x:null,y:null}),x=(0,i.Z)(k,2),S=x[0],_=x[1],E=50,C=function(e){_({x:null,y:null}),w({x:e.clientX,y:e.clientY})};return(0,Ca.jsx)("div",{children:(0,Ca.jsx)(jR,{sx:{"& .MuiPaper-root":{borderRadius:"4vh !important"}},open:t,onClose:n,onTouchStart:function(e){var t;e.targetTouches&&null!==(t=e.targetTouches[0])&&void 0!==t&&t.clientX&&(_({x:null,y:null}),w({x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY}))},onTouchEnd:function(){if(b.x&&b.y&&S.x&&S.y){var e=b.x-S.x,t=b.y-S.y,n=e>E,r=e<-50,i=t>E,a=t<-50;if(n||r||i||a)switch(!0){case n:m(o.LEFT);break;case r:m(o.RIGHT);break;case i:m(o.UP);break;case a:m(o.DOWN)}}},onTouchMove:function(e){var t;e.targetTouches&&null!==(t=e.targetTouches[0])&&void 0!==t&&t.clientX&&_({x:e.targetTouches[0].clientX,y:e.targetTouches[0].clientY})},onMouseDown:C,onMouseUp:function(){if(b.x&&b.y&&S.x&&S.y){var e=b.x-S.x,t=b.y-S.y,n=e>E,r=e<-50,i=t>E,a=t<-50;if(n||r||i||a)switch(!0){case n:m(o.LEFT);break;case r:m(o.RIGHT);break;case i:m(o.UP);break;case a:m(o.DOWN)}}},onMouseMove:function(e){b.x&&b.y&&_({x:e.clientX,y:e.clientY})},onMouseEnter:C,children:(0,Ca.jsxs)("div",{style:{background:"white",color:"black",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,Ca.jsxs)("div",{id:"parent-lock-header",children:[(0,Ca.jsx)("div",{id:"parental-lock-close-icon",children:(0,Ca.jsx)(Yq,{size:"10vh",onClick:r})}),(0,Ca.jsx)("div",{id:"parent-screen",children:(0,Ca.jsx)("p",{style:{fontWeight:"bold",fontSize:"var(--text-size)"},children:zE("Parent's Screen")})})]}),(0,Ca.jsx)(gJ,{style:{height:"14vh",width:"10vw"}}),(0,Ca.jsx)(BR,{style:{width:"35vw",height:"15vh",background:"white",color:"black",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",padding:"4vh 0 0 0"},children:(0,Ca.jsx)("p",{style:{userSelect:"none",fontWeight:"bold",fontSize:"var(--text-size)"},children:p})})]})})})},bJ=function(){var e=(0,s.useState)(!0),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=(0,s.useState)(),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=(0,s.useState)(!1),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=(0,s.useState)(),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=me(),k=cN(),x=k.online,S=k.presentToast;(0,s.useEffect)((function(){return _(),function(){a(!1)}}),[]);var _=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VI.getCurrMode();case 2:return n=e.sent,b(n),e.next=6,nO.getI().apiHandler.getParentStudentProfiles();case 6:if(r=e.sent,console.log("\ud83d\ude80 ~ file: DisplayStudents.tsx:13 ~ getStudents ~ students:",r),r&&!(r.length<1)){e.next=11;break}return w.replace(Do.CREATE_STUDENT,{showBackButton:!1}),e.abrupt("return");case 11:return f(r),e.next=14,nO.getI().authHandler.getCurrentUser();case 14:if(i=e.sent){e.next=17;break}return e.abrupt("return");case 17:return e.next=19,tI.setUserId({userId:i.docId});case 19:HI.setUserProperties(i),a(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: DisplayStudents.tsx:30 ~ onStudentClick:student",n),e.next=3,HI.setCurrentStudent(n,void 0,!0);case 3:n.board&&n.language&&n.grade&&n.courses?HI.setPathToBackButton(Do.HOME,w):w.replace(Do.EDIT_STUDENT,{from:w.location.pathname});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ca.jsxs)(ji,{id:"display-students",children:[(0,Ca.jsxs)("div",{id:"display-students-chimple-logo",children:[(0,Ca.jsx)("div",{id:"display-students-parent-icon"}),(0,Ca.jsx)(iJ,{header:zE("Welcome to Chimple!"),msg:[zE("Select the child\u2019s profile")]}),(0,Ca.jsxs)("button",{id:"display-students-parent-button",onClick:function(){v(!0)},children:[zE("Parent"),(0,Ca.jsx)("img",{id:"parent-icon",src:"assets/icons/user.png",alt:""})]})]}),!o&&l&&(0,Ca.jsxs)("div",{className:"display-student-content",children:[(0,Ca.jsx)("div",{className:"avatar-container",children:l.map((function(e){var t;return(0,Ca.jsxs)("div",{onClick:function(){return E(e)},className:"avatar",children:[(0,Ca.jsx)("img",{className:"avatar-img",src:y===sa.SCHOOL&&e.image||"assets/avatars/"+(null!==(t=e.avatar)&&void 0!==t?t:oa[0])+".png",alt:""}),(0,Ca.jsx)("span",{className:"student-name",children:e.name})]},e.docId)}))}),l.length<3&&(0,Ca.jsxs)("div",{className:"add-new-button",children:[(0,Ca.jsx)(Qq,{color:"white",size:"10vh",onClick:function(){if(x){var e=l&&l.length>0?{showBackButton:!0}:void 0;w.replace(Do.CREATE_STUDENT,e)}else S({message:zE("Device is offline. Cannot create a new child profile"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]})}}),zE("Create a New Child Profile")]}),p?(0,Ca.jsx)(yJ,{showDialogBox:p,handleClose:function(){v(!0),console.log("Close",!1)},onHandleClose:function(){v(!1),console.log("Close",!1)}}):null]}),(0,Ca.jsx)(xq,{isLoading:o,header:Do.DISPLAY_STUDENT})]})},wJ=function(e){var t=e.chapters,n=e.onChapterChange,r=(e.grades,e.currentGrade,e.onGradeChange,e.course),i=e.currentChapterId,o=(0,s.useRef)();return(0,s.useEffect)((function(){var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"instant"})}),[]),(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("div",{className:"grade-container"}),(0,Ca.jsx)("div",{className:"chapter-container",children:t.map((function(e){return(0,Ca.jsx)("div",{ref:i===e.id?o:void 0,onClick:function(){n(e)},className:"chapter-button",children:(0,Ca.jsxs)("div",{className:"chapter-icon-and-chapter-download-container",children:[(0,Ca.jsx)("div",{className:"chapter-icon",children:(0,Ca.jsx)(hO,{localSrc:"courses/".concat(r.courseCode,"/icons/").concat(e.id,".webp"),defaultSrc:"courses/en/icons/en38.webp",webSrc:e.thumbnail})}),(0,Ca.jsx)("div",{children:zE(e.title)}),(0,Ca.jsx)("div",{className:"chapter-download",children:(0,Ca.jsx)(lN,{chapter:e})})]})},e.id)}))})]})},kJ={},xJ={},SJ=function(){var e=function(e){return e[e.SUBJECTS=0]="SUBJECTS",e[e.CHAPTERS=1]="CHAPTERS",e[e.LESSONS=2]="LESSONS",e}({}),n=(0,s.useState)(e.SUBJECTS),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=(0,s.useState)(!0),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=(0,s.useState)(),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=(0,s.useState)(),x=(0,i.Z)(k,2),S=x[0],_=x[1],E=(0,s.useState)(),C=(0,i.Z)(E,2),I=(C[0],C[1]),O=(0,s.useState)(),Z=(0,i.Z)(O,2),T=Z[0],A=Z[1],P=(0,s.useState)(),R=(0,i.Z)(P,2),N=R[0],j=R[1],L=(0,s.useState)(),D=(0,i.Z)(L,2),M=D[0],F=D[1],B=(0,s.useState)(),U=(0,i.Z)(B,2),z=U[0],V=U[1],H=me(),W=ge(),$=nO.getI().apiHandler;(0,s.useEffect)((function(){q()}),[]),(0,s.useEffect)((function(){console.log("chapters123",b),console.log("local grade map",N),N&&N.grades||b&&(d(!0),$.getDifferentGradesForCourse(b).then((function(e){var t=e.grades;kJ.gradesMap={grades:t,courses:[b]},xJ.gradesMap=kJ.gradesMap,K(),j({grades:t,courses:[b]}),d(!1)})))}),[N,b]);var q=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o,a,s,c,l,f,h,p,v,g,y,b;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new URLSearchParams(W.search),console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:47 ~ init ~ urlParams:",r.get(Po)),console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:68 ~ init ~ localData:",kJ),!(r.get(Po)&&kJ.currentCourse&&kJ.currentGrade&&kJ.currentChapter)){t.next=31;break}if(m(kJ.courses),A(kJ.lessons),F(kJ.currentGrade),w(kJ.currentCourse),_(kJ.currentChapter),!kJ.lessonResultMap){t.next=13;break}V(kJ.lessonResultMap),t.next=23;break;case 13:return t.next=15,HI.getCurrentStudent();case 15:if(!(i=t.sent)){t.next=23;break}return t.next=19,$.getStudentResult(i.docId,!0);case 19:o=t.sent,a=null===o||void 0===o?void 0:o.lessons,kJ.lessonResultMap=a,V(a);case 23:kJ.localGradeMap&&j(kJ.localGradeMap),xJ.lessonResultMap=kJ.lessonResultMap,xJ.stage=e.LESSONS,K(),u(e.LESSONS),d(!1),t.next=55;break;case 31:if(!r.get("isReload")){t.next=52;break}if(!(s=localStorage.getItem(Ko))){t.next=47;break}if(!(xJ=JSON.parse(s)).courses){t.next=42;break}if(c=HI.convertCourses(xJ.courses),kJ.courses=c,m(c),xJ.stage&&xJ.stage!==e.SUBJECTS&&xJ.currentCourseId){if(u(xJ.stage),l=kJ.courses.find((function(e){return xJ.currentCourseId===e.docId})),(f=G())&&xJ.currentGrade&&(kJ.currentGrade=xJ.currentGrade,F(xJ.currentGrade),(h=null===f||void 0===f?void 0:f.courses.find((function(e){return e.grade.id===kJ.currentGrade.docId})))&&(l=h)),kJ.currentCourse=l,w(l),xJ.currentChapterId&&(p=kJ.currentCourse.chapters.find((function(e){return xJ.currentChapterId===e.id})),kJ.currentChapter=p,_(p)),xJ.lessonResultMap){for(v=xJ.lessonResultMap,g=0,y=Object.values(v);g<y.length;g++)(b=y[g]).course&&(b.course=HI.getRef(b.course));kJ.lessonResultMap=v,V(v)}xJ.stage===e.LESSONS?J(kJ.currentChapter):d(!1)}else d(!1);t.next=45;break;case 42:return t.next=44,Q();case 44:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:127 ~ init ~ getCourses:");case 45:t.next=50;break;case 47:return t.next=49,Q();case 49:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:126 ~ init ~ getCourses:");case 50:t.next=55;break;case 52:return t.next=54,Q();case 54:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:131 ~ init ~ getCourses:");case 55:G();case 56:case"end":return t.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function G(){var e=localStorage.getItem(Go);if(e){var t=JSON.parse(e),n=HI.convertCourses(t.courses);return t.courses=n,j(t),t}}function K(){localStorage.setItem(Ko,JSON.stringify(xJ))}var Q=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,HI.getCurrentStudent();case 3:if(n=e.sent){e.next=7;break}return H.replace(Do.SELECT_MODE),e.abrupt("return",[]);case 7:return(i=VI.getCurrentClass())&&I(i),$.getStudentResultInMap(n.docId).then(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("tempResultLessonMap = res;",n),kJ.lessonResultMap=n,xJ.lessonResultMap=n,V(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=12,VI.getCurrMode();case 12:return o=e.sent,e.next=15,o===sa.SCHOOL&&i?$.getCoursesForClassStudent(i):$.getCoursesForParentsStudent(n);case 15:return a=e.sent,kJ.courses=a,xJ.courses=a,m(a),K(),d(!1),e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),n){e.next=4;break}return d(!1),e.abrupt("return",[]);case 4:return e.next=6,$.getLessonsForChapter(n);case 6:return r=e.sent,kJ.lessons=r,A(r),d(!1),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){var i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.getDifferentGradesForCourse(r);case 2:i=t.sent,o=i.grades.find((function(e){return e.docId===r.grade.id})),localStorage.setItem(Go,JSON.stringify(i)),kJ.currentGrade=null!==o&&void 0!==o?o:i.grades[0],xJ.currentGrade=kJ.currentGrade,kJ.gradesMap=i,xJ.gradesMap=kJ.gradesMap,kJ.currentCourse=r,xJ.currentCourseId=r.docId,F(null!==o&&void 0!==o?o:i.grades[0]),j(i),w(r),xJ.stage=e.CHAPTERS,K(),u(e.CHAPTERS);case 17:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===N||void 0===N?void 0:N.courses.find((function(e){return e.grade.id===n.docId})),kJ.currentGrade=n,xJ.currentGrade=n,K(),F(n),w(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(r);case 2:kJ.currentChapter=r,xJ.currentChapterId=r.id,_(r),xJ.stage=e.LESSONS,K(),u(e.LESSONS);case 8:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,Ca.jsxs)(ji,{id:"display-subjects-page",children:[(0,Ca.jsx)(hq,{isLoading:f}),(0,Ca.jsxs)("div",{className:"subjects-header",children:[(0,Ca.jsx)("div",{id:"back-button-container",children:(0,Ca.jsx)(qq,{onClicked:function(){switch(a){case e.SUBJECTS:localStorage.removeItem(Ko),H.replace(Do.HOME);break;case e.CHAPTERS:delete kJ.currentChapter,delete xJ.currentChapterId,_(void 0),xJ.stage=e.SUBJECTS,K(),u(e.SUBJECTS);break;case e.LESSONS:delete kJ.lessons,A(void 0),xJ.stage=e.CHAPTERS,K(),u(e.CHAPTERS)}}})}),(0,Ca.jsx)("div",{className:"subject-name",children:a===e.SUBJECTS?zE("Subjects"):a===e.CHAPTERS?null===b||void 0===b?void 0:b.title:null===S||void 0===S?void 0:S.title}),N&&M&&a===e.CHAPTERS&&(0,Ca.jsx)(nJ,{currentValue:null===M||void 0===M?void 0:M.docId,optionList:N.grades.map((function(e){return{displayName:e.title,id:e.docId}})),placeholder:"",onValueChange:function(e){var t=N.grades.find((function(t){return t.docId===e}));X(null!==t&&void 0!==t?t:M)},width:"15vw"}),a!==e.CHAPTERS&&(0,Ca.jsx)("div",{className:"button-right"})]}),(0,Ca.jsxs)("div",{className:"subjects-content",children:[!f&&a===e.SUBJECTS&&v&&v.length>0&&(0,Ca.jsx)(Eq,{courses:v,onCourseChange:Y}),!f&&a===e.CHAPTERS&&b&&N&&M&&(0,Ca.jsx)(wJ,{chapters:b.chapters,onChapterChange:ee,currentGrade:M,grades:N?N.grades:N,onGradeChange:X,course:b,currentChapterId:null===S||void 0===S?void 0:S.id})]}),!f&&a===e.LESSONS&&T&&(0,Ca.jsx)("div",{className:"slider-container",children:(0,Ca.jsx)(ND,{lessonData:T,isHome:!0,course:b,lessonsScoreMap:z||{},startIndex:function(){var e,t=0;return z&&(null===T||void 0===T||T.forEach((function(n,r){var i=z[n.docId];i&&(e?z[n.docId].date>e&&(e=i.date,t=r):(e=z[n.docId].date,t=r))}))),t}(),showSubjectName:!1,showChapterName:!1})})]})},_J=function(){var e,n,o,a=me(),u=(0,s.useState)(!0),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=(0,s.useState)([]),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=(0,s.useState)(),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=(0,s.useState)(-1),k=(0,i.Z)(w,2),x=k[0],S=k[1];function _(){return _=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),n=[],r=Object.keys(Eo).map((function(e){return{code:e,title:Eo[e]}})),r.forEach((function(e){n.push({id:e.code,displayName:e.title})})),!(i=localStorage.getItem(Wo))){e.next=9;break}return e.next=8,JC.changeLanguage(i);case 8:b(i);case 9:v(n),f(!1);case 11:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}(0,s.useEffect)((function(){!function(){_.apply(this,arguments)}()}),[]);var E=[{text:(0,Ca.jsxs)("div",{className:"intro-text",children:[(0,Ca.jsx)("img",{id:"intro-logo",alt:"Home Screen",src:"assets/icons/intro1.svg"}),(0,Ca.jsxs)("div",{id:"text",children:[(0,Ca.jsx)("p",{id:"header-text1",children:zE("Login with Phone number or Gmail")}),(0,Ca.jsxs)("div",{className:"intro-text2",children:[(0,Ca.jsx)("p",{children:zE("Users can now log in with their phone number or Gmail for easy access on different devices.")}),(0,Ca.jsx)("p",{children:zE("Your progress stays synced and consistent across all devices.")})]})]})]}),buttonText:""},{text:(0,Ca.jsxs)("div",{className:"intro-text",children:[(0,Ca.jsx)("img",{id:"intro-logo",alt:"Home Screen",src:"assets/icons/intro2.svg"}),(0,Ca.jsxs)("div",{id:"text",children:[(0,Ca.jsx)("p",{id:"header-text2",children:zE("Enhanced kid's profile creation")}),(0,Ca.jsxs)("div",{className:"intro-text2",children:[(0,Ca.jsx)("p",{children:zE("Kids can now customise their profiles with their class, language of")}),(0,Ca.jsx)("p",{children:zE("instruction and school board to match their learning needs.")})]})]})]})},{text:(0,Ca.jsxs)("div",{className:"intro-text",children:[(0,Ca.jsx)("img",{id:"intro-logo",alt:"Home Screen",src:"assets/icons/intro3.svg"}),(0,Ca.jsxs)("div",{id:"text",children:[(0,Ca.jsx)("p",{id:"header-text3",children:zE("Advance Home Screen")}),(0,Ca.jsxs)("div",{className:"intro-text2",children:[(0,Ca.jsx)("p",{children:zE('The home screen has three tabs: "For You" suggests lessons based on')}),(0,Ca.jsx)("p",{children:zE('progress, "Liked" shows liked lessons and "Played" lists completed ones.')})]})]})]})}],C=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==x){e.next=4;break}S(0),e.next=15;break;case 4:if(!(x<E.length-1)){e.next=8;break}S(x+1),e.next=15;break;case 8:if(a.replace(Do.LOGIN),localStorage.getItem(Wo)){e.next=15;break}return n=Mo.ENGLISH,localStorage.setItem(Wo,n),e.next=15,JC.changeLanguage(n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.replace(Do.LOGIN),localStorage.getItem(Wo)){e.next=7;break}return n=Mo.ENGLISH,localStorage.setItem(Wo,n),e.next=7,JC.changeLanguage(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ca.jsxs)(ji,{id:"app-lang",children:[l?null:(0,Ca.jsxs)("div",{className:"app-container ".concat(x>=0?"with-content":""),children:[(0,Ca.jsxs)("div",{className:"skip-next",children:[x>=0&&(0,Ca.jsx)("div",{className:"top-left",children:(0,Ca.jsxs)("button",{onClick:I,className:"skip-button",children:[zE("Skip"),(0,Ca.jsx)($i,{className:"arrow-icon",slot:"end",icon:hJ})]})}),x>=0?(0,Ca.jsx)("div",{className:"top-right",children:(0,Ca.jsx)("div",{id:"App-lang-nextButton",children:(0,Ca.jsx)(pJ,{disabled:!1,onClicked:C,children:(null===(e=E[x])||void 0===e?void 0:e.buttonText)||""})})}):(0,Ca.jsx)("div",{className:"top-right",children:(0,Ca.jsx)("div",{id:"App-lang-nextButton",children:(0,Ca.jsx)(pJ,{disabled:!1,onClicked:C})})})]}),x>=0?(0,Ca.jsx)("div",{className:"middle-content",children:(0,Ca.jsx)("div",{children:(null===(n=E[x])||void 0===n?void 0:n.text)||""})}):(0,Ca.jsxs)("div",{className:"middle-content",children:[(0,Ca.jsx)("img",{id:"app-lang-chimple-logo",alt:"Chimple Brand Logo",src:"assets/icons/ChimpleBrandLogo.svg"}),(0,Ca.jsxs)("div",{id:"app-lang-element",children:[(0,Ca.jsx)("p",{id:"app-lang-text",children:zE("Choose your language")}),(0,Ca.jsx)(nJ,{placeholder:"",optionList:p,currentValue:y||(null===(o=p[0])||void 0===o?void 0:o.id),width:"26vw",onValueChange:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("selected Language",n),r=n){e.next=4;break}return e.abrupt("return");case 4:return localStorage.setItem(Wo,r),console.log("Selected language: "+r),e.next=8,JC.changeLanguage(r);case 8:b(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})]}),x>=0&&(0,Ca.jsx)("div",{className:"navigation-dots",children:E.map((function(e,t){return(0,Ca.jsx)("div",{className:"dot ".concat(x===t?"active":""),onClick:function(){return S(t)}},t)}))})]}),(0,Ca.jsx)(hq,{isLoading:l})]})},EJ=function(){var e=(0,s.useState)(!1),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=(0,s.useState)(void 0),c=(0,i.Z)(u,2),l=(c[0],c[1]),f=(0,s.useState)([]),d=(0,i.Z)(f,2),h=d[0],p=d[1],v=(0,s.useState)([]),m=(0,i.Z)(v,2),g=m[0],y=m[1],b=(0,s.useState)([]),w=(0,i.Z)(b,2),k=w[0],x=w[1],S=(0,s.useState)(),_=(0,i.Z)(S,2),E=(_[0],_[1]),C=(0,s.useState)([]),I=(0,i.Z)(C,2),O=(I[0],I[1]),Z=(0,s.useState)(new Map),T=(0,i.Z)(Z,2),A=T[0],P=T[1],R=(0,s.useState)(),N=(0,i.Z)(R,2),j=(N[0],N[1],nO.getI().apiHandler),L=me();(0,s.useEffect)((function(){a(!0),function(){D.apply(this,arguments)}()}),[]);function D(){return D=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.getCurrentStudent();case 2:if(!(n=e.sent)){e.next=20;break}return y(["Lesson Name","Chapter Name","Score","Time Spent"]),E(n),e.next=8,M(n);case 8:return r=e.sent,O(r),r.length>0&&(l(r[0].courseCode),W(r[0].courseCode),p(r.map((function(e){var t;return{displayName:zE(e.title),iconSrc:null!==(t=e.thumbnail)&&void 0!==t?t:"assets/icons/EnglishIcon.svg",header:e.courseCode,course:e}})))),e.next=13,j.getLessonResultsForStudent(n.docId);case 13:if(i=e.sent,P(i||new Map),!(i&&i.size>0)){e.next=19;break}return console.log("result..."),e.next=19,B(r[0],i);case 19:a(!1);case 20:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function M(e){return F.apply(this,arguments)}function F(){return F=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getCoursesForParentsStudent(n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function B(e,t){return U.apply(this,arguments)}function U(){return U=(0,r.Z)((0,t.Z)().mark((function e(n,i){var o,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),console.log("Selected header ",n.title,i),o=!1,s=[],e.next=6,Promise.all(n.chapters.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.lessons.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){var a,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getLesson(r.id);case 2:return a=e.sent,e.next=5,i.get(r.id);case 5:u=e.sent,a&&u&&(o=!0,c=Math.floor(u.timeSpent/60),l=u.timeSpent%60,console.log("Data ",a.title,n.title,u.score,c+":"+l),s.push([a.title,n.title,Math.floor(u.score).toString(),c+":"+l]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:o||(s=[]),x(s),a(!1);case 9:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}var z=(0,s.useState)(""),V=(0,i.Z)(z,2),H=V[0],W=V[1];return(0,s.useEffect)((function(){h.length>0&&W(h[0].displayName)}),[h]),(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)(PG,{tabNames:h.map((function(e){return e.displayName})),value:H,onChange:function(e){W(e);var t=h.find((function(t){return t.displayName===e}));t&&(l(t.header),B(t.course,A))},handleBackButton:function(){HI.setPathToBackButton(Do.PARENT,L)}}),H&&(0,Ca.jsx)("div",{children:(0,Ca.jsxs)("div",{id:"student-progress-display-progress",children:[(0,Ca.jsx)("div",{id:"student-progress-display-progress-header",children:(0,Ca.jsx)(pi,{children:g.map((function(e){return(0,Ca.jsx)(fi,{size:"12","size-sm":"3",children:(0,Ca.jsx)("p",{id:"student-progress-display-progress-header-content",children:zE(e)})})}))})}),0===k.length?(0,Ca.jsx)("p",{id:"student-progress-display-progress-no-data-message",children:zE("No Data ")}):null,(0,Ca.jsx)("div",{id:"student-progress-display-progress-content",children:k.map((function(e){return(0,Ca.jsx)(pi,{children:e.map((function(e){return(0,Ca.jsx)(fi,{size:"12","size-sm":"3",children:(0,Ca.jsx)("p",{id:"student-progress-display-progress-content-text",children:e})})}))})}))}),(0,Ca.jsx)(hq,{isLoading:o})]})})]})},CJ=function(){var e=HI.getCurrentStudent(),n=nO.getI().apiHandler,o=(0,s.useState)(),a=(0,i.Z)(o,2),u=a[0],c=a[1];function l(){return(l=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o,a,s,u,l,p,v,m,g,y,b,w;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f();case 4:return r=t.sent,t.next=7,d();case 7:return i=t.sent,t.next=10,h();case 10:o=t.sent,a=[],s=new Set,u=(0,Xt.Z)(o);try{for(u.s();!(l=u.n()).done;)(p=l.value)&&a.push({badge:p,isUnlocked:!1,isNextUnlock:!0})}catch(n){u.e(n)}finally{u.f()}v=(0,Xt.Z)(r);try{for(v.s();!(m=v.n()).done;)(g=m.value)&&(a.push({badge:g,isUnlocked:!0}),s.add(g.docId))}catch(n){v.e(n)}finally{v.f()}y=(0,Xt.Z)(i),t.prev=18,y.s();case 20:if((b=y.n()).done){t.next=30;break}if(!(w=b.value)){t.next=28;break}if(!s.has(w.docId)){t.next=26;break}return t.abrupt("continue",28);case 26:a.push({badge:w,isUnlocked:!1}),s.add(w.docId);case 28:t.next=20;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(18),y.e(t.t0);case 35:return t.prev=35,y.f(),t.finish(35);case 38:c(a);case 39:case"end":return t.stop()}}),n,null,[[18,32,35,38]])})))).apply(this,arguments)}(0,s.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]);var f=function(){var i=(0,r.Z)((0,t.Z)().mark((function r(){var i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.rewards&&e.rewards.badges&&!(e.rewards.badges.length<1)){t.next=2;break}return t.abrupt("return",[]);case 2:return i=!0,t.next=5,Promise.all(e.rewards.badges.map((function(e){return e.seen||(i=!1),n.getBadgeById(e.id)})));case 5:return o=t.sent,i||n.updateRewardAsSeen(e.docId),t.abrupt("return",null===o||void 0===o?void 0:o.reverse());case 8:case"end":return t.stop()}}),r)})));return function(){return i.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,e.next=3,n.getRewardsById(r.getFullYear().toString());case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",[]);case 6:for(u in o=HI.getCurrentWeekNumber(),a=[],s=i.weekly)c=parseInt(u),!isNaN(c)&&c<o&&s[u].forEach((function(e){e.type==xa.BADGE&&a.push(e.id)}));return e.next=12,Promise.all(a.map((function(e){return n.getBadgeById(e)})));case 12:return l=e.sent,e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,e.next=3,n.getRewardsById(r.getFullYear().toString());case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",[]);case 6:return o=HI.getCurrentWeekNumber(),a=[],i.weekly[o.toString()].forEach((function(e){e.type===xa.BADGE&&a.push(e.id)})),e.next=12,Promise.all(a.map((function(e){return n.getBadgeById(e)})));case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e?(0,Ca.jsx)("div",{className:"leaderboard-badge-container",children:u&&u.length>0&&u.map((function(e,t){var n;return(0,Ca.jsxs)("div",{className:"leaderboard-badge-item "+(e.isUnlocked?"":"leaderboard-badge-disabled"),children:[(0,Ca.jsx)(dO,{src:null===(n=e.badge)||void 0===n?void 0:n.image}),e.isNextUnlock&&(0,Ca.jsx)("p",{className:"leaderboard-next-unlock-text",children:zE("This Week's Reward")})]},t)}))}):(0,Ca.jsx)("div",{})},IJ=function(){var e=HI.getCurrentStudent(),n=nO.getI().apiHandler,o=(0,s.useState)(),a=(0,i.Z)(o,2),u=a[0],c=a[1];function l(){return(l=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o,a,s,u,l,p,v,m,g,y,b,w;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f();case 4:return r=t.sent,t.next=7,d();case 7:return i=t.sent,t.next=10,h();case 10:o=t.sent,console.log("\ud83d\ude80 ~ init ~ nextUnlockBonuses:",o),a=[],s=new Set,u=(0,Xt.Z)(o);try{for(u.s();!(l=u.n()).done;)(p=l.value)&&(p.title=zE("This Month's Reward"),a.push({bonus:p,isUnlocked:!1,isNextUnlock:!0}))}catch(n){u.e(n)}finally{u.f()}v=(0,Xt.Z)(r);try{for(v.s();!(m=v.n()).done;)(g=m.value)&&(a.push({bonus:g,isUnlocked:!0}),s.add(g.docId))}catch(n){v.e(n)}finally{v.f()}y=(0,Xt.Z)(i),t.prev=19,y.s();case 21:if((b=y.n()).done){t.next=31;break}if(!(w=b.value)){t.next=29;break}if(!s.has(w.docId)){t.next=27;break}return t.abrupt("continue",29);case 27:a.push({bonus:w,isUnlocked:!1}),s.add(w.docId);case 29:t.next=21;break;case 31:t.next=36;break;case 33:t.prev=33,t.t0=t.catch(19),y.e(t.t0);case 36:return t.prev=36,y.f(),t.finish(36);case 39:c(a);case 40:case"end":return t.stop()}}),n,null,[[19,33,36,39]])})))).apply(this,arguments)}(0,s.useEffect)((function(){e&&function(){l.apply(this,arguments)}()}),[]);var f=function(){var i=(0,r.Z)((0,t.Z)().mark((function r(){var i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.rewards&&e.rewards.bonus&&!(e.rewards.bonus.length<1)){t.next=2;break}return t.abrupt("return",[]);case 2:return i=!0,t.next=5,Promise.all(e.rewards.bonus.map((function(e){return e.seen||(i=!1),n.getLesson(e.id)})));case 5:return o=t.sent,i||n.updateRewardAsSeen(e.docId),t.abrupt("return",null===o||void 0===o?void 0:o.reverse());case 8:case"end":return t.stop()}}),r)})));return function(){return i.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a,s,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getRewardsById(HI.getCurrentYearForLeaderboard().toString());case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:for(s in i=HI.getCurrentMonthForLeaderboard(),o=[],a=r.monthly)u=parseInt(s),!isNaN(u)&&u<i&&a[s].forEach((function(e){e.type===xa.BONUS&&o.push(e.id)}));return e.next=11,Promise.all(o.map((function(e){return n.getLesson(e)})));case 11:return c=e.sent,e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getRewardsById(HI.getCurrentYearForLeaderboard().toString());case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:return i=HI.getCurrentMonthForLeaderboard(),o=[],r.monthly[i.toString()].forEach((function(e){e.type===xa.BONUS&&o.push(e.id)})),e.next=11,Promise.all(o.map((function(e){return n.getLesson(e)})));case 11:return a=e.sent,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e?(0,Ca.jsx)("div",{className:"leaderboard-bonus-container",children:u&&u.length>0&&u.map((function(e,t){return(0,Ca.jsx)("div",{className:"leaderboard-bonus-item "+(e.isUnlocked?"":"leaderboard-bonus-disabled"),children:e.bonus&&(0,Ca.jsx)(fN,{width:"",height:"",lesson:e.bonus,course:void 0,isPlayed:!1,isUnlocked:e.isUnlocked,isHome:!1,showSubjectName:!1,score:void 0,isLoved:void 0,lessonData:[],startIndex:0,showChapterName:!1})},t)}))}):(0,Ca.jsx)("div",{})},OJ=function(){var e=HI.getCurrentStudent(),n=nO.getI().apiHandler,o=(0,s.useState)(),a=(0,i.Z)(o,2),u=a[0],c=a[1];function l(){return(l=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o,a,s,u,l,p,v,m,g,y,b,w;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,f();case 4:return r=t.sent,t.next=7,d();case 7:return i=t.sent,t.next=10,h();case 10:o=t.sent,a=[],s=new Set,u=(0,Xt.Z)(o);try{for(u.s();!(l=u.n()).done;)(p=l.value)&&a.push({sticker:p,isUnlocked:!1,isNextUnlock:!0})}catch(n){u.e(n)}finally{u.f()}v=(0,Xt.Z)(r);try{for(v.s();!(m=v.n()).done;)(g=m.value)&&(a.push({sticker:g,isUnlocked:!0}),s.add(g.docId))}catch(n){v.e(n)}finally{v.f()}y=(0,Xt.Z)(i),t.prev=18,y.s();case 20:if((b=y.n()).done){t.next=30;break}if(!(w=b.value)){t.next=28;break}if(!s.has(w.docId)){t.next=26;break}return t.abrupt("continue",28);case 26:a.push({sticker:w,isUnlocked:!1}),s.add(w.docId);case 28:t.next=20;break;case 30:t.next=35;break;case 32:t.prev=32,t.t0=t.catch(18),y.e(t.t0);case 35:return t.prev=35,y.f(),t.finish(35);case 38:c(a);case 39:case"end":return t.stop()}}),n,null,[[18,32,35,38]])})))).apply(this,arguments)}(0,s.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]);var f=function(){var i=(0,r.Z)((0,t.Z)().mark((function r(){var i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.rewards&&e.rewards.sticker&&!(e.rewards.sticker.length<1)){t.next=2;break}return t.abrupt("return",[]);case 2:return i=!0,t.next=5,Promise.all(e.rewards.sticker.map((function(e){return e.seen||(i=!1),n.getStickerById(e.id)})));case 5:return o=t.sent,i||n.updateRewardAsSeen(e.docId),t.abrupt("return",null===o||void 0===o?void 0:o.reverse());case 8:case"end":return t.stop()}}),r)})));return function(){return i.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a,s,u,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,e.next=3,n.getRewardsById(r.getFullYear().toString());case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",[]);case 6:for(u in o=HI.getCurrentWeekNumber(),a=[],s=i.weeklySticker)c=parseInt(u),!isNaN(c)&&c<o&&s[u].forEach((function(e){e.type==xa.STICKER&&a.push(e.id)}));return e.next=12,Promise.all(a.map((function(e){return n.getStickerById(e)})));case 12:return l=e.sent,e.abrupt("return",l);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i,o,a,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,e.next=3,n.getRewardsById(r.getFullYear().toString());case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return",[]);case 6:return o=HI.getCurrentWeekNumber(),a=[],i.weeklySticker[o.toString()].forEach((function(e){e.type===xa.STICKER&&a.push(e.id)})),e.next=12,Promise.all(a.map((function(e){return n.getStickerById(e)})));case 12:return s=e.sent,e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e?(0,Ca.jsx)("div",{className:"leaderboard-sticker-container",children:u&&u.length>0&&u.map((function(e,t){var n;return(0,Ca.jsx)("div",{className:"leaderboard-sticker-item "+(e.isUnlocked?"":"leaderboard-sticker-disabled"),children:(0,Ca.jsx)(dO,{src:null===(n=e.sticker)||void 0===n?void 0:n.image})},t)}))}):(0,Ca.jsx)("div",{})},ZJ=function(){var e=(0,s.useState)(Zo.BADGES),t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,s.useEffect)((function(){var e=new URLSearchParams(window.location.search).get("rewards"),t=Zo.BADGES;e&&(e===Zo.BONUS.toLowerCase()?t=Zo.BONUS:e===Zo.STICKER.toLowerCase()&&(t=Zo.STICKER)),r(t)}),[]),(0,Ca.jsxs)("div",{className:"leaderboard-rewards-container",children:[(0,Ca.jsxs)(xF,{value:n,onChange:function(e,t){r(t)},textColor:"secondary",indicatorColor:"secondary","aria-label":"secondary tabs example",scrollButtons:"auto",centered:!0,sx:{"& .MuiTabs-indicator":{backgroundColor:"#000000 !important",bottom:"15% !important"},"& .MuiTab-root":{color:"#000000 !important"},"& .Mui-selected":{color:"#000000 !important"}},children:[(0,Ca.jsx)(IF,{id:"parent-page-tab-bar",value:Zo.BADGES,label:zE(Zo.BADGES)}),(0,Ca.jsx)(IF,{id:"parent-page-tab-bar",value:Zo.BONUS,label:zE(Zo.BONUS)}),(0,Ca.jsx)(IF,{id:"parent-page-tab-bar",value:Zo.STICKER,label:zE(Zo.STICKER)})]}),n===Zo.BADGES&&(0,Ca.jsx)(CJ,{}),n===Zo.BONUS&&(0,Ca.jsx)(IJ,{}),n===Zo.STICKER&&(0,Ca.jsx)(OJ,{})]})},TJ=function(){var e=(0,s.useState)(!1),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=(0,s.useState)(),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=(0,s.useState)({weekly:[],allTime:[],monthly:[]}),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=(0,s.useState)([]),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=(0,s.useState)([]),k=(0,i.Z)(w,2),x=k[0],S=k[1],_=(0,s.useState)(),E=(0,i.Z)(_,2),C=E[0],I=E[1],O=nO.getI().apiHandler,Z=nO.getI().authHandler,T=me(),A=(0,s.useState)([]),P=(0,i.Z)(A,2),R=P[0],N=P[1],j=(0,s.useState)(),L=(0,i.Z)(j,2),D=L[0],M=L[1],F=(0,s.useState)(),B=(0,i.Z)(F,2),U=B[0],z=B[1];function V(){return V=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("init method called"),n=[{text:zE("Weekly"),type:_o.WEEKLY},{text:zE("Monthly"),type:_o.MONTHLY},{text:zE("ALL Time"),type:_o.ALL_TIME}],r=[],n.forEach((function(e,t){r.push({id:t.toString(),displayName:e.text,type:e.type})})),N(r),void 0==(i=HI.getCurrentStudent())){e.next=17;break}return e.next=9,GI.i.getStudentResult(i.docId);case 9:return o=e.sent,e.next=12,VI.getCurrMode();case 12:a=e.sent,I(a),void 0!=(null===o||void 0===o?void 0:o.classes)?(H(i,_o.WEEKLY,null===o||void 0===o?void 0:o.classes[0]),z(o)):H(i,_o.WEEKLY,""),console.log("currentStudent ",i),f(i);case 17:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function H(e,t,n){return W.apply(this,arguments)}function W(){return W=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o,s,u,c,l,f,d,h,m,g,y,w,k;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(!0),o=nO.getI().apiHandler,console.log("leaderboardDataInfo.weekly.length <= 0 leaderboardDataInfo.allTime.length <= 0",p.weekly.length<=0||p.allTime.length<=0,r?"leaderboardDataInfo.weekly":"leaderboardDataInfo.allTime"),!(p.weekly.length<=0||p.allTime.length<=0||p.monthly.length<=0)){e.next=9;break}return e.next=6,o.getLeaderboardResults(i,r);case 6:e.t1=e.sent,e.next=10;break;case 9:e.t1=p;case 10:if(e.t0=e.t1,e.t0){e.next=13;break}e.t0={weekly:[],allTime:[],monthly:[]};case 13:for(s=e.t0,v(s),u=r===_o.WEEKLY?s.weekly:r===_o.MONTHLY?s.monthly:s.allTime,l=[],(c=[]).push(["#",zE("Name"),zE("Lessons Played"),zE("Score"),zE("Time Spent")]),f=!1,d=0;d<u.length;d++)h=u[d],m=Math.floor(h.timeSpent/60),g=h.timeSpent%60,c.push([d+1,h.name,h.lessonsPlayed,h.score,m+" "+zE("min")+" "+g+" "+zE("sec")]),n.docId==h.userId&&(f=!0,l=[[zE("Rank"),d+1],[zE("Lessons Played"),h.lessonsPlayed],[zE("Score"),Math.round(h.score)],[zE("Time Spent"),m+zE(" min")+g+" "+zE("sec")]]);if(f||i){e.next=27;break}return e.next=24,o.getLeaderboardStudentResultFromB2CCollection(n.docId);case 24:y=e.sent,console.log("const b2cData = await api.getLeaderboardStudentResultFromB2CCollection(",!f&&!i,y),y&&(console.log("if (!b2cData) { return",y),w=r===_o.WEEKLY?y.weekly:r===_o.MONTHLY?y.monthly:y.allTime,m=Math.floor(w[0].timeSpent/60),g=w[0].timeSpent%60,k=c.length.toString()+"+",l=[[zE("Rank"),k],[zE("Lessons Played"),w[0].lessonsPlayed],[zE("Score"),w[0].score],[zE("Time Spent"),m+zE(" min")+" "+g+" "+zE("sec")]],c.push([k,w[0].name,w[0].lessonsPlayed,w[0].score,m+zE(" min")+" "+g+" "+zE("sec")]));case 27:l.length<=0&&(l=[[zE("Rank"),"--"],[zE("Lessons Played"),"--"],[zE("Score"),"--"],[zE("Time Spent"),"--"+zE("min")+" --"+zE("sec")]],c.push(["--",n.name,"--","--","--"+zE("min")+" --"+zE("sec")])),S(l),b(c),a(!1);case 31:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}(0,s.useEffect)((function(){a(!0),function(){V.apply(this,arguments)}();var e=new URLSearchParams(window.location.search).get("tab"),t=Oo.LEADERBOARD;e&&e===Oo.REWARDS.toLowerCase()&&(t=Oo.REWARDS),J(t)}),[]),(0,s.useEffect)((function(){}),[]);var $=-1,q=-1;var G=(0,s.useState)(Oo.LEADERBOARD),K=(0,i.Z)(G,2),Q=K[0],J=K[1];return(0,Ca.jsxs)(ji,{children:[o?null:(0,Ca.jsxs)(qD,{children:[(0,Ca.jsxs)("div",{id:"LeaderBoard-Header",children:[(0,Ca.jsx)(qq,{onClicked:function(){HI.setPathToBackButton(Do.HOME,T)}}),(0,Ca.jsx)(qD,{children:(0,Ca.jsx)(VD,{id:"LeaderBoard-AppBar",position:"static",sx:{flexDirection:"inherit",justifyContent:"space-between",padding:"1vh 1vw",backgroundColor:"#e2dede !important",boxShadow:"0px 0px 0px 0px !important"},children:(0,Ca.jsxs)(xF,{value:Q,onChange:function(e,t){J(t)},textColor:"secondary",indicatorColor:"secondary","aria-label":"secondary tabs example",scrollButtons:"auto",centered:!0,sx:{"& .MuiTabs-indicator":{backgroundColor:"#000000 !important",bottom:"15% !important"},"& .MuiTab-root":{color:"#000000 !important"},"& .Mui-selected":{color:"#000000 !important"}},children:[(0,Ca.jsx)(IF,{value:Oo.LEADERBOARD,label:zE(Oo.LEADERBOARD),id:"parent-page-tab-bar"}),(0,Ca.jsx)(IF,{id:"parent-page-tab-bar",value:Oo.REWARDS,label:zE(Oo.REWARDS)})]})})}),(0,Ca.jsxs)("div",{id:"leaderboard-switch-user-button",onClick:(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem(ca),RF.destroyInstance(),e.next=4,Z.getCurrentUser();case 4:if(!(r=e.sent)||null===(n=r.language)||void 0===n||!n.id){e.next=14;break}return e.next=8,O.getLanguageWithId(r.language.id);case 8:if(!(i=e.sent)){e.next=14;break}return a=null!==(o=i.code)&&void 0!==o?o:Mo.ENGLISH,localStorage.setItem(Wo,a),e.next=14,JC.changeLanguage(a);case 14:HI.setPathToBackButton(Do.DISPLAY_STUDENT,T);case 15:case"end":return e.stop()}}),e)}))),children:[(0,Ca.jsx)("img",{id:"leaderboard-switch-user-button-img",alt:"assets/icons/SignOutIcon.svg",src:"assets/icons/SignOutIcon.svg"}),(0,Ca.jsx)("p",{className:"child-Name",children:zE("Switch Profile")})]})]}),(0,Ca.jsxs)(qD,{sx:{},children:[Q===Oo.LEADERBOARD&&(0,Ca.jsx)(qD,{children:(0,Ca.jsx)("div",{children:function(){var e,t,n;return console.log("weeklySelectedValue",D),(0,Ca.jsxs)("div",{id:"leaderboard-UI",children:[(0,Ca.jsxs)("div",{id:"leaderboard-left-UI",children:[(0,Ca.jsx)(nJ,{placeholder:D||(null===(e=R[0])||void 0===e?void 0:e.displayName),optionList:R,currentValue:D||(null===(t=R[0])||void 0===t?void 0:t.id),width:"26vw",onValueChange:function(e){var t,n,r,i;void 0!=(null===(t=R[e])||void 0===t?void 0:t.displayName)&&(console.log("selected value",e,null===(n=R[e])||void 0===n?void 0:n.displayName,R[0]===R[e]),M(null===(r=R[e])||void 0===r?void 0:r.id),H(l,null!==(i=R[e].type)&&void 0!==i?i:_o.WEEKLY,(null===U||void 0===U?void 0:U.classes[0])||""))}}),(0,Ca.jsxs)("div",{className:"avatar",id:"leaderboard-avatar",children:[(0,Ca.jsx)("img",{className:"avatar-img",src:C===sa.SCHOOL&&(null===l||void 0===l?void 0:l.image)||"assets/avatars/"+(null!==(n=null===l||void 0===l?void 0:l.avatar)&&void 0!==n?n:oa[0])+".png",alt:""}),(0,Ca.jsx)("span",{id:"leaderboard-student-name",children:null===l||void 0===l?void 0:l.name})]},null===l||void 0===l?void 0:l.docId),(0,Ca.jsx)("div",{children:x.map((function(e){var t=-1;return(0,Ca.jsx)(pi,{children:e.map((function(e){return t++,q++,console.log("color: i === 1 && j === 1 ? white : ",t,q,1===t&&1===q),(0,Ca.jsx)(fi,{size:"0","size-sm":"6",children:(0,Ca.jsx)("p",{style:{color:1===t&&1===q?"black":"",backgroundColor:1===t&&1===q?"white":"",borderRadius:1===t&&1===q?"100vw":"",width:1===t&&1===q?"3vw":"",textAlign:1===t&&1===q?"center":"left"},id:"leaderboard-left-UI-content",children:e||"0"})},e)}))})}))}),(0,Ca.jsx)("p",{id:"leaderboard-left-note-message",children:zE("***Be among the top performers in your class to win an exciting reward")})]}),(0,Ca.jsx)("div",{id:"leaderboard-right-UI",children:y.map((function(e){var t=["3vw","14vw","15vw","7vw","18vw"],n=["","#FFC32C","#C4C4C4","#D39A66","#959595"],r=-1;return $++,console.log("headerRowIndicator",$,Number(x[0][1]),Number(x[0][1])===$,$+"+",Number(x[0][1])===$||x[0][1]===$+"+"),(0,Ca.jsx)(pi,{style:{backgroundColor:0===$?"rgb(200 200 200)":Number(x[0][1])===$||x[0][1]===$+"+"?"#FF7925":"",padding:0===$?"1vh 2vh":Number(x[0][1])===$||x[0][1]===$+"+"?"0vh 2vh":"1vh 2vh ",position:"sticky",zIndex:0===$?"3":"0",top:"0px"},children:e.map((function(i){return r++,(0,Ca.jsx)(fi,{size:"auto",children:(0,Ca.jsx)("p",{style:{color:0===r&&0!=$?Number(x[0][1])===$?"black":"white":"",backgroundColor:0===r&&0!=$?Number(x[0][1])===$?"white":n[Number(e[0])]||n[4]:"",borderRadius:0===r&&0!=$?"100vw":"",height:0===r&&0!=$?t[r]:"",fontSize:"1.5vw",width:t[r],textAlign:0===r?"center":"left"},id:"leaderboard-right-UI-content",children:1===r?(0,Ca.jsx)("p",{id:"leaderboard-profile-name",children:Number(x[0][1])===$&&null!==l&&void 0!==l&&l.name?null===l||void 0===l?void 0:l.name:i}):isNaN(Math.round(i))?i:Math.round(i)})})}))})}))})]})}()})}),Q===Oo.REWARDS&&(0,Ca.jsx)(qD,{children:(0,Ca.jsx)(ZJ,{})})]})]}),(0,Ca.jsx)(xq,{isLoading:o,header:Oo.LEADERBOARD})]})},AJ=function(e){var t=e.icon,n=e.onClick,r=e.text;return(0,Ca.jsxs)("div",{onClick:n,className:"select-mode-btn",children:[(0,Ca.jsx)(t,{size:"4vh"}),(0,Ca.jsx)("div",{className:"select-mode-btn-text",children:zE(r)})]})};function PJ(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M408.256 119.46l-37.7 52.165 19.57 44.426 34.8-37.214-16.67-59.375zm86.074 12.513L384.44 249.498 334.01 135.02l-75.162 132.947-86.948-131.78-33.334 114.122L17.922 132.83l39.3 127.6c1.945-.348 3.94-.54 5.98-.54 18.812 0 34.26 15.452 34.26 34.262 0 13.823-8.346 25.822-20.235 31.22l5.337 17.33c12.425 25.466 71.863 45.152 176.582 47.206 110.805 2.174 178.12-17.54 189.854-47.207h-.002l4.357-20.26c-16.836-2.114-30.02-16.612-30.02-33.986 0-18.81 15.45-34.262 34.263-34.262 3.513 0 6.91.54 10.11 1.54l26.622-123.762zm-391.77 2.04l1.22 56.337 25.56 24.89 9.592-32.842-36.37-48.386zm150.585 2.91l-24.483 51.36 28.955 43.885 24.922-44.08-29.395-51.166zm204.453 135.962c-8.712 0-15.575 6.862-15.575 15.572 0 8.71 6.863 15.574 15.575 15.574s15.572-6.863 15.572-15.573-6.86-15.572-15.572-15.572zM63.2 278.58c-8.71 0-15.573 6.864-15.573 15.574s6.862 15.573 15.574 15.573c8.713 0 15.573-6.862 15.573-15.573 0-8.71-6.86-15.574-15.572-15.574zm130.33 17.842c18.812 0 34.26 15.45 34.26 34.262 0 18.81-15.448 34.26-34.26 34.26-18.813 0-34.262-15.45-34.262-34.26s15.45-34.262 34.26-34.262zm131.234 0c18.812 0 34.26 15.45 34.26 34.262 0 18.81-15.448 34.26-34.26 34.26-18.813 0-34.262-15.45-34.262-34.26s15.45-34.262 34.262-34.262zm-131.235 18.69c-8.713 0-15.573 6.86-15.573 15.572 0 8.71 6.86 15.574 15.572 15.574 8.71 0 15.572-6.864 15.572-15.574s-6.86-15.573-15.573-15.573zm131.234 0c-8.712 0-15.573 6.86-15.573 15.572 0 8.71 6.862 15.574 15.574 15.574s15.574-6.864 15.574-15.574-6.862-15.573-15.574-15.573z"}}]})(e)}function RJ(e){return uO({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M120.998 40.998v37.943C136.22 89.471 146 109.278 146 131.001c0 13.71-3.901 26.65-10.598 36.985 3.465 1.35 7.106 2.85 10.15 4.172l122.352-22.783 5.918 54.842-111.748 23.219c-.862 16.261-2.45 32.262-5.289 51.566h336.217V40.998zM96 88.998c-16.595 0-32.002 17.747-32.002 42.004 0 24.257 15.407 42.002 32.002 42.002 16.595 0 32.002-17.745 32.002-42.002S112.595 88.998 96 88.998zm156.096 81.629l-108.592 20.22c-14.24-5.602-4.956-3.035-21.469-8.517-7.476 5.469-16.33 8.672-26.035 8.672-8.6 0-16.53-2.523-23.428-6.9-8.59 3.564-17.655 8.09-25.736 12.654-12.992 7.338-23.722 13.211-27.838 16.033v130.213h20.004V232h17.996v263.002h30.004V326h17.996v169.002h26.004v-171.84l.154-.824c9.514-50.64 12.588-77.384 13.461-109.656l109.56-22.766zm-98.153 126.375c-.952 5.682-1.991 11.64-3.146 17.996H478v-17.996zM208 344.998c-16.595 0-32.002 17.747-32.002 42.004 0 18.198 8.67 32.73 20.01 38.855 3.599-1.662 7.482-2.706 11.68-2.851 4.633-.16 8.98.767 13.052 2.42 10.968-6.352 19.262-20.63 19.262-38.424 0-24.257-15.407-42.004-32.002-42.004zm112 0c-16.595 0-32.002 17.747-32.002 42.004 0 18.198 8.67 32.73 20.01 38.855 3.599-1.662 7.482-2.706 11.68-2.851 4.633-.16 8.98.767 13.052 2.42 10.968-6.352 19.262-20.63 19.262-38.424 0-24.257-15.407-42.004-32.002-42.004zm112 0c-16.595 0-32.002 17.747-32.002 42.004 0 18.198 8.67 32.73 20.01 38.855 3.599-1.662 7.482-2.706 11.68-2.851 4.633-.16 8.98.767 13.052 2.42 10.968-6.352 19.262-20.63 19.262-38.424 0-24.257-15.407-42.004-32.002-42.004zm-223.688 95.996c-3.844.133-8.907 2.93-14.3 8.785-5.394 5.855-10.696 14.25-15.125 22.76-4.226 8.12-7.609 16.16-10.06 22.463h85.339c-3.04-6.436-7.138-14.549-12.133-22.711-5.298-8.658-11.511-17.138-17.668-22.957-6.157-5.819-11.8-8.487-16.053-8.34zm112 0c-3.844.133-8.907 2.93-14.3 8.785-5.394 5.855-10.696 14.25-15.125 22.76-4.226 8.12-7.609 16.16-10.06 22.463h85.339c-3.04-6.436-7.138-14.549-12.133-22.711-5.298-8.658-11.511-17.138-17.668-22.957-6.157-5.819-11.8-8.487-16.052-8.34zm112 0c-3.844.133-8.907 2.93-14.3 8.785-5.394 5.855-10.696 14.25-15.125 22.76-4.226 8.12-7.609 16.16-10.06 22.463h85.339c-3.04-6.436-7.138-14.549-12.133-22.711-5.298-8.658-11.511-17.138-17.668-22.957-6.157-5.819-11.8-8.487-16.052-8.34z"}}]})(e)}var NJ=function(){var e=(0,s.useState)(!0),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=function(e){return e[e.MODE=0]="MODE",e[e.SCHOOL=1]="SCHOOL",e[e.CLASS=2]="CLASS",e[e.STUDENT=3]="STUDENT",e}({}),c=(0,s.useState)([]),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=(0,s.useState)(),y=(0,i.Z)(g,2),b=y[0],w=y[1],k=(0,s.useState)(),x=(0,i.Z)(k,2),S=x[0],_=x[1],E=(0,s.useState)(),C=(0,i.Z)(E,2),I=C[0],O=C[1],Z=(0,s.useState)(),T=(0,i.Z)(Z,2),A=T[0],P=T[1],R=(0,s.useState)(),N=(0,i.Z)(R,2),j=N[0],L=N[1],D=(0,s.useState)(),M=(0,i.Z)(D,2),F=(M[0],M[1]),B=(0,s.useState)(),U=(0,i.Z)(B,2),z=U[0],V=U[1],H=1,W=[];(0,s.useEffect)((function(){return re(),function(){ie.apply(this,arguments)}(),function(){a(!1)}}),[]);var $=nO.getI().apiHandler,q=nO.getI().authHandler,G=me(),K=(0,s.useState)(u.MODE),Q=(0,i.Z)(K,2),J=Q[0],Y=Q[1],X=(0,s.useState)(!0),ee=(0,i.Z)(X,2),te=ee[0],ne=ee[1],re=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getCurrentUser();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,$.getSchoolsForUser(n);case 7:return r=e.sent,e.next=10,$.getParentStudentProfiles();case 10:if(i=e.sent,r&&!(r.length<1)){e.next=19;break}return $.currentMode=sa.PARENT,VI.setCurrMode(sa.PARENT),console.log(i),i&&0==i.length?G.replace(Do.CREATE_STUDENT):G.replace(Do.DISPLAY_STUDENT),e.abrupt("return");case 19:a(!1);case 20:for(console.log("allSchool",r),o=0;o<r.length;o++)s=r[o],W.push({id:s.docId,displayName:s.name,school:r[o]});O(n),d(W);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ie(){return(ie=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem(Wo),console.log("This is the lang "+n),!n){e.next=5;break}return e.next=5,JC.changeLanguage(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.currentMode=sa.PARENT,e.next=3,$.getParentStudentProfiles();case 3:(n=e.sent)&&0==n.length?G.replace(Do.CREATE_STUDENT):G.replace(Do.DISPLAY_STUDENT),VI.setCurrMode(sa.PARENT);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getClassesForSchool(b,I);case 2:return n=e.sent,console.log("this are the classes "+n),P(n),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getStudentsForClass(n.docId);case 2:if(r=e.sent,console.log("THis are the students "+r),r){e.next=6;break}return e.abrupt("return");case 6:return L(r),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: DisplayStudents.tsx:30 ~ onStudentClick:student",n),e.next=3,HI.setCurrentStudent(n,void 0,!0);case 3:G.replace(Do.HOME);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ce(){var e=Math.floor(37*Math.random());return console.log("This is the random generated value  "+e),e}return(0,Ca.jsxs)(ji,{children:[!o&&(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("div",{children:J===u.MODE&&(0,Ca.jsxs)("div",{className:"select-mode-main",children:[(0,Ca.jsx)("span",{className:"select-mode-text",children:zE("How would you like to join?")}),(0,Ca.jsx)(AJ,{text:zE("Parent"),icon:$q,onClick:oe}),(0,Ca.jsx)(AJ,{text:zE("Teacher"),icon:RJ,onClick:function(){$.currentMode=sa.SCHOOL,VI.setCurrMode(sa.SCHOOL),Y(u.SCHOOL)}})]})}),(0,Ca.jsx)("div",{children:J===u.SCHOOL&&(0,Ca.jsxs)("div",{className:"select-school-main",children:[(0,Ca.jsx)("span",{className:"select-school-text",children:zE("Choose the School")}),(0,Ca.jsx)(nJ,{placeholder:zE("Select the School").toString(),onValueChange:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=f.find((function(e){return e.id===n})))||void 0===r?void 0:r.school){e.next=4;break}return ne(!0),e.abrupt("return");case 4:console.log(i),w(i),m(i.name),_(i.docId),ne(!1),VI.setCurrentSchool(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),optionList:f,width:"26vw",currentValue:S}),(0,Ca.jsx)("button",{className:"okay-btn ".concat(te?"okay-btn-disabled":""),onClick:(0,r.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:return Y(u.CLASS),e.abrupt("return");case 4:case"end":return e.stop()}}),e)}))),disabled:te,children:zE("Okay")})]})}),(0,Ca.jsx)("div",{children:J===u.CLASS&&(0,Ca.jsxs)("div",{className:"class-main",children:[(0,Ca.jsxs)("div",{className:"class-header",children:[(0,Ca.jsx)(qq,{onClicked:function(){Y(u.SCHOOL)}}),(0,Ca.jsx)("div",{className:"schoolname-header",children:v}),(0,Ca.jsx)("div",{className:"right-button"})]}),(0,Ca.jsx)("div",{className:"class-container",children:null===A||void 0===A?void 0:A.map((function(e){return(0,Ca.jsxs)("div",{onClick:(0,r.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return VI.setCurrentClass(e),console.log("This is the selected class "+e),V(e),t.next=7,se(e);case 7:Y(u.STUDENT);case 8:case"end":return t.stop()}}),n)}))),className:"class-avatar",children:[(0,Ca.jsx)("div",{className:"class-avatar-counter",children:H++}),(0,Ca.jsx)("span",{className:"class-name",children:e.name})]},e.docId)}))})]})}),(0,Ca.jsx)("div",{className:"class-main",children:J===u.STUDENT&&(0,Ca.jsxs)("div",{children:[(0,Ca.jsxs)("div",{className:"class-header",children:[(0,Ca.jsx)(qq,{onClicked:function(){Y(u.CLASS)}}),(0,Ca.jsx)("div",{className:"schoolClassname-header",children:v+", "+(null===z||void 0===z?void 0:z.name)}),(0,Ca.jsx)("div",{className:"right-button"})]}),(0,Ca.jsx)("div",{className:"class-container",children:null===j||void 0===j?void 0:j.map((function(e){var t;return(0,Ca.jsxs)("div",{onClick:function(){F(e),ue(e),console.log("This is the selected student "+e.name)},className:"class-avatar",children:[e.image?(0,Ca.jsx)("img",{className:"class-avatar-img",src:e.image,alt:""}):(0,Ca.jsx)("img",{className:"class-avatar-img",src:"assets/avatars/"+(null!==(t=e.avatar)&&void 0!==t?t:oa[ce()])+".png",alt:""}),(0,Ca.jsx)("span",{className:"class-name",children:e.name})]},e.docId)}))})]})})]}),(0,Ca.jsx)(hq,{isLoading:o})]})},jJ=function(e){return e.CHECKING_FOR_UPDATE="Checking for an update",e.COPY_FROM_BUNDLE="Getting ready for an update in the background",e.FOUND_UPDATE="Found a new update",e.DOWNLOADING_THE_UPDATES="Downloading the latest updates",e.ALREADY_UPDATED="Already on the latest version",e.ERROR="Something went wrong",e}({}),LJ={sync:function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i,o,a,s,u,c,l,f,d,h,p,v,m,g,y,b=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=b.length>2&&void 0!==b[2]?b[2]:36e5,wo.dV.isNativePlatform()){e.next=3;break}return e.abrupt("return",!1);case 3:return o=new Date,console.debug("AppUpdater: Starting..."),e.prev=5,e.next=8,DJ();case 8:if(a=e.sent,r(jJ.CHECKING_FOR_UPDATE),console.debug("\ud83d\ude80 ~ file: AppUpdater.ts.ts:91 ~ activeRelease:",JSON.stringify(a)),a){e.next=16;break}return r(jJ.COPY_FROM_BUNDLE),FJ(),console.debug("copying the files from bundle in background"),e.abrupt("return",!1);case 16:if(localStorage.removeItem(ma),s=a.updated,u=new Date(s.getTime()+i),!(new Date<u)){e.next=21;break}throw"Last update was run at '".concat(s.toJSON(),"'. Next update check only due at '").concat(u.toJSON(),"'");case 21:return e.next=23,qJ(n+"/checksum-version.json");case 23:if(c=e.sent){e.next=27;break}throw r(jJ.ERROR),"Unable to get checksum-version from server";case 27:if(a.checksum.id!==c.id){e.next=32;break}return r(jJ.ALREADY_UPDATED),e.next=31,UJ(c.id,new Date);case 31:throw"Latest release already installed (".concat(c.id,")");case 32:return e.next=34,qJ(n+"/checksum.json");case 34:if(l=e.sent){e.next=38;break}throw r(jJ.ERROR),"Unable to get checksum from server";case 38:return r(jJ.FOUND_UPDATE),e.next=41,tY("releases",kS.tP.Data);case 41:return e.next=43,rY("releases/next",kS.tP.Data);case 43:f=(0,be.Z)(new Set(l.files.map((function(e){return e.path.substring(0,e.path.lastIndexOf("/"))})))),d=(0,Xt.Z)(f),e.prev=45,d.s();case 47:if((h=d.n()).done){e.next=53;break}return p=h.value,e.next=51,tY("releases/next/".concat(p),kS.tP.Data);case 51:e.next=47;break;case 53:e.next=58;break;case 55:e.prev=55,e.t0=e.catch(45),d.e(e.t0);case 58:return e.prev=58,d.f(),e.finish(58);case 61:r(jJ.DOWNLOADING_THE_UPDATES),v=[],m=(0,Xt.Z)(l.files),e.prev=64,y=(0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=g.value,a.checksum.files.find((function(e){return e.path===r.path&&e.hash===r.hash}))?v.push(KJ("releases/".concat(a.checksum.id,"/").concat(r.path),"releases/next/".concat(r.path),kS.tP.Data)):v.push(JJ("".concat(n,"/").concat(r.path),"releases/next/".concat(r.path),kS.tP.Data));case 2:case"end":return e.stop()}}),e)})),m.s();case 67:if((g=m.n()).done){e.next=71;break}return e.delegateYield(y(),"t1",69);case 69:e.next=67;break;case 71:e.next=76;break;case 73:e.prev=73,e.t2=e.catch(64),m.e(e.t2);case 76:return e.prev=76,m.f(),e.finish(76);case 79:return e.next=81,Promise.all(v);case 81:return e.next=83,xS.writeFile({path:"releases/next/checksum.json",directory:kS.tP.Data,data:JSON.stringify(l),encoding:kS.ez.UTF8,recursive:!0});case 83:return e.next=85,xS.rename({from:"releases/next",to:"releases/".concat(l.id),directory:kS.tP.Data});case 85:return e.next=87,VJ(l.id);case 87:return e.next=89,WJ(l.id);case 89:return e.abrupt("return",!0);case 92:return e.prev=92,e.t3=e.catch(5),console.log("AppUpdater: Staying on current version.\n\n",e.t3),e.abrupt("return",!1);case 96:return e.prev=96,console.log("AppUpdater: Done in '".concat((new Date).getTime()-o.getTime(),"' milliseconds...")),e.finish(96);case 99:case"end":return e.stop()}}),e,null,[[5,92,96,99],[45,55,58,61],[64,73,76,79]])})));return function(t,n){return e.apply(this,arguments)}}()};function DJ(){return MJ.apply(this,arguments)}function MJ(){return(MJ=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("AppUpdater: Looking for current release."),e.prev=1,e.next=4,xS.readFile({path:"version.json",directory:kS.tP.Data,encoding:kS.ez.UTF8});case 4:if(!(n=e.sent).data){e.next=14;break}return r=JSON.parse(n.data),e.t0=JSON,e.next=10,xS.readFile({path:"releases/".concat(r.id,"/checksum.json"),directory:kS.tP.Data,encoding:kS.ez.UTF8});case 10:return e.t1=e.sent.data,i=e.t0.parse.call(e.t0,e.t1),console.debug("AppUpdater: Found release version '".concat(r.id,"'")),e.abrupt("return",{id:r.id,updated:new Date(r.updated),checksum:i});case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(1),console.debug('AppUpdater: Could not find "version.json", must be a new app install.');case 19:return e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function FJ(){return BJ.apply(this,arguments)}function BJ(){return BJ=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,u,c,l,f,d,h,p,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("AppUpdater: Building initial release from app bundle."),e.prev=1,e.next=4,fetch("http://localhost/checksum.json");case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.next=10,tY("releases",kS.tP.Data);case 10:o=(0,be.Z)(new Set(i.files.map((function(e){return e.path.substring(0,e.path.lastIndexOf("/"))})))),a=(0,Xt.Z)(o),e.prev=12,a.s();case 14:if((s=a.n()).done){e.next=20;break}return u=s.value,e.next=18,tY("releases/".concat(i.id,"/").concat(u),kS.tP.Data);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),a.e(e.t0);case 25:return e.prev=25,a.f(),e.finish(25);case 28:c=Number(null!==(n=localStorage.getItem(ma))&&void 0!==n?n:0),console.log("\ud83d\ude80 ~ file: AppUpdater.ts:289 ~ buildReleaseFromBundle ~ copiedBundleFiles:",c),l=c;case 31:if(!(l<i.files.length)){e.next=43;break}return f=i.files[l],d="http://localhost/".concat(f.path),console.debug("\ud83d\ude80 ~ file: AppUpdater.ts:291 ~ buildReleaseFromBundle ~ alreadyCopied:",l,f.path,JSON.stringify(c)),console.debug("\ud83d\ude80 ~ file: AppUpdater.ts:293 ~ buildReleaseFromBundle ~ continue:",f.path,"total",l,"/",i.files.length),e.next=38,XJ(d,"releases/".concat(i.id,"/").concat(f.path),kS.tP.Data,l+1);case 38:h=e.sent,console.log("\ud83d\ude80 ~ file: AppUpdater.ts:312 ~ buildReleaseFromBundle ~ didDownload:",h,f.path);case 40:l++,e.next=31;break;case 43:return e.next=45,xS.writeFile({path:"releases/".concat(i.id,"/checksum.json"),directory:kS.tP.Data,data:JSON.stringify(i),encoding:kS.ez.UTF8,recursive:!0});case 45:return p=i.id,console.log("\ud83d\ude80 ~ file: AppUpdater.ts:317 ~ buildReleaseFromBundle ~ releaseID:",p),v=new Date(i.timestamp),console.log("\ud83d\ude80 ~ file: AppUpdater.ts:319 ~ buildReleaseFromBundle ~ releaseDate:",v),e.next=51,UJ(p,v);case 51:return e.abrupt("return",{id:p,updated:v,checksum:i});case 54:return e.prev=54,e.t1=e.catch(1),console.error(e.t1),e.next=59,rY("releases",kS.tP.Data);case 59:throw"AppUpdater: Could not build release from bundled.";case 60:case"end":return e.stop()}}),e,null,[[1,54],[12,22,25,28]])}))),BJ.apply(this,arguments)}function UJ(e){return zJ.apply(this,arguments)}function zJ(){return zJ=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:new Date,console.debug("AppUpdater: App configured for release '".concat(n,"'.")),e.next=4,xS.writeFile({path:"version.json",data:JSON.stringify({id:n,updated:r}),directory:kS.tP.Data,encoding:kS.ez.UTF8,recursive:!0});case 4:case"end":return e.stop()}}),e)}))),zJ.apply(this,arguments)}function VJ(e){return HJ.apply(this,arguments)}function HJ(){return(HJ=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("AppUpdater: Deleting old releases."),e.next=3,xS.readdir({path:"releases",directory:kS.tP.Data});case 3:if(!((r=e.sent.files).length>0)){e.next=30;break}i=(0,Xt.Z)(r),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=22;break}if((a=o.value).name===n){e.next=20;break}return e.prev=11,e.next=14,xS.rmdir({path:"releases/".concat(a),directory:kS.tP.Data,recursive:!0});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),console.log("\ud83d\ude80 ~ file: AppUpdater.ts.ts:409 ~ deleteOldReleases ~ error:",e.t0),console.log("\ud83d\ude80 ~ file: AppUpdater.ts.ts:409 ~ deleteOldReleases ~ `releases/${oldRelease}`:","releases/".concat(a));case 20:e.next=8;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(6),i.e(e.t1);case 27:return e.prev=27,i.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[6,24,27,30],[11,16]])})))).apply(this,arguments)}function WJ(e){return $J.apply(this,arguments)}function $J(){return($J=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("AppUpdater: Reloading app to release '".concat(n,"'.")),e.next=3,xS.getUri({path:"releases/".concat(n),directory:kS.tP.Data});case 3:return r=e.sent,e.next=6,UJ(n,new Date);case 6:if("android"!==wo.dV.getPlatform()){e.next=11;break}return e.next=9,wo.kh.setServerBasePath({path:r.uri.replace("file://","")});case 9:e.next=13;break;case 11:return e.next=13,wo.kh.setServerBasePath({path:r.uri.replace("file://","")});case 13:return e.next=15,wo.kh.persistServerBasePath();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qJ(e){return GJ.apply(this,arguments)}function GJ(){return(GJ=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.debug("AppUpdater: Getting latest release checksum from '".concat(n,"'")),e.prev=1,e.next=4,wo.kv.request({url:n,method:"GET",responseType:"json"});case 4:if(r=e.sent,console.log("\ud83d\ude80 ~ file: AppUpdater.ts:519 ~ getServerChecksum ~ res:",JSON.stringify(r)),!r||200!==r.status||!r.data){e.next=9;break}return console.log("\ud83d\ude80 ~ file: AppUpdater.ts:524 ~ getServerChecksum ~ res.data:",r.status,r.data),e.abrupt("return",r.data);case 9:console.log("\ud83d\ude80 ~ file: AppUpdater.ts:526 ~ getServerChecksum ~ res.data:",r.status,r.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.debug("AppUpdater: Could not download and parse server checksum.\n\n",e.t0);case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function KJ(e,t,n){return QJ.apply(this,arguments)}function QJ(){return(QJ=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xS.copy({from:n,to:r,directory:i});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: AppUpdater.ts.ts:474 ~ error:",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function JJ(e,t,n){return YJ.apply(this,arguments)}function YJ(){return YJ=(0,r.Z)((0,t.Z)().mark((function e(n,r,i){var o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.debug("AppUpdater: Download from Server:".concat(n," '").concat(r,"'")),e.next=4,xS.downloadFile({url:n,path:r,method:"GET",directory:i,connectTimeout:1e4,readTimeout:1e4});case 4:o=e.sent,console.debug("\ud83d\ude80 ~ file: AppUpdater.ts.ts:540 ~ result:",o.path),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("\ud83d\ude80 ~ file: AppUpdater.ts.ts:526 ~ error:",JSON.stringify(e.t0),e.t0,"      url: ",n,"path: ",r,"directory",i);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),YJ.apply(this,arguments)}function XJ(e,t,n,r){return eY.apply(this,arguments)}function eY(){return eY=(0,r.Z)((0,t.Z)().mark((function e(n,r,i,o){var a,s,u,c,l,f,d,h,p,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.debug("AppUpdater: Download from Bundle:,".concat(n," '").concat(r,"'")),e.prev=1,!r.endsWith(".html")){e.next=15;break}return e.next=5,fetch(n);case 5:return s=e.sent,e.next=8,s.text();case 8:u=e.sent,c=u.indexOf("<head>")+6,l=u.indexOf("<\/script>")+9,u=u.substring(0,c)+u.substring(l),a=btoa(u),e.next=35;break;case 15:if(!r.endsWith(".svg")){e.next=25;break}return e.next=18,fetch(n);case 18:return f=e.sent,e.next=21,f.text();case 21:d=e.sent,a=btoa(d),e.next=35;break;case 25:return e.next=27,fetch(n);case 27:return h=e.sent,e.next=30,h.blob();case 30:return p=e.sent,console.log("\ud83d\ude80 ~ file: AppUpdater.ts.ts:644 ~ blob:",p,n,JSON.stringify(p)),e.next=34,new Promise((function(e,t){var n=new FileReader;n.onerror=t,n.onload=function(){e(n.result)},n.readAsDataURL(p)}));case 34:a=e.sent;case 35:if(!r.endsWith(".svg")){e.next=42;break}return e.next=38,xS.writeFile({path:r,directory:i,data:a});case 38:v=e.sent,console.log("\ud83d\ude80 ~ file: AppUpdater.ts.ts:690 ~ x:",v.uri),e.next=50;break;case 42:return e.prev=42,e.next=45,xS.writeFile({path:r,directory:i,data:a});case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(42),console.log("\ud83d\ude80 ~ file: AppUpdater.ts:713 ~ error:",e.t0);case 50:console.log("\ud83d\ude80 ~ file: AppUpdater.ts:694 ~ copiedBundleFiles:",o),localStorage.setItem(ma,o.toString()),e.next=58;break;case 54:return e.prev=54,e.t1=e.catch(1),console.debug("AppUpdater: Could not copy '".concat(r,"' from app bundle"),n,e.t1),e.abrupt("return",!1);case 58:return e.abrupt("return",!0);case 59:case"end":return e.stop()}}),e,null,[[1,54],[42,47]])}))),eY.apply(this,arguments)}function tY(e,t){return nY.apply(this,arguments)}function nY(){return nY=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,xS.mkdir({path:n,directory:r,recursive:!0});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.debug("AppUpdater: Directory '".concat(n,"' already exists"));case 10:case"end":return e.stop()}}),e,null,[[2,7]])}))),nY.apply(this,arguments)}function rY(e,t){return iY.apply(this,arguments)}function iY(){return iY=(0,r.Z)((0,t.Z)().mark((function e(n,r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return console.debug("AppUpdater: Removing '".concat(n,"' directory")),e.prev=3,e.next=6,xS.rmdir({path:n,directory:r,recursive:!0});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.debug("AppUpdater: Directory '".concat(n,"' already removed"));case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),iY.apply(this,arguments)}var oY=function(){var e=me(),n=(0,s.useState)(jJ.CHECKING_FOR_UPDATE),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,wo.dV.isNativePlatform()){e.next=4;break}return l(),e.abrupt("return");case 4:return e.next=6,BI.getBoolean(UI.CAN_HOT_UPDATE);case 6:if(n=e.sent,r="https://chimple-prod-hot-update.web.app/v2/",n&&r){e.next=11;break}return l(),e.abrupt("return");case 11:return e.next=13,LJ.sync(r,(function(e){u(e)}));case 13:e.sent,l(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),l();case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),l=function(){void 0==localStorage.getItem(Wo)?e.replace(Do.APP_LANG_SELECTION):e.replace(Do.HOME)};return(0,s.useEffect)((function(){c()}),[]),(0,Ca.jsxs)(ji,{id:"app-update",children:[(0,Ca.jsx)("img",{className:"hot-update-loading",src:"assets/loading.gif"}),(0,Ca.jsx)("br",{}),(0,Ca.jsx)("p",{children:zE(a)})]})},aY=function(){var e=me();(0,s.useEffect)((function(){n()}),[]);var n=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=null===(r=nO.getI())||void 0===r?void 0:r.authHandler,t.next=4,null===i||void 0===i?void 0:i.getCurrentUser();case 4:o=t.sent,console.log("currentUser",o),o?o.tcAccept&&e.replace(Do.SELECT_MODE):e.replace(Do.LOGIN),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Error:",t.t0);case 12:case"end":return t.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),i=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nO.getI().authHandler.getCurrentUser();case 2:if(r=t.sent,console.log("current user",r),!r){t.next=8;break}return t.next=7,nO.getI().apiHandler.updateTcAccept(r,!0);case 7:e.replace(Do.SELECT_MODE);case 8:case"end":return t.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("div",{className:"tc-content",children:(0,Ca.jsx)("iframe",{src:"assets/termsandconditions/TermsandConditionsofChimple.html",title:"Web Page",allowFullScreen:!0,style:{height:"80vh",width:"100%",border:"none"}})}),(0,Ca.jsx)("div",{className:"button-content",children:(0,Ca.jsx)("div",{className:"tc-agree-button",onClick:i,children:(0,Ca.jsx)("p",{className:"agree-text",children:zE("Agree")})})})]})},sY={},uY={},cY=function(){var e=function(e){return e[e.SUBJECTS=0]="SUBJECTS",e[e.CHAPTERS=1]="CHAPTERS",e[e.LESSONS=2]="LESSONS",e}({}),n=(0,s.useState)(e.SUBJECTS),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=(0,s.useState)(!0),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(),p=(0,i.Z)(h,2),v=(p[0],p[1]),m=(0,s.useState)(),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=(0,s.useState)(),k=(0,i.Z)(w,2),x=k[0],S=k[1],_=(0,s.useState)(),E=(0,i.Z)(_,2),C=(E[0],E[1]),I=(0,s.useState)(),O=(0,i.Z)(I,2),Z=O[0],T=O[1],A=(0,s.useState)(),P=(0,i.Z)(A,2),R=P[0],N=P[1],j=(0,s.useState)(),L=(0,i.Z)(j,2),D=L[0],M=L[1],F=(0,s.useState)(),B=(0,i.Z)(F,2),U=B[0],z=B[1],V=me(),H=ge(),W=nO.getI().apiHandler,$=new URLSearchParams(H.search).get("courseDocId"),q=null===R||void 0===R?void 0:R.courses.find((function(e){return $==e.docId}));(0,s.useEffect)((function(){G()}),[]),(0,s.useEffect)((function(){if(q&&!y&&X(q),(!R||!R.grades)&&y){d(!0);var e=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getDifferentGradesForCourse(y);case 2:n=e.sent,r=n.grades,sY.gradesMap={grades:r,courses:[y]},uY.gradesMap=sY.gradesMap,Q(),N({grades:r,courses:[y]}),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}console.log("chapters",y),console.log("local grade map",R)}),[q,R,y]);var G=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(){var r,i,o,a,s,c,l,f,h,p,m,g,y,w;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new URLSearchParams(H.search),console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:47 ~ init ~ urlParams:",r.get(Po)),console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:68 ~ init ~ localData:",sY),!(r.get(Po)&&sY.currentCourse&&sY.currentGrade&&sY.currentChapter)){t.next=31;break}if(v(sY.courses),T(sY.lessons),M(sY.currentGrade),b(sY.currentCourse),S(sY.currentChapter),!sY.lessonResultMap){t.next=13;break}z(sY.lessonResultMap),t.next=23;break;case 13:return t.next=15,HI.getCurrentStudent();case 15:if(!(i=t.sent)){t.next=23;break}return t.next=19,W.getStudentResult(i.docId,!0);case 19:o=t.sent,a=null===o||void 0===o?void 0:o.lessons,sY.lessonResultMap=a,z(a);case 23:sY.localGradeMap&&N(sY.localGradeMap),uY.lessonResultMap=sY.lessonResultMap,uY.stage=e.LESSONS,Q(),u(e.LESSONS),d(!1),t.next=55;break;case 31:if(!r.get("isReload")){t.next=52;break}if(!(s=localStorage.getItem(Ko))){t.next=47;break}if(!(uY=JSON.parse(s)).courses){t.next=42;break}if(c=HI.convertCourses(uY.courses),sY.courses=c,v(c),uY.stage&&uY.stage!==e.SUBJECTS&&uY.currentCourseId){if(u(uY.stage),l=sY.courses.find((function(e){return uY.currentCourseId===e.docId})),(f=K())&&uY.currentGrade&&(sY.currentGrade=uY.currentGrade,M(uY.currentGrade),(h=null===f||void 0===f?void 0:f.courses.find((function(e){return e.grade.id===sY.currentGrade.docId})))&&(l=h)),sY.currentCourse=l,b(l),uY.currentChapterId&&(p=sY.currentCourse.chapters.find((function(e){return uY.currentChapterId===e.id})),sY.currentChapter=p,S(p)),uY.lessonResultMap){for(m=uY.lessonResultMap,g=0,y=Object.values(m);g<y.length;g++)(w=y[g]).course&&(w.course=HI.getRef(w.course));sY.lessonResultMap=m,z(m)}uY.stage===e.LESSONS?Y(sY.currentChapter):d(!1)}else d(!1);t.next=45;break;case 42:return t.next=44,J();case 44:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:127 ~ init ~ getCourses:");case 45:t.next=50;break;case 47:return t.next=49,J();case 49:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:126 ~ init ~ getCourses:");case 50:t.next=55;break;case 52:return t.next=54,J();case 54:console.log("\ud83d\ude80 ~ file: DisplaySubjects.tsx:131 ~ init ~ getCourses:");case 55:K();case 56:case"end":return t.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function K(){var e=localStorage.getItem(Go);if(e){var t=JSON.parse(e),n=HI.convertCourses(t.courses);return t.courses=n,N(t),t}}function Q(){localStorage.setItem(Ko,JSON.stringify(uY))}var J=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,HI.getCurrentStudent();case 3:if(n=e.sent){e.next=7;break}return V.replace(Do.SELECT_MODE),e.abrupt("return",[]);case 7:return(r=VI.getCurrentClass())&&C(r),e.next=11,W.getStudentResultInMap(n.docId);case 11:return i=e.sent,console.log("tempResultLessonMap = res;",i),sY.lessonResultMap=i,uY.lessonResultMap=i,z(i),e.next=18,VI.getCurrMode();case 18:return o=e.sent,e.next=21,o===sa.SCHOOL&&r?W.getCoursesForClassStudent(r):W.getCoursesForParentsStudent(n);case 21:return a=e.sent,sY.courses=a,uY.courses=a,v(a),Q(),d(!1),e.abrupt("return",a);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),n){e.next=4;break}return d(!1),e.abrupt("return",[]);case 4:return e.prev=4,e.next=7,W.getLessonsForChapter(n);case 7:return r=e.sent,sY.lessons=r,T(r),d(!1),e.abrupt("return",r);case 14:return e.prev=14,e.t0=e.catch(4),console.error("Error fetching lessons:",e.t0),d(!1),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){var i,o;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getDifferentGradesForCourse(r);case 2:i=t.sent,o=i.grades.find((function(e){return e.docId===r.grade.id})),localStorage.setItem(Go,JSON.stringify(i)),sY.currentGrade=null!==o&&void 0!==o?o:i.grades[0],uY.currentGrade=sY.currentGrade,sY.gradesMap=i,uY.gradesMap=sY.gradesMap,sY.currentCourse=r,uY.currentCourseId=r.docId,M(null!==o&&void 0!==o?o:i.grades[0]),N(i),b(r),uY.stage=e.CHAPTERS,Q(),u(e.CHAPTERS);case 17:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ee=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===R||void 0===R?void 0:R.courses.find((function(e){return e.grade.id===n.docId})),sY.currentGrade=n,uY.currentGrade=n,Q(),M(n),b(r),sY.currentCourse=r,uY.currentCourse=r;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var n=(0,r.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(r);case 2:sY.currentChapter=r,uY.currentChapterId=r.id,S(r),uY.stage=e.LESSONS,Q(),u(e.LESSONS);case 8:case"end":return t.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return f?(0,Ca.jsx)(xq,{isLoading:f,header:Do.DISPLAY_CHAPTERS,isChapter:a!=e.CHAPTERS}):(0,Ca.jsxs)(ji,{id:"display-chapters-page",children:[(0,Ca.jsxs)("div",{className:"chapters-header",children:[(0,Ca.jsx)("div",{id:"back-button-container",children:(0,Ca.jsx)(qq,{onClicked:function(){switch(a){case e.CHAPTERS:delete sY.currentChapter,delete uY.currentChapterId,S(void 0),uY.stage=e.SUBJECTS,Q(),localStorage.removeItem(Ko),HI.setPathToBackButton(Do.HOME,V);break;case e.LESSONS:delete sY.lessons,T(void 0),uY.stage=e.CHAPTERS,Q(),u(e.CHAPTERS)}}})}),(0,Ca.jsx)("div",{className:"chapter-header",children:(0,Ca.jsx)(ki,{lines:"none",children:(0,Ca.jsx)("div",{className:"chapter-name",children:a===e.CHAPTERS?y?zE(null===y||void 0===y?void 0:y.title):"":x?zE(null===x||void 0===x?void 0:x.title):""})})}),R&&D&&a===e.CHAPTERS&&(0,Ca.jsx)(nJ,{currentValue:null===D||void 0===D?void 0:D.docId,optionList:R.grades.map((function(e){return{displayName:e.title,id:e.docId}})),placeholder:"",onValueChange:function(e){var t=R.grades.find((function(t){return t.docId===e}));ee(null!==t&&void 0!==t?t:D)},width:"15vw"}),a!==e.CHAPTERS&&(0,Ca.jsx)("div",{className:"button-right"})]}),(0,Ca.jsx)("div",{className:"chapters-content",children:a===e.CHAPTERS&&y&&R&&D&&(0,Ca.jsx)("div",{children:(0,Ca.jsx)(wJ,{chapters:y.chapters,onChapterChange:te,currentGrade:D,grades:R?R.grades:R,onGradeChange:ee,course:y,currentChapterId:null===x||void 0===x?void 0:x.id})})}),a===e.LESSONS&&Z&&(0,Ca.jsx)("div",{className:"slider-container",children:(0,Ca.jsx)(ND,{lessonData:Z,isHome:!0,course:y,lessonsScoreMap:U||{},startIndex:function(){var e,t=0;return U&&(null===Z||void 0===Z||Z.forEach((function(n,r){var i=U[n.docId];i&&(e?U[n.docId].date>e&&(e=i.date,t=r):(e=U[n.docId].date,t=r))}))),t}(),showSubjectName:!1,showChapterName:!1})})]})},lY=function(e){var t,n=e.student,r=e.onClicked,i=e.width,o=e.namePosition,a=void 0===o?"below":o,s=e.nameLabel,u={display:"flex",flexDirection:"above"===a||"below"===a?"column":"row",alignItems:"center",cursor:"pointer",fontSize:"var(--text-size)",color:"var(--text-color)"},c={whiteSpace:"nowrap",display:"right"===a||"left"===a?"inline-block":"block",textOverflow:"ellipsis",overflow:"hidden",marginLeft:"right"===a?"7.8vw":"0",maxWidth:"7vw"};return(0,Ca.jsxs)("div",{onClick:function(){return r(n)},style:u,className:"student-avatar-".concat(a),children:["above"===a&&(0,Ca.jsx)("span",{style:c,className:"student-avatar-name-above",children:n.name}),(0,Ca.jsx)("img",{style:{width:i},className:"student-avatar-img",src:"assets/avatars/"+(null!==(t=n.avatar)&&void 0!==t?t:oa[0])+".png",alt:""}),("right"===a||"left"===a)&&(0,Ca.jsxs)("span",{style:c,className:"student-avatar-name-".concat(a),children:[n.name," ",s]}),"below"===a&&(0,Ca.jsxs)("span",{style:c,className:"student-avatar-name-below",children:[n.name," ",s]})]})},fY=n(3021),dY=n.n(fY),hY=function(){var e,n,o,a,u=(0,s.useState)(new Map),c=(0,i.Z)(u,2),l=c[0],f=c[1],d=(0,s.useState)([]),h=(0,i.Z)(d,2),p=h[0],v=h[1],m=(0,s.useState)([]),g=(0,i.Z)(m,2),y=g[0],b=g[1],w=(0,s.useState)(),k=(0,i.Z)(w,2),x=k[0],S=k[1],_=GI.getInstance(),E=me(),C=null!==(e=new URLSearchParams(window.location.search).get("assignmentId"))&&void 0!==e?e:"",I=(0,s.useState)(!1),O=(0,i.Z)(I,2),Z=O[0],T=O[1],A=(0,s.useState)(!1),P=(0,i.Z)(A,2),R=P[0],N=P[1],j=(0,s.useState)(),L=(0,i.Z)(j,2),D=L[0],M=L[1],F=(0,s.useState)(),B=(0,i.Z)(F,2),U=B[0],z=B[1],V=(0,s.useState)(!0),H=(0,i.Z)(V,2),W=H[0],$=H[1],q=cN(),G=q.online,K=q.presentToast,Q=null!==(n=E.location.state)&&void 0!==n?n:{};(0,s.useEffect)((function(){J()}),[]);var J=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,s,u,c,d,h,m,g,y,w,k,x,E,I,O,Z,T,A;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($(!0),c=HI.getCurrentStudent()){e.next=4;break}return e.abrupt("return");case 4:if(null!==Q&&void 0!==Q&&Q.assignment&&null!==(h=JSON.parse(Q.assignment))&&void 0!==h&&h.assigner&&null!==h&&void 0!==h&&h.class&&null!==h&&void 0!==h&&h.lesson&&null!==h&&void 0!==h&&h.school&&null!==h&&void 0!==h&&h.course&&(h.assigner=HI.getRef(null===h||void 0===h?void 0:h.assigner),h.class=HI.getRef(null===h||void 0===h?void 0:h.class),h.lesson=HI.getRef(null===h||void 0===h?void 0:h.lesson),h.school=HI.getRef(null===h||void 0===h?void 0:h.school),h.course=HI.getRef(null===h||void 0===h?void 0:h.course),d=h),d){e.next=9;break}return e.next=8,_.getAssignmentById(C);case 8:d=e.sent;case 9:return o=null===(n=d)||void 0===n?void 0:n.lesson,a=null===(r=d)||void 0===r?void 0:r.course,e.next=13,_.getLesson(o.id,void 0,!0,d);case 13:return(m=e.sent)&&M(m),e.next=17,_.getCourse(null===(i=a)||void 0===i?void 0:i.id);case 17:if((g=e.sent)&&z(g),null!==(s=d)&&void 0!==s&&null!==(u=s.lesson)&&void 0!==u&&u.id){e.next=21;break}return e.abrupt("return");case 21:return S(d),Y(d.lesson.id),e.next=25,_.isStudentLinked(c.docId,!0);case 25:if(e.sent){e.next=28;break}return e.abrupt("return");case 28:return e.next=30,_.getStudentResult(c.docId);case 30:if((y=e.sent)&&y.classes&&!(y.classes.length<1)){e.next=33;break}return e.abrupt("return");case 33:if(w=y.classes[0]){e.next=36;break}return e.abrupt("return");case 36:return e.next=38,_.getStudentsForClass(w);case 38:k=e.sent,x=new Map,E=(0,Xt.Z)(k);try{for(E.s();!(I=E.n()).done;)O=I.value,x.set(O.docId,O)}catch(t){E.e(t)}finally{E.f()}f(x),Z=null!==x&&void 0!==x?x:l,[],(T=p).length<1&&d&&d.completedStudents&&d.completedStudents.length>0&&(T=d.completedStudents.map((function(e){return Z.get(e)})).filter((function(e){return!!e}))),console.log("\ud83d\ude80 ~ file: LiveQuizRoom.tsx:98 ~ hasPlayedBefore ~ tempPrevPlayedStudents:",T),A=Array.from(Z.values()).filter((function(e){return!T.some((function(t){return t.docId===e.docId}))})),v(T),b(A),$(!1);case 52:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI.downloadZipBundle([n]);case 2:r=e.sent,console.log("\ud83d\ude80 ~ file: LiveQuizRoom.tsx:103 ~ downloadQuiz ~ dow:",r),T(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n,r){var i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\ud83d\ude80 ~ file: LiveQuizRoom.tsx:111 ~ joinQuiz ~ assignmentId:",r),console.log("\ud83d\ude80 ~ file: LiveQuizRoom.tsx:111 ~ joinQuiz ~ studentId:",n),N(!0),e.next=5,_.joinLiveQuiz(n,r);case 5:if(i=e.sent,console.log("\ud83d\ude80 ~ file: LiveQuizRoom.tsx:108 ~ joinQuiz ~ res:",i),i&&G){e.next=13;break}return N(!1),E.replace(Do.LIVE_QUIZ_JOIN),e.abrupt("return");case 13:return E.replace(Do.LIVE_QUIZ_GAME+"?liveRoomId="+i),N(!1),e.abrupt("return");case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,Ca.jsxs)(ji,{className:"live-quiz-room-page",children:[(0,Ca.jsxs)("div",{className:"livequiz-room-header",children:[(0,Ca.jsx)("div",{className:"livequiz-back-button",children:(0,Ca.jsx)(qq,{onClicked:function(){HI.setPathToBackButton(Do.HOME,E)}})}),(0,Ca.jsxs)("div",{className:"main-header-text",children:[(0,Ca.jsx)("p",{id:"header-text-1",children:zE("Live Challenge")}),(0,Ca.jsx)("p",{id:"header-text-2",children:(null===U||void 0===U?void 0:U.title)+" | "+(null===D||void 0===D?void 0:D.chapterTitle)+" | "+(null===D||void 0===D?void 0:D.title)})]}),(0,Ca.jsx)("div",{})]}),(0,Ca.jsx)("div",{className:"outcome",children:(0,Ca.jsx)("p",{id:"outcome-text",children:null===D||void 0===D?void 0:D.outcome})}),(0,Ca.jsxs)("div",{className:"students-container",children:[(0,Ca.jsxs)("div",{className:"played-students",children:[(0,Ca.jsx)("div",{className:"status-text-container",children:(0,Ca.jsx)("p",{className:"status-text-1",children:zE("Already Played")})}),(0,Ca.jsx)("div",{className:"student-container-1",style:{justifyContent:p.length>0?p.length>3?"space-between":"space-evenly":"center"},children:W?(0,Ca.jsx)(xq,{isLoading:W,header:Do.LIVE_QUIZ_JOIN}):p.length>0?p.sort((function(e,t){var n,r,i=(null===x||void 0===x||null===(n=x.results[e.docId])||void 0===n?void 0:n.score)||0;return((null===x||void 0===x||null===(r=x.results[t.docId])||void 0===r?void 0:r.score)||0)-i})).map((function(e,t){var n;return(0,Ca.jsxs)("div",{className:"student-avatar-container",children:[t<3&&(0,Ca.jsx)("div",{className:"top-performer-circle color-".concat(t+1),children:t+1}),(0,Ca.jsxs)("div",{className:"student-avatar-container",children:[(0,Ca.jsx)(lY,{student:e,onClicked:function(){},width:70,namePosition:"below"}),!(null===x||void 0===x||!x.results)&&(0,Ca.jsx)("p",{className:"student-score",children:Math.round(null===(n=x.results[e.docId])||void 0===n?void 0:n.score)})]})]},e.docId)})):(0,Ca.jsx)("p",{id:"container-text",children:zE("No students have played yet.")})})]}),(0,Ca.jsxs)("div",{className:"not-played-students",children:[(0,Ca.jsx)("div",{className:"status-text-container-2",children:(0,Ca.jsx)("p",{className:"status-text-2",children:zE("Not Played")})}),(0,Ca.jsx)("div",{className:"student-container-2",style:{justifyContent:y.length>0?y.length>3?"space-between":"space-evenly":"center"},children:W?(0,Ca.jsx)(xq,{isLoading:W,header:Do.LIVE_QUIZ_JOIN}):y.map((function(e){var t;return(0,Ca.jsxs)("div",{className:"student-avatar-container",children:[e.docId===(null===(t=HI.getCurrentStudent())||void 0===t?void 0:t.docId)&&(0,Ca.jsx)("div",{className:"green-circle",children:(0,Ca.jsx)(ZG,{color:"white"})}),(0,Ca.jsx)(lY,{student:e,onClicked:function(){},width:70,namePosition:"below"},e.docId)]},e.docId)}))})]})]}),(0,Ca.jsx)("div",{className:"button-container",children:Z?(0,Ca.jsx)(bi,{size:"default",color:"green",className:"join-button",shape:"round",id:"button-inner",disabled:!Z||R,onClick:function(){var e;G?null!==x&&void 0!==x&&x.docId&&X(null===(e=HI.getCurrentStudent())||void 0===e?void 0:e.docId,x.docId):K({message:zE("Device is offline. Cannot join live quiz"),color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]})},children:zE(R?"Joining...":"Join Now")}):(0,Ca.jsx)(dY(),{color:"#8fc93c",height:26,width:143,loading:!Z})})]})},pY=n(4801),vY=n.n(pY);function mY(e){return(0,Ca.jsx)("div",{className:"radial-separator",style:{transform:"rotate(".concat(e.turns,"turn)")},children:(0,Ca.jsx)("div",{className:"radial-separator-child"})})}var gY,yY=function(e){var t=1/e.count;return vY().range(e.count).map((function(n){return(0,Ca.jsx)(mY,{turns:n*t,style:e.style},n)}))},bY=function(e){var t,n=e.startsAt,r=e.onTimeOut,o=(0,s.useState)(null),a=(0,i.Z)(o,2),u=a[0],c=a[1],l=(0,s.useState)(0),f=(0,i.Z)(l,2),d=f[0],h=f[1];return(0,s.useEffect)((function(){var e=Math.ceil((n.toDate().getTime()-(new Date).getTime())/1e3);h(e<0?0:e);var t=setInterval((function(){var e=function(){var e=(new Date).getTime(),t=n.toDate(),r=Math.max(0,t.getTime()-e);return Math.ceil(r/1e3)}();0===e&&(r(),clearInterval(t)),c(e)}),1e3);return function(){clearInterval(t)}}),[n]),(0,Ca.jsx)("div",{className:"live-quiz-countdown-container",children:null!==u&&u>=0?(0,Ca.jsxs)(Ca.Fragment,{children:[(0,Ca.jsx)("p",{className:"live-quiz-countdown-header",children:JC.t("Please wait. Quiz will be starting soon")}),(0,Ca.jsx)("div",{className:"dashed-progress-container",children:(0,Ca.jsx)("div",{className:"dashed-progressbar",children:(0,Ca.jsxs)(zF,{value:null!==(t=Math.max(0,100*(1-u/d)))&&void 0!==t?t:0,strokeWidth:10,styles:VF({strokeLinecap:"butt"}),children:[(0,Ca.jsx)(yY,{count:d>60?60:d}),(0,Ca.jsxs)("div",{className:"live-quiz-countdown-text",children:[(0,Ca.jsx)("p",{children:u}),(0,Ca.jsx)("p",{children:JC.t("sec").toUpperCase()})]})]})})})]}):null})},wY=30;function kY(e){return uO({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 001.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06zM18.584 5.106a.75.75 0 011.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 11-1.06-1.06 8.25 8.25 0 000-11.668.75.75 0 010-1.06z"}},{tag:"path",attr:{d:"M15.932 7.757a.75.75 0 011.061 0 6 6 0 010 8.486.75.75 0 01-1.06-1.061 4.5 4.5 0 000-6.364.75.75 0 010-1.06z"}}]})(e)}var xY={},SY=function(e){var n,o,a,u,c,l,f,d=e.roomDoc,h=e.onNewQuestionChange,p=e.onQuizEnd,v=e.onConfigLoaded,m=e.showQuiz,g=e.onRemainingTimeChange,y=e.onShowAnswer,b=(null!==(n=localStorage.getItem("gameUrl"))&&void 0!==n?n:"http://localhost/_capacitor_file_/storage/emulated/0/Android/data/org.chimple.bahama/files/")+d.lesson.id,w=(0,s.useState)(),k=(0,i.Z)(w,2),x=k[0],S=k[1],_=(0,s.useState)(),E=(0,i.Z)(_,2),C=E[0],I=E[1],O=(0,s.useState)(wY),Z=(0,i.Z)(O,2),T=Z[0],A=Z[1],P=(0,s.useState)(!0),R=(0,i.Z)(P,2),N=R[0],j=R[1],L=(0,s.useState)(!1),D=(0,i.Z)(L,2),M=D[0],F=D[1],B=(0,s.useState)(),U=(0,i.Z)(B,2),z=U[0],V=U[1],H=me(),W=HI.getCurrentStudent(),$=nO.getI().apiHandler;(0,s.useEffect)((function(){if(d){if(W)return xY={},q(),function(){re()};H.replace(Do.HOME)}}),[]),(0,s.useEffect)((function(){Q()}),[C]),(0,s.useEffect)((function(){G()}),[d]),(0,s.useEffect)((function(){m&&void 0===C&&x&&K(x,!0)}),[m]);var q=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return",x);case 2:if(wo.dV.isNativePlatform()){e.next=9;break}return te(n={data:[{options:[{text:"Lion",isCorrect:!0},{text:"Tiger"},{text:"Elephant"},{text:"Giraffe"}],optionsType:"text",question:{id:"question_1",text:"Which animal is known as the king of the jungle?"},questionType:"audio"},{options:[{text:"Blue"},{text:"Orange"},{text:"red",isCorrect:!0},{text:"Pink"}],optionsType:"text",question:{id:"question_2",text:" What is the colour of an apple?"},questionType:"text"},{options:[{text:"7",isCorrect:!0},{text:"8"},{text:"5"},{text:"6"}],optionsType:"text",question:{id:"question_3",text:"How many days are there in a week?"},questionType:"text"},{options:[{text:"X"},{text:"T"},{text:"K",isCorrect:!0},{text:"P"}],optionsType:"text",question:{id:"question_4",text:"Fill in the blanks? H, I, J, _,L, M, N"},questionType:"text"},{options:[{text:"E,K,S,T,P"},{text:"A,E,I,O,U",isCorrect:!0},{text:"A,O,T,S,Y"},{text:"O,I,V,Z,E"}],optionsType:"text",question:{id:"question_5",text:"Which are vowels?"},questionType:"text"},{options:[{text:"Kitten",isCorrect:!0},{text:"Puppy"},{text:"Cub"},{text:"Joey"}],optionsType:"text",question:{id:"question_6",text:"A baby cat is called _"},questionType:"text"}],type:"multiOptions"}),S(n),v&&v(n),void 0==C&&m&&K(n,!0),e.abrupt("return",n);case 9:return e.next=11,fetch(b+"/config.json");case 11:if((r=e.sent).ok){e.next=14;break}throw new Error("Failed to fetch config file. Status: ".concat(r.status));case 14:return e.next=16,r.json();case 16:return i=e.sent,console.log("\ud83d\ude80 ~ file: LiveQuizQuestion.tsx:24 ~ getConfigJson ~ jsonData:",i),S(i),v&&v(i),e.abrupt("return",i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){if(d&&void 0!==C){var e=d.results;if(e)Object.values(e).reduce((function(e,t){return t[t.length-1].id===(null===x||void 0===x?void 0:x.data[C].question.id)?e+1:e}),0)===d.participants.length&&(clearInterval(gY),K())}},K=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o=arguments;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]&&o[1],i=n||x){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,re();case 6:if(r){e.next=11;break}return F(!0),y&&y(!0),e.next=11,new Promise((function(e){return setTimeout(e,2e3)}));case 11:I((function(e){var t;if(e===i.data.length-1)return p&&(p(),Y()),e;var n=null==e?0:e+1,r=null===(t=i.data[n])||void 0===t?void 0:t.question;return null!==r&&void 0!==r&&r.audio&&ee(r),n}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){null!=C&&(h&&h(C),j(!0),F(!1),y&&y(!1),V(void 0),A(wY),g&&g(wY),console.log("\ud83d\ude80 ~ file: LiveQuizQuestion.tsx:203 ~ onQuestionChange ~ questionInterval:",gY),gY&&clearInterval(gY),gY=setInterval((function(){A((function(e){var t;0===e&&(clearInterval(gY),console.log("\ud83d\ude80 ~ file: LiveQuizQuestion.tsx:168 ~ onTimeOut ~ onTimeOut:"),K(t));var n=e-1;return g&&g(n),n}))}),1e3))};function J(e,t,n){if(!e)return 0;var r=100/t;return r/2+Math.max(0,r/2-r/2*(n/wY))}function Y(){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,r=0,i=(null===x||void 0===x?void 0:x.data.length)||0,o=0,d.results){e.next=6;break}return e.abrupt("return");case 6:a=(0,Xt.Z)(d.results[W.docId]);try{for(a.s();!(s=a.n()).done;)u=s.value,n+=u.score||0,r+=u.timeSpent||0,u.score>0&&o++}catch(t){a.e(t)}finally{a.f()}return e.next=10,$.updateResult(W,d.course.id,d.lesson.id,n,o,i-o,r,void 0,d.assignment.id,d.class.id,d.school.id);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:if(!n.audio){e.next=15;break}if(!xY[n.audio]){e.next=9;break}return e.next=7,xY[n.audio].play();case 7:e.next=12;break;case 9:return r=ne(n.audio),e.next=12,r.play();case 12:xY[n.audio].play(),e.next=18;break;case 15:if(!n.text){e.next=18;break}return e.next=18,$F.speak({text:n.text});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: LiveQuizQuestion.tsx:348 ~ error:",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,Xt.Z)(n.data);try{for(r.s();!(i=r.n()).done;)(o=i.value).question.audio&&(ne(o.question.audio),o.options.forEach((function(e){e.audio&&ne(e.audio)})))}catch(t){r.e(t)}finally{r.f()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){var t=e;wo.dV.isNativePlatform()&&(t=b+"/"+e);var n=new Audio(t);return n.preload="auto",n.load(),xY[e]=n,n},re=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$F.stop();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: LiveQuizQuestion.tsx:384 ~ stopAllAudios ~ error:",e.t0);case 8:if(xY){e.next=10;break}return e.abrupt("return");case 10:try{null===(n=Object.values(xY))||void 0===n||n.forEach((function(e){e.pause(),e.currentTime=0}))}catch(t){console.log("\ud83d\ude80 ~ file: LiveQuizQuestion.tsx:393 ~ stopAllAudios ~ error:",t)}case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return(0,Ca.jsx)("div",{children:m&&x&&null!=C&&(0,Ca.jsxs)("div",{children:[(0,Ca.jsx)("div",{className:"live-quiz-question",children:(0,Ca.jsxs)("div",{className:"live-quiz-question-box",children:[(x.data[C].question.audio||x.data[C].question.text)&&(0,Ca.jsx)("div",{className:"live-quiz-audio-button-question",children:(0,Ca.jsx)(kY,{onClick:function(e){e.stopPropagation(),ee(x.data[C].question),console.log("on audio question click")}})}),(0,Ca.jsx)("p",{id:"question-text",children:!(null!==(o=x.data[C])&&void 0!==o&&o.question.isTextTTS)&&(null===(a=x.data[C])||void 0===a?void 0:a.question.text)}),(null===(u=x.data[C])||void 0===u?void 0:u.question.image)&&(0,Ca.jsx)("img",{className:"live-quiz-question-image",src:wo.dV.isNativePlatform()?b+"/"+(null===(c=x.data[C])||void 0===c?void 0:c.question.image):null===(l=x.data[C])||void 0===l?void 0:l.question.image,alt:""})]})}),(0,Ca.jsx)("div",{className:"live-quiz-options",children:null===(f=x.data[C])||void 0===f?void 0:f.options.map((function(e,n){return(0,Ca.jsxs)("div",{"aria-disabled":!N,onClick:(0,r.Z)((0,t.Z)().mark((function r(){var i;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(N){t.next=2;break}return t.abrupt("return");case 2:return j(!1),V(n),i=J(!0===e.isCorrect,x.data.length,wY-T),t.next=7,$.updateLiveQuiz(d.docId,null===W||void 0===W?void 0:W.docId,x.data[C].question.id,wY-T,i);case 7:case"end":return t.stop()}}),r)}))),className:"live-quiz-option-box "+(z!==n||M?"":"selected-option ")+(M?e.isCorrect?"live-quiz-option-box-correct":z===n?"live-quiz-option-box-incorrect":"":""),children:[(e.audio||e.text)&&(0,Ca.jsx)("div",{className:"live-quiz-audio-button-option "+(z!==n||M?"":"selected--option-audio-button"),children:(0,Ca.jsx)(kY,{onClick:function(t){t.stopPropagation(),ee(e),console.log("on audio click")}})}),!e.isTextTTS&&!e.image&&e.text,e.image&&(0,Ca.jsx)("img",{className:"live-quiz-option-image",src:wo.dV.isNativePlatform()?b+"/"+e.image:e.image,alt:""})]},n)}))})]})})},_Y=function(e){var t,n,r=e.student,i=e.score,o=e.percentage,a=e.isCorrect;return(0,Ca.jsxs)("div",{className:"live-quiz-student-avatar",children:[(0,Ca.jsx)("p",{className:"live-quiz-student-Name",children:r.name}),(0,Ca.jsx)("div",{children:o||null!=a?(0,Ca.jsx)(zF,{value:null==a?null!==o&&void 0!==o?o:0:100,strokeWidth:5,styles:VF({pathColor:null==a?void 0:a?"green":"red"}),children:(0,Ca.jsx)("img",{className:"live-quiz-student-image",src:"assets/avatars/"+(null!==(t=r.avatar)&&void 0!==t?t:oa[0])+".png",alt:""})}):(0,Ca.jsx)("img",{className:"live-quiz-student-image",src:"assets/avatars/"+(null!==(n=r.avatar)&&void 0!==n?n:oa[0])+".png",alt:""})}),(0,Ca.jsx)("p",{className:"live-quiz-student-score",children:Math.round(i)})]})},EY=function(e){var n=e.roomDoc,o=e.remainingTime,a=e.showAnswer,u=e.currentQuestion,c=(0,s.useState)(),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=me(),y=nO.getI().apiHandler,b=HI.getCurrentStudent();(0,s.useEffect)((function(){n&&(b?w():g.replace(Do.HOME))}),[]),(0,s.useEffect)((function(){f&&k(f)}),[n,a]);var w=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var r,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getStudentsForClass(n.class.id);case 2:r=e.sent,i={},r.forEach((function(e){i[e.docId]=e})),d(i),k(i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){var t=[];n.participants.forEach((function(r){var i,o,s,u,c,l=null===(i=n.results)||void 0===i?void 0:i[r],f=null!==(o=null===l||void 0===l?void 0:l.reduce((function(e,t){return e+t.score}),0))&&void 0!==o?o:0;t.push({student:e[r],score:a?Number(f.toFixed(1)):null!==(s=null===v||void 0===v||null===(u=v.find((function(e){return e.student.docId===r})))||void 0===u?void 0:u.score)&&void 0!==s?s:0,lastQuestionId:null===l||void 0===l||null===(c=l[l.length-1])||void 0===c?void 0:c.id})})),t.sort((function(e,t){return e.student.docId===(null===b||void 0===b?void 0:b.docId)?-1:t.student.docId===(null===b||void 0===b?void 0:b.docId)?1:t.score-e.score})),m(t)};return(0,Ca.jsx)("div",{children:(0,Ca.jsx)("div",{className:"live-quiz-header",children:v&&v.map((function(e){var t,r=null===(t=n.results)||void 0===t?void 0:t[e.student.docId],i=null===r||void 0===r?void 0:r[r.length-1],s=u?null===r||void 0===r?void 0:r.find((function(e){return e.id===u.id})):null;return(0,Ca.jsx)(_Y,{student:e.student,score:e.score,isCorrect:a?null!=s&&s.score>0:void 0,percentage:u&&u.id!==(null===i||void 0===i?void 0:i.id)&&o?(wY-o)/wY*100:void 0},e.student.docId)}))})})},CY=function(e){var t=e.totalDots,n=e.currentDot;return(0,Ca.jsx)("div",{children:(0,be.Z)(Array(t).keys()).map((function(e){return(0,Ca.jsx)("div",{className:e>=n+1?"dot":"dot active"},e)}))})},IY=function(){var e=nO.getI().apiHandler,n=me(),o=new URLSearchParams(window.location.search).get("liveRoomId"),a=(0,s.useState)(),u=(0,i.Z)(a,2),c=u[0],l=u[1],f=(0,s.useState)(!1),d=(0,i.Z)(f,2),h=d[0],p=d[1],v=(0,s.useState)(),m=(0,i.Z)(v,2),g=m[0],y=m[1],b=(0,s.useState)(),w=(0,i.Z)(b,2),k=w[0],x=w[1],S=(0,s.useState)(),_=(0,i.Z)(S,2),E=_[0],C=_[1],I=(0,s.useState)(!1),O=(0,i.Z)(I,2),Z=O[0],T=O[1],A=cN().presentToast;(0,s.useEffect)((function(){if(o){var t=e.liveQuizListener(o,P);return function(){t()}}n.replace(Do.HOME)}),[]);var P=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=6;break}return A({message:"Device is offline. Cannot join live quiz",color:"danger",duration:1e4,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]}),n.replace(Do.LIVE_QUIZ),e.abrupt("return");case 6:l(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ca.jsx)(ji,{children:(0,Ca.jsxs)("div",{className:"live-quiz-container",children:[(0,Ca.jsx)("div",{className:"live-quiz-top-div",children:c&&(0,Ca.jsx)(EY,{roomDoc:c,remainingTime:E,showAnswer:Z,currentQuestion:null!=k?null===g||void 0===g?void 0:g.data[k].question:void 0})}),(0,Ca.jsx)("div",{className:"live-quiz-navigation-dots",children:h&&g&&null!=k&&(0,Ca.jsx)(CY,{totalDots:g.data.length,currentDot:k})}),(0,Ca.jsxs)("div",{className:"live-quiz-center-div",children:[c&&!h&&(0,Ca.jsx)(bY,{startsAt:c.startsAt,onTimeOut:function(){p(!0)}}),c&&(0,Ca.jsx)(SY,{roomDoc:c,onNewQuestionChange:function(e){console.log("\ud83d\ude80 ~ file: LiveQuizGame.tsx:54 ~ newQuestionIndex:",e,null===g||void 0===g?void 0:g.data[e]),x(e)},onRemainingTimeChange:C,onShowAnswer:T,showQuiz:h,onConfigLoaded:y,onQuizEnd:function(){console.log("\ud83d\ude80 ~ file: LiveQuizGame.tsx:65 ~ onQuizEnd:"),n.replace(Do.LIVE_QUIZ_ROOM_RESULT+"?liveRoomId="+o)}})]})]})})},OY=n(6900),ZY=n.n(OY),TY=function(){var e,n=(0,s.useState)([]),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=(0,s.useState)(new Map),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=(0,s.useState)(!0),p=(0,i.Z)(h,2),v=p[0],m=p[1],g=me(),y=(0,s.useState)([]),b=(0,i.Z)(y,2),w=b[0],k=b[1],x=(0,s.useState)(!0),S=(0,i.Z)(x,2),_=S[0],E=S[1],C=null!==(e=new URLSearchParams(window.location.search).get("liveRoomId"))&&void 0!==e?e:"",I=nO.getI().apiHandler;function O(){return O=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a,s,c,l,f,h,p,v,g;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.getLiveQuizRoomDoc(C);case 3:if(n=e.sent,r=null===n||void 0===n?void 0:n.class,i=null===r||void 0===r?void 0:r.id,o=new Map,!i){e.next=14;break}return e.next=10,I.getStudentsForClass(i);case 10:a=e.sent,s=(0,Xt.Z)(a);try{for(s.s();!(c=s.n()).done;)l=c.value,o.set(l.docId,l)}catch(t){s.e(t)}finally{s.f()}d(o);case 14:f=null===n||void 0===n?void 0:n.results,console.log("liveQuizRoomResults..",f),h=[],f&&(Object.keys(f).forEach((function(e){var t=f[e],n=t.reduce((function(e,t){return e+t.score}),0);console.log("totalScore!!",n);var r=t.reduce((function(e,t){return e+t.timeSpent}),0);console.log("totalTimeSpent!!",r),h.push({studentDocId:e,totalScore:n,totalTimeSpent:r})})),h.sort((function(e,t){return t.totalScore!==e.totalScore?t.totalScore-e.totalScore:e.totalTimeSpent-t.totalTimeSpent})),console.log("studentresults!!!",h),k(p=h),v=p.slice(0,3),g=v.map((function(e){return o.get(e.studentDocId)})),u(g)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error fetching LiveQuizRoom data:",e.t0);case 23:setTimeout((function(){E(!1),m(!1)}),5e3);case 24:case"end":return e.stop()}}),e,null,[[0,20]])}))),O.apply(this,arguments)}(0,s.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]);function Z(e){var t=["th","st","nd","rd"],n=e%100;return n+(t[(n-20)%10]||t[n]||t[0])}return(0,Ca.jsxs)(ji,{className:"result-page",children:[(0,Ca.jsx)("div",{id:"next-button",children:(0,Ca.jsx)(pJ,{disabled:!1,onClicked:function(){g.replace(Do.LIVE_QUIZ_LEADERBOARD+"?liveRoomId="+C)}})}),(0,Ca.jsxs)("div",{className:"live-quiz-room-result-container",children:[(0,Ca.jsx)("div",{className:"top-performers",children:a.slice(0,1).map((function(e,t){return(0,Ca.jsxs)("div",{className:"performer-".concat(t+1),children:[v&&(0,Ca.jsx)(ZY(),{recycle:!1,numberOfPieces:500,initialVelocityY:{min:0,max:100}}),(0,Ca.jsxs)("div",{className:"student-avatar-container",children:[(0,Ca.jsx)(lY,{student:e,onClicked:function(){},nameLabel:"1st"},e.docId),(0,Ca.jsx)("div",{className:"crown-container",children:(0,Ca.jsx)(PJ,{id:"crown-icon"})})]})]},t)}))}),v&&_&&(0,Ca.jsx)("p",{id:"congrats-text",children:(0,Ca.jsx)("i",{children:zE("Congratulations!")})}),(0,Ca.jsx)("div",{className:"top-performers-horizontal",children:a.slice(1).map((function(e,t){return(0,Ca.jsx)("div",{className:"performer-".concat(t+2),children:(0,Ca.jsx)(lY,{student:e,onClicked:function(){},nameLabel:Z(t+2)},e.docId)},t+1)}))})]}),(0,Ca.jsx)("div",{className:"score-container",children:(0,Ca.jsx)("div",{className:"all-students",children:null===w||void 0===w?void 0:w.map((function(e){var t=f.get(e.studentDocId);return(0,Ca.jsxs)("div",{className:"student-info",children:[t&&(0,Ca.jsx)(lY,{student:t,onClicked:function(){},namePosition:"above",width:70},t.docId),(0,Ca.jsx)("div",{className:"student-score",children:Math.round(e.totalScore)})]},e.studentDocId)}))})})]})},AY=function(){var e,n=(0,s.useState)([]),o=(0,i.Z)(n,2),a=o[0],u=o[1],c=(0,s.useState)(new Map),l=(0,i.Z)(c,2),f=l[0],d=l[1],h=null!==(e=new URLSearchParams(window.location.search).get("liveRoomId"))&&void 0!==e?e:"",p=nO.getI().apiHandler,v=me();(0,s.useEffect)((function(){m()}),[]);var m=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,i,o,a,s,c,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getLiveQuizRoomDoc(h);case 3:if(n=e.sent,i=null===n||void 0===n?void 0:n.results,console.log("liveQuizRoomResults..",i),o=[],!i){e.next=23;break}return Object.keys(i).forEach((function(e){var t=i[e].reduce((function(e,t){return e.totalScore+=t.score,e.totalTimeSpent+=t.timeSpent,e}),{totalScore:0,totalTimeSpent:0}),n=t.totalScore,r=t.totalTimeSpent;o.push({studentDocId:e,totalScore:n,totalTimeSpent:r})})),console.log("studentresults!!!",o),a=o,e.next=13,g();case 13:return s=e.sent,(c=y(a,s)).sort((function(e,t){return t.totalScore-e.totalScore})),console.log("combinedSortedScores..",c),u(c),l=new Map,e.next=21,Promise.all(c.map(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getUserByDocId(n.studentDocId);case 2:(r=e.sent)&&l.set(n.studentDocId,r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 21:console.log("tempStudentsMap..",l),d(l);case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),console.error("\ud83d\ude80 ~ file:LiveQuizLeaderBoard.tsx:80~Error fetching liveQuiz room data:",e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n,r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getLiveQuizRoomDoc(h);case 2:return n=e.sent,r=null===n||void 0===n?void 0:n.assignment.id,e.next=6,p.getAssignmentById(r);case 6:return i=e.sent,console.log("AssignmentDoc:",i),i&&i.results&&(a=Object.keys(i.results),console.log("Played Student IDs:",a),o=a.length>0?a.map((function(e){var t;return{studentDocId:e,totalScore:(null===(t=i.results[e])||void 0===t?void 0:t.score)||0}})):[]),console.log("Scores Data:",o),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t){console.log("roomResultScores",e),console.log("leaderboardScores",t);var n=Array.from(new Set([].concat((0,be.Z)(e.map((function(e){return e.studentDocId}))),(0,be.Z)(t.map((function(e){return e.studentDocId}))))));return console.log("uniqueStudentDocIds..",n),n.map((function(n){var r=e.find((function(e){return e.studentDocId===n})),i=t.find((function(e){return e.studentDocId===n}));return r&&i?{studentDocId:n,totalScore:r.totalScore}:r||i}))};return(0,Ca.jsx)(ji,{children:(0,Ca.jsxs)(di,{children:[(0,Ca.jsxs)("div",{className:"livequiz-leaderboard",children:[(0,Ca.jsxs)("div",{className:"leaderboard-header",children:[(0,Ca.jsx)("div",{className:"empty"}),(0,Ca.jsx)("p",{className:"header-name",children:zE("Live Quiz Leaderboard")}),(0,Ca.jsx)("div",{id:"leaderboard-next-button",children:(0,Ca.jsx)(pJ,{onClicked:function(){v.replace(Do.HOME)},disabled:!1})})]}),(0,Ca.jsxs)("div",{className:"leaderboard-header-row",children:[(0,Ca.jsx)("div",{children:zE("Rank")}),(0,Ca.jsx)("div",{children:zE("Name")}),(0,Ca.jsx)("div",{children:zE("Score")})]})]}),(0,Ca.jsx)("div",{className:"leaderboard-container",children:a.filter((function(e){return f.has(e.studentDocId)})).map((function(e,t){return(0,Ca.jsxs)(pi,{className:"leaderboard-row ".concat(t%2===0?"even":"odd"),children:[(0,Ca.jsx)("div",{className:"rank-column",children:t+1}),(0,Ca.jsx)("div",{className:"name-column",children:(0,Ca.jsx)(lY,{student:f.get(e.studentDocId),onClicked:function(){},width:50,namePosition:"right"})}),(0,Ca.jsx)("div",{className:"score-column",children:Math.round(e.totalScore)})]},t)}))})]})})};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"undefined"!==typeof document&&document.documentElement.classList.add("ion-ce"),We(Object.assign({},e))}();var PY=function(){var e=(0,s.useState)(navigator.onLine),n=(0,i.Z)(e,2),o=n[0],a=n[1],u=cN().presentToast;function c(){return(c=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FI.fetchAndActivate();case 3:return e.next=5,BI.getString(UI.CAN_UPDATED_AVATAR_SUGGESTION_URL);case 5:n=e.sent,HI.migrateLocalJsonFile(n,"assets/animation/avatarSugguestions.json","assets/avatarSugguestions.json","avatarSuggestionJsonLocation"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Util.migrateLocalJsonFile failed ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){var e=function(){o||(a(!0),u({message:"Device is online.",color:"success",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]}))},t=function(){a(!1),u({message:"Device is offline.",color:"danger",duration:3e3,position:"bottom",buttons:[{text:"Dismiss",role:"cancel"}]})};return window.addEventListener("online",e),window.addEventListener("offline",t),function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[o,u]),(0,s.useEffect)((function(){console.log("fetching...");var e=new URLSearchParams(window.location.search);(e.get(Po)||Do.APP_UPDATE)&&(e.delete(Po),YI.addListener("appStateChange",HI.onAppStateChange)),localStorage.setItem("is_cuba","1"),wo.dV.isNativePlatform()&&xS.getUri({directory:kS.tP.External,path:""}).catch((function(e){console.log("path error",e)})).then((function(e){if(console.log("path ",e,"uri",null===e||void 0===e?void 0:e.uri),e instanceof Object){var t=wo.dV.convertFileSrc(e.uri);console.log("uri",t),localStorage.setItem("gameUrl",t+"/")}})),xS.mkdir({path:pa,directory:kS.tP.Cache}).catch((function(e){})),HI.startFlexibleUpdate(),HI.listenToNetwork(),HI.notificationListener(function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){var r,i,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||"reward"!==n.notificationType){e.next=21;break}if(r=HI.getCurrentStudent(),!(i=n.rewardProfileId)){e.next=21;break}if((null===r||void 0===r?void 0:r.docId)!==i){e.next=9;break}window.location.replace(Do.HOME+"?tab="+Co.HOME),e.next=21;break;case 9:return e.next=11,nO.getI().apiHandler.getParentStudentProfiles();case 11:if(o=e.sent,console.log("\ud83d\ude80 ~ file: DisplayStudents.tsx:13 ~ getStudents ~ students:",o),!(a=o.find((function(e){return e.docId===i}))||o[0])){e.next=20;break}return e.next=17,HI.setCurrentStudent(a,void 0,!0);case 17:window.location.replace(Do.HOME+"?tab="+Co.HOME),e.next=21;break;case 20:return e.abrupt("return");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),function(){c.apply(this,arguments)}()}),[]),(0,Ca.jsx)(Ai,{children:(0,Ca.jsx)(bo,{basename:na,children:(0,Ca.jsx)(Bi,{children:(0,Ca.jsxs)(pe,{children:[(0,Ca.jsx)(ue,{path:Do.APP_UPDATE,exact:!0,children:(0,Ca.jsx)(oY,{})}),(0,Ca.jsx)(rG,{path:Do.HOME,exact:!0,children:(0,Ca.jsx)(Aq,{})}),(0,Ca.jsx)(ue,{path:Do.LOGIN,exact:!0,children:(0,Ca.jsx)(tG,{})}),(0,Ca.jsx)(rG,{path:Do.GAME,exact:!0,children:(0,Ca.jsx)(jq,{})}),(0,Ca.jsx)(rG,{path:Do.END,exact:!0,children:(0,Ca.jsx)(Hq,{})}),(0,Ca.jsx)(rG,{path:Do.PROFILE,exact:!0,children:(0,Ca.jsx)(Kq,{})}),(0,Ca.jsx)(rG,{path:Do.PARENT,exact:!0,children:(0,Ca.jsx)(rJ,{})}),(0,Ca.jsx)(ue,{path:Do.APP_LANG_SELECTION,exact:!0,children:(0,Ca.jsx)(_J,{})}),(0,Ca.jsx)(rG,{path:Do.CREATE_STUDENT,exact:!0,children:(0,Ca.jsx)(mJ,{})}),(0,Ca.jsx)(rG,{path:Do.EDIT_STUDENT,exact:!0,children:(0,Ca.jsx)(mJ,{})}),(0,Ca.jsx)(rG,{path:Do.DISPLAY_STUDENT,exact:!0,children:(0,Ca.jsx)(bJ,{})}),(0,Ca.jsx)(rG,{path:Do.DISPLAY_SUBJECTS,exact:!0,children:(0,Ca.jsx)(SJ,{})}),(0,Ca.jsx)(rG,{path:Do.DISPLAY_CHAPTERS,exact:!0,children:(0,Ca.jsx)(cY,{})}),(0,Ca.jsx)(rG,{path:Do.STUDENT_PROGRESS,exact:!0,children:(0,Ca.jsx)(EJ,{})}),(0,Ca.jsx)(rG,{path:Do.SEARCH,exact:!0,children:(0,Ca.jsx)(dq,{})}),(0,Ca.jsx)(rG,{path:Do.LEADERBOARD,exact:!0,children:(0,Ca.jsx)(TJ,{})}),(0,Ca.jsx)(rG,{path:Do.ASSIGNMENT,exact:!0,children:(0,Ca.jsx)(Aq,{})}),(0,Ca.jsx)(rG,{path:Do.LIVE_QUIZ,exact:!0,children:(0,Ca.jsx)(Aq,{})}),(0,Ca.jsx)(rG,{path:Do.JOIN_CLASS,exact:!0,children:(0,Ca.jsx)(Aq,{})}),(0,Ca.jsx)(rG,{path:Do.SELECT_MODE,exact:!0,children:(0,Ca.jsx)(NJ,{})}),(0,Ca.jsx)(rG,{path:Do.LIVE_QUIZ_JOIN,exact:!0,children:(0,Ca.jsx)(hY,{})}),(0,Ca.jsx)(rG,{path:Do.LIVE_QUIZ_GAME,exact:!0,children:(0,Ca.jsx)(IY,{})}),(0,Ca.jsx)(ue,{path:Do.TERMS_AND_CONDITIONS,exact:!0,children:(0,Ca.jsx)(aY,{})}),(0,Ca.jsx)(rG,{path:Do.LIVE_QUIZ_ROOM_RESULT,exact:!0,children:(0,Ca.jsx)(TY,{})}),(0,Ca.jsx)(rG,{path:Do.LIVE_QUIZ_LEADERBOARD,exact:!0,children:(0,Ca.jsx)(AY,{})})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var RY=function(e){e&&e instanceof Function&&n.e(922).then(n.bind(n,5922)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};(0,Ma.KN)("firebase","9.22.2","app");var NY=(0,wo.fo)("Device",{web:function(){return n.e(56).then(n.bind(n,4056)).then((function(e){return new e.DeviceWeb}))}}),jY=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={apiKey:"AIzaSyAqNGaNBLDNQ309JPDMbhXcZQyWSWua5UQ",authDomain:"chimple-prod.firebaseapp.com",projectId:"chimple-prod",storageBucket:"chimple-prod.appspot.com",messagingSenderId:"",appId:"1:733418845711:web:ffc43f8556b8ecaaa0957a",measurementId:"733418845711"},tx((0,Ma.ZF)(n),{localCache:mS({cacheSizeBytes:-1,tabManager:new yS})}),e.next=5,NY.getInfo();case 5:"web"===e.sent.platform&&(tI.initializeFirebase(n),console.log("Web firebase analytics initialized",tI));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),LY=document.getElementById("root");(0,e.s)(LY).render((0,Ca.jsx)(Ca.Fragment,{children:(0,Ca.jsx)(PY,{})})),jY(),nO.getInstance(tO.FIREBASE),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),RY()}()}();