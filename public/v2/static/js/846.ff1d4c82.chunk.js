"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[846],{8846:function(e,r,n){n.r(r),n.d(r,{FirebaseAnalyticsWeb:function(){return o}});var t=n(4165),a=n(5861),s=n(5671),i=n(3144),u=n(136),c=n(9388),o=function(e){(0,u.Z)(n,e);var r=(0,c.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=r.call(this)).not_supported_mssg="This method is not supported",e.options_missing_mssg="Firebase options are missing",e.duplicate_app_mssg="Firebase app already exists",e.analytics_missing_mssg="Firebase analytics is not initialized. Make sure initializeFirebase() is called once",e.scripts=[{key:"firebase-app",src:"https://www.gstatic.com/firebasejs/8.2.3/firebase-app.js"},{key:"firebase-ac",src:"https://www.gstatic.com/firebasejs/8.2.3/firebase-analytics.js"}],e.ready=new Promise((function(r){return e.readyResolver=r})),e.configure(),e}return(0,i.Z)(n,[{key:"initializeFirebase",value:function(e){var r=this;return new Promise(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(a,s){var i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.ready;case 2:if(!r.hasFirebaseInitialized()){n.next=5;break}return s(r.duplicate_app_mssg),n.abrupt("return");case 5:if(e){n.next=8;break}return s(r.options_missing_mssg),n.abrupt("return");case 8:i=window.firebase.initializeApp(e),r.analyticsRef=i.analytics(),a(r.analyticsRef);case 11:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}())}},{key:"setUserId",value:function(e){var r=this;return new Promise(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(a,s){var i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.ready;case 2:if(r.analyticsRef){n.next=5;break}return s(r.analytics_missing_mssg),n.abrupt("return");case 5:if(i=(e||{userId:void 0}).userId){n.next=9;break}return s("userId property is missing"),n.abrupt("return");case 9:r.analyticsRef.setUserId(i),a();case 11:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}())}},{key:"setUserProperty",value:function(e){var r=this;return new Promise(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(a,s){var i,u,c,o;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.ready;case 2:if(r.analyticsRef){n.next=5;break}return s(r.analytics_missing_mssg),n.abrupt("return");case 5:if(u=(i=e||{name:void 0,value:void 0}).name,c=i.value,u){n.next=9;break}return s("name property is missing"),n.abrupt("return");case 9:if(c){n.next=12;break}return s("value property is missing"),n.abrupt("return");case 12:(o={})[u]=c,r.analyticsRef.setUserProperties(o),a();case 16:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}())}},{key:"getAppInstanceId",value:function(){return new Promise((function(e,r){return e}))}},{key:"setScreenName",value:function(e){return new Promise((function(e,r){return e}))}},{key:"reset",value:function(){return new Promise((function(e,r){return e}))}},{key:"logEvent",value:function(e){var r=this;return new Promise(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(a,s){var i,u,c;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.ready;case 2:if(r.analyticsRef){n.next=5;break}return s(r.analytics_missing_mssg),n.abrupt("return");case 5:if(u=(i=e||{name:void 0,params:void 0}).name,c=i.params,u){n.next=9;break}return s("name property is missing"),n.abrupt("return");case 9:r.analyticsRef.logEvent(u,c),a();case 11:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}())}},{key:"setCollectionEnabled",value:function(e){var r=this;return new Promise(function(){var n=(0,a.Z)((0,t.Z)().mark((function n(a,s){var i;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.ready;case 2:if(r.analyticsRef){n.next=5;break}return s(r.analytics_missing_mssg),n.abrupt("return");case 5:i=(e||{enabled:!1}).enabled,r.analyticsRef.setAnalyticsCollectionEnabled(i),a();case 8:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}())}},{key:"setSessionTimeoutDuration",value:function(e){var r=this;return new Promise((function(e,n){n(r.not_supported_mssg)}))}},{key:"remoteConfig",get:function(){return this.analyticsRef}},{key:"enable",value:function(){var e=this;return new Promise(function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n,a){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.ready;case 2:if(e.analyticsRef){r.next=5;break}return a(e.analytics_missing_mssg),r.abrupt("return");case 5:e.analyticsRef.setAnalyticsCollectionEnabled(!0),n();case 7:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}())}},{key:"disable",value:function(){var e=this;return new Promise(function(){var r=(0,a.Z)((0,t.Z)().mark((function r(n,a){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.ready;case 2:if(e.analyticsRef){r.next=5;break}return a(e.analytics_missing_mssg),r.abrupt("return");case 5:e.analyticsRef.setAnalyticsCollectionEnabled(!1),n();case 7:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}())}},{key:"configure",value:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r,n=this;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadScripts();case 3:window.firebase&&window.firebase.analytics&&this.hasFirebaseInitialized()&&(this.analyticsRef=window.firebase.analytics()),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:r=setInterval((function(){window.firebase&&(clearInterval(r),n.readyResolver())}),50);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadScripts",value:function(){var e=this,r=this.scripts[0],n=this.scripts[1];return new Promise(function(){var s=(0,a.Z)((0,t.Z)().mark((function a(s,i){var u;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=e.scripts.map((function(e){return e.key})),!document.getElementById(u[0])||!document.getElementById(u[1])){t.next=3;break}return t.abrupt("return",s(null));case 3:return t.next=5,e.loadScript(r.key,r.src);case 5:return t.next=7,e.loadScript(n.key,n.src);case 7:s(null);case 8:case"end":return t.stop()}}),a)})));return function(e,r){return s.apply(this,arguments)}}())}},{key:"loadScript",value:function(e,r){return new Promise((function(n,t){var a=document.createElement("script");a.type="text/javascript",a.src=r,a.id=e,a.onload=n,a.onerror=t,document.querySelector("head").appendChild(a)}))}},{key:"hasFirebaseInitialized",value:function(){if(!window.firebase)return!1;var e=window.firebase.apps;return!e||0!==e.length}}]),n}(n(9565).Uw)}}]);