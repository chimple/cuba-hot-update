"use strict";(self.webpackChunkcuba=self.webpackChunkcuba||[]).push([[154],{6154:function(e,t,n){n.r(t),n.d(t,{TextToSpeechWeb:function(){return a}});var r=n(4165),s=n(5861),i=n(5671),u=n(3144),c=n(136),o=n(9388),a=function(e){(0,c.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,i.Z)(this,n),(e=t.call(this)).speechSynthesis=null,"speechSynthesis"in window&&(e.speechSynthesis=window.speechSynthesis,window.addEventListener("beforeunload",(function(){e.stop()}))),e}return(0,u.Z)(n,[{key:"speak",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.speechSynthesis||this.throwUnsupportedError(),e.next=3,this.stop();case 3:return n=this.speechSynthesis,s=this.createSpeechSynthesisUtterance(t),e.abrupt("return",new Promise((function(e,t){s.onend=function(){e()},s.onerror=function(e){t(e)},n.speak(s)})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.speechSynthesis||this.throwUnsupportedError(),this.speechSynthesis.cancel();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedLanguages",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t,n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getSpeechSynthesisVoices(),n=t.map((function(e){return e.lang})),s=n.filter((function(e,t,n){return n.indexOf(e)==t})),e.abrupt("return",{languages:s});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSupportedVoices",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getSpeechSynthesisVoices(),e.abrupt("return",{voices:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isLanguageSupported",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(t){var n,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getSupportedLanguages();case 2:return n=e.sent,s=n.languages.includes(t.lang),e.abrupt("return",{supported:s});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"openInstall",value:function(){var e=(0,s.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.throwUnimplementedError();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createSpeechSynthesisUtterance",value:function(e){var t=this.getSpeechSynthesisVoices(),n=new SpeechSynthesisUtterance,r=e.text,s=e.lang,i=e.rate,u=e.pitch,c=e.volume,o=e.voice;return o&&(n.voice=t[o]),c&&(n.volume=c>=0&&c<=1?c:1),i&&(n.rate=i>=.1&&i<=10?i:1),u&&(n.pitch=u>=0&&u<=2?u:2),s&&(n.lang=s),n.text=r,n}},{key:"getSpeechSynthesisVoices",value:function(){return this.speechSynthesis||this.throwUnsupportedError(),(!this.supportedVoices||this.supportedVoices.length<1)&&(this.supportedVoices=this.speechSynthesis.getVoices()),this.supportedVoices}},{key:"throwUnsupportedError",value:function(){throw this.unavailable("SpeechSynthesis API not available in this browser.")}},{key:"throwUnimplementedError",value:function(){throw this.unimplemented("Not implemented on web.")}}]),n}(n(9565).Uw)}}]);